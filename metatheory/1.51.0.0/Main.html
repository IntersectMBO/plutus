<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Main</title>
    <link rel="stylesheet" href="./Agda.css">
  </head>
  <body>
    <h1>Main</h1>
    <section>
      <pre class="Agda"><a id="38" class="Keyword">module</a> <a id="45" href="Main.html" class="Module">Main</a> <a id="50" class="Keyword">where</a>

<a id="57" class="Keyword">import</a> <a id="64" href="VerifiedCompilation.html" class="Module">VerifiedCompilation</a>
<a id="84" class="Keyword">open</a> <a id="89" class="Keyword">import</a> <a id="96" href="Agda.Builtin.IO.html" class="Module">Agda.Builtin.IO</a> <a id="112" class="Keyword">using</a> <a id="118" class="Symbol">(</a><a id="119" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a><a id="121" class="Symbol">)</a>
<a id="123" class="Keyword">import</a> <a id="130" href="IO.Primitive.Core.html" class="Module">IO.Primitive.Core</a> <a id="148" class="Symbol">as</a> <a id="151" class="Module">IO</a> <a id="154" class="Keyword">using</a> <a id="160" class="Symbol">(</a><a id="161" href="IO.Primitive.Core.html#956" class="Function">return</a><a id="167" class="Symbol">;</a><a id="168" href="IO.Primitive.Core.html#648" class="Postulate Operator">_&gt;&gt;=_</a><a id="173" class="Symbol">)</a>
<a id="175" class="Keyword">open</a> <a id="180" class="Keyword">import</a> <a id="187" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a> <a id="205" class="Keyword">using</a> <a id="211" class="Symbol">(</a><a id="212" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="213" class="Symbol">;</a><a id="214" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="216" class="Symbol">)</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="Function.html" class="Module">Function</a> <a id="239" class="Keyword">using</a> <a id="245" class="Symbol">(</a><a id="246" href="Function.Base.html#1974" class="Function Operator">_$_</a><a id="249" class="Symbol">;</a><a id="250" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="253" class="Symbol">)</a>
<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Data.String.html" class="Module">Data.String</a> <a id="279" class="Keyword">using</a> <a id="285" class="Symbol">(</a><a id="286" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="292" class="Symbol">;</a><a id="293" href="Data.String.Base.html#2425" class="Function Operator">_++_</a><a id="297" class="Symbol">)</a>
<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a>
<a id="328" class="Keyword">open</a> <a id="333" class="Keyword">import</a> <a id="340" href="Agda.Builtin.Int.html" class="Module">Agda.Builtin.Int</a> <a id="357" class="Keyword">using</a> <a id="363" class="Symbol">(</a><a id="364" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">pos</a><a id="367" class="Symbol">)</a>
<a id="369" class="Keyword">open</a> <a id="374" class="Keyword">import</a> <a id="381" href="Data.Integer.Show.html" class="Module">Data.Integer.Show</a> <a id="399" class="Keyword">using</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.Integer.Show.html#615" class="Function">show</a><a id="410" class="Symbol">)</a>
<a id="412" class="Keyword">open</a> <a id="417" class="Keyword">import</a> <a id="424" href="Data.Product.html" class="Module">Data.Product</a> <a id="437" class="Keyword">using</a> <a id="443" class="Symbol">(</a><a id="444" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a><a id="445" class="Symbol">)</a> <a id="447" class="Keyword">renaming</a> <a id="456" class="Symbol">(</a><a id="457" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="461" class="Symbol">to</a> <a id="464" class="InductiveConstructor Operator">_,,_</a><a id="468" class="Symbol">)</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="492" class="Keyword">using</a> <a id="498" class="Symbol">(</a><a id="499" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="503" class="Symbol">)</a>
<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="Data.List.html" class="Module">Data.List</a> <a id="527" class="Keyword">using</a> <a id="533" class="Symbol">(</a><a id="534" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="538" class="Symbol">)</a>
<a id="540" class="Keyword">open</a> <a id="545" class="Keyword">import</a> <a id="552" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="563" class="Keyword">using</a> <a id="569" class="Symbol">(</a><a id="570" href="Data.Empty.html#914" class="Function">⊥</a><a id="571" class="Symbol">)</a>

<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Type.html" class="Module">Type</a> <a id="591" class="Keyword">using</a> <a id="597" class="Symbol">(</a><a id="598" href="Type.html#515" class="Datatype">Ctx⋆</a><a id="602" class="Symbol">;</a><a id="603" href="Type.html#534" class="InductiveConstructor">∅</a><a id="604" class="Symbol">;</a><a id="605" href="Type.html#545" class="InductiveConstructor Operator">_,⋆_</a><a id="609" class="Symbol">)</a>
<a id="611" class="Keyword">open</a> <a id="616" class="Keyword">import</a> <a id="623" href="Check.html" class="Module">Check</a> <a id="629" class="Keyword">using</a> <a id="635" class="Symbol">(</a><a id="636" href="Check.html#2131" class="Datatype">TypeError</a><a id="645" class="Symbol">;</a><a id="646" href="Check.html#17848" class="Function">inferType</a><a id="655" class="Symbol">;</a><a id="656" href="Check.html#8676" class="Function">inferKind</a><a id="665" class="Symbol">;</a><a id="666" href="Check.html#3308" class="Function">decKind</a><a id="673" class="Symbol">;</a><a id="674" href="Check.html#8600" class="Function">checkKind</a><a id="683" class="Symbol">;</a><a id="684" href="Check.html#17754" class="Function">checkType</a><a id="693" class="Symbol">)</a>
<a id="695" class="Keyword">open</a> <a id="700" href="Check.html#2131" class="Module">TypeError</a> <a id="710" class="Comment">-- Bring all TypeError constructors in scope.</a>

<a id="757" class="Keyword">open</a> <a id="762" class="Keyword">import</a> <a id="769" href="Scoped.Extrication.html" class="Module">Scoped.Extrication</a> <a id="788" class="Keyword">using</a> <a id="794" class="Symbol">(</a><a id="795" href="Scoped.Extrication.html#1316" class="Function">extricateNf⋆</a><a id="807" class="Symbol">;</a><a id="808" href="Scoped.Extrication.html#3031" class="Function">extricate</a><a id="817" class="Symbol">)</a>
<a id="819" class="Keyword">open</a> <a id="824" class="Keyword">import</a> <a id="831" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a> <a id="847" class="Keyword">using</a> <a id="853" class="Symbol">(</a><a id="854" href="Type.BetaNormal.html#1043" class="Datatype Operator">_⊢Nf⋆_</a><a id="860" class="Symbol">)</a>
<a id="862" class="Keyword">import</a> <a id="869" href="Untyped.html" class="Module">Untyped</a> <a id="877" class="Symbol">as</a> <a id="880" class="Module">U</a> <a id="882" class="Keyword">using</a> <a id="888" class="Symbol">(</a><a id="889" href="Untyped.html#1677" class="Datatype Operator">_⊢</a><a id="891" class="Symbol">;</a><a id="892" href="Untyped.html#6731" class="Function">scopeCheckU0</a><a id="904" class="Symbol">;</a><a id="905" href="Untyped.html#5424" class="Function">extricateU0</a><a id="916" class="Symbol">;</a><a id="917" href="Untyped.html#6914" class="Function">decUTm</a><a id="923" class="Symbol">)</a>
<a id="925" class="Keyword">import</a> <a id="932" href="Untyped.CEKWithCost.html" class="Module">Untyped.CEKWithCost</a> <a id="952" class="Symbol">as</a> <a id="955" class="Module">U</a> <a id="957" class="Keyword">using</a> <a id="963" class="Symbol">(</a><a id="964" href="Untyped.CEKWithCost.html#6609" class="Function">stepperC</a><a id="972" class="Symbol">)</a>
<a id="974" class="Keyword">open</a> <a id="979" class="Keyword">import</a> <a id="986" href="Cost.Base.html" class="Module">Cost.Base</a>
<a id="996" class="Keyword">open</a> <a id="1001" class="Keyword">import</a> <a id="1008" href="Cost.html" class="Module">Cost</a> <a id="1013" class="Keyword">using</a> <a id="1019" class="Symbol">(</a><a id="1020" href="Cost.html#4635" class="Function">machineParameters</a><a id="1037" class="Symbol">;</a><a id="1038" href="Cost.html#6828" class="Function">tallyingMachineParameters</a><a id="1063" class="Symbol">;</a><a id="1064" href="Cost.html#4849" class="Function">countingReport</a><a id="1078" class="Symbol">;</a><a id="1079" href="Cost.html#7079" class="Function">tallyingReport</a><a id="1093" class="Symbol">)</a>
<a id="1095" class="Keyword">open</a> <a id="1100" class="Keyword">import</a> <a id="1107" href="Cost.Raw.html" class="Module">Cost.Raw</a> <a id="1116" class="Keyword">using</a> <a id="1122" class="Symbol">(</a><a id="1123" href="Cost.Raw.html#6132" class="Function">RawCostModel</a><a id="1135" class="Symbol">)</a>
<a id="1137" class="Keyword">open</a> <a id="1142" class="Keyword">import</a> <a id="1149" href="Cost.Model.html" class="Module">Cost.Model</a> <a id="1160" class="Keyword">using</a> <a id="1166" class="Symbol">(</a><a id="1167" href="Cost.Model.html#10274" class="Function">createMap</a><a id="1176" class="Symbol">)</a>
<a id="1178" class="Keyword">import</a> <a id="1185" href="RawU.html" class="Module">RawU</a> <a id="1190" class="Symbol">as</a> <a id="1193" class="Module">U</a> <a id="1195" class="Keyword">using</a> <a id="1201" class="Symbol">(</a><a id="1202" href="RawU.html#8077" class="Datatype">Untyped</a><a id="1209" class="Symbol">)</a>

<a id="1212" class="Keyword">open</a> <a id="1217" class="Keyword">import</a> <a id="1224" href="Untyped.CEK.html" class="Module">Untyped.CEK</a> <a id="1236" class="Symbol">as</a> <a id="1239" class="Module">U</a> <a id="1241" class="Keyword">using</a> <a id="1247" class="Symbol">(</a><a id="1248" href="Untyped.CEK.html#24578" class="Function">stepper</a><a id="1255" class="Symbol">;</a><a id="1256" href="Untyped.CEK.html#1258" class="Datatype">Stack</a><a id="1261" class="Symbol">;</a><a id="1262" href="Untyped.CEK.html#1288" class="InductiveConstructor">ε</a><a id="1263" class="Symbol">;</a><a id="1264" href="Untyped.CEK.html#1361" class="Datatype">Env</a><a id="1267" class="Symbol">;</a><a id="1268" href="Untyped.CEK.html#1385" class="InductiveConstructor">[]</a><a id="1270" class="Symbol">;</a><a id="1271" href="Untyped.CEK.html#3620" class="Datatype">State</a><a id="1276" class="Symbol">)</a>
<a id="1278" class="Keyword">open</a> <a id="1283" href="Untyped.CEK.html#3620" class="Module">U.State</a>

<a id="1292" class="Keyword">open</a> <a id="1297" class="Keyword">import</a> <a id="1304" href="Raw.html" class="Module">Raw</a> <a id="1308" class="Keyword">using</a> <a id="1314" class="Symbol">(</a><a id="1315" href="Raw.html#1474" class="Datatype">RawTm</a><a id="1320" class="Symbol">;</a><a id="1321" href="Raw.html#810" class="Datatype">RawTy</a><a id="1326" class="Symbol">;</a><a id="1327" href="Raw.html#5815" class="Function">rawPrinter</a><a id="1337" class="Symbol">;</a><a id="1338" href="Raw.html#4786" class="Function">rawTyPrinter</a><a id="1350" class="Symbol">;</a><a id="1351" href="Raw.html#2720" class="Function">decRTy</a><a id="1357" class="Symbol">;</a><a id="1358" href="Raw.html#3533" class="Function">decRTm</a><a id="1364" class="Symbol">)</a>
<a id="1366" class="Keyword">open</a> <a id="1371" class="Keyword">import</a> <a id="1378" href="Scoped.html" class="Module">Scoped</a> <a id="1385" class="Keyword">using</a> <a id="1391" class="Symbol">(</a><a id="1392" href="Scoped.html#7729" class="Postulate">FreeVariableError</a><a id="1409" class="Symbol">;</a><a id="1410" href="Scoped.html#7824" class="Datatype">ScopeError</a><a id="1420" class="Symbol">;</a><a id="1421" href="Scoped.html#7873" class="InductiveConstructor">freeVariableError</a><a id="1438" class="Symbol">;</a><a id="1439" href="Scoped.html#11006" class="Function">extricateScopeTy</a><a id="1455" class="Symbol">;</a><a id="1456" href="Scoped.html#6896" class="Datatype">ScopedTm</a><a id="1464" class="Symbol">;</a><a id="1465" href="Scoped.html#1414" class="Datatype">Weirdℕ</a><a id="1471" class="Symbol">;</a><a id="1472" href="Scoped.html#9771" class="Function">scopeCheckTm</a><a id="1484" class="Symbol">;</a><a id="1485" href="Scoped.html#4359" class="Function">shifter</a><a id="1492" class="Symbol">;</a><a id="1493" href="Scoped.html#6018" class="Function">unshifter</a><a id="1502" class="Symbol">;</a><a id="1503" href="Scoped.html#12026" class="Function">extricateScope</a><a id="1517" class="Symbol">;</a><a id="1518" href="Scoped.html#5193" class="Function">unshifterTy</a><a id="1529" class="Symbol">;</a><a id="1530" href="Scoped.html#8556" class="Function">scopeCheckTy</a><a id="1542" class="Symbol">;</a><a id="1543" href="Scoped.html#3558" class="Function">shifterTy</a><a id="1552" class="Symbol">)</a>
<a id="1554" class="Keyword">open</a> <a id="1559" href="Scoped.html#1414" class="Module">Weirdℕ</a> <a id="1566" class="Comment">-- Bring Weirdℕ constructors in scope</a>
<a id="1604" class="Keyword">open</a> <a id="1609" class="Keyword">import</a> <a id="1616" href="Utils.html" class="Module">Utils</a> <a id="1622" class="Keyword">using</a> <a id="1628" class="Symbol">(</a><a id="1629" href="Utils.html#1133" class="Datatype">Either</a><a id="1635" class="Symbol">;</a><a id="1636" href="Utils.html#1166" class="InductiveConstructor">inj₁</a><a id="1640" class="Symbol">;</a><a id="1641" href="Utils.html#1190" class="InductiveConstructor">inj₂</a><a id="1645" class="Symbol">;</a><a id="1646" href="Utils.html#3704" class="Function">withE</a><a id="1651" class="Symbol">;</a><a id="1652" href="Utils.html#10849" class="Datatype">Kind</a><a id="1656" class="Symbol">;</a><a id="1657" href="Utils.html#10868" class="InductiveConstructor">*</a><a id="1658" class="Symbol">;</a><a id="1659" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="1664" class="Symbol">;</a><a id="1665" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1672" class="Symbol">;</a><a id="1673" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="1677" class="Symbol">;</a><a id="1678" href="Utils.html#2870" class="Record">Monad</a><a id="1683" class="Symbol">;</a><a id="1684" href="Utils.html#4363" class="Datatype">RuntimeError</a><a id="1696" class="Symbol">;</a><a id="1697" href="Utils.html#3819" class="Function">dec2Either</a><a id="1707" class="Symbol">;</a><a id="1708" href="Utils.html#4009" class="InductiveConstructor Operator">_,_</a><a id="1711" class="Symbol">)</a>
<a id="1713" class="Keyword">open</a> <a id="1718" href="Utils.html#4363" class="Module">RuntimeError</a>
<a id="1731" class="Keyword">open</a> <a id="1736" href="Utils.html#2870" class="Module">Monad</a> <a id="1742" class="Symbol"></a>

<a id="1751" class="Keyword">open</a> <a id="1756" class="Keyword">import</a> <a id="1763" href="Algorithmic.html" class="Module">Algorithmic</a> <a id="1775" class="Keyword">using</a> <a id="1781" class="Symbol">(</a><a id="1782" href="Algorithmic.html#5495" class="Datatype Operator">_⊢_</a><a id="1785" class="Symbol">;</a><a id="1786" href="Algorithmic.html#1685" class="InductiveConstructor">∅</a><a id="1787" class="Symbol">;</a><a id="1788" href="Algorithmic.html#7839" class="InductiveConstructor">error</a><a id="1793" class="Symbol">)</a>

<a id="1796" class="Keyword">open</a> <a id="1801" class="Keyword">import</a> <a id="1808" href="Algorithmic.CK.html" class="Module">Algorithmic.CK</a> <a id="1823" class="Keyword">using</a> <a id="1829" class="Symbol">(</a><a id="1830" href="Algorithmic.CK.html#4610" class="Function">stepper</a><a id="1837" class="Symbol">;</a><a id="1838" href="Algorithmic.CK.html#1313" class="Datatype">State</a><a id="1843" class="Symbol">;</a><a id="1844" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a><a id="1849" class="Symbol">;</a><a id="1850" href="Algorithmic.CK.html#1177" class="InductiveConstructor">ε</a><a id="1851" class="Symbol">)</a>
<a id="1853" class="Keyword">open</a> <a id="1858" href="Algorithmic.CK.html#1313" class="Module">Algorithmic.CK.State</a>

<a id="1880" class="Keyword">open</a> <a id="1885" class="Keyword">import</a> <a id="1892" href="Algorithmic.CEK.html" class="Module">Algorithmic.CEK</a> <a id="1908" class="Keyword">using</a> <a id="1914" class="Symbol">(</a><a id="1915" href="Algorithmic.CEK.html#20549" class="Function">stepper</a><a id="1922" class="Symbol">;</a><a id="1923" href="Algorithmic.CEK.html#18154" class="Datatype">State</a><a id="1928" class="Symbol">;</a><a id="1929" href="Algorithmic.CEK.html#18023" class="Datatype">Stack</a><a id="1934" class="Symbol">;</a><a id="1935" href="Algorithmic.CEK.html#18075" class="InductiveConstructor">ε</a><a id="1936" class="Symbol">;</a><a id="1937" href="Algorithmic.CEK.html#1843" class="Datatype">Env</a><a id="1940" class="Symbol">;</a><a id="1941" href="Algorithmic.CEK.html#3836" class="InductiveConstructor">[]</a><a id="1943" class="Symbol">)</a>
<a id="1945" class="Keyword">open</a> <a id="1950" href="Algorithmic.CEK.html#18154" class="Module">Algorithmic.CEK.State</a>

<a id="1973" class="Keyword">open</a> <a id="1978" class="Keyword">import</a> <a id="1985" href="Algorithmic.Erasure.html" class="Module">Algorithmic.Erasure</a> <a id="2005" class="Keyword">using</a> <a id="2011" class="Symbol">(</a><a id="2012" href="Algorithmic.Erasure.html#2235" class="Function">erase</a><a id="2017" class="Symbol">)</a>
<a id="2019" class="Keyword">import</a> <a id="2026" href="Algorithmic.Evaluation.html" class="Module">Algorithmic.Evaluation</a> <a id="2049" class="Symbol">as</a> <a id="2052" class="Module">L</a> <a id="2054" class="Keyword">using</a><a id="2059" class="Symbol">(</a><a id="2060" href="Algorithmic.Evaluation.html#2112" class="Function">stepper</a><a id="2067" class="Symbol">)</a>

<a id="2070" class="Keyword">open</a> <a id="2075" class="Keyword">import</a> <a id="2082" href="Evaluator.Base.html" class="Module">Evaluator.Base</a> <a id="2097" class="Keyword">using</a> <a id="2103" class="Symbol">(</a><a id="2104" href="Evaluator.Base.html#1243" class="Datatype">ERROR</a><a id="2109" class="Symbol">;</a><a id="2110" href="Evaluator.Base.html#2619" class="Function">reportError</a><a id="2121" class="Symbol">)</a>
<a id="2123" class="Keyword">open</a> <a id="2128" class="Keyword">import</a> <a id="2135" href="Evaluator.Program.html" class="Module">Evaluator.Program</a> <a id="2153" class="Keyword">using</a> <a id="2159" class="Symbol">(</a><a id="2160" href="Evaluator.Program.html#2155" class="Postulate">Input</a><a id="2165" class="Symbol">;</a><a id="2166" href="Evaluator.Program.html#2139" class="Postulate">Format</a><a id="2172" class="Symbol">;</a><a id="2173" href="Evaluator.Program.html#3973" class="Datatype">EvalMode</a><a id="2181" class="Symbol">;</a><a id="2182" href="Evaluator.Program.html#3767" class="Datatype">BudgetMode</a><a id="2192" class="Symbol">;</a><a id="2193" href="Evaluator.Program.html#2261" class="Postulate">ProgramN</a><a id="2201" class="Symbol">;</a><a id="2202" href="Evaluator.Program.html#2381" class="Postulate">ProgramNU</a><a id="2211" class="Symbol">;</a><a id="2212" href="Evaluator.Program.html#7485" class="Function">evalProgramNU</a><a id="2225" class="Symbol">;</a><a id="2226" href="Evaluator.Program.html#7637" class="Function">evalProgramN</a><a id="2238" class="Symbol">;</a><a id="2239" href="Evaluator.Program.html#8473" class="Function">typeCheckProgramN</a><a id="2256" class="Symbol">)</a>
<a id="2258" class="Keyword">open</a> <a id="2263" href="Evaluator.Program.html#3973" class="Module">EvalMode</a>
<a id="2272" class="Keyword">import</a> <a id="2279" href="Evaluator.Term.html" class="Module">Evaluator.Term</a> <a id="2294" class="Comment">-- Needed only to generate the compiled Haskell file</a>

<a id="2348" class="Comment">-- There&#39;s a long prelude here that could go in a different file but</a>
<a id="2417" class="Comment">-- currently it&#39;s only used here</a>

<a id="2451" class="Comment">-- Text Stuff</a>

<a id="2466" class="Keyword">postulate</a>
  <a id="putStrLn"></a><a id="2478" href="Main.html#2478" class="Postulate">putStrLn</a> <a id="2487" class="Symbol">:</a> <a id="2489" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="2496" class="Symbol">→</a> <a id="2498" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2501" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="2504" class="Symbol">{-#</a> <a id="2508" class="Keyword">FOREIGN</a> <a id="2516" class="Pragma">GHC</a> <a id="2520" class="Pragma">import</a> <a id="2527" class="Pragma">qualified</a> <a id="2537" class="Pragma">Data.Text.IO</a> <a id="2550" class="Pragma">as</a> <a id="2553" class="Pragma">TextIO</a> <a id="2560" class="Symbol">#-}</a>
<a id="2564" class="Symbol">{-#</a> <a id="2568" class="Keyword">COMPILE</a> <a id="2576" class="Keyword">GHC</a> <a id="2580" href="Main.html#2478" class="Postulate">putStrLn</a> <a id="2589" class="Pragma">=</a> <a id="2591" class="Pragma">TextIO.putStrLn</a> <a id="2607" class="Symbol">#-}</a>

<a id="2612" class="Comment">-- IO Stuff</a>

<a id="2625" class="Keyword">instance</a>
  <a id="IOMonad"></a><a id="2636" href="Main.html#2636" class="Function">IOMonad</a> <a id="2644" class="Symbol">:</a> <a id="2646" href="Utils.html#2870" class="Record">Monad</a> <a id="2652" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a>
  <a id="2657" href="Main.html#2636" class="Function">IOMonad</a> <a id="2665" class="Symbol">=</a> <a id="2667" class="Keyword">record</a> <a id="2674" class="Symbol">{</a> <a id="2676" href="Utils.html#2917" class="Field">return</a> <a id="2683" class="Symbol">=</a> <a id="2685" href="IO.Primitive.Core.html#956" class="Function">IO.return</a><a id="2694" class="Symbol">;</a> <a id="2696" href="Utils.html#2945" class="Field Operator">_&gt;&gt;=_</a> <a id="2702" class="Symbol">=</a> <a id="2704" href="IO.Primitive.Core.html#648" class="Postulate Operator">IO._&gt;&gt;=_</a> <a id="2713" class="Symbol">}</a>

<a id="2716" class="Comment">-- Parsing stuff</a>

<a id="2734" class="Keyword">postulate</a>
  <a id="FilePath"></a><a id="2746" href="Main.html#2746" class="Postulate">FilePath</a> <a id="2755" class="Symbol">:</a> <a id="2757" href="Agda.Primitive.html#388" class="Primitive">Set</a>

<a id="2762" class="Symbol">{-#</a> <a id="2766" class="Keyword">COMPILE</a> <a id="2774" class="Keyword">GHC</a> <a id="2778" href="Main.html#2746" class="Postulate">FilePath</a> <a id="2787" class="Pragma">=</a> <a id="2789" class="Pragma">type</a> <a id="2794" class="Pragma">FilePath</a> <a id="2803" class="Symbol">#-}</a>

<a id="2808" class="Comment">-- System.Exit stuff</a>

<a id="2830" class="Keyword">postulate</a>
  <a id="exitFailure"></a><a id="2842" href="Main.html#2842" class="Postulate">exitFailure</a> <a id="2854" class="Symbol">:</a> <a id="2856" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2859" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="exitSuccess"></a><a id="2863" href="Main.html#2863" class="Postulate">exitSuccess</a> <a id="2875" class="Symbol">:</a> <a id="2877" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="2880" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="2883" class="Symbol">{-#</a> <a id="2887" class="Keyword">FOREIGN</a> <a id="2895" class="Pragma">GHC</a> <a id="2899" class="Pragma">import</a> <a id="2906" class="Pragma">System.Exit</a> <a id="2918" class="Symbol">#-}</a>
<a id="2922" class="Symbol">{-#</a> <a id="2926" class="Keyword">COMPILE</a> <a id="2934" class="Keyword">GHC</a> <a id="2938" href="Main.html#2863" class="Postulate">exitSuccess</a> <a id="2950" class="Pragma">=</a> <a id="2952" class="Pragma">exitSuccess</a> <a id="2964" class="Symbol">#-}</a>
<a id="2968" class="Symbol">{-#</a> <a id="2972" class="Keyword">COMPILE</a> <a id="2980" class="Keyword">GHC</a> <a id="2984" href="Main.html#2842" class="Postulate">exitFailure</a> <a id="2996" class="Pragma">=</a> <a id="2998" class="Pragma">exitFailure</a> <a id="3010" class="Symbol">#-}</a>

<a id="3015" class="Comment">-- Input Options stuff</a>
<a id="3038" class="Symbol">{-#</a> <a id="3042" class="Keyword">FOREIGN</a> <a id="3050" class="Pragma">GHC</a> <a id="3054" class="Pragma">import</a> <a id="3061" class="Pragma">FFI.Opts</a> <a id="3070" class="Symbol">#-}</a>

<a id="3075" class="Keyword">data</a> <a id="EvalOptions"></a><a id="3080" href="Main.html#3080" class="Datatype">EvalOptions</a> <a id="3092" class="Symbol">(</a><a id="3093" href="Main.html#3093" class="Bound">A</a> <a id="3095" class="Symbol">:</a> <a id="3097" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3100" class="Symbol">)</a> <a id="3102" class="Symbol">:</a> <a id="3104" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3108" class="Keyword">where</a>
  <a id="EvalOptions.EvalOpts"></a><a id="3116" href="Main.html#3116" class="InductiveConstructor">EvalOpts</a> <a id="3125" class="Symbol">:</a> <a id="3127" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3133" class="Symbol">→</a> <a id="3135" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3142" class="Symbol">→</a> <a id="3144" href="Evaluator.Program.html#3973" class="Datatype">EvalMode</a> <a id="3153" class="Symbol">→</a> <a id="3155" href="Evaluator.Program.html#3767" class="Datatype">BudgetMode</a> <a id="3166" href="Main.html#3093" class="Bound">A</a> <a id="3168" class="Symbol">→</a> <a id="3170" href="Main.html#3080" class="Datatype">EvalOptions</a> <a id="3182" href="Main.html#3093" class="Bound">A</a>

<a id="3185" class="Symbol">{-#</a> <a id="3189" class="Keyword">COMPILE</a> <a id="3197" class="Keyword">GHC</a> <a id="3201" href="Main.html#3080" class="Datatype">EvalOptions</a> <a id="3213" class="Pragma">=</a> <a id="3215" class="Pragma">data</a> <a id="3220" class="Pragma">EvalOptions</a> <a id="3232" class="Pragma">(EvalOpts)</a> <a id="3243" class="Symbol">#-}</a>

<a id="3248" class="Keyword">data</a> <a id="TypecheckOptions"></a><a id="3253" href="Main.html#3253" class="Datatype">TypecheckOptions</a> <a id="3270" class="Symbol">:</a> <a id="3272" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3276" class="Keyword">where</a>
  <a id="TypecheckOptions.TCOpts"></a><a id="3284" href="Main.html#3284" class="InductiveConstructor">TCOpts</a> <a id="3291" class="Symbol">:</a> <a id="3293" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3299" class="Symbol">→</a> <a id="3301" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3308" class="Symbol">→</a> <a id="3310" href="Main.html#3253" class="Datatype">TypecheckOptions</a>

<a id="3328" class="Symbol">{-#</a> <a id="3332" class="Keyword">COMPILE</a> <a id="3340" class="Keyword">GHC</a> <a id="3344" href="Main.html#3253" class="Datatype">TypecheckOptions</a> <a id="3361" class="Pragma">=</a> <a id="3363" class="Pragma">data</a> <a id="3368" class="Pragma">TypecheckOptions</a> <a id="3385" class="Pragma">(TCOpts)</a> <a id="3394" class="Symbol">#-}</a>

<a id="3399" class="Keyword">data</a> <a id="Command"></a><a id="3404" href="Main.html#3404" class="Datatype">Command</a> <a id="3412" class="Symbol">(</a><a id="3413" href="Main.html#3413" class="Bound">A</a> <a id="3415" class="Symbol">:</a> <a id="3417" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3420" class="Symbol">)</a> <a id="3422" class="Symbol">:</a> <a id="3424" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3428" class="Keyword">where</a>
  <a id="Command.Eval"></a><a id="3436" href="Main.html#3436" class="InductiveConstructor">Eval</a>  <a id="3442" class="Symbol">:</a> <a id="3444" href="Main.html#3080" class="Datatype">EvalOptions</a> <a id="3456" href="Main.html#3413" class="Bound">A</a> <a id="3458" class="Symbol">→</a> <a id="3460" href="Main.html#3404" class="Datatype">Command</a> <a id="3468" href="Main.html#3413" class="Bound">A</a>
  <a id="Command.Typecheck"></a><a id="3472" href="Main.html#3472" class="InductiveConstructor">Typecheck</a> <a id="3482" class="Symbol">:</a> <a id="3484" href="Main.html#3253" class="Datatype">TypecheckOptions</a> <a id="3501" class="Symbol">→</a> <a id="3503" href="Main.html#3404" class="Datatype">Command</a> <a id="3511" href="Main.html#3413" class="Bound">A</a>

<a id="3514" class="Symbol">{-#</a> <a id="3518" class="Keyword">COMPILE</a> <a id="3526" class="Keyword">GHC</a> <a id="3530" href="Main.html#3404" class="Datatype">Command</a> <a id="3538" class="Pragma">=</a> <a id="3540" class="Pragma">data</a> <a id="3545" class="Pragma">Command</a> <a id="3553" class="Pragma">(Eval</a> <a id="3559" class="Pragma">|</a> <a id="3561" class="Pragma">Typecheck)</a> <a id="3572" class="Symbol">#-}</a>

<a id="3577" class="Symbol">{-#</a> <a id="3581" class="Keyword">FOREIGN</a> <a id="3589" class="Pragma">GHC</a> <a id="3593" class="Pragma">import</a> <a id="3600" class="Pragma">PlutusCore.Executable.Common</a>  <a id="3630" class="Symbol">#-}</a>
<a id="3634" class="Symbol">{-#</a> <a id="3638" class="Keyword">FOREIGN</a> <a id="3646" class="Pragma">GHC</a> <a id="3650" class="Pragma">import</a> <a id="3657" class="Pragma">PlutusCore.Executable.Parsers</a> <a id="3687" class="Symbol">#-}</a>

<a id="3692" class="Keyword">postulate</a>
   <a id="execP"></a><a id="3705" href="Main.html#3705" class="Postulate">execP</a> <a id="3711" class="Symbol">:</a> <a id="3713" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3716" class="Symbol">(</a><a id="3717" href="Main.html#3404" class="Datatype">Command</a> <a id="3725" href="Cost.Raw.html#6132" class="Function">RawCostModel</a><a id="3737" class="Symbol">)</a>
   <a id="parse"></a><a id="3742" href="Main.html#3742" class="Postulate">parse</a> <a id="3748" class="Symbol">:</a> <a id="3750" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3757" class="Symbol">→</a> <a id="3759" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3765" class="Symbol">→</a> <a id="3767" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3770" href="Evaluator.Program.html#2261" class="Postulate">ProgramN</a>
   <a id="parseU"></a><a id="3782" href="Main.html#3782" class="Postulate">parseU</a> <a id="3789" class="Symbol">:</a> <a id="3791" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3798" class="Symbol">→</a> <a id="3800" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="3806" class="Symbol">→</a> <a id="3808" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="3811" href="Evaluator.Program.html#2381" class="Postulate">ProgramNU</a>

<a id="3822" class="Symbol">{-#</a> <a id="3826" class="Keyword">COMPILE</a> <a id="3834" class="Keyword">GHC</a> <a id="3838" href="Main.html#3705" class="Postulate">execP</a> <a id="3844" class="Pragma">=</a> <a id="3846" class="Pragma">execP</a> <a id="3852" class="Symbol">#-}</a>
<a id="3856" class="Symbol">{-#</a> <a id="3860" class="Keyword">COMPILE</a> <a id="3868" class="Keyword">GHC</a> <a id="3872" href="Main.html#3742" class="Postulate">parse</a> <a id="3878" class="Pragma">=</a> <a id="3880" class="Pragma">readProgram</a> <a id="3892" class="Symbol">#-}</a>
<a id="3896" class="Symbol">{-#</a> <a id="3900" class="Keyword">COMPILE</a> <a id="3908" class="Keyword">GHC</a> <a id="3912" href="Main.html#3782" class="Postulate">parseU</a> <a id="3919" class="Pragma">=</a> <a id="3921" class="Pragma">readProgram</a> <a id="3933" class="Symbol">#-}</a>

<a id="evalInput"></a><a id="3938" href="Main.html#3938" class="Function">evalInput</a> <a id="3948" class="Symbol">:</a> <a id="3950" href="Evaluator.Program.html#3973" class="Datatype">EvalMode</a> <a id="3959" class="Symbol">→</a>  <a id="3962" href="Evaluator.Program.html#3767" class="Datatype">BudgetMode</a> <a id="3973" href="Cost.Raw.html#6132" class="Function">RawCostModel</a> <a id="3986" class="Symbol">→</a> <a id="3988" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="3995" class="Symbol">→</a> <a id="3997" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="4003" class="Symbol">→</a> <a id="4005" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4008" class="Symbol">(</a><a id="4009" href="Utils.html#1133" class="Datatype">Either</a> <a id="4016" href="Evaluator.Base.html#1243" class="Datatype">ERROR</a> <a id="4022" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="4028" class="Symbol">)</a>
<a id="4030" href="Main.html#3938" class="Function">evalInput</a> <a id="4040" href="Evaluator.Program.html#3996" class="InductiveConstructor">U</a> <a id="4042" href="Main.html#4042" class="Bound">bm</a> <a id="4045" href="Main.html#4045" class="Bound">fmt</a> <a id="4049" href="Main.html#4049" class="Bound">inp</a> <a id="4053" class="Symbol">=</a> <a id="4055" href="Utils.html#3053" class="Function">fmap</a> <a id="4060" class="Symbol">(</a><a id="4061" href="Evaluator.Program.html#7485" class="Function">evalProgramNU</a> <a id="4075" href="Main.html#4042" class="Bound">bm</a><a id="4077" class="Symbol">)</a> <a id="4079" class="Symbol">(</a><a id="4080" href="Main.html#3782" class="Postulate">parseU</a> <a id="4087" href="Main.html#4045" class="Bound">fmt</a> <a id="4091" href="Main.html#4049" class="Bound">inp</a><a id="4094" class="Symbol">)</a>
<a id="4096" href="Main.html#3938" class="CatchallClause Function">evalInput</a><a id="4105" class="CatchallClause"> </a><a id="4106" href="Main.html#4106" class="CatchallClause Bound">m</a><a id="4107" class="CatchallClause"> </a><a id="4108" class="CatchallClause Symbol">_</a><a id="4109" class="CatchallClause"> </a><a id="4110" href="Main.html#4110" class="CatchallClause Bound">fmt</a><a id="4113" class="CatchallClause"> </a><a id="4114" href="Main.html#4114" class="CatchallClause Bound">inp</a>  <a id="4119" class="Symbol">=</a> <a id="4121" href="Utils.html#3053" class="Function">fmap</a> <a id="4126" class="Symbol">(</a><a id="4127" href="Evaluator.Program.html#7637" class="Function">evalProgramN</a> <a id="4140" href="Main.html#4106" class="Bound">m</a><a id="4141" class="Symbol">)</a> <a id="4143" class="Symbol">(</a><a id="4144" href="Main.html#3742" class="Postulate">parse</a> <a id="4150" href="Main.html#4110" class="Bound">fmt</a> <a id="4154" href="Main.html#4114" class="Bound">inp</a><a id="4157" class="Symbol">)</a>

<a id="tcInput"></a><a id="4160" href="Main.html#4160" class="Function">tcInput</a> <a id="4168" class="Symbol">:</a> <a id="4170" href="Evaluator.Program.html#2139" class="Postulate">Format</a> <a id="4177" class="Symbol">→</a> <a id="4179" href="Evaluator.Program.html#2155" class="Postulate">Input</a> <a id="4185" class="Symbol">→</a> <a id="4187" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4190" class="Symbol">(</a><a id="4191" href="Utils.html#1133" class="Datatype">Either</a> <a id="4198" href="Evaluator.Base.html#1243" class="Datatype">ERROR</a> <a id="4204" href="Agda.Builtin.String.html#335" class="Postulate">String</a><a id="4210" class="Symbol">)</a>
<a id="4212" href="Main.html#4160" class="Function">tcInput</a> <a id="4220" href="Main.html#4220" class="Bound">fmt</a> <a id="4224" href="Main.html#4224" class="Bound">inp</a> <a id="4228" class="Symbol">=</a> <a id="4230" href="Utils.html#3053" class="Function">fmap</a> <a id="4235" href="Evaluator.Program.html#8473" class="Function">typeCheckProgramN</a> <a id="4253" class="Symbol">(</a><a id="4254" href="Main.html#3742" class="Postulate">parse</a> <a id="4260" href="Main.html#4220" class="Bound">fmt</a> <a id="4264" href="Main.html#4224" class="Bound">inp</a><a id="4267" class="Symbol">)</a>

<a id="main&#39;"></a><a id="4270" href="Main.html#4270" class="Function">main&#39;</a> <a id="4276" class="Symbol">:</a> <a id="4278" href="Main.html#3404" class="Datatype">Command</a> <a id="4286" href="Cost.Raw.html#6132" class="Function">RawCostModel</a> <a id="4299" class="Symbol">→</a> <a id="4301" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4304" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="4306" href="Main.html#4270" class="Function">main&#39;</a> <a id="4312" class="Symbol">(</a><a id="4313" href="Main.html#3436" class="InductiveConstructor">Eval</a> <a id="4318" class="Symbol">(</a><a id="4319" href="Main.html#3116" class="InductiveConstructor">EvalOpts</a> <a id="4328" href="Main.html#4328" class="Bound">inp</a> <a id="4332" href="Main.html#4332" class="Bound">fmt</a> <a id="4336" href="Main.html#4336" class="Bound">m</a> <a id="4338" href="Main.html#4338" class="Bound">bm</a><a id="4340" class="Symbol">))</a> <a id="4343" class="Symbol">=</a> <a id="4345" class="Keyword">do</a>
  <a id="4350" href="Utils.html#1190" class="InductiveConstructor">inj₂</a> <a id="4355" href="Main.html#4355" class="Bound">s</a> <a id="4357" href="Utils.html#2945" class="Field Operator">←</a> <a id="4359" href="Main.html#3938" class="Function">evalInput</a> <a id="4369" href="Main.html#4336" class="Bound">m</a> <a id="4371" href="Main.html#4338" class="Bound">bm</a> <a id="4374" href="Main.html#4332" class="Bound">fmt</a> <a id="4378" href="Main.html#4328" class="Bound">inp</a>
    <a id="4386" class="Keyword">where</a>
    <a id="4396" href="Utils.html#1166" class="InductiveConstructor">inj₁</a> <a id="4401" href="Main.html#4401" class="Bound">e</a> <a id="4403" class="Symbol">→</a> <a id="4405" href="Main.html#2478" class="Postulate">putStrLn</a> <a id="4414" class="Symbol">(</a><a id="4415" href="Evaluator.Base.html#2619" class="Function">reportError</a> <a id="4427" href="Main.html#4401" class="Bound">e</a><a id="4428" class="Symbol">)</a> <a id="4430" href="Utils.html#2989" class="Function Operator">&gt;&gt;</a> <a id="4433" href="Main.html#2842" class="Postulate">exitFailure</a>
  <a id="4447" href="Main.html#2478" class="Postulate">putStrLn</a> <a id="4456" href="Main.html#4355" class="Bound">s</a> <a id="4458" href="Utils.html#2989" class="Function Operator">&gt;&gt;</a> <a id="4461" href="Main.html#2863" class="Postulate">exitSuccess</a>
<a id="4473" href="Main.html#4270" class="Function">main&#39;</a> <a id="4479" class="Symbol">(</a><a id="4480" href="Main.html#3472" class="InductiveConstructor">Typecheck</a> <a id="4490" class="Symbol">(</a><a id="4491" href="Main.html#3284" class="InductiveConstructor">TCOpts</a> <a id="4498" href="Main.html#4498" class="Bound">inp</a> <a id="4502" href="Main.html#4502" class="Bound">fmt</a><a id="4505" class="Symbol">))</a>    <a id="4511" class="Symbol">=</a> <a id="4513" class="Keyword">do</a>
  <a id="4518" href="Utils.html#1190" class="InductiveConstructor">inj₂</a> <a id="4523" href="Main.html#4523" class="Bound">s</a> <a id="4525" href="Utils.html#2945" class="Field Operator">←</a> <a id="4527" href="Main.html#4160" class="Function">tcInput</a> <a id="4535" href="Main.html#4502" class="Bound">fmt</a> <a id="4539" href="Main.html#4498" class="Bound">inp</a>
    <a id="4547" class="Keyword">where</a>
    <a id="4557" href="Utils.html#1166" class="InductiveConstructor">inj₁</a> <a id="4562" href="Main.html#4562" class="Bound">e</a> <a id="4564" class="Symbol">→</a> <a id="4566" href="Main.html#2478" class="Postulate">putStrLn</a> <a id="4575" class="Symbol">(</a><a id="4576" href="Evaluator.Base.html#2619" class="Function">reportError</a> <a id="4588" href="Main.html#4562" class="Bound">e</a><a id="4589" class="Symbol">)</a> <a id="4591" href="Utils.html#2989" class="Function Operator">&gt;&gt;</a> <a id="4594" href="Main.html#2842" class="Postulate">exitFailure</a>
  <a id="4608" href="Main.html#2478" class="Postulate">putStrLn</a> <a id="4617" href="Main.html#4523" class="Bound">s</a> <a id="4619" href="Utils.html#2989" class="Function Operator">&gt;&gt;</a> <a id="4622" href="Main.html#2863" class="Postulate">exitSuccess</a>

<a id="main"></a><a id="4635" href="Main.html#4635" class="Function">main</a> <a id="4640" class="Symbol">:</a> <a id="4642" href="Agda.Builtin.IO.html#137" class="Postulate">IO</a> <a id="4645" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="4647" href="Main.html#4635" class="Function">main</a> <a id="4652" class="Symbol">=</a> <a id="4654" href="Main.html#3705" class="Postulate">execP</a> <a id="4660" href="Utils.html#2945" class="Field Operator">&gt;&gt;=</a> <a id="4664" href="Main.html#4270" class="Function">main&#39;</a>
</pre>

    </section>
  </body>
</html>
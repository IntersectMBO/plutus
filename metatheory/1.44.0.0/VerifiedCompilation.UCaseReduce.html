<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>VerifiedCompilation.UCaseReduce</title>
    <link rel="stylesheet" href="./Agda.css">
  </head>
  <body>
    <h1>VerifiedCompilation.UCaseReduce</h1>
    <section>
      <h1 id="case-reduce-translation-phase">Case-Reduce Translation Phase</h1>
<pre class="Agda"><a id="98" class="Keyword">module</a> <a id="105" href="VerifiedCompilation.UCaseReduce.html" class="Module">VerifiedCompilation.UCaseReduce</a> <a id="137" class="Keyword">where</a>

</pre>
<h2 id="imports">Imports</h2>

<pre class="Agda"><a id="164" class="Keyword">open</a> <a id="169" class="Keyword">import</a> <a id="176" href="VerifiedCompilation.Equality.html" class="Module">VerifiedCompilation.Equality</a> <a id="205" class="Keyword">using</a> <a id="211" class="Symbol">(</a><a id="212" href="VerifiedCompilation.Equality.html#2250" class="Record">DecEq</a><a id="217" class="Symbol">;</a> <a id="219" href="VerifiedCompilation.Equality.html#2286" class="Field Operator">_≟_</a><a id="222" class="Symbol">;</a><a id="223" href="VerifiedCompilation.Equality.html#2927" class="Function">decPointwise</a><a id="235" class="Symbol">)</a>
<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="VerifiedCompilation.UntypedViews.html" class="Module">VerifiedCompilation.UntypedViews</a> <a id="282" class="Keyword">using</a> <a id="288" class="Symbol">(</a><a id="289" href="VerifiedCompilation.UntypedViews.html#1322" class="Function">Pred</a><a id="293" class="Symbol">;</a> <a id="295" href="VerifiedCompilation.UntypedViews.html#6080" class="Function">isCase?</a><a id="302" class="Symbol">;</a> <a id="304" href="VerifiedCompilation.UntypedViews.html#2664" class="Function">isApp?</a><a id="310" class="Symbol">;</a> <a id="312" href="VerifiedCompilation.UntypedViews.html#1942" class="Function">isLambda?</a><a id="321" class="Symbol">;</a> <a id="323" href="VerifiedCompilation.UntypedViews.html#3457" class="Function">isForce?</a><a id="331" class="Symbol">;</a> <a id="333" href="VerifiedCompilation.UntypedViews.html#6933" class="Function">isBuiltin?</a><a id="343" class="Symbol">;</a> <a id="345" href="VerifiedCompilation.UntypedViews.html#5291" class="Function">isConstr?</a><a id="354" class="Symbol">;</a> <a id="356" href="VerifiedCompilation.UntypedViews.html#4151" class="Function">isDelay?</a><a id="364" class="Symbol">;</a> <a id="366" href="VerifiedCompilation.UntypedViews.html#7916" class="Function">isTerm?</a><a id="373" class="Symbol">;</a> <a id="375" href="VerifiedCompilation.UntypedViews.html#1498" class="Function">isVar?</a><a id="381" class="Symbol">;</a> <a id="383" href="VerifiedCompilation.UntypedViews.html#8085" class="Function">allTerms?</a><a id="392" class="Symbol">;</a> <a id="394" href="VerifiedCompilation.UntypedViews.html#5999" class="InductiveConstructor">iscase</a><a id="400" class="Symbol">;</a> <a id="402" href="VerifiedCompilation.UntypedViews.html#2610" class="InductiveConstructor">isapp</a><a id="407" class="Symbol">;</a> <a id="409" href="VerifiedCompilation.UntypedViews.html#1886" class="InductiveConstructor">islambda</a><a id="417" class="Symbol">;</a> <a id="419" href="VerifiedCompilation.UntypedViews.html#3407" class="InductiveConstructor">isforce</a><a id="426" class="Symbol">;</a> <a id="428" href="VerifiedCompilation.UntypedViews.html#6879" class="InductiveConstructor">isbuiltin</a><a id="437" class="Symbol">;</a> <a id="439" href="VerifiedCompilation.UntypedViews.html#5216" class="InductiveConstructor">isconstr</a><a id="447" class="Symbol">;</a> <a id="449" href="VerifiedCompilation.UntypedViews.html#7886" class="InductiveConstructor">isterm</a><a id="455" class="Symbol">;</a> <a id="457" href="VerifiedCompilation.UntypedViews.html#8042" class="InductiveConstructor">allterms</a><a id="465" class="Symbol">;</a> <a id="467" href="VerifiedCompilation.UntypedViews.html#4101" class="InductiveConstructor">isdelay</a><a id="474" class="Symbol">;</a> <a id="476" href="VerifiedCompilation.UntypedViews.html#1468" class="InductiveConstructor">isvar</a><a id="481" class="Symbol">)</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="VerifiedCompilation.UntypedTranslation.html" class="Module">VerifiedCompilation.UntypedTranslation</a> <a id="534" class="Keyword">using</a> <a id="540" class="Symbol">(</a><a id="541" href="VerifiedCompilation.UntypedTranslation.html#1655" class="Datatype">Translation</a><a id="552" class="Symbol">;</a> <a id="554" href="VerifiedCompilation.UntypedTranslation.html#4101" class="Function">translation?</a><a id="566" class="Symbol">;</a> <a id="568" href="VerifiedCompilation.UntypedTranslation.html#1585" class="Function">Relation</a><a id="576" class="Symbol">;</a> <a id="578" href="VerifiedCompilation.UntypedTranslation.html#11347" class="Function">convert</a><a id="585" class="Symbol">;</a> <a id="587" href="VerifiedCompilation.UntypedTranslation.html#12711" class="Function">reflexive</a><a id="596" class="Symbol">)</a>
<a id="598" class="Keyword">open</a> <a id="603" class="Keyword">import</a> <a id="610" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="627" class="Keyword">using</a> <a id="633" class="Symbol">(</a><a id="634" href="Relation.Nullary.Decidable.Core.html#3103" class="Function Operator">_×-dec_</a><a id="641" class="Symbol">)</a>
<a id="643" class="Keyword">open</a> <a id="648" class="Keyword">import</a> <a id="655" href="Untyped.html" class="Module">Untyped</a> <a id="663" class="Keyword">using</a> <a id="669" class="Symbol">(</a><a id="670" href="Untyped.html#1670" class="Datatype Operator">_⊢</a><a id="672" class="Symbol">;</a> <a id="674" href="Untyped.html#1868" class="InductiveConstructor">case</a><a id="678" class="Symbol">;</a> <a id="680" href="Untyped.html#1916" class="InductiveConstructor">builtin</a><a id="687" class="Symbol">;</a> <a id="689" href="Untyped.html#1737" class="InductiveConstructor Operator">_·_</a><a id="692" class="Symbol">;</a> <a id="694" href="Untyped.html#1761" class="InductiveConstructor">force</a><a id="699" class="Symbol">;</a> <a id="701" href="Untyped.html#1697" class="InductiveConstructor">`</a><a id="702" class="Symbol">;</a> <a id="704" href="Untyped.html#1713" class="InductiveConstructor">ƛ</a><a id="705" class="Symbol">;</a> <a id="707" href="Untyped.html#1781" class="InductiveConstructor">delay</a><a id="712" class="Symbol">;</a> <a id="714" href="Untyped.html#1801" class="InductiveConstructor">con</a><a id="717" class="Symbol">;</a> <a id="719" href="Untyped.html#1821" class="InductiveConstructor">constr</a><a id="725" class="Symbol">;</a> <a id="727" href="Untyped.html#1948" class="InductiveConstructor">error</a><a id="732" class="Symbol">;</a> <a id="734" href="Untyped.html#6965" class="Function">toWellScoped</a><a id="746" class="Symbol">)</a>
<a id="748" class="Keyword">import</a> <a id="755" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="793" class="Symbol">as</a> <a id="796" class="Module">Eq</a>
<a id="799" class="Keyword">open</a> <a id="804" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="807" class="Keyword">using</a> <a id="813" class="Symbol">(</a><a id="814" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="817" class="Symbol">;</a> <a id="819" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="823" class="Symbol">)</a>
<a id="825" class="Keyword">open</a> <a id="830" class="Keyword">import</a> <a id="837" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="880" class="Keyword">using</a> <a id="886" class="Symbol">(</a><a id="887" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a><a id="892" class="Symbol">;</a> <a id="894" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a><a id="897" class="Symbol">;</a> <a id="899" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a><a id="904" class="Symbol">)</a>
<a id="906" class="Keyword">open</a> <a id="911" class="Keyword">import</a> <a id="918" href="Untyped.CEK.html" class="Module">Untyped.CEK</a> <a id="930" class="Keyword">using</a> <a id="936" class="Symbol">(</a><a id="937" href="Untyped.CEK.html#21007" class="Function">lookup?</a><a id="944" class="Symbol">;</a> <a id="946" href="Untyped.CEK.html#21140" class="Function">lookup?-deterministic</a><a id="967" class="Symbol">)</a>
<a id="969" class="Keyword">open</a> <a id="974" class="Keyword">import</a> <a id="981" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="990" class="Keyword">using</a> <a id="996" class="Symbol">(</a><a id="997" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="998" class="Symbol">;</a> <a id="1000" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="1004" class="Symbol">;</a> <a id="1006" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="1009" class="Symbol">)</a>
<a id="1011" class="Keyword">open</a> <a id="1016" class="Keyword">import</a> <a id="1023" href="Data.List.html" class="Module">Data.List</a> <a id="1033" class="Keyword">using</a> <a id="1039" class="Symbol">(</a><a id="1040" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="1044" class="Symbol">;</a> <a id="1046" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a><a id="1049" class="Symbol">;</a> <a id="1051" href="Data.List.Base.html#7599" class="InductiveConstructor">[]</a><a id="1053" class="Symbol">;</a> <a id="1055" href="Data.List.Base.html#5205" class="Function Operator">[_]</a><a id="1058" class="Symbol">)</a>
<a id="1060" class="Keyword">open</a> <a id="1065" class="Keyword">import</a> <a id="1072" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="1083" class="Keyword">using</a> <a id="1089" class="Symbol">(</a><a id="1090" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a><a id="1095" class="Symbol">;</a> <a id="1097" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a><a id="1101" class="Symbol">;</a> <a id="1103" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="1110" class="Symbol">)</a>
<a id="1112" class="Keyword">open</a> <a id="1117" class="Keyword">import</a> <a id="1124" href="Data.List.Relation.Binary.Pointwise.Base.html" class="Module">Data.List.Relation.Binary.Pointwise.Base</a> <a id="1165" class="Keyword">using</a> <a id="1171" class="Symbol">(</a><a id="1172" href="Data.List.Relation.Binary.Pointwise.Base.html#884" class="Datatype">Pointwise</a><a id="1181" class="Symbol">)</a>
<a id="1183" class="Keyword">import</a> <a id="1190" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="1206" class="Symbol">as</a> <a id="1209" class="Module">Binary</a> <a id="1216" class="Keyword">using</a> <a id="1222" class="Symbol">(</a><a id="1223" href="Relation.Binary.Definitions.html#6713" class="Function">Decidable</a><a id="1232" class="Symbol">)</a>
<a id="1234" class="Keyword">open</a> <a id="1239" class="Keyword">import</a> <a id="1246" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="1263" class="Keyword">using</a> <a id="1269" class="Symbol">(</a><a id="1270" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a><a id="1273" class="Symbol">;</a> <a id="1275" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a><a id="1278" class="Symbol">;</a> <a id="1280" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a><a id="1282" class="Symbol">;</a> <a id="1284" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="1286" class="Symbol">)</a>
<a id="1288" class="Keyword">open</a> <a id="1293" class="Keyword">import</a> <a id="1300" href="Data.Product.html" class="Module">Data.Product</a> <a id="1313" class="Keyword">using</a> <a id="1319" class="Symbol">(</a><a id="1320" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="1323" class="Symbol">)</a>
<a id="1325" class="Keyword">open</a> <a id="1330" class="Keyword">import</a> <a id="1337" href="RawU.html" class="Module">RawU</a> <a id="1342" class="Keyword">using</a> <a id="1348" class="Symbol">(</a><a id="1349" href="RawU.html#8155" class="Function">tag2TyTag</a><a id="1358" class="Symbol">;</a> <a id="1360" href="RawU.html#7844" class="InductiveConstructor">tmCon</a><a id="1365" class="Symbol">)</a>
<a id="1367" class="Keyword">open</a> <a id="1372" class="Keyword">import</a> <a id="1379" href="Agda.Builtin.Int.html" class="Module">Agda.Builtin.Int</a> <a id="1396" class="Keyword">using</a> <a id="1402" class="Symbol">(</a><a id="1403" href="Agda.Builtin.Int.html#245" class="Datatype">Int</a><a id="1406" class="Symbol">)</a>
<a id="1408" class="Keyword">open</a> <a id="1413" class="Keyword">import</a> <a id="1420" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="1431" class="Keyword">using</a> <a id="1437" class="Symbol">(</a><a id="1438" href="Data.Empty.html#914" class="Function">⊥</a><a id="1439" class="Symbol">)</a>
<a id="1441" class="Keyword">open</a> <a id="1446" class="Keyword">import</a> <a id="1453" href="Function.html" class="Module">Function</a> <a id="1462" class="Keyword">using</a> <a id="1468" class="Symbol">(</a><a id="1469" href="Function.Base.html#4042" class="Function Operator">case_of_</a><a id="1477" class="Symbol">)</a>
<a id="1479" class="Keyword">open</a> <a id="1484" class="Keyword">import</a> <a id="1491" href="VerifiedCompilation.Certificate.html" class="Module">VerifiedCompilation.Certificate</a> <a id="1523" class="Keyword">using</a> <a id="1529" class="Symbol">(</a><a id="1530" href="VerifiedCompilation.Certificate.html#1061" class="Datatype">ProofOrCE</a><a id="1539" class="Symbol">;</a> <a id="1541" href="VerifiedCompilation.Certificate.html#1137" class="InductiveConstructor">ce</a><a id="1543" class="Symbol">;</a> <a id="1545" href="VerifiedCompilation.Certificate.html#1105" class="InductiveConstructor">proof</a><a id="1550" class="Symbol">;</a> <a id="1552" href="VerifiedCompilation.Certificate.html#763" class="InductiveConstructor">caseReduceT</a><a id="1563" class="Symbol">)</a>

</pre>
<h2 id="translation-relation">Translation Relation</h2>

<pre class="Agda"><a id="iterApp"></a><a id="1600" href="VerifiedCompilation.UCaseReduce.html#1600" class="Function">iterApp</a> <a id="1608" class="Symbol">:</a> <a id="1610" class="Symbol">{</a><a id="1611" href="VerifiedCompilation.UCaseReduce.html#1611" class="Bound">X</a> <a id="1613" class="Symbol">:</a> <a id="1615" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1618" class="Symbol">}</a> <a id="1620" class="Symbol">→</a> <a id="1622" href="VerifiedCompilation.UCaseReduce.html#1611" class="Bound">X</a> <a id="1624" href="Untyped.html#1670" class="Datatype Operator">⊢</a> <a id="1626" class="Symbol">→</a> <a id="1628" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1633" class="Symbol">(</a><a id="1634" href="VerifiedCompilation.UCaseReduce.html#1611" class="Bound">X</a> <a id="1636" href="Untyped.html#1670" class="Datatype Operator">⊢</a><a id="1637" class="Symbol">)</a> <a id="1639" class="Symbol">→</a> <a id="1641" href="VerifiedCompilation.UCaseReduce.html#1611" class="Bound">X</a> <a id="1643" href="Untyped.html#1670" class="Datatype Operator">⊢</a>
<a id="1645" href="VerifiedCompilation.UCaseReduce.html#1600" class="Function">iterApp</a> <a id="1653" href="VerifiedCompilation.UCaseReduce.html#1653" class="Bound">x</a> <a id="1655" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1658" class="Symbol">=</a> <a id="1660" href="VerifiedCompilation.UCaseReduce.html#1653" class="Bound">x</a>
<a id="1662" href="VerifiedCompilation.UCaseReduce.html#1600" class="Function">iterApp</a> <a id="1670" href="VerifiedCompilation.UCaseReduce.html#1670" class="Bound">x</a> <a id="1672" class="Symbol">(</a><a id="1673" href="VerifiedCompilation.UCaseReduce.html#1673" class="Bound">v</a> <a id="1675" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1677" href="VerifiedCompilation.UCaseReduce.html#1677" class="Bound">vs</a><a id="1679" class="Symbol">)</a> <a id="1681" class="Symbol">=</a> <a id="1683" href="VerifiedCompilation.UCaseReduce.html#1600" class="Function">iterApp</a> <a id="1691" class="Symbol">(</a><a id="1692" href="VerifiedCompilation.UCaseReduce.html#1670" class="Bound">x</a> <a id="1694" href="Untyped.html#1737" class="InductiveConstructor Operator">·</a> <a id="1696" href="VerifiedCompilation.UCaseReduce.html#1673" class="Bound">v</a><a id="1697" class="Symbol">)</a> <a id="1699" href="VerifiedCompilation.UCaseReduce.html#1677" class="Bound">vs</a>

<a id="1703" class="Keyword">data</a> <a id="CaseReduce"></a><a id="1708" href="VerifiedCompilation.UCaseReduce.html#1708" class="Datatype">CaseReduce</a> <a id="1719" class="Symbol">:</a> <a id="1721" href="VerifiedCompilation.UntypedTranslation.html#1585" class="Function">Relation</a> <a id="1730" class="Keyword">where</a>
  <a id="CaseReduce.casereduce"></a><a id="1738" href="VerifiedCompilation.UCaseReduce.html#1738" class="InductiveConstructor">casereduce</a> <a id="1749" class="Symbol">:</a> <a id="1751" class="Symbol">{</a><a id="1752" href="VerifiedCompilation.UCaseReduce.html#1752" class="Bound">X</a> <a id="1754" class="Symbol">:</a> <a id="1756" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1759" class="Symbol">}</a> <a id="1761" class="Symbol"></a> <a id="1777" class="Symbol">{</a><a id="1778" href="VerifiedCompilation.UCaseReduce.html#1778" class="Bound">x</a> <a id="1780" class="Symbol">:</a> <a id="1782" href="VerifiedCompilation.UCaseReduce.html#1752" class="Bound">X</a> <a id="1784" href="Untyped.html#1670" class="Datatype Operator">⊢</a><a id="1785" class="Symbol">}</a> <a id="1787" class="Symbol">{</a> <a id="1789" href="VerifiedCompilation.UCaseReduce.html#1789" class="Bound">x&#39;</a> <a id="1792" class="Symbol">:</a> <a id="1794" href="VerifiedCompilation.UCaseReduce.html#1752" class="Bound">X</a> <a id="1796" href="Untyped.html#1670" class="Datatype Operator">⊢</a><a id="1797" class="Symbol">}</a> <a id="1799" class="Symbol">{</a><a id="1800" href="VerifiedCompilation.UCaseReduce.html#1800" class="Bound">vs</a> <a id="1803" href="VerifiedCompilation.UCaseReduce.html#1803" class="Bound">xs</a> <a id="1806" class="Symbol">:</a> <a id="1808" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1813" class="Symbol">(</a><a id="1814" href="VerifiedCompilation.UCaseReduce.html#1752" class="Bound">X</a> <a id="1816" href="Untyped.html#1670" class="Datatype Operator">⊢</a><a id="1817" class="Symbol">)}</a> <a id="1820" class="Symbol">{</a><a id="1821" href="VerifiedCompilation.UCaseReduce.html#1821" class="Bound">i</a> <a id="1823" class="Symbol">:</a> <a id="1825" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1826" class="Symbol">}</a>
                         <a id="1853" class="Symbol">→</a> <a id="1855" href="Untyped.CEK.html#21007" class="Function">lookup?</a> <a id="1863" href="VerifiedCompilation.UCaseReduce.html#1821" class="Bound">i</a> <a id="1865" href="VerifiedCompilation.UCaseReduce.html#1803" class="Bound">xs</a> <a id="1868" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="1870" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="1875" href="VerifiedCompilation.UCaseReduce.html#1778" class="Bound">x</a>
                         <a id="1902" class="Symbol">→</a> <a id="1904" href="VerifiedCompilation.UntypedTranslation.html#1655" class="Datatype">Translation</a> <a id="1916" href="VerifiedCompilation.UCaseReduce.html#1708" class="Datatype">CaseReduce</a> <a id="1927" class="Symbol">(</a><a id="1928" href="VerifiedCompilation.UCaseReduce.html#1600" class="Function">iterApp</a> <a id="1936" href="VerifiedCompilation.UCaseReduce.html#1778" class="Bound">x</a> <a id="1938" href="VerifiedCompilation.UCaseReduce.html#1800" class="Bound">vs</a><a id="1940" class="Symbol">)</a> <a id="1942" href="VerifiedCompilation.UCaseReduce.html#1789" class="Bound">x&#39;</a>
                         <a id="1970" class="Symbol">→</a> <a id="1972" href="VerifiedCompilation.UCaseReduce.html#1708" class="Datatype">CaseReduce</a> <a id="1983" class="Symbol">(</a><a id="1984" href="Untyped.html#1868" class="InductiveConstructor">case</a> <a id="1989" class="Symbol">(</a><a id="1990" href="Untyped.html#1821" class="InductiveConstructor">constr</a> <a id="1997" href="VerifiedCompilation.UCaseReduce.html#1821" class="Bound">i</a> <a id="1999" href="VerifiedCompilation.UCaseReduce.html#1800" class="Bound">vs</a><a id="2001" class="Symbol">)</a> <a id="2003" href="VerifiedCompilation.UCaseReduce.html#1803" class="Bound">xs</a><a id="2005" class="Symbol">)</a> <a id="2007" href="VerifiedCompilation.UCaseReduce.html#1789" class="Bound">x&#39;</a>
</pre>
<h2 id="decision-procedure">Decision Procedure</h2>

<pre class="Agda"><a id="isCaseReduce?"></a><a id="2041" href="VerifiedCompilation.UCaseReduce.html#2041" class="Function">isCaseReduce?</a> <a id="2055" class="Symbol">:</a> <a id="2057" class="Symbol">{</a><a id="2058" href="VerifiedCompilation.UCaseReduce.html#2058" class="Bound">X</a> <a id="2060" class="Symbol">:</a> <a id="2062" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="2065" class="Symbol">}</a> <a id="2067" class="Symbol"></a> <a id="2083" class="Symbol">→</a> <a id="2085" class="Symbol">(</a><a id="2086" href="VerifiedCompilation.UCaseReduce.html#2086" class="Bound">ast</a> <a id="2090" href="VerifiedCompilation.UCaseReduce.html#2090" class="Bound">ast&#39;</a> <a id="2095" class="Symbol">:</a> <a id="2097" href="VerifiedCompilation.UCaseReduce.html#2058" class="Bound">X</a> <a id="2099" href="Untyped.html#1670" class="Datatype Operator">⊢</a><a id="2100" class="Symbol">)</a> <a id="2102" class="Symbol">→</a> <a id="2104" href="VerifiedCompilation.Certificate.html#1061" class="Datatype">ProofOrCE</a> <a id="2114" class="Symbol">(</a><a id="2115" href="VerifiedCompilation.UntypedTranslation.html#1655" class="Datatype">Translation</a> <a id="2127" href="VerifiedCompilation.UCaseReduce.html#1708" class="Datatype">CaseReduce</a> <a id="2138" class="Symbol">{</a><a id="2139" href="VerifiedCompilation.UCaseReduce.html#2058" class="Bound">X</a><a id="2140" class="Symbol">}</a> <a id="2142" href="VerifiedCompilation.UCaseReduce.html#2086" class="Bound">ast</a> <a id="2146" href="VerifiedCompilation.UCaseReduce.html#2090" class="Bound">ast&#39;</a><a id="2150" class="Symbol">)</a>

<a id="justEq"></a><a id="2153" href="VerifiedCompilation.UCaseReduce.html#2153" class="Function">justEq</a> <a id="2160" class="Symbol">:</a> <a id="2162" class="Symbol">{</a><a id="2163" href="VerifiedCompilation.UCaseReduce.html#2163" class="Bound">X</a> <a id="2165" class="Symbol">:</a> <a id="2167" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="2170" class="Symbol">}</a> <a id="2172" class="Symbol">{</a><a id="2173" href="VerifiedCompilation.UCaseReduce.html#2173" class="Bound">x</a> <a id="2175" href="VerifiedCompilation.UCaseReduce.html#2175" class="Bound">x₁</a> <a id="2178" class="Symbol">:</a> <a id="2180" href="VerifiedCompilation.UCaseReduce.html#2163" class="Bound">X</a><a id="2181" class="Symbol">}</a> <a id="2183" class="Symbol">→</a> <a id="2185" class="Symbol">(</a><a id="2186" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2191" href="VerifiedCompilation.UCaseReduce.html#2173" class="Bound">x</a><a id="2192" class="Symbol">)</a> <a id="2194" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2196" class="Symbol">(</a><a id="2197" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2202" href="VerifiedCompilation.UCaseReduce.html#2175" class="Bound">x₁</a><a id="2204" class="Symbol">)</a> <a id="2206" class="Symbol">→</a> <a id="2208" href="VerifiedCompilation.UCaseReduce.html#2173" class="Bound">x</a> <a id="2210" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2212" href="VerifiedCompilation.UCaseReduce.html#2175" class="Bound">x₁</a>
<a id="2215" href="VerifiedCompilation.UCaseReduce.html#2153" class="Function">justEq</a> <a id="2222" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2227" class="Symbol">=</a> <a id="2229" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="2235" class="Symbol">{-#</a> <a id="2239" class="Keyword">TERMINATING</a> <a id="2251" class="Symbol">#-}</a>
<a id="isCR?"></a><a id="2255" href="VerifiedCompilation.UCaseReduce.html#2255" class="Function">isCR?</a> <a id="2261" class="Symbol">:</a> <a id="2263" class="Symbol">{</a><a id="2264" href="VerifiedCompilation.UCaseReduce.html#2264" class="Bound">X</a> <a id="2266" class="Symbol">:</a> <a id="2268" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="2271" class="Symbol">}</a> <a id="2273" class="Symbol"></a> <a id="2289" class="Symbol">→</a> <a id="2291" class="Symbol">(</a><a id="2292" href="VerifiedCompilation.UCaseReduce.html#2292" class="Bound">ast</a> <a id="2296" href="VerifiedCompilation.UCaseReduce.html#2296" class="Bound">ast&#39;</a> <a id="2301" class="Symbol">:</a> <a id="2303" href="VerifiedCompilation.UCaseReduce.html#2264" class="Bound">X</a> <a id="2305" href="Untyped.html#1670" class="Datatype Operator">⊢</a><a id="2306" class="Symbol">)</a> <a id="2308" class="Symbol">→</a> <a id="2310" href="VerifiedCompilation.Certificate.html#1061" class="Datatype">ProofOrCE</a> <a id="2320" class="Symbol">(</a><a id="2321" href="VerifiedCompilation.UCaseReduce.html#1708" class="Datatype">CaseReduce</a> <a id="2332" href="VerifiedCompilation.UCaseReduce.html#2292" class="Bound">ast</a> <a id="2336" href="VerifiedCompilation.UCaseReduce.html#2296" class="Bound">ast&#39;</a><a id="2340" class="Symbol">)</a>
<a id="2342" href="VerifiedCompilation.UCaseReduce.html#2255" class="Function">isCR?</a> <a id="2348" href="VerifiedCompilation.UCaseReduce.html#2348" class="Bound">ast</a> <a id="2352" href="VerifiedCompilation.UCaseReduce.html#2352" class="Bound">ast&#39;</a> <a id="2357" class="Keyword">with</a> <a id="2362" class="Symbol">(</a><a id="2363" href="VerifiedCompilation.UntypedViews.html#6080" class="Function">isCase?</a> <a id="2371" class="Symbol">(</a><a id="2372" href="VerifiedCompilation.UntypedViews.html#5291" class="Function">isConstr?</a> <a id="2382" href="VerifiedCompilation.UntypedViews.html#8085" class="Function">allTerms?</a><a id="2391" class="Symbol">)</a> <a id="2393" href="VerifiedCompilation.UntypedViews.html#8085" class="Function">allTerms?</a><a id="2402" class="Symbol">)</a> <a id="2404" href="VerifiedCompilation.UCaseReduce.html#2348" class="Bound">ast</a>
<a id="2408" class="Symbol">...</a> <a id="2412" class="Symbol">|</a> <a id="2414" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2417" href="VerifiedCompilation.UCaseReduce.html#2417" class="Bound">¬p</a> <a id="2420" class="Symbol">=</a> <a id="2422" href="VerifiedCompilation.Certificate.html#1137" class="InductiveConstructor">ce</a> <a id="2425" class="Symbol">(λ</a> <a id="2428" class="Symbol">{</a> <a id="2430" class="Symbol">(</a><a id="2431" href="VerifiedCompilation.UCaseReduce.html#1738" class="InductiveConstructor">casereduce</a> <a id="2442" class="Symbol">_</a> <a id="2444" class="Symbol">_)</a> <a id="2447" class="Symbol">→</a> <a id="2449" href="VerifiedCompilation.UCaseReduce.html#2417" class="Bound">¬p</a> <a id="2452" class="Symbol">(</a><a id="2453" href="VerifiedCompilation.UntypedViews.html#5999" class="InductiveConstructor">iscase</a> <a id="2460" class="Symbol">(</a><a id="2461" href="VerifiedCompilation.UntypedViews.html#5216" class="InductiveConstructor">isconstr</a> <a id="2470" class="Symbol">_</a> <a id="2472" class="Symbol">(</a><a id="2473" href="VerifiedCompilation.UntypedViews.html#8042" class="InductiveConstructor">allterms</a> <a id="2482" class="Symbol">_))</a> <a id="2486" class="Symbol">(</a><a id="2487" href="VerifiedCompilation.UntypedViews.html#8042" class="InductiveConstructor">allterms</a> <a id="2496" class="Symbol">_))}</a> <a id="2501" class="Symbol">)</a> <a id="2503" href="VerifiedCompilation.Certificate.html#763" class="InductiveConstructor">caseReduceT</a> <a id="2515" class="Bound">ast</a> <a id="2519" class="Bound">ast&#39;</a>
<a id="2524" class="Symbol">...</a> <a id="2528" class="Symbol">|</a> <a id="2530" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2534" class="Symbol">(</a><a id="2535" href="VerifiedCompilation.UntypedViews.html#5999" class="InductiveConstructor">iscase</a> <a id="2542" class="Symbol">(</a><a id="2543" href="VerifiedCompilation.UntypedViews.html#5216" class="InductiveConstructor">isconstr</a> <a id="2552" href="VerifiedCompilation.UCaseReduce.html#2552" class="Bound">i</a> <a id="2554" class="Symbol">(</a><a id="2555" href="VerifiedCompilation.UntypedViews.html#8042" class="InductiveConstructor">allterms</a> <a id="2564" href="VerifiedCompilation.UCaseReduce.html#2564" class="Bound">vs</a><a id="2566" class="Symbol">))</a> <a id="2569" class="Symbol">(</a><a id="2570" href="VerifiedCompilation.UntypedViews.html#8042" class="InductiveConstructor">allterms</a> <a id="2579" href="VerifiedCompilation.UCaseReduce.html#2579" class="Bound">xs</a><a id="2581" class="Symbol">))</a> <a id="2584" class="Keyword">with</a> <a id="2589" href="Untyped.CEK.html#21007" class="Function">lookup?</a> <a id="2597" href="VerifiedCompilation.UCaseReduce.html#2552" class="Bound">i</a> <a id="2599" href="VerifiedCompilation.UCaseReduce.html#2579" class="Bound">xs</a> <a id="2602" class="Keyword">in</a> <a id="2605" class="Argument">xv</a>
<a id="2608" class="Symbol">...</a>          <a id="2621" class="Symbol">|</a> <a id="2623" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2631" class="Symbol">=</a> <a id="2633" href="VerifiedCompilation.Certificate.html#1137" class="InductiveConstructor">ce</a> <a id="2636" class="Symbol">(λ</a> <a id="2639" class="Symbol">{</a> <a id="2641" class="Symbol">(</a><a id="2642" href="VerifiedCompilation.UCaseReduce.html#1738" class="InductiveConstructor">casereduce</a> <a id="2653" href="VerifiedCompilation.UCaseReduce.html#2653" class="Bound">p</a> <a id="2655" class="Symbol">_)</a> <a id="2658" class="Symbol">→</a> <a id="2660" href="Function.Base.html#4042" class="Function Operator">case</a> <a id="2665" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a> <a id="2671" class="Symbol">(</a><a id="2672" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2676" href="VerifiedCompilation.UCaseReduce.html#2605" class="Bound">xv</a><a id="2678" class="Symbol">)</a> <a id="2680" href="VerifiedCompilation.UCaseReduce.html#2653" class="Bound">p</a> <a id="2682" href="Function.Base.html#4042" class="Function Operator">of</a> <a id="2685" class="Symbol">λ</a> <a id="2687" class="Symbol">{</a> <a id="2689" class="Symbol">()</a> <a id="2692" class="Symbol">}}</a> <a id="2695" class="Symbol">)</a> <a id="2697" href="VerifiedCompilation.Certificate.html#763" class="InductiveConstructor">caseReduceT</a> <a id="2709" class="Bound">ast</a> <a id="2713" class="Bound">ast&#39;</a>
<a id="2718" class="Symbol">...</a>          <a id="2731" class="Symbol">|</a> <a id="2733" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2738" href="VerifiedCompilation.UCaseReduce.html#2738" class="Bound">x</a> <a id="2740" class="Keyword">with</a> <a id="2745" href="VerifiedCompilation.UCaseReduce.html#2041" class="Function">isCaseReduce?</a> <a id="2759" class="Symbol">(</a><a id="2760" href="VerifiedCompilation.UCaseReduce.html#1600" class="Function">iterApp</a> <a id="2768" href="VerifiedCompilation.UCaseReduce.html#2738" class="Bound">x</a> <a id="2770" class="Bound">vs</a><a id="2772" class="Symbol">)</a> <a id="2774" class="Bound">ast&#39;</a>
<a id="2779" class="Symbol">...</a>                  <a id="2800" class="Symbol">|</a> <a id="2802" href="VerifiedCompilation.Certificate.html#1105" class="InductiveConstructor">proof</a> <a id="2808" href="VerifiedCompilation.UCaseReduce.html#2808" class="Bound">p</a> <a id="2810" class="Symbol">=</a> <a id="2812" href="VerifiedCompilation.Certificate.html#1105" class="InductiveConstructor">proof</a> <a id="2818" class="Symbol">(</a><a id="2819" href="VerifiedCompilation.UCaseReduce.html#1738" class="InductiveConstructor">casereduce</a> <a id="2830" href="VerifiedCompilation.UCaseReduce.html#2605" class="Bound">xv</a> <a id="2833" href="VerifiedCompilation.UCaseReduce.html#2808" class="Bound">p</a><a id="2834" class="Symbol">)</a>
<a id="2836" class="Symbol">...</a>                  <a id="2857" class="Symbol">|</a> <a id="2859" href="VerifiedCompilation.Certificate.html#1137" class="InductiveConstructor">ce</a> <a id="2862" href="VerifiedCompilation.UCaseReduce.html#2862" class="Bound">¬t</a> <a id="2865" href="VerifiedCompilation.UCaseReduce.html#2865" class="Bound">t</a> <a id="2867" href="VerifiedCompilation.UCaseReduce.html#2867" class="Bound">b</a> <a id="2869" href="VerifiedCompilation.UCaseReduce.html#2869" class="Bound">a</a> <a id="2871" class="Symbol">=</a> <a id="2873" href="VerifiedCompilation.Certificate.html#1137" class="InductiveConstructor">ce</a> <a id="2876" class="Symbol">(λ</a> <a id="2879" class="Symbol">{</a> <a id="2881" class="Symbol">(</a><a id="2882" href="VerifiedCompilation.UCaseReduce.html#1738" class="InductiveConstructor">casereduce</a> <a id="2893" href="VerifiedCompilation.UCaseReduce.html#2893" class="Bound">p</a> <a id="2895" href="VerifiedCompilation.UCaseReduce.html#2895" class="Bound">t</a><a id="2896" class="Symbol">)</a> <a id="2898" class="Symbol">→</a> <a id="2900" href="VerifiedCompilation.UCaseReduce.html#2862" class="Bound">¬t</a> <a id="2903" class="Symbol">(</a><a id="2904" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a> <a id="2910" class="Symbol">(λ</a> <a id="2913" href="VerifiedCompilation.UCaseReduce.html#2913" class="Bound">x</a> <a id="2915" class="Symbol">→</a> <a id="2917" href="VerifiedCompilation.UntypedTranslation.html#1655" class="Datatype">Translation</a> <a id="2929" href="VerifiedCompilation.UCaseReduce.html#1708" class="Datatype">CaseReduce</a> <a id="2940" class="Symbol">(</a><a id="2941" href="VerifiedCompilation.UCaseReduce.html#1600" class="Function">iterApp</a> <a id="2949" href="VerifiedCompilation.UCaseReduce.html#2913" class="Bound">x</a> <a id="2951" class="Bound">vs</a><a id="2953" class="Symbol">)</a> <a id="2955" class="Bound">ast&#39;</a><a id="2959" class="Symbol">)</a> <a id="2961" class="Symbol">(</a><a id="2962" href="VerifiedCompilation.UCaseReduce.html#2153" class="Function">justEq</a> <a id="2969" class="Symbol">(</a><a id="2970" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a> <a id="2976" class="Symbol">(</a><a id="2977" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2981" href="VerifiedCompilation.UCaseReduce.html#2893" class="Bound">p</a><a id="2982" class="Symbol">)</a> <a id="2984" href="VerifiedCompilation.UCaseReduce.html#2605" class="Bound">xv</a><a id="2986" class="Symbol">))</a> <a id="2989" href="VerifiedCompilation.UCaseReduce.html#2895" class="Bound">t</a><a id="2990" class="Symbol">)})</a> <a id="2994" href="VerifiedCompilation.UCaseReduce.html#2865" class="Bound">t</a> <a id="2996" href="VerifiedCompilation.UCaseReduce.html#2867" class="Bound">b</a> <a id="2998" href="VerifiedCompilation.UCaseReduce.html#2869" class="Bound">a</a>

<a id="3001" href="VerifiedCompilation.UCaseReduce.html#2041" class="Function">isCaseReduce?</a> <a id="3015" class="Symbol">=</a> <a id="3017" href="VerifiedCompilation.UntypedTranslation.html#4101" class="Function">translation?</a> <a id="3030" href="VerifiedCompilation.Certificate.html#763" class="InductiveConstructor">caseReduceT</a> <a id="3042" href="VerifiedCompilation.UCaseReduce.html#2255" class="Function">isCR?</a>

<a id="UCaseReduce"></a><a id="3049" href="VerifiedCompilation.UCaseReduce.html#3049" class="Function">UCaseReduce</a> <a id="3061" class="Symbol">=</a> <a id="3063" href="VerifiedCompilation.UntypedTranslation.html#1655" class="Datatype">Translation</a> <a id="3075" href="VerifiedCompilation.UCaseReduce.html#1708" class="Datatype">CaseReduce</a>

</pre>
<h2 id="an-example">An Example:</h2>

<p>(program 1.1.0
  (case (constr 1 (con integer 12) (con integer 42)) (lam x (lam y x)) (lam x (lam y (case (constr 0 (con integer 99)) y))) )
)</p>

<p>becomes:</p>

<p>(program 1.1.0 [ (con integer 42) (con integer 99) ])</p>

<p>_Compiler version: _</p>
<pre class="Agda">
<a id="integer"></a><a id="3342" href="VerifiedCompilation.UCaseReduce.html#3342" class="Function">integer</a> <a id="3350" class="Symbol">:</a> <a id="3352" href="RawU.html#6985" class="Function">RawU.TyTag</a>
<a id="3363" href="VerifiedCompilation.UCaseReduce.html#3342" class="Function">integer</a> <a id="3371" class="Symbol">=</a> <a id="3373" href="RawU.html#8155" class="Function">tag2TyTag</a> <a id="3383" href="RawU.html#2424" class="InductiveConstructor">RawU.integer</a>

<a id="con-integer"></a><a id="3397" href="VerifiedCompilation.UCaseReduce.html#3397" class="Function">con-integer</a> <a id="3409" class="Symbol">:</a> <a id="3411" class="Symbol">{</a><a id="3412" href="VerifiedCompilation.UCaseReduce.html#3412" class="Bound">X</a> <a id="3414" class="Symbol">:</a> <a id="3416" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="3419" class="Symbol">}</a> <a id="3421" class="Symbol">→</a> <a id="3423" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3425" class="Symbol">→</a> <a id="3427" href="VerifiedCompilation.UCaseReduce.html#3412" class="Bound">X</a> <a id="3429" href="Untyped.html#1670" class="Datatype Operator">⊢</a>
<a id="3431" href="VerifiedCompilation.UCaseReduce.html#3397" class="Function">con-integer</a> <a id="3443" href="VerifiedCompilation.UCaseReduce.html#3443" class="Bound">n</a> <a id="3445" class="Symbol">=</a> <a id="3447" class="Symbol">(</a><a id="3448" href="Untyped.html#1801" class="InductiveConstructor">con</a> <a id="3452" class="Symbol">(</a><a id="3453" href="RawU.html#7844" class="InductiveConstructor">tmCon</a> <a id="3459" href="VerifiedCompilation.UCaseReduce.html#3342" class="Function">integer</a> <a id="3467" class="Symbol">(</a><a id="3468" href="Agda.Builtin.Int.html#263" class="InductiveConstructor">Int.pos</a> <a id="3476" href="VerifiedCompilation.UCaseReduce.html#3443" class="Bound">n</a><a id="3477" class="Symbol">)))</a>

</pre>
<p>This simple example applies the rule once, and works</p>
<pre class="Agda">
<a id="ast₁"></a><a id="3544" href="VerifiedCompilation.UCaseReduce.html#3544" class="Function">ast₁</a> <a id="3549" class="Symbol">:</a> <a id="3551" class="Symbol">(</a><a id="3552" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3558" href="Data.Empty.html#914" class="Function">⊥</a><a id="3559" class="Symbol">)</a> <a id="3561" href="Untyped.html#1670" class="Datatype Operator">⊢</a>
<a id="3563" href="VerifiedCompilation.UCaseReduce.html#3544" class="Function">ast₁</a> <a id="3568" class="Symbol">=</a> <a id="3570" class="Symbol">(</a><a id="3571" href="Untyped.html#1868" class="InductiveConstructor">case</a> <a id="3576" class="Symbol">(</a><a id="3577" href="Untyped.html#1821" class="InductiveConstructor">constr</a> <a id="3584" class="Number">0</a> <a id="3586" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="3588" class="Symbol">(</a><a id="3589" href="VerifiedCompilation.UCaseReduce.html#3397" class="Function">con-integer</a> <a id="3601" class="Number">99</a><a id="3603" class="Symbol">)</a> <a id="3605" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="3606" class="Symbol">)</a> <a id="3608" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="3610" class="Symbol">(</a><a id="3611" href="Untyped.html#1697" class="InductiveConstructor">`</a> <a id="3613" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="3620" class="Symbol">)</a> <a id="3622" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="3623" class="Symbol">)</a>
<a id="ast₁&#39;"></a><a id="3625" href="VerifiedCompilation.UCaseReduce.html#3625" class="Function">ast₁&#39;</a> <a id="3631" class="Symbol">:</a> <a id="3633" class="Symbol">(</a><a id="3634" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3640" href="Data.Empty.html#914" class="Function">⊥</a><a id="3641" class="Symbol">)</a> <a id="3643" href="Untyped.html#1670" class="Datatype Operator">⊢</a>
<a id="3645" href="VerifiedCompilation.UCaseReduce.html#3625" class="Function">ast₁&#39;</a> <a id="3651" class="Symbol">=</a> <a id="3653" class="Symbol">((</a><a id="3655" href="Untyped.html#1697" class="InductiveConstructor">`</a> <a id="3657" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="3664" class="Symbol">)</a> <a id="3666" href="Untyped.html#1737" class="InductiveConstructor Operator">·</a> <a id="3668" class="Symbol">(</a><a id="3669" href="VerifiedCompilation.UCaseReduce.html#3397" class="Function">con-integer</a> <a id="3681" class="Number">99</a><a id="3683" class="Symbol">))</a>

<a id="3687" href="VerifiedCompilation.UCaseReduce.html#3687" class="Function">_</a> <a id="3689" class="Symbol">:</a> <a id="3691" href="VerifiedCompilation.UCaseReduce.html#1708" class="Datatype">CaseReduce</a> <a id="3702" href="VerifiedCompilation.UCaseReduce.html#3544" class="Function">ast₁</a> <a id="3707" href="VerifiedCompilation.UCaseReduce.html#3625" class="Function">ast₁&#39;</a>
<a id="3713" class="Symbol">_</a> <a id="3715" class="Symbol">=</a> <a id="3717" href="VerifiedCompilation.UCaseReduce.html#1738" class="InductiveConstructor">casereduce</a> <a id="3728" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3733" href="VerifiedCompilation.UntypedTranslation.html#12711" class="Function">reflexive</a>

</pre>
<p>The longer example definately executes in the compiler, but requires some true β-reduction to make work here.</p>
<pre class="Agda"><a id="ast"></a><a id="3862" href="VerifiedCompilation.UCaseReduce.html#3862" class="Function">ast</a> <a id="3866" class="Symbol">:</a> <a id="3868" href="Data.Empty.html#914" class="Function">⊥</a> <a id="3870" href="Untyped.html#1670" class="Datatype Operator">⊢</a>
<a id="3872" href="VerifiedCompilation.UCaseReduce.html#3862" class="Function">ast</a> <a id="3876" class="Symbol">=</a> <a id="3878" class="Symbol">(</a><a id="3879" href="Untyped.html#1868" class="InductiveConstructor">case</a> <a id="3884" class="Symbol">(</a><a id="3885" href="Untyped.html#1821" class="InductiveConstructor">constr</a> <a id="3892" class="Number">1</a> <a id="3894" class="Symbol">((</a><a id="3896" href="VerifiedCompilation.UCaseReduce.html#3397" class="Function">con-integer</a> <a id="3908" class="Number">12</a><a id="3910" class="Symbol">)</a> <a id="3912" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3914" class="Symbol">(</a><a id="3915" href="VerifiedCompilation.UCaseReduce.html#3397" class="Function">con-integer</a> <a id="3927" class="Number">42</a><a id="3929" class="Symbol">)</a> <a id="3931" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3933" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3935" class="Symbol">))</a> <a id="3938" class="Symbol">(</a> <a id="3940" class="Symbol">(</a><a id="3941" href="Untyped.html#1713" class="InductiveConstructor">ƛ</a> <a id="3943" class="Symbol">(</a><a id="3944" href="Untyped.html#1713" class="InductiveConstructor">ƛ</a> <a id="3946" class="Symbol">(</a><a id="3947" href="Untyped.html#1697" class="InductiveConstructor">`</a> <a id="3949" class="Symbol">(</a><a id="3950" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3955" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="3962" class="Symbol">))))</a> <a id="3967" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3969" class="Symbol">(</a><a id="3970" href="Untyped.html#1713" class="InductiveConstructor">ƛ</a> <a id="3972" class="Symbol">(</a><a id="3973" href="Untyped.html#1713" class="InductiveConstructor">ƛ</a> <a id="3975" class="Symbol">(</a><a id="3976" href="Untyped.html#1868" class="InductiveConstructor">case</a> <a id="3981" class="Symbol">(</a><a id="3982" href="Untyped.html#1821" class="InductiveConstructor">constr</a> <a id="3989" class="Number">0</a> <a id="3991" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="3993" class="Symbol">(</a><a id="3994" href="VerifiedCompilation.UCaseReduce.html#3397" class="Function">con-integer</a> <a id="4006" class="Number">99</a><a id="4008" class="Symbol">)</a> <a id="4010" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="4011" class="Symbol">)</a> <a id="4013" href="Data.List.Base.html#5205" class="Function Operator">[</a> <a id="4015" class="Symbol">(</a><a id="4016" href="Untyped.html#1697" class="InductiveConstructor">`</a> <a id="4018" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a><a id="4025" class="Symbol">)</a> <a id="4027" href="Data.List.Base.html#5205" class="Function Operator">]</a><a id="4028" class="Symbol">)))</a> <a id="4032" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4034" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4036" class="Symbol">)</a> <a id="4038" class="Symbol">)</a>

<a id="ast&#39;"></a><a id="4041" href="VerifiedCompilation.UCaseReduce.html#4041" class="Function">ast&#39;</a> <a id="4046" class="Symbol">:</a> <a id="4048" href="Data.Empty.html#914" class="Function">⊥</a> <a id="4050" href="Untyped.html#1670" class="Datatype Operator">⊢</a>
<a id="4052" href="VerifiedCompilation.UCaseReduce.html#4041" class="Function">ast&#39;</a> <a id="4057" class="Symbol">=</a> <a id="4059" class="Symbol">((</a><a id="4061" href="VerifiedCompilation.UCaseReduce.html#3397" class="Function">con-integer</a> <a id="4073" class="Number">42</a><a id="4075" class="Symbol">)</a> <a id="4077" href="Untyped.html#1737" class="InductiveConstructor Operator">·</a> <a id="4079" class="Symbol">(</a><a id="4080" href="VerifiedCompilation.UCaseReduce.html#3397" class="Function">con-integer</a> <a id="4092" class="Number">99</a><a id="4094" class="Symbol">))</a>

<a id="4098" class="Comment">{-
_ : CaseReduce ast ast&#39;
_ = casereduce refl {!!}
-- This would require unpacking the meaning of the lambdas and applications, not just the AST,
-- so is beyond the scope of this translation relation.
-}</a>

</pre>

    </section>
  </body>
</html>
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Algorithmic.CK</title>
    <link rel="stylesheet" href="./Agda.css">
  </head>
  <body>
    <h1>Algorithmic.CK</h1>
    <section>
      <h1 id="ck-machine">CK machine</h1>

<pre class="Agda"><a id="62" class="Keyword">module</a> <a id="69" href="Algorithmic.CK.html" class="Module">Algorithmic.CK</a> <a id="84" class="Keyword">where</a>
</pre>
<h2 id="imports">Imports</h2>

<pre class="Agda"><a id="111" class="Keyword">open</a> <a id="116" class="Keyword">import</a> <a id="123" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="132" class="Keyword">using</a> <a id="138" class="Symbol">(</a><a id="139" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a><a id="142" class="Symbol">)</a>
<a id="144" class="Keyword">open</a> <a id="149" class="Keyword">import</a> <a id="156" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="165" class="Symbol">as</a> <a id="168" class="Module">Vec</a> <a id="172" class="Keyword">using</a> <a id="178" class="Symbol">(</a><a id="179" href="Data.Vec.Base.html#1119" class="Datatype">Vec</a><a id="182" class="Symbol">;</a><a id="183" href="Data.Vec.Base.html#1155" class="InductiveConstructor">[]</a><a id="185" class="Symbol">;</a><a id="186" href="Data.Vec.Base.html#1174" class="InductiveConstructor Operator">_∷_</a><a id="189" class="Symbol">)</a>
<a id="191" class="Keyword">open</a> <a id="196" class="Keyword">import</a> <a id="203" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="241" class="Keyword">using</a> <a id="247" class="Symbol">(</a><a id="248" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="251" class="Symbol">;</a><a id="252" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="256" class="Symbol">;</a><a id="257" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a><a id="260" class="Symbol">;</a><a id="261" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a><a id="266" class="Symbol">;</a><a id="267" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">subst</a><a id="272" class="Symbol">;</a><a id="273" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a><a id="277" class="Symbol">)</a>
<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="300" class="Keyword">using</a> <a id="306" class="Symbol">(</a><a id="307" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="308" class="Symbol">;</a><a id="309" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="313" class="Symbol">;</a><a id="314" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="317" class="Symbol">)</a>
<a id="319" class="Keyword">open</a> <a id="324" class="Keyword">import</a> <a id="331" href="Data.Product.html" class="Module">Data.Product</a> <a id="344" class="Keyword">renaming</a> <a id="353" class="Symbol">(</a><a id="354" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a> <a id="358" class="Symbol">to</a> <a id="361" class="InductiveConstructor Operator">_,,_</a><a id="365" class="Symbol">)</a>

<a id="368" class="Keyword">open</a> <a id="373" class="Keyword">import</a> <a id="380" href="Utils.html" class="Module">Utils</a> <a id="386" class="Keyword">using</a> <a id="392" class="Symbol">(</a><a id="393" href="Utils.html#10121" class="Datatype">Kind</a><a id="397" class="Symbol">;</a><a id="398" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="399" class="Symbol">;</a><a id="400" href="Utils.html#10213" class="InductiveConstructor Operator">_⇒_</a><a id="403" class="Symbol">;</a><a id="404" href="Utils.html#1129" class="Datatype">Either</a><a id="410" class="Symbol">;</a><a id="411" href="Utils.html#1162" class="InductiveConstructor">inj₁</a><a id="415" class="Symbol">;</a><a id="416" href="Utils.html#4359" class="Datatype">RuntimeError</a><a id="428" class="Symbol">;</a><a id="429" href="Utils.html#2866" class="Record">Monad</a><a id="434" class="Symbol">)</a>
<a id="436" class="Keyword">open</a> <a id="441" href="Utils.html#4359" class="Module">RuntimeError</a>
<a id="454" class="Keyword">open</a> <a id="459" href="Utils.html#2866" class="Module">Monad</a> <a id="465" class="Symbol"></a>

<a id="474" class="Keyword">open</a> <a id="479" class="Keyword">import</a> <a id="486" href="Utils.List.html" class="Module">Utils.List</a> <a id="497" class="Keyword">using</a> <a id="503" class="Symbol">(</a><a id="504" href="Utils.List.html#4906" class="Datatype">IBwd</a><a id="508" class="Symbol">;</a><a id="509" href="Utils.List.html#778" class="InductiveConstructor">[]</a><a id="511" class="Symbol">;</a><a id="512" href="Utils.List.html#3943" class="InductiveConstructor Operator">_∷_</a><a id="515" class="Symbol">;</a><a id="516" href="Utils.List.html#791" class="InductiveConstructor Operator">_:&lt;_</a><a id="520" class="Symbol">;</a><a id="521" href="Utils.List.html#1376" class="Function Operator">_&lt;&gt;&lt;_</a><a id="526" class="Symbol">;</a><a id="527" href="Utils.List.html#5056" class="Function Operator">_&lt;&gt;&gt;I_</a><a id="533" class="Symbol">;</a><a id="534" href="Utils.List.html#7833" class="InductiveConstructor">start</a><a id="539" class="Symbol">;</a><a id="540" href="Utils.List.html#7866" class="InductiveConstructor">bubble</a><a id="546" class="Symbol">;</a><a id="547" href="Utils.List.html#8444" class="Function">no-empty-≣-&lt;&gt;&gt;</a><a id="561" class="Symbol">;</a><a id="562" href="Utils.List.html#1981" class="Function">lemma&lt;&gt;2</a><a id="570" class="Symbol">;</a><a id="571" href="Utils.List.html#8014" class="Function">lem-≣-&lt;&gt;&gt;</a><a id="580" class="Symbol">)</a>

<a id="583" class="Keyword">open</a> <a id="588" class="Keyword">import</a> <a id="595" href="Type.html" class="Module">Type</a> <a id="600" class="Keyword">using</a> <a id="606" class="Symbol">(</a><a id="607" href="Type.html#515" class="Datatype">Ctx⋆</a><a id="611" class="Symbol">;</a><a id="612" href="Type.html#534" class="InductiveConstructor">∅</a><a id="613" class="Symbol">;</a><a id="614" href="Type.html#545" class="InductiveConstructor Operator">_,⋆_</a><a id="618" class="Symbol">;</a><a id="619" href="Type.html#1704" class="Datatype Operator">_⊢⋆_</a><a id="623" class="Symbol">)</a>
<a id="625" class="Keyword">open</a> <a id="630" href="Type.html#1704" class="Module Operator">_⊢⋆_</a>

<a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a> <a id="664" class="Keyword">using</a> <a id="670" class="Symbol">(</a><a id="671" href="Type.BetaNormal.html#1044" class="Datatype Operator">_⊢Nf⋆_</a><a id="677" class="Symbol">)</a>
<a id="679" class="Keyword">open</a> <a id="684" href="Type.BetaNormal.html#1044" class="Module Operator">_⊢Nf⋆_</a>

<a id="692" class="Keyword">open</a> <a id="697" class="Keyword">import</a> <a id="704" href="Algorithmic.html" class="Module">Algorithmic</a> <a id="716" class="Keyword">using</a> <a id="722" class="Symbol">(</a><a id="723" href="Algorithmic.html#1643" class="Datatype">Ctx</a><a id="726" class="Symbol">;</a><a id="727" href="Algorithmic.html#5278" class="Datatype Operator">_⊢_</a><a id="730" class="Symbol">;</a><a id="731" href="Algorithmic.html#7848" class="InductiveConstructor">[]</a><a id="733" class="Symbol">;</a><a id="734" href="Algorithmic.html#7870" class="InductiveConstructor Operator">_∷_</a><a id="737" class="Symbol">;</a><a id="738" href="Algorithmic.html#8250" class="Function">lookupCase</a><a id="748" class="Symbol">;</a><a id="749" href="Algorithmic.html#8451" class="Function">bwdMkCaseType</a><a id="762" class="Symbol">;</a><a id="763" href="Algorithmic.html#8558" class="Function">lemma-bwdfwdfunction&#39;</a><a id="784" class="Symbol">)</a>
<a id="786" class="Keyword">open</a> <a id="791" href="Algorithmic.html#1643" class="Module">Ctx</a>
<a id="795" class="Keyword">open</a> <a id="800" href="Algorithmic.html#5278" class="Module Operator">_⊢_</a>

<a id="805" class="Keyword">open</a> <a id="810" class="Keyword">import</a> <a id="817" href="Algorithmic.Signature.html" class="Module">Algorithmic.Signature</a> <a id="839" class="Keyword">using</a> <a id="845" class="Symbol">(</a><a id="846" href="Algorithmic.Signature.html#2565" class="Function Operator">_[_]SigTy</a><a id="855" class="Symbol">)</a>
<a id="857" class="Keyword">open</a> <a id="862" class="Keyword">import</a> <a id="869" href="Algorithmic.RenamingSubstitution.html" class="Module">Algorithmic.RenamingSubstitution</a> <a id="902" class="Keyword">using</a> <a id="908" class="Symbol">(</a><a id="909" href="Algorithmic.RenamingSubstitution.html#8509" class="Function Operator">_[_]</a><a id="913" class="Symbol">;</a><a id="914" href="Algorithmic.RenamingSubstitution.html#8979" class="Function Operator">_[_]⋆</a><a id="919" class="Symbol">)</a>
<a id="921" class="Keyword">open</a> <a id="926" class="Keyword">import</a> <a id="933" href="Algorithmic.ReductionEC.html" class="Module">Algorithmic.ReductionEC</a> <a id="957" class="Keyword">using</a> <a id="963" class="Symbol">(</a><a id="964" href="Algorithmic.ReductionEC.html#5952" class="Datatype">Frame</a><a id="969" class="Symbol">;</a><a id="970" href="Algorithmic.ReductionEC.html#2130" class="Datatype">Value</a><a id="975" class="Symbol">;</a><a id="976" href="Algorithmic.ReductionEC.html#2244" class="Function">deval</a><a id="981" class="Symbol">;</a><a id="982" href="Algorithmic.ReductionEC.html#11566" class="Function">ival</a><a id="986" class="Symbol">;</a><a id="987" href="Algorithmic.ReductionEC.html#5432" class="Function">BUILTIN&#39;</a><a id="995" class="Symbol">;</a><a id="996" href="Algorithmic.ReductionEC.html#11135" class="Function">V-I</a><a id="999" class="Symbol">;</a><a id="1000" href="Algorithmic.ReductionEC.html#2186" class="Function">VList</a><a id="1005" class="Symbol">;</a><a id="1006" href="Algorithmic.ReductionEC.html#7376" class="InductiveConstructor">[]</a><a id="1008" class="Symbol">;</a><a id="1009" href="Algorithmic.ReductionEC.html#6869" class="Function Operator">_[_]ᶠ</a><a id="1014" class="Symbol">)</a>
                                    <a id="1052" class="Keyword">renaming</a> <a id="1061" class="Symbol">(</a><a id="1062" href="Algorithmic.ReductionEC.html#2688" class="InductiveConstructor">step</a> <a id="1067" class="Symbol">to</a> <a id="1070" class="InductiveConstructor">app</a><a id="1073" class="Symbol">;</a><a id="1074" href="Algorithmic.ReductionEC.html#2929" class="InductiveConstructor">step⋆</a> <a id="1080" class="Symbol">to</a> <a id="1083" class="InductiveConstructor">app⋆</a><a id="1087" class="Symbol">)</a>
<a id="1089" class="Keyword">open</a> <a id="1094" href="Algorithmic.ReductionEC.html#5952" class="Module">Frame</a>
<a id="1100" class="Keyword">open</a> <a id="1105" href="Algorithmic.ReductionEC.html#2130" class="Module">Value</a>

</pre>
<pre class="Agda"><a id="1121" class="Keyword">data</a> <a id="Stack"></a><a id="1126" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a> <a id="1132" class="Symbol">:</a> <a id="1134" class="Symbol">(</a><a id="1135" href="Algorithmic.CK.html#1135" class="Bound">T</a> <a id="1137" class="Symbol">:</a> <a id="1139" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="1141" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1146" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1147" class="Symbol">)(</a><a id="1149" href="Algorithmic.CK.html#1149" class="Bound">H</a> <a id="1151" class="Symbol">:</a> <a id="1153" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="1155" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1160" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1161" class="Symbol">)</a> <a id="1163" class="Symbol">→</a> <a id="1165" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1169" class="Keyword">where</a>
  <a id="Stack.ε"></a><a id="1177" href="Algorithmic.CK.html#1177" class="InductiveConstructor">ε</a>   <a id="1181" class="Symbol">:</a> <a id="1183" class="Symbol">{</a><a id="1184" href="Algorithmic.CK.html#1184" class="Bound">T</a> <a id="1186" class="Symbol">:</a> <a id="1188" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="1190" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1195" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1196" class="Symbol">}</a> <a id="1198" class="Symbol">→</a> <a id="1200" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a> <a id="1206" href="Algorithmic.CK.html#1184" class="Bound">T</a> <a id="1208" href="Algorithmic.CK.html#1184" class="Bound">T</a>
  <a id="Stack._,_"></a><a id="1212" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">_,_</a> <a id="1216" class="Symbol">:</a> <a id="1218" class="Symbol">{</a><a id="1219" href="Algorithmic.CK.html#1219" class="Bound">T</a> <a id="1221" class="Symbol">:</a> <a id="1223" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="1225" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1230" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1231" class="Symbol">}{</a><a id="1233" href="Algorithmic.CK.html#1233" class="Bound">H1</a> <a id="1236" class="Symbol">:</a> <a id="1238" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="1240" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1245" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1246" class="Symbol">}{</a><a id="1248" href="Algorithmic.CK.html#1248" class="Bound">H2</a> <a id="1251" class="Symbol">:</a> <a id="1253" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="1255" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1260" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1261" class="Symbol">}</a>
    <a id="1267" class="Symbol">→</a> <a id="1269" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a> <a id="1275" href="Algorithmic.CK.html#1219" class="Bound">T</a> <a id="1277" href="Algorithmic.CK.html#1233" class="Bound">H1</a> <a id="1280" class="Symbol">→</a> <a id="1282" href="Algorithmic.ReductionEC.html#5952" class="Datatype">Frame</a> <a id="1288" href="Algorithmic.CK.html#1233" class="Bound">H1</a> <a id="1291" href="Algorithmic.CK.html#1248" class="Bound">H2</a> <a id="1294" class="Symbol">→</a> <a id="1296" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a> <a id="1302" href="Algorithmic.CK.html#1219" class="Bound">T</a> <a id="1304" href="Algorithmic.CK.html#1248" class="Bound">H2</a>

<a id="1308" class="Keyword">data</a> <a id="State"></a><a id="1313" href="Algorithmic.CK.html#1313" class="Datatype">State</a> <a id="1319" class="Symbol">(</a><a id="1320" href="Algorithmic.CK.html#1320" class="Bound">T</a> <a id="1322" class="Symbol">:</a> <a id="1324" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="1326" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1331" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1332" class="Symbol">)</a> <a id="1334" class="Symbol">:</a> <a id="1336" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1340" class="Keyword">where</a>
  <a id="State._▻_"></a><a id="1348" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">_▻_</a> <a id="1352" class="Symbol">:</a> <a id="1354" class="Symbol">{</a><a id="1355" href="Algorithmic.CK.html#1355" class="Bound">H</a> <a id="1357" class="Symbol">:</a> <a id="1359" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="1361" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1366" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1367" class="Symbol">}</a> <a id="1369" class="Symbol">→</a> <a id="1371" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a> <a id="1377" href="Algorithmic.CK.html#1320" class="Bound">T</a> <a id="1379" href="Algorithmic.CK.html#1355" class="Bound">H</a> <a id="1381" class="Symbol">→</a> <a id="1383" href="Algorithmic.html#1668" class="InductiveConstructor">∅</a> <a id="1385" href="Algorithmic.html#5278" class="Datatype Operator">⊢</a> <a id="1387" href="Algorithmic.CK.html#1355" class="Bound">H</a> <a id="1389" class="Symbol">→</a> <a id="1391" href="Algorithmic.CK.html#1313" class="Datatype">State</a> <a id="1397" href="Algorithmic.CK.html#1320" class="Bound">T</a>
  <a id="State._◅_"></a><a id="1401" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">_◅_</a> <a id="1405" class="Symbol">:</a> <a id="1407" class="Symbol">{</a><a id="1408" href="Algorithmic.CK.html#1408" class="Bound">H</a> <a id="1410" class="Symbol">:</a> <a id="1412" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="1414" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1419" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1420" class="Symbol">}</a> <a id="1422" class="Symbol">→</a> <a id="1424" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a> <a id="1430" href="Algorithmic.CK.html#1320" class="Bound">T</a> <a id="1432" href="Algorithmic.CK.html#1408" class="Bound">H</a> <a id="1434" class="Symbol">→</a> <a id="1436" class="Symbol">{</a><a id="1437" href="Algorithmic.CK.html#1437" class="Bound">t</a> <a id="1439" class="Symbol">:</a> <a id="1441" href="Algorithmic.html#1668" class="InductiveConstructor">∅</a> <a id="1443" href="Algorithmic.html#5278" class="Datatype Operator">⊢</a> <a id="1445" href="Algorithmic.CK.html#1408" class="Bound">H</a><a id="1446" class="Symbol">}</a> <a id="1448" class="Symbol">→</a> <a id="1450" href="Algorithmic.ReductionEC.html#2130" class="Datatype">Value</a> <a id="1456" href="Algorithmic.CK.html#1437" class="Bound">t</a> <a id="1458" class="Symbol">→</a> <a id="1460" href="Algorithmic.CK.html#1313" class="Datatype">State</a> <a id="1466" href="Algorithmic.CK.html#1320" class="Bound">T</a>
  <a id="State.□"></a><a id="1470" href="Algorithmic.CK.html#1470" class="InductiveConstructor">□</a>  <a id="1473" class="Symbol">:</a> <a id="1475" class="Symbol">{</a><a id="1476" href="Algorithmic.CK.html#1476" class="Bound">t</a> <a id="1478" class="Symbol">:</a> <a id="1480" href="Algorithmic.html#1668" class="InductiveConstructor">∅</a> <a id="1482" href="Algorithmic.html#5278" class="Datatype Operator">⊢</a> <a id="1484" href="Algorithmic.CK.html#1320" class="Bound">T</a><a id="1485" class="Symbol">}</a> <a id="1487" class="Symbol">→</a>  <a id="1490" href="Algorithmic.ReductionEC.html#2130" class="Datatype">Value</a> <a id="1496" href="Algorithmic.CK.html#1476" class="Bound">t</a> <a id="1498" class="Symbol">→</a> <a id="1500" href="Algorithmic.CK.html#1313" class="Datatype">State</a> <a id="1506" href="Algorithmic.CK.html#1320" class="Bound">T</a>
  <a id="State.◆"></a><a id="1510" href="Algorithmic.CK.html#1510" class="InductiveConstructor">◆</a>   <a id="1514" class="Symbol">:</a> <a id="1516" class="Symbol">(</a><a id="1517" href="Algorithmic.CK.html#1517" class="Bound">A</a> <a id="1519" class="Symbol">:</a> <a id="1521" href="Type.html#534" class="InductiveConstructor">∅</a> <a id="1523" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1528" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1529" class="Symbol">)</a>  <a id="1532" class="Symbol">→</a>  <a id="1535" href="Algorithmic.CK.html#1313" class="Datatype">State</a> <a id="1541" href="Algorithmic.CK.html#1320" class="Bound">T</a>

<a id="1544" class="Comment">-- Plugging a term into a stack yields a term again</a>
<a id="closeStack"></a><a id="1596" href="Algorithmic.CK.html#1596" class="Function">closeStack</a> <a id="1607" class="Symbol">:</a> <a id="1609" class="Symbol">∀{</a><a id="1611" href="Algorithmic.CK.html#1611" class="Bound">T</a> <a id="1613" href="Algorithmic.CK.html#1613" class="Bound">H</a><a id="1614" class="Symbol">}</a> <a id="1616" class="Symbol">→</a> <a id="1618" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a> <a id="1624" href="Algorithmic.CK.html#1611" class="Bound">T</a> <a id="1626" href="Algorithmic.CK.html#1613" class="Bound">H</a> <a id="1628" class="Symbol">→</a> <a id="1630" class="InductiveConstructor">∅</a> <a id="1632" href="Algorithmic.html#5278" class="Datatype Operator">⊢</a> <a id="1634" href="Algorithmic.CK.html#1613" class="Bound">H</a> <a id="1636" class="Symbol">→</a> <a id="1638" class="InductiveConstructor">∅</a> <a id="1640" href="Algorithmic.html#5278" class="Datatype Operator">⊢</a> <a id="1642" href="Algorithmic.CK.html#1611" class="Bound">T</a>
<a id="1644" href="Algorithmic.CK.html#1596" class="Function">closeStack</a> <a id="1655" href="Algorithmic.CK.html#1177" class="InductiveConstructor">ε</a>       <a id="1663" href="Algorithmic.CK.html#1663" class="Bound">t</a> <a id="1665" class="Symbol">=</a> <a id="1667" href="Algorithmic.CK.html#1663" class="Bound">t</a>
<a id="1669" href="Algorithmic.CK.html#1596" class="Function">closeStack</a> <a id="1680" class="Symbol">(</a><a id="1681" href="Algorithmic.CK.html#1681" class="Bound">s</a> <a id="1683" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="1685" href="Algorithmic.CK.html#1685" class="Bound">f</a><a id="1686" class="Symbol">)</a> <a id="1688" href="Algorithmic.CK.html#1688" class="Bound">t</a> <a id="1690" class="Symbol">=</a> <a id="1692" href="Algorithmic.CK.html#1596" class="Function">closeStack</a> <a id="1703" href="Algorithmic.CK.html#1681" class="Bound">s</a> <a id="1705" class="Symbol">(</a> <a id="1707" href="Algorithmic.CK.html#1685" class="Bound">f</a> <a id="1709" href="Algorithmic.ReductionEC.html#6869" class="Function Operator">[</a> <a id="1711" href="Algorithmic.CK.html#1688" class="Bound">t</a> <a id="1713" href="Algorithmic.ReductionEC.html#6869" class="Function Operator">]ᶠ</a><a id="1715" class="Symbol">)</a>

<a id="1718" class="Comment">-- a state can be closed to yield a term again</a>

<a id="closeState"></a><a id="1766" href="Algorithmic.CK.html#1766" class="Function">closeState</a> <a id="1777" class="Symbol">:</a> <a id="1779" class="Symbol">∀{</a><a id="1781" href="Algorithmic.CK.html#1781" class="Bound">T</a><a id="1782" class="Symbol">}</a> <a id="1784" class="Symbol">→</a> <a id="1786" href="Algorithmic.CK.html#1313" class="Datatype">State</a> <a id="1792" href="Algorithmic.CK.html#1781" class="Bound">T</a> <a id="1794" class="Symbol">→</a> <a id="1796" class="InductiveConstructor">∅</a> <a id="1798" href="Algorithmic.html#5278" class="Datatype Operator">⊢</a> <a id="1800" href="Algorithmic.CK.html#1781" class="Bound">T</a>
<a id="1802" href="Algorithmic.CK.html#1766" class="Function">closeState</a> <a id="1813" class="Symbol">(</a><a id="1814" href="Algorithmic.CK.html#1814" class="Bound">s</a> <a id="1816" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="1818" href="Algorithmic.CK.html#1818" class="Bound">t</a><a id="1819" class="Symbol">)</a>           <a id="1831" class="Symbol">=</a> <a id="1833" href="Algorithmic.CK.html#1596" class="Function">closeStack</a> <a id="1844" href="Algorithmic.CK.html#1814" class="Bound">s</a> <a id="1846" href="Algorithmic.CK.html#1818" class="Bound">t</a>
<a id="1848" href="Algorithmic.CK.html#1766" class="Function">closeState</a> <a id="1859" class="Symbol">(</a><a id="1860" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">_◅_</a> <a id="1864" href="Algorithmic.CK.html#1864" class="Bound">s</a> <a id="1866" class="Symbol">{</a><a id="1867" class="Argument">t</a> <a id="1869" class="Symbol">=</a> <a id="1871" href="Algorithmic.CK.html#1871" class="Bound">t</a><a id="1872" class="Symbol">}</a> <a id="1874" href="Algorithmic.CK.html#1874" class="Bound">v</a><a id="1875" class="Symbol">)</a> <a id="1877" class="Symbol">=</a> <a id="1879" href="Algorithmic.CK.html#1596" class="Function">closeStack</a> <a id="1890" href="Algorithmic.CK.html#1864" class="Bound">s</a> <a id="1892" href="Algorithmic.CK.html#1871" class="Bound">t</a>
<a id="1894" href="Algorithmic.CK.html#1766" class="Function">closeState</a> <a id="1905" class="Symbol">(</a><a id="1906" href="Algorithmic.CK.html#1470" class="InductiveConstructor">□</a> <a id="1908" class="Symbol">{</a><a id="1909" class="Argument">t</a> <a id="1911" class="Symbol">=</a> <a id="1913" href="Algorithmic.CK.html#1913" class="Bound">t</a><a id="1914" class="Symbol">}</a> <a id="1916" href="Algorithmic.CK.html#1916" class="Bound">v</a><a id="1917" class="Symbol">)</a>     <a id="1923" class="Symbol">=</a> <a id="1925" href="Algorithmic.CK.html#1913" class="Bound">t</a>
<a id="1927" href="Algorithmic.CK.html#1766" class="Function">closeState</a> <a id="1938" class="Symbol">(</a><a id="1939" href="Algorithmic.CK.html#1510" class="InductiveConstructor">◆</a> <a id="1941" href="Algorithmic.CK.html#1941" class="Bound">A</a><a id="1942" class="Symbol">)</a>             <a id="1956" class="Symbol">=</a> <a id="1958" href="Algorithmic.html#7622" class="InductiveConstructor">error</a> <a id="1964" class="Symbol">_</a>

<a id="discharge"></a><a id="1967" href="Algorithmic.CK.html#1967" class="Function">discharge</a> <a id="1977" class="Symbol">:</a> <a id="1979" class="Symbol">∀{</a><a id="1981" href="Algorithmic.CK.html#1981" class="Bound">A</a> <a id="1983" class="Symbol">:</a> <a id="1985" class="InductiveConstructor">∅</a> <a id="1987" href="Type.BetaNormal.html#1044" class="Datatype Operator">⊢Nf⋆</a> <a id="1992" href="Utils.html#10140" class="InductiveConstructor">*</a><a id="1993" class="Symbol">}{</a><a id="1995" href="Algorithmic.CK.html#1995" class="Bound">t</a> <a id="1997" class="Symbol">:</a> <a id="1999" class="InductiveConstructor">∅</a> <a id="2001" href="Algorithmic.html#5278" class="Datatype Operator">⊢</a> <a id="2003" href="Algorithmic.CK.html#1981" class="Bound">A</a><a id="2004" class="Symbol">}</a> <a id="2006" class="Symbol">→</a> <a id="2008" href="Algorithmic.ReductionEC.html#2130" class="Datatype">Value</a> <a id="2014" href="Algorithmic.CK.html#1995" class="Bound">t</a> <a id="2016" class="Symbol">→</a> <a id="2018" class="InductiveConstructor">∅</a> <a id="2020" href="Algorithmic.html#5278" class="Datatype Operator">⊢</a> <a id="2022" href="Algorithmic.CK.html#1981" class="Bound">A</a>
<a id="2024" href="Algorithmic.CK.html#1967" class="Function">discharge</a> <a id="2034" class="Symbol">{</a><a id="2035" class="Argument">t</a> <a id="2037" class="Symbol">=</a> <a id="2039" href="Algorithmic.CK.html#2039" class="Bound">t</a><a id="2040" class="Symbol">}</a> <a id="2042" class="Symbol">_</a> <a id="2044" class="Symbol">=</a> <a id="2046" href="Algorithmic.CK.html#2039" class="Bound">t</a>

<a id="pushValueFrames"></a><a id="2049" href="Algorithmic.CK.html#2049" class="Function">pushValueFrames</a> <a id="2065" class="Symbol">:</a> <a id="2067" class="Symbol">∀{</a><a id="2069" href="Algorithmic.CK.html#2069" class="Bound">T</a> <a id="2071" href="Algorithmic.CK.html#2071" class="Bound">H</a> <a id="2073" href="Algorithmic.CK.html#2073" class="Bound">Bs</a> <a id="2076" href="Algorithmic.CK.html#2076" class="Bound">Xs</a><a id="2078" class="Symbol">}</a> <a id="2080" class="Symbol">→</a> <a id="2082" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a> <a id="2088" href="Algorithmic.CK.html#2069" class="Bound">T</a> <a id="2090" href="Algorithmic.CK.html#2071" class="Bound">H</a> <a id="2092" class="Symbol">→</a> <a id="2094" class="Symbol">{</a><a id="2095" href="Algorithmic.CK.html#2095" class="Bound">xs</a> <a id="2098" class="Symbol">:</a> <a id="2100" href="Utils.List.html#4906" class="Datatype">IBwd</a> <a id="2105" class="Symbol">(</a><a id="2106" class="InductiveConstructor">∅</a> <a id="2108" href="Algorithmic.html#5278" class="Datatype Operator">⊢_</a><a id="2110" class="Symbol">)</a> <a id="2112" href="Algorithmic.CK.html#2073" class="Bound">Bs</a><a id="2114" class="Symbol">}</a> <a id="2116" class="Symbol">→</a> <a id="2118" href="Algorithmic.ReductionEC.html#2186" class="Function">VList</a> <a id="2124" href="Algorithmic.CK.html#2095" class="Bound">xs</a> <a id="2127" class="Symbol">→</a> <a id="2129" href="Algorithmic.CK.html#2076" class="Bound">Xs</a> <a id="2132" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2134" href="Algorithmic.html#8451" class="Function">bwdMkCaseType</a> <a id="2148" href="Algorithmic.CK.html#2073" class="Bound">Bs</a> <a id="2151" href="Algorithmic.CK.html#2071" class="Bound">H</a> <a id="2153" class="Symbol">→</a> <a id="2155" href="Algorithmic.CK.html#1126" class="Datatype">Stack</a> <a id="2161" href="Algorithmic.CK.html#2069" class="Bound">T</a> <a id="2163" href="Algorithmic.CK.html#2076" class="Bound">Xs</a>
<a id="2166" href="Algorithmic.CK.html#2049" class="Function">pushValueFrames</a> <a id="2182" href="Algorithmic.CK.html#2182" class="Bound">s</a> <a id="2184" href="Utils.List.html#9261" class="InductiveConstructor">[]</a> <a id="2187" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2192" class="Symbol">=</a> <a id="2194" href="Algorithmic.CK.html#2182" class="Bound">s</a>
<a id="2196" href="Algorithmic.CK.html#2049" class="Function">pushValueFrames</a> <a id="2212" href="Algorithmic.CK.html#2212" class="Bound">s</a> <a id="2214" class="Symbol">(</a><a id="2215" href="Algorithmic.CK.html#2215" class="Bound">vs</a> <a id="2218" href="Utils.List.html#9279" class="InductiveConstructor Operator">:&lt;</a> <a id="2221" href="Algorithmic.CK.html#2221" class="Bound">v</a><a id="2222" class="Symbol">)</a> <a id="2224" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2229" class="Symbol">=</a> <a id="2231" href="Algorithmic.CK.html#2049" class="Function">pushValueFrames</a> <a id="2247" class="Symbol">(</a><a id="2248" href="Algorithmic.CK.html#2212" class="Bound">s</a> <a id="2250" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="2252" href="Algorithmic.ReductionEC.html#6061" class="InductiveConstructor">-·v</a> <a id="2256" href="Algorithmic.CK.html#2221" class="Bound">v</a><a id="2257" class="Symbol">)</a> <a id="2259" href="Algorithmic.CK.html#2215" class="Bound">vs</a> <a id="2262" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="step"></a><a id="2268" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2273" class="Symbol">:</a> <a id="2275" class="Symbol">∀{</a><a id="2277" href="Algorithmic.CK.html#2277" class="Bound">A</a><a id="2278" class="Symbol">}</a> <a id="2280" class="Symbol">→</a> <a id="2282" href="Algorithmic.CK.html#1313" class="Datatype">State</a> <a id="2288" href="Algorithmic.CK.html#2277" class="Bound">A</a> <a id="2290" class="Symbol">→</a> <a id="2292" href="Algorithmic.CK.html#1313" class="Datatype">State</a> <a id="2298" href="Algorithmic.CK.html#2277" class="Bound">A</a>
<a id="2300" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2305" class="Symbol">(</a><a id="2306" href="Algorithmic.CK.html#2306" class="Bound">s</a> <a id="2308" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2310" href="Algorithmic.html#5379" class="InductiveConstructor">ƛ</a> <a id="2312" href="Algorithmic.CK.html#2312" class="Bound">L</a><a id="2313" class="Symbol">)</a>                                <a id="2346" class="Symbol">=</a> <a id="2348" href="Algorithmic.CK.html#2306" class="Bound">s</a> <a id="2350" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="2352" href="Algorithmic.ReductionEC.html#3285" class="InductiveConstructor">V-ƛ</a> <a id="2356" href="Algorithmic.CK.html#2312" class="Bound">L</a>
<a id="2358" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2363" class="Symbol">(</a><a id="2364" href="Algorithmic.CK.html#2364" class="Bound">s</a> <a id="2366" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2368" class="Symbol">(</a><a id="2369" href="Algorithmic.CK.html#2369" class="Bound">L</a> <a id="2371" href="Algorithmic.html#5453" class="InductiveConstructor Operator">·</a> <a id="2373" href="Algorithmic.CK.html#2373" class="Bound">M</a><a id="2374" class="Symbol">))</a>                            <a id="2404" class="Symbol">=</a> <a id="2406" class="Symbol">(</a><a id="2407" href="Algorithmic.CK.html#2364" class="Bound">s</a> <a id="2409" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="2411" href="Algorithmic.ReductionEC.html#6006" class="InductiveConstructor Operator">-·</a> <a id="2414" href="Algorithmic.CK.html#2373" class="Bound">M</a><a id="2415" class="Symbol">)</a> <a id="2417" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2419" href="Algorithmic.CK.html#2369" class="Bound">L</a>
<a id="2421" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2426" class="Symbol">(</a><a id="2427" href="Algorithmic.CK.html#2427" class="Bound">s</a> <a id="2429" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2431" href="Algorithmic.html#5537" class="InductiveConstructor">Λ</a> <a id="2433" href="Algorithmic.CK.html#2433" class="Bound">L</a><a id="2434" class="Symbol">)</a>                                <a id="2467" class="Symbol">=</a> <a id="2469" href="Algorithmic.CK.html#2427" class="Bound">s</a> <a id="2471" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="2473" href="Algorithmic.ReductionEC.html#3385" class="InductiveConstructor">V-Λ</a> <a id="2477" href="Algorithmic.CK.html#2433" class="Bound">L</a>
<a id="2479" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2484" class="Symbol">(</a><a id="2485" href="Algorithmic.CK.html#2485" class="Bound">s</a> <a id="2487" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2489" class="Symbol">(</a><a id="2490" href="Algorithmic.CK.html#2490" class="Bound">L</a> <a id="2492" href="Algorithmic.html#5633" class="InductiveConstructor Operator">·⋆</a> <a id="2495" href="Algorithmic.CK.html#2495" class="Bound">A</a> <a id="2497" href="Algorithmic.html#5633" class="InductiveConstructor Operator">/</a> <a id="2499" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2503" class="Symbol">))</a>                    <a id="2525" class="Symbol">=</a> <a id="2527" class="Symbol">(</a><a id="2528" href="Algorithmic.CK.html#2485" class="Bound">s</a> <a id="2530" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="2532" href="Algorithmic.ReductionEC.html#6196" class="InductiveConstructor">-·⋆</a> <a id="2536" href="Algorithmic.CK.html#2495" class="Bound">A</a><a id="2537" class="Symbol">)</a> <a id="2539" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2541" href="Algorithmic.CK.html#2490" class="Bound">L</a>
<a id="2543" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2548" class="Symbol">(</a><a id="2549" href="Algorithmic.CK.html#2549" class="Bound">s</a> <a id="2551" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2553" href="Algorithmic.html#5765" class="InductiveConstructor">wrap</a> <a id="2558" href="Algorithmic.CK.html#2558" class="Bound">A</a> <a id="2560" href="Algorithmic.CK.html#2560" class="Bound">B</a> <a id="2562" href="Algorithmic.CK.html#2562" class="Bound">L</a><a id="2563" class="Symbol">)</a>                         <a id="2589" class="Symbol">=</a> <a id="2591" class="Symbol">(</a><a id="2592" href="Algorithmic.CK.html#2549" class="Bound">s</a> <a id="2594" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="2596" href="Algorithmic.ReductionEC.html#6273" class="InductiveConstructor">wrap-</a><a id="2601" class="Symbol">)</a> <a id="2603" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2605" href="Algorithmic.CK.html#2562" class="Bound">L</a>
<a id="2607" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2612" class="Symbol">(</a><a id="2613" href="Algorithmic.CK.html#2613" class="Bound">s</a> <a id="2615" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2617" href="Algorithmic.html#5983" class="InductiveConstructor">unwrap</a> <a id="2624" href="Algorithmic.CK.html#2624" class="Bound">L</a> <a id="2626" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2630" class="Symbol">)</a>                      <a id="2653" class="Symbol">=</a> <a id="2655" class="Symbol">(</a><a id="2656" href="Algorithmic.CK.html#2613" class="Bound">s</a> <a id="2658" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="2660" href="Algorithmic.ReductionEC.html#6412" class="InductiveConstructor">unwrap-</a><a id="2667" class="Symbol">)</a> <a id="2669" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2671" href="Algorithmic.CK.html#2624" class="Bound">L</a>
<a id="2673" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2678" class="Symbol">(</a><a id="2679" href="Algorithmic.CK.html#2679" class="Bound">s</a> <a id="2681" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2683" href="Algorithmic.html#7426" class="InductiveConstructor">con</a> <a id="2687" href="Algorithmic.CK.html#2687" class="Bound">cn</a> <a id="2690" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="2694" class="Symbol">)</a>                        <a id="2719" class="Symbol">=</a> <a id="2721" href="Algorithmic.CK.html#2679" class="Bound">s</a> <a id="2723" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="2725" href="Algorithmic.ReductionEC.html#3609" class="InductiveConstructor">V-con</a> <a id="2731" href="Algorithmic.CK.html#2687" class="Bound">cn</a>
<a id="2734" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2739" class="Symbol">(</a><a id="2740" href="Algorithmic.CK.html#2740" class="Bound">s</a> <a id="2742" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2744" href="Algorithmic.html#6222" class="InductiveConstructor">constr</a> <a id="2751" href="Algorithmic.CK.html#2751" class="Bound">e</a> <a id="2753" href="Algorithmic.CK.html#2753" class="Bound">Tss</a> <a id="2757" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2762" href="Algorithmic.CK.html#2762" class="Bound">xs</a><a id="2764" class="Symbol">)</a> <a id="2766" class="Keyword">with</a> <a id="2771" href="Data.Vec.Base.html#1676" class="Function">Vec.lookup</a> <a id="2782" href="Algorithmic.CK.html#2753" class="Bound">Tss</a> <a id="2786" href="Algorithmic.CK.html#2751" class="Bound">e</a> <a id="2788" class="Keyword">in</a> <a id="2791" class="Argument">eq</a>
<a id="2794" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2799" class="Symbol">(</a><a id="2800" href="Algorithmic.CK.html#2800" class="Bound">s</a> <a id="2802" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2804" href="Algorithmic.html#6222" class="InductiveConstructor">constr</a> <a id="2811" href="Algorithmic.CK.html#2811" class="Bound">e</a> <a id="2813" href="Algorithmic.CK.html#2813" class="Bound">Tss</a> <a id="2817" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2822" href="Utils.List.html#3925" class="InductiveConstructor">[]</a><a id="2824" class="Symbol">)</a> <a id="2826" class="Symbol">|</a> <a id="2828" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>          <a id="2840" class="Symbol">=</a> <a id="2842" href="Algorithmic.CK.html#2800" class="Bound">s</a> <a id="2844" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="2846" href="Algorithmic.ReductionEC.html#4181" class="InductiveConstructor">V-constr</a> <a id="2855" href="Algorithmic.CK.html#2811" class="Bound">e</a> <a id="2857" href="Algorithmic.CK.html#2813" class="Bound">Tss</a> <a id="2861" class="Symbol">(</a><a id="2862" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2866" href="Algorithmic.CK.html#2791" class="Bound">eq</a><a id="2868" class="Symbol">)</a> <a id="2870" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2875" href="Utils.List.html#9261" class="InductiveConstructor">[]</a> <a id="2878" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2883" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2888" class="Symbol">(</a><a id="2889" href="Algorithmic.CK.html#2889" class="Bound">s</a> <a id="2891" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2893" href="Algorithmic.html#6222" class="InductiveConstructor">constr</a> <a id="2900" href="Algorithmic.CK.html#2900" class="Bound">e</a> <a id="2902" href="Algorithmic.CK.html#2902" class="Bound">Tss</a> <a id="2906" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="2911" class="Symbol">(</a><a id="2912" href="Algorithmic.CK.html#2912" class="Bound">x</a> <a id="2914" href="Utils.List.html#3943" class="InductiveConstructor Operator">∷</a> <a id="2916" href="Algorithmic.CK.html#2916" class="Bound">xs</a><a id="2918" class="Symbol">))</a> <a id="2921" class="Symbol">|</a> <a id="2923" class="Symbol">_</a> <a id="2925" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2927" class="Symbol">_</a> <a id="2929" class="Symbol">=</a> <a id="2931" class="Symbol">(</a><a id="2932" href="Algorithmic.CK.html#2889" class="Bound">s</a> <a id="2934" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="2936" href="Algorithmic.ReductionEC.html#6551" class="InductiveConstructor">constr-</a> <a id="2944" href="Algorithmic.CK.html#2900" class="Bound">e</a> <a id="2946" href="Algorithmic.CK.html#2902" class="Bound">Tss</a> <a id="2950" class="Symbol">(</a><a id="2951" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="2955" href="Algorithmic.CK.html#2791" class="Bound">eq</a><a id="2957" class="Symbol">)</a> <a id="2959" class="Symbol">{</a><a id="2960" class="Argument">tidx</a> <a id="2965" class="Symbol">=</a> <a id="2967" href="Utils.List.html#7833" class="InductiveConstructor">start</a><a id="2972" class="Symbol">}</a> <a id="2974" href="Utils.List.html#9261" class="InductiveConstructor">[]</a> <a id="2977" href="Algorithmic.CK.html#2916" class="Bound">xs</a><a id="2979" class="Symbol">)</a> <a id="2981" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2983" href="Algorithmic.CK.html#2912" class="Bound">x</a>
<a id="2985" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="2990" class="Symbol">(</a><a id="2991" href="Algorithmic.CK.html#2991" class="Bound">s</a> <a id="2993" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="2995" href="Algorithmic.html#7238" class="InductiveConstructor">case</a> <a id="3000" href="Algorithmic.CK.html#3000" class="Bound">t</a> <a id="3002" href="Algorithmic.CK.html#3002" class="Bound">ts</a><a id="3004" class="Symbol">)</a>                          <a id="3031" class="Symbol">=</a> <a id="3033" class="Symbol">(</a><a id="3034" href="Algorithmic.CK.html#2991" class="Bound">s</a> <a id="3036" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="3038" href="Algorithmic.ReductionEC.html#6800" class="InductiveConstructor">case-</a> <a id="3044" href="Algorithmic.CK.html#3002" class="Bound">ts</a><a id="3046" class="Symbol">)</a> <a id="3048" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="3050" href="Algorithmic.CK.html#3000" class="Bound">t</a>
<a id="3052" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3057" class="Symbol">(</a><a id="3058" href="Algorithmic.CK.html#3058" class="Bound">s</a> <a id="3060" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="3062" href="Algorithmic.html#7622" class="InductiveConstructor">error</a> <a id="3068" href="Algorithmic.CK.html#3068" class="Bound">A</a><a id="3069" class="Symbol">)</a>                            <a id="3098" class="Symbol">=</a> <a id="3100" href="Algorithmic.CK.html#1510" class="InductiveConstructor">◆</a> <a id="3102" href="Algorithmic.CK.html#3068" class="Bound">A</a>
<a id="3104" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3109" class="Symbol">(</a><a id="3110" href="Algorithmic.CK.html#1177" class="InductiveConstructor">ε</a> <a id="3112" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3114" href="Algorithmic.CK.html#3114" class="Bound">V</a><a id="3115" class="Symbol">)</a>                                  <a id="3150" class="Symbol">=</a> <a id="3152" href="Algorithmic.CK.html#1470" class="InductiveConstructor">□</a> <a id="3154" href="Algorithmic.CK.html#3114" class="Bound">V</a>
<a id="3156" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3161" class="Symbol">((</a><a id="3163" href="Algorithmic.CK.html#3163" class="Bound">s</a> <a id="3165" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="3167" class="Symbol">(</a><a id="3168" href="Algorithmic.ReductionEC.html#6006" class="InductiveConstructor Operator">-·</a> <a id="3171" href="Algorithmic.CK.html#3171" class="Bound">M</a><a id="3172" class="Symbol">))</a> <a id="3175" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3177" href="Algorithmic.CK.html#3177" class="Bound">V</a><a id="3178" class="Symbol">)</a>                       <a id="3202" class="Symbol">=</a> <a id="3204" class="Symbol">((</a><a id="3206" href="Algorithmic.CK.html#3163" class="Bound">s</a> <a id="3208" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="3210" href="Algorithmic.CK.html#3177" class="Bound">V</a> <a id="3212" href="Algorithmic.ReductionEC.html#6130" class="InductiveConstructor Operator">·-</a><a id="3214" class="Symbol">)</a> <a id="3216" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="3218" href="Algorithmic.CK.html#3171" class="Bound">M</a><a id="3219" class="Symbol">)</a>
<a id="3221" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3226" class="Symbol">((</a><a id="3228" href="Algorithmic.CK.html#3228" class="Bound">s</a> <a id="3230" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="3232" href="Algorithmic.ReductionEC.html#6061" class="InductiveConstructor">-·v</a> <a id="3236" href="Algorithmic.CK.html#3236" class="Bound">v</a><a id="3237" class="Symbol">)</a> <a id="3239" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3241" href="Algorithmic.CK.html#3241" class="Bound">vf</a><a id="3243" class="Symbol">)</a>                       <a id="3267" class="Symbol">=</a> <a id="3269" class="Symbol">(</a><a id="3270" href="Algorithmic.CK.html#3228" class="Bound">s</a> <a id="3272" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="3274" href="Algorithmic.CK.html#3241" class="Bound">vf</a> <a id="3277" href="Algorithmic.ReductionEC.html#6130" class="InductiveConstructor Operator">·-</a><a id="3279" class="Symbol">)</a> <a id="3281" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3283" href="Algorithmic.CK.html#3236" class="Bound">v</a>
<a id="3285" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3290" class="Symbol">((</a><a id="3292" href="Algorithmic.CK.html#3292" class="Bound">s</a> <a id="3294" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="3296" class="Symbol">(</a><a id="3297" href="Algorithmic.ReductionEC.html#3285" class="InductiveConstructor">V-ƛ</a> <a id="3301" href="Algorithmic.CK.html#3301" class="Bound">t</a> <a id="3303" href="Algorithmic.ReductionEC.html#6130" class="InductiveConstructor Operator">·-</a><a id="3305" class="Symbol">))</a> <a id="3308" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3310" href="Algorithmic.CK.html#3310" class="Bound">V</a><a id="3311" class="Symbol">)</a>                   <a id="3331" class="Symbol">=</a> <a id="3333" href="Algorithmic.CK.html#3292" class="Bound">s</a> <a id="3335" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="3337" class="Symbol">(</a><a id="3338" href="Algorithmic.CK.html#3301" class="Bound">t</a> <a id="3340" href="Algorithmic.RenamingSubstitution.html#8509" class="Function Operator">[</a> <a id="3342" href="Algorithmic.CK.html#1967" class="Function">discharge</a> <a id="3352" href="Algorithmic.CK.html#3310" class="Bound">V</a> <a id="3354" href="Algorithmic.RenamingSubstitution.html#8509" class="Function Operator">]</a><a id="3355" class="Symbol">)</a>
<a id="3357" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3362" class="Symbol">((</a><a id="3364" href="Algorithmic.CK.html#3364" class="Bound">s</a> <a id="3366" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="3368" class="Symbol">(</a><a id="3369" href="Algorithmic.ReductionEC.html#6196" class="InductiveConstructor">-·⋆</a> <a id="3373" href="Algorithmic.CK.html#3373" class="Bound">A</a><a id="3374" class="Symbol">))</a> <a id="3377" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3379" href="Algorithmic.ReductionEC.html#3385" class="InductiveConstructor">V-Λ</a> <a id="3383" href="Algorithmic.CK.html#3383" class="Bound">t</a><a id="3384" class="Symbol">)</a>                  <a id="3403" class="Symbol">=</a> <a id="3405" href="Algorithmic.CK.html#3364" class="Bound">s</a> <a id="3407" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="3409" class="Symbol">(</a><a id="3410" href="Algorithmic.CK.html#3383" class="Bound">t</a> <a id="3412" href="Algorithmic.RenamingSubstitution.html#8979" class="Function Operator">[</a> <a id="3414" href="Algorithmic.CK.html#3373" class="Bound">A</a> <a id="3416" href="Algorithmic.RenamingSubstitution.html#8979" class="Function Operator">]⋆</a><a id="3418" class="Symbol">)</a>
<a id="3420" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3425" class="Symbol">((</a><a id="3427" href="Algorithmic.CK.html#3427" class="Bound">s</a> <a id="3429" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="3431" href="Algorithmic.ReductionEC.html#6273" class="InductiveConstructor">wrap-</a><a id="3436" class="Symbol">)</a> <a id="3438" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3440" href="Algorithmic.CK.html#3440" class="Bound">V</a><a id="3441" class="Symbol">)</a>                        <a id="3466" class="Symbol">=</a> <a id="3468" href="Algorithmic.CK.html#3427" class="Bound">s</a> <a id="3470" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3472" class="Symbol">(</a><a id="3473" href="Algorithmic.ReductionEC.html#3483" class="InductiveConstructor">V-wrap</a> <a id="3480" href="Algorithmic.CK.html#3440" class="Bound">V</a><a id="3481" class="Symbol">)</a>
<a id="3483" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3488" class="Symbol">((</a><a id="3490" href="Algorithmic.CK.html#3490" class="Bound">s</a> <a id="3492" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="3494" href="Algorithmic.ReductionEC.html#6412" class="InductiveConstructor">unwrap-</a><a id="3501" class="Symbol">)</a> <a id="3503" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3505" href="Algorithmic.ReductionEC.html#3483" class="InductiveConstructor">V-wrap</a> <a id="3512" href="Algorithmic.CK.html#3512" class="Bound">V</a><a id="3513" class="Symbol">)</a>               <a id="3529" class="Symbol">=</a> <a id="3531" href="Algorithmic.CK.html#3490" class="Bound">s</a> <a id="3533" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="3535" href="Algorithmic.ReductionEC.html#2244" class="Function">deval</a> <a id="3541" href="Algorithmic.CK.html#3512" class="Bound">V</a>
<a id="3543" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3548" class="Symbol">((</a><a id="3550" href="Algorithmic.CK.html#3550" class="Bound">s</a> <a id="3552" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="3554" href="Algorithmic.ReductionEC.html#6551" class="InductiveConstructor">constr-</a> <a id="3562" href="Algorithmic.CK.html#3562" class="Bound">i</a> <a id="3564" href="Algorithmic.CK.html#3564" class="Bound">Tss</a> <a id="3568" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3573" class="Symbol">{</a><a id="3574" href="Algorithmic.CK.html#3574" class="Bound">tidx</a><a id="3578" class="Symbol">}</a> <a id="3580" href="Algorithmic.CK.html#3580" class="Bound">vs</a> <a id="3583" href="Algorithmic.CK.html#3583" class="Bound">ts</a><a id="3585" class="Symbol">)</a> <a id="3587" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3589" href="Algorithmic.CK.html#3589" class="Bound">v</a><a id="3590" class="Symbol">)</a> <a id="3592" class="Keyword">with</a> <a id="3597" href="Data.Vec.Base.html#1676" class="Function">Vec.lookup</a> <a id="3608" href="Algorithmic.CK.html#3564" class="Bound">Tss</a> <a id="3612" href="Algorithmic.CK.html#3562" class="Bound">i</a> <a id="3614" class="Keyword">in</a> <a id="3617" class="Argument">eq</a>
<a id="3620" class="Symbol">...</a> <a id="3624" class="Symbol">|</a> <a id="3626" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>   <a id="3631" class="Keyword">with</a> <a id="3636" href="Utils.List.html#8444" class="Function">no-empty-≣-&lt;&gt;&gt;</a> <a id="3651" class="Bound">tidx</a>
<a id="3656" class="Symbol">...</a>      <a id="3665" class="Symbol">|</a> <a id="3667" class="Symbol">()</a>
<a id="3670" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3675" class="Symbol">((</a><a id="3677" href="Algorithmic.CK.html#3677" class="Bound">s</a> <a id="3679" class="InductiveConstructor Operator">,</a> <a id="3681" href="Algorithmic.ReductionEC.html#6551" class="InductiveConstructor">constr-</a> <a id="3689" class="Symbol">{</a><a id="3690" href="Algorithmic.CK.html#3690" class="Bound">n</a><a id="3691" class="Symbol">}</a> <a id="3693" class="Symbol">{</a><a id="3694" href="Algorithmic.CK.html#3694" class="Bound">Vs</a><a id="3696" class="Symbol">}</a> <a id="3698" class="Symbol">{</a><a id="3699" href="Algorithmic.CK.html#3699" class="Bound">H</a><a id="3700" class="Symbol">}</a> <a id="3702" href="Algorithmic.CK.html#3702" class="Bound">i</a> <a id="3704" href="Algorithmic.CK.html#3704" class="Bound">Tss</a> <a id="3708" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3713" class="Symbol">{</a><a id="3714" href="Algorithmic.CK.html#3714" class="Bound">tidx</a><a id="3718" class="Symbol">}{</a><a id="3720" href="Algorithmic.CK.html#3720" class="Bound">tvs</a><a id="3723" class="Symbol">}</a> <a id="3725" href="Algorithmic.CK.html#3725" class="Bound">vs</a> <a id="3728" href="Utils.List.html#3925" class="InductiveConstructor">[]</a><a id="3730" class="Symbol">)</a> <a id="3732" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3734" href="Algorithmic.CK.html#3734" class="Bound">v</a><a id="3735" class="Symbol">)</a> <a id="3737" class="Symbol">|</a> <a id="3739" class="Symbol">_</a> <a id="3741" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3743" class="Symbol">_</a>  <a id="3746" class="Symbol">=</a> <a id="3748" href="Algorithmic.CK.html#3677" class="Bound">s</a> <a id="3750" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a>
   <a id="3755" href="Algorithmic.ReductionEC.html#4181" class="InductiveConstructor">V-constr</a> <a id="3764" href="Algorithmic.CK.html#3702" class="Bound">i</a> <a id="3766" href="Algorithmic.CK.html#3704" class="Bound">Tss</a>
            <a id="3782" class="Symbol">(</a><a id="3783" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3787" href="Algorithmic.CK.html#3617" class="Bound">eq</a><a id="3789" class="Symbol">)</a>
            <a id="3803" class="Symbol">(</a><a id="3804" href="Relation.Binary.PropositionalEquality.Core.html#1938" class="Function">trans</a> <a id="3810" class="Symbol">(</a><a id="3811" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3815" class="Symbol">(</a><a id="3816" href="Utils.List.html#1981" class="Function">lemma&lt;&gt;2</a> <a id="3825" href="Algorithmic.CK.html#3694" class="Bound">Vs</a> <a id="3828" class="Symbol">(</a><a id="3829" href="Algorithmic.CK.html#3699" class="Bound">H</a> <a id="3831" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3833" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3835" class="Symbol">)))</a> <a id="3839" class="Symbol">(</a><a id="3840" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="3844" class="Symbol">(</a><a id="3845" href="Relation.Binary.PropositionalEquality.Core.html#1339" class="Function">cong</a> <a id="3850" class="Symbol">(</a><a id="3851" href="Utils.List.html#778" class="InductiveConstructor">[]</a> <a id="3854" href="Utils.List.html#1376" class="Function Operator">&lt;&gt;&lt;_</a><a id="3858" class="Symbol">)</a> <a id="3860" class="Symbol">(</a><a id="3861" href="Utils.List.html#8014" class="Function">lem-≣-&lt;&gt;&gt;</a> <a id="3871" href="Algorithmic.CK.html#3714" class="Bound">tidx</a><a id="3875" class="Symbol">))))</a>
            <a id="3892" class="Symbol">{</a><a id="3893" href="Algorithmic.CK.html#3720" class="Bound">tvs</a> <a id="3897" href="Utils.List.html#4973" class="InductiveConstructor Operator">:&lt;</a> <a id="3900" href="Algorithmic.ReductionEC.html#2244" class="Function">deval</a> <a id="3906" href="Algorithmic.CK.html#3734" class="Bound">v</a><a id="3907" class="Symbol">}</a>
            <a id="3921" class="Symbol">(</a><a id="3922" href="Algorithmic.CK.html#3725" class="Bound">vs</a> <a id="3925" href="Utils.List.html#9279" class="InductiveConstructor Operator">:&lt;</a> <a id="3928" href="Algorithmic.CK.html#3734" class="Bound">v</a><a id="3929" class="Symbol">)</a>
            <a id="3943" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3948" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="3953" class="Symbol">((</a><a id="3955" href="Algorithmic.CK.html#3955" class="Bound">s</a> <a id="3957" class="InductiveConstructor Operator">,</a> <a id="3959" href="Algorithmic.ReductionEC.html#6551" class="InductiveConstructor">constr-</a> <a id="3967" href="Algorithmic.CK.html#3967" class="Bound">i</a> <a id="3969" href="Algorithmic.CK.html#3969" class="Bound">Tss</a> <a id="3973" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="3978" class="Symbol">{</a><a id="3979" href="Algorithmic.CK.html#3979" class="Bound">r</a><a id="3980" class="Symbol">}</a> <a id="3982" href="Algorithmic.CK.html#3982" class="Bound">vs</a> <a id="3985" class="Symbol">(</a><a id="3986" href="Algorithmic.CK.html#3986" class="Bound">t</a> <a id="3988" href="Utils.List.html#3943" class="InductiveConstructor Operator">∷</a> <a id="3990" href="Algorithmic.CK.html#3990" class="Bound">ts</a><a id="3992" class="Symbol">))</a> <a id="3995" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="3997" href="Algorithmic.CK.html#3997" class="Bound">v</a><a id="3998" class="Symbol">)</a> <a id="4000" class="Symbol">|</a> <a id="4002" class="Symbol">_</a> <a id="4004" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4006" class="Symbol">_</a> <a id="4008" class="Symbol">=</a>
      <a id="4016" class="Symbol">(</a><a id="4017" href="Algorithmic.CK.html#3955" class="Bound">s</a> <a id="4019" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="4021" href="Algorithmic.ReductionEC.html#6551" class="InductiveConstructor">constr-</a> <a id="4029" href="Algorithmic.CK.html#3967" class="Bound">i</a> <a id="4031" href="Algorithmic.CK.html#3969" class="Bound">Tss</a> <a id="4035" class="Symbol">(</a><a id="4036" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">sym</a> <a id="4040" href="Algorithmic.CK.html#3617" class="Bound">eq</a><a id="4042" class="Symbol">)</a> <a id="4044" class="Symbol">{</a><a id="4045" href="Utils.List.html#7866" class="InductiveConstructor">bubble</a> <a id="4052" href="Algorithmic.CK.html#3979" class="Bound">r</a><a id="4053" class="Symbol">}</a> <a id="4055" class="Symbol">(</a><a id="4056" href="Algorithmic.CK.html#3982" class="Bound">vs</a> <a id="4059" href="Utils.List.html#9279" class="InductiveConstructor Operator">:&lt;</a> <a id="4062" href="Algorithmic.CK.html#3997" class="Bound">v</a><a id="4063" class="Symbol">)</a> <a id="4065" href="Algorithmic.CK.html#3990" class="Bound">ts</a><a id="4067" class="Symbol">)</a> <a id="4069" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="4071" href="Algorithmic.CK.html#3986" class="Bound">t</a>
<a id="4073" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="4078" class="Symbol">((</a><a id="4080" href="Algorithmic.CK.html#4080" class="Bound">s</a> <a id="4082" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="4084" href="Algorithmic.ReductionEC.html#6800" class="InductiveConstructor">case-</a> <a id="4090" href="Algorithmic.CK.html#4090" class="Bound">cs</a><a id="4092" class="Symbol">)</a> <a id="4094" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="4096" href="Algorithmic.ReductionEC.html#4181" class="InductiveConstructor">V-constr</a> <a id="4105" href="Algorithmic.CK.html#4105" class="Bound">e</a> <a id="4107" href="Algorithmic.CK.html#4107" class="Bound">Tss</a> <a id="4111" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4116" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4121" href="Algorithmic.CK.html#4121" class="Bound">vs</a> <a id="4124" href="Algorithmic.CK.html#4124" class="Bound">x</a><a id="4125" class="Symbol">)</a> <a id="4127" class="Symbol">=</a> <a id="4129" href="Algorithmic.CK.html#2049" class="Function">pushValueFrames</a> <a id="4145" href="Algorithmic.CK.html#4080" class="Bound">s</a> <a id="4147" href="Algorithmic.CK.html#4121" class="Bound">vs</a> <a id="4150" class="Symbol">(</a><a id="4151" href="Algorithmic.html#8558" class="Function">lemma-bwdfwdfunction&#39;</a> <a id="4173" class="Symbol">(</a><a id="4174" href="Data.Vec.Base.html#1676" class="Function">Vec.lookup</a> <a id="4185" href="Algorithmic.CK.html#4107" class="Bound">Tss</a> <a id="4189" href="Algorithmic.CK.html#4105" class="Bound">e</a><a id="4190" class="Symbol">))</a> <a id="4193" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="4195" href="Algorithmic.html#8250" class="Function">lookupCase</a> <a id="4206" href="Algorithmic.CK.html#4105" class="Bound">e</a> <a id="4208" href="Algorithmic.CK.html#4090" class="Bound">cs</a>
<a id="4211" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="4216" class="Symbol">(</a><a id="4217" href="Algorithmic.CK.html#4217" class="Bound">s</a> <a id="4219" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="4221" class="Symbol">(</a><a id="4222" href="Algorithmic.html#7529" class="InductiveConstructor Operator">builtin</a> <a id="4230" href="Algorithmic.CK.html#4230" class="Bound">b</a> <a id="4232" href="Algorithmic.html#7529" class="InductiveConstructor Operator">/</a> <a id="4234" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="4238" class="Symbol">))</a>                 <a id="4257" class="Symbol">=</a> <a id="4259" href="Algorithmic.CK.html#4217" class="Bound">s</a> <a id="4261" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="4263" href="Algorithmic.ReductionEC.html#11566" class="Function">ival</a> <a id="4268" href="Algorithmic.CK.html#4230" class="Bound">b</a>
<a id="4270" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="4275" class="Symbol">((</a><a id="4277" href="Algorithmic.CK.html#4277" class="Bound">s</a> <a id="4279" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="4281" class="Symbol">(</a><a id="4282" href="Algorithmic.ReductionEC.html#3688" class="InductiveConstructor">V-I⇒</a> <a id="4287" href="Algorithmic.CK.html#4287" class="Bound">b</a> <a id="4289" class="Symbol">{</a><a id="4290" class="Argument">am</a> <a id="4293" class="Symbol">=</a> <a id="4295" class="Number">0</a><a id="4296" class="Symbol">}</a>     <a id="4302" href="Algorithmic.CK.html#4302" class="Bound">bt</a> <a id="4305" href="Algorithmic.ReductionEC.html#6130" class="InductiveConstructor Operator">·-</a><a id="4307" class="Symbol">))</a> <a id="4310" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="4312" href="Algorithmic.CK.html#4312" class="Bound">vu</a><a id="4314" class="Symbol">)</a> <a id="4316" class="Symbol">=</a> <a id="4318" href="Algorithmic.CK.html#4277" class="Bound">s</a> <a id="4320" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="4322" href="Algorithmic.ReductionEC.html#5432" class="Function">BUILTIN&#39;</a> <a id="4331" href="Algorithmic.CK.html#4287" class="Bound">b</a> <a id="4333" class="Symbol">(</a><a id="4334" href="Algorithmic.CK.html#1070" class="InductiveConstructor">app</a> <a id="4338" href="Algorithmic.CK.html#4302" class="Bound">bt</a> <a id="4341" href="Algorithmic.CK.html#4312" class="Bound">vu</a><a id="4343" class="Symbol">)</a>
<a id="4345" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="4350" class="Symbol">((</a><a id="4352" href="Algorithmic.CK.html#4352" class="Bound">s</a> <a id="4354" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="4356" class="Symbol">(</a><a id="4357" href="Algorithmic.ReductionEC.html#3688" class="InductiveConstructor">V-I⇒</a> <a id="4362" href="Algorithmic.CK.html#4362" class="Bound">b</a> <a id="4364" class="Symbol">{</a><a id="4365" class="Argument">am</a> <a id="4368" class="Symbol">=</a> <a id="4370" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4374" class="Symbol">_}</a> <a id="4377" href="Algorithmic.CK.html#4377" class="Bound">bt</a> <a id="4380" href="Algorithmic.ReductionEC.html#6130" class="InductiveConstructor Operator">·-</a><a id="4382" class="Symbol">))</a> <a id="4385" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="4387" href="Algorithmic.CK.html#4387" class="Bound">vu</a><a id="4389" class="Symbol">)</a> <a id="4391" class="Symbol">=</a> <a id="4393" href="Algorithmic.CK.html#4352" class="Bound">s</a> <a id="4395" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="4397" href="Algorithmic.ReductionEC.html#11135" class="Function">V-I</a> <a id="4401" href="Algorithmic.CK.html#4362" class="Bound">b</a> <a id="4403" class="Symbol">(</a><a id="4404" href="Algorithmic.CK.html#1070" class="InductiveConstructor">app</a> <a id="4408" href="Algorithmic.CK.html#4377" class="Bound">bt</a> <a id="4411" href="Algorithmic.CK.html#4387" class="Bound">vu</a><a id="4413" class="Symbol">)</a>
<a id="4415" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="4420" class="Symbol">((</a><a id="4422" href="Algorithmic.CK.html#4422" class="Bound">s</a> <a id="4424" href="Algorithmic.CK.html#1212" class="InductiveConstructor Operator">,</a> <a id="4426" href="Algorithmic.ReductionEC.html#6196" class="InductiveConstructor">-·⋆</a> <a id="4430" href="Algorithmic.CK.html#4430" class="Bound">A</a><a id="4431" class="Symbol">)</a> <a id="4433" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="4435" href="Algorithmic.ReductionEC.html#3922" class="InductiveConstructor">V-IΠ</a> <a id="4440" href="Algorithmic.CK.html#4440" class="Bound">b</a> <a id="4442" class="Symbol">{</a><a id="4443" class="Argument">σA</a> <a id="4446" class="Symbol">=</a> <a id="4448" href="Algorithmic.CK.html#4448" class="Bound">σ</a><a id="4449" class="Symbol">}</a> <a id="4451" href="Algorithmic.CK.html#4451" class="Bound">bt</a><a id="4453" class="Symbol">)</a>       <a id="4461" class="Symbol">=</a> <a id="4463" href="Algorithmic.CK.html#4422" class="Bound">s</a> <a id="4465" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="4467" href="Algorithmic.ReductionEC.html#11135" class="Function">V-I</a> <a id="4471" href="Algorithmic.CK.html#4440" class="Bound">b</a> <a id="4473" class="Symbol">(</a><a id="4474" href="Algorithmic.CK.html#1083" class="InductiveConstructor">app⋆</a> <a id="4479" href="Algorithmic.CK.html#4451" class="Bound">bt</a> <a id="4482" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="4487" class="Symbol">{</a><a id="4488" href="Algorithmic.CK.html#4448" class="Bound">σ</a> <a id="4490" href="Algorithmic.Signature.html#2565" class="Function Operator">[</a> <a id="4492" href="Algorithmic.CK.html#4430" class="Bound">A</a> <a id="4494" href="Algorithmic.Signature.html#2565" class="Function Operator">]SigTy</a><a id="4500" class="Symbol">})</a>
<a id="4503" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="4508" class="Symbol">(</a><a id="4509" href="Algorithmic.CK.html#1470" class="InductiveConstructor">□</a> <a id="4511" href="Algorithmic.CK.html#4511" class="Bound">V</a><a id="4512" class="Symbol">)</a>                                    <a id="4549" class="Symbol">=</a> <a id="4551" href="Algorithmic.CK.html#1470" class="InductiveConstructor">□</a> <a id="4553" href="Algorithmic.CK.html#4511" class="Bound">V</a>
<a id="4555" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="4560" class="Symbol">(</a><a id="4561" href="Algorithmic.CK.html#1510" class="InductiveConstructor">◆</a> <a id="4563" href="Algorithmic.CK.html#4563" class="Bound">A</a><a id="4564" class="Symbol">)</a>                                    <a id="4601" class="Symbol">=</a> <a id="4603" href="Algorithmic.CK.html#1510" class="InductiveConstructor">◆</a> <a id="4605" href="Algorithmic.CK.html#4563" class="Bound">A</a>



<a id="stepper"></a><a id="4610" href="Algorithmic.CK.html#4610" class="Function">stepper</a> <a id="4618" class="Symbol">:</a> <a id="4620" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="4622" class="Symbol">→</a> <a id="4624" class="Symbol">∀{</a><a id="4626" href="Algorithmic.CK.html#4626" class="Bound">T</a><a id="4627" class="Symbol">}</a>
  <a id="4631" class="Symbol">→</a> <a id="4633" href="Algorithmic.CK.html#1313" class="Datatype">State</a> <a id="4639" href="Algorithmic.CK.html#4626" class="Bound">T</a>
  <a id="4643" class="Symbol">→</a> <a id="4645" href="Utils.html#1129" class="Datatype">Either</a> <a id="4652" href="Utils.html#4359" class="Datatype">RuntimeError</a> <a id="4665" class="Symbol">(</a><a id="4666" href="Algorithmic.CK.html#1313" class="Datatype">State</a> <a id="4672" href="Algorithmic.CK.html#4626" class="Bound">T</a><a id="4673" class="Symbol">)</a>
<a id="4675" href="Algorithmic.CK.html#4610" class="Function">stepper</a> <a id="4683" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="4691" href="Algorithmic.CK.html#4691" class="Bound">st</a>           <a id="4704" class="Symbol">=</a> <a id="4706" href="Utils.html#1162" class="InductiveConstructor">inj₁</a> <a id="4711" href="Utils.html#4386" class="InductiveConstructor">gasError</a>
<a id="4720" href="Algorithmic.CK.html#4610" class="Function">stepper</a> <a id="4728" class="Symbol">(</a><a id="4729" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4733" href="Algorithmic.CK.html#4733" class="Bound">n</a><a id="4734" class="Symbol">)</a> <a id="4736" href="Algorithmic.CK.html#4736" class="Bound">st</a> <a id="4739" class="Keyword">with</a> <a id="4744" href="Algorithmic.CK.html#2268" class="Function">step</a> <a id="4749" href="Algorithmic.CK.html#4736" class="Bound">st</a>
<a id="4752" href="Algorithmic.CK.html#4610" class="Function">stepper</a> <a id="4760" class="Symbol">(</a><a id="4761" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4765" href="Algorithmic.CK.html#4765" class="Bound">n</a><a id="4766" class="Symbol">)</a> <a id="4768" href="Algorithmic.CK.html#4768" class="Bound">st</a> <a id="4771" class="Symbol">|</a> <a id="4773" class="Symbol">(</a><a id="4774" href="Algorithmic.CK.html#4774" class="Bound">s</a> <a id="4776" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="4778" href="Algorithmic.CK.html#4778" class="Bound">M</a><a id="4779" class="Symbol">)</a> <a id="4781" class="Symbol">=</a> <a id="4783" href="Algorithmic.CK.html#4610" class="Function">stepper</a> <a id="4791" href="Algorithmic.CK.html#4765" class="Bound">n</a> <a id="4793" class="Symbol">(</a><a id="4794" href="Algorithmic.CK.html#4774" class="Bound">s</a> <a id="4796" href="Algorithmic.CK.html#1348" class="InductiveConstructor Operator">▻</a> <a id="4798" href="Algorithmic.CK.html#4778" class="Bound">M</a><a id="4799" class="Symbol">)</a>
<a id="4801" href="Algorithmic.CK.html#4610" class="Function">stepper</a> <a id="4809" class="Symbol">(</a><a id="4810" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4814" href="Algorithmic.CK.html#4814" class="Bound">n</a><a id="4815" class="Symbol">)</a> <a id="4817" href="Algorithmic.CK.html#4817" class="Bound">st</a> <a id="4820" class="Symbol">|</a> <a id="4822" class="Symbol">(</a><a id="4823" href="Algorithmic.CK.html#4823" class="Bound">s</a> <a id="4825" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="4827" href="Algorithmic.CK.html#4827" class="Bound">V</a><a id="4828" class="Symbol">)</a> <a id="4830" class="Symbol">=</a> <a id="4832" href="Algorithmic.CK.html#4610" class="Function">stepper</a> <a id="4840" href="Algorithmic.CK.html#4814" class="Bound">n</a> <a id="4842" class="Symbol">(</a><a id="4843" href="Algorithmic.CK.html#4823" class="Bound">s</a> <a id="4845" href="Algorithmic.CK.html#1401" class="InductiveConstructor Operator">◅</a> <a id="4847" href="Algorithmic.CK.html#4827" class="Bound">V</a><a id="4848" class="Symbol">)</a>
<a id="4850" href="Algorithmic.CK.html#4610" class="Function">stepper</a> <a id="4858" class="Symbol">(</a><a id="4859" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4863" href="Algorithmic.CK.html#4863" class="Bound">n</a><a id="4864" class="Symbol">)</a> <a id="4866" href="Algorithmic.CK.html#4866" class="Bound">st</a> <a id="4869" class="Symbol">|</a> <a id="4871" class="Symbol">(</a><a id="4872" href="Algorithmic.CK.html#1470" class="InductiveConstructor">□</a> <a id="4874" href="Algorithmic.CK.html#4874" class="Bound">V</a><a id="4875" class="Symbol">)</a>   <a id="4879" class="Symbol">=</a> <a id="4881" href="Utils.html#2913" class="Field">return</a> <a id="4888" class="Symbol">(</a><a id="4889" href="Algorithmic.CK.html#1470" class="InductiveConstructor">□</a> <a id="4891" href="Algorithmic.CK.html#4874" class="Bound">V</a><a id="4892" class="Symbol">)</a>
<a id="4894" href="Algorithmic.CK.html#4610" class="Function">stepper</a> <a id="4902" class="Symbol">(</a><a id="4903" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4907" href="Algorithmic.CK.html#4907" class="Bound">n</a><a id="4908" class="Symbol">)</a> <a id="4910" href="Algorithmic.CK.html#4910" class="Bound">st</a> <a id="4913" class="Symbol">|</a> <a id="4915" href="Algorithmic.CK.html#1510" class="InductiveConstructor">◆</a> <a id="4917" href="Algorithmic.CK.html#4917" class="Bound">A</a>     <a id="4923" class="Symbol">=</a> <a id="4925" href="Utils.html#2913" class="Field">return</a> <a id="4932" class="Symbol">(</a><a id="4933" href="Algorithmic.CK.html#1510" class="InductiveConstructor">◆</a> <a id="4935" href="Algorithmic.CK.html#4917" class="Bound">A</a><a id="4936" class="Symbol">)</a>

</pre>

    </section>
  </body>
</html>
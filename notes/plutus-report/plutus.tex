% The Plutus Platform Technical Report
% Note to contributors:
% - I am using a glossary package, as there is a *lot* of novel terminology in here.
%   Please use it as appropriate.
% - I am trying out a "precisely one sentence per line" policy (as opposed to reflowing with hard breaks) in an attempt to make diffs nicer.
%   Please also do so.
\documentclass{article}

\usepackage{amsmath, amssymb, stmaryrd, latexsym, mathtools}
\usepackage[hyperref]{ntheorem}

\usepackage[dvipsnames]{xcolor}
\usepackage{todonotes}
\usepackage{paralist}

% Smaller margins are nicer for this kind of content, I think.
\usepackage[margin=2.5cm]{geometry}

% TODO: better style
\usepackage[style=numeric]{biblatex}
\addbibresource{plutus.bib}

\usepackage{hyperref}
\hypersetup{
  breaklinks=true,
  colorlinks=true,
  urlcolor=NavyBlue,
  linkcolor=BrickRed,
  citecolor=Green
}

% Capitalize the "type" of the link, e.g. Section 2
\usepackage[capitalise]{cleveref}
% Automatically build the glossary index, and don't show the occurrence lists or add a dot at the end
\usepackage[automake=true, nonumberlist]{glossaries-extra}

\newcommand{\todompj}[1]{\todo[inline,color=yellow!40,author=Michael]{#1}}
% TODO: nicer code formatting inline and also in blocks
\newcommand{\code}[1]{\texttt{#1}}

% Break after header and don't italicise the body
\theoremstyle{break}
\theorembodyfont{\normalfont}

% An environment for requirements
\newtheorem{requirement}{Requirement}[section]

% cleveref "respects" your crefname and doesn't uppercase it even when
% capitalise is set, so you have to manually use their internal variable.
\makeatletter
\if@cref@capitalise
\crefname{requirement}{Requirement}{Requirements}
\else
\crefname{requirement}{requirement}{requirements}
\fi
\makeatother

% TODO: review the style
\setglossarystyle{altlist}
\makeglossaries
\setabbreviationstyle[acronym]{long-short-desc}
\input{glossary}

\begin{document}

\title{The Plutus Platform \\
  {\large \sc An IOHK technical report}}
\date{}
\author{
  Michael Peyton Jones \\ {\small \texttt{michael.peyton-jones@iohk.io}} \\
  \and Roman Kireev \\ {\small \texttt{roman.kireev@iohk.io}}
}

\maketitle

\tableofcontents

\input{intro}
\input{ledger}
\input{scripting}
\input{applications}
\input{authoring}

% Print the glossary
\printglossaries
\glsaddall

% Print the bibliography and include it in the TOC
\printbibliography[heading=bibintoc]

\end{document}

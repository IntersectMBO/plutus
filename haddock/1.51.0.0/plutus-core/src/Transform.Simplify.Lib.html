<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-pragma"
      >{-# LANGUAGE OverloadedStrings #-}</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >Transform.Simplify.Lib</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Control.Lens</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator"
	  >(&amp;)</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-operator"
	>(.~)</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.Lazy.html"
	><span class="hs-identifier"
	  >Data.ByteString.Lazy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>BSL</span
	></span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Encoding.html"
	><span class="hs-identifier"
	  >Data.Text.Encoding</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Encoding.html#encodeUtf8"
	><span class="hs-identifier"
	  >encodeUtf8</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.html"
	><span class="hs-identifier"
	  >PlutusCore</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.html"
	><span class="hs-identifier"
	  >PlutusCore.Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#BuiltinSemanticsVariant"
	><span class="hs-identifier"
	  >BuiltinSemanticsVariant</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Pretty.html"
	><span class="hs-identifier"
	  >PlutusCore.Pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Pretty.Plc.html#PrettyPlc"
	><span class="hs-identifier"
	  >PrettyPlc</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Default.html#Render"
	><span class="hs-identifier"
	  >Render</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Default.html#render"
	><span class="hs-identifier"
	  >render</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Pretty.Plc.html#prettyPlcReadableSimple"
	><span class="hs-identifier"
	  >prettyPlcReadableSimple</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusPrelude.html"
	><span class="hs-identifier"
	  >PlutusPrelude</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier"
	>Default</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier"
	>def</span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.html"
	><span class="hs-identifier"
	  >Test.Tasty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier"
	  >TestTree</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-golden-2.3.5/docs/src/Test.Tasty.Golden.html"
	><span class="hs-identifier"
	  >Test.Tasty.Golden</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-golden-2.3.5/docs/src/Test.Tasty.Golden.html#goldenVsString"
	><span class="hs-identifier"
	  >goldenVsString</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.html"
	><span class="hs-identifier"
	  >UntypedPlutusCore</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier"
	  >Name</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Transform.Simplifier.html#SimplifierTrace"
	><span class="hs-identifier"
	  >SimplifierTrace</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Core.Type.html#Term"
	><span class="hs-identifier"
	  >Term</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#defaultSimplifyOpts"
	><span class="hs-identifier"
	  >defaultSimplifyOpts</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Transform.Simplifier.html#runSimplifierT"
	><span class="hs-identifier"
	  >runSimplifierT</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span
      >                          </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soInlineCallsiteGrowth"
	><span class="hs-identifier"
	  >soInlineCallsiteGrowth</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soMaxCseIterations"
	><span class="hs-identifier"
	  >soMaxCseIterations</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soMaxSimplifierIterations"
	><span class="hs-identifier"
	  >soMaxSimplifierIterations</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span
      >                          </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soPreserveLogging"
	><span class="hs-identifier"
	  >soPreserveLogging</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.html#termSimplifier"
	><span class="hs-identifier"
	  >termSimplifier</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span class="hs-comment"
      >-- TODO Fix duplication with other golden tests, quite annoying</span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span id="local-6989586621679287417"
      ><span class="annot"
	><a href="Transform.Simplify.Lib.html#goldenVsPretty"
	  ><span class="hs-identifier hs-type"
	    >goldenVsPretty</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>::</span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Pretty.Plc.html#PrettyPlc"
	  ><span class="hs-identifier hs-type"
	    >PrettyPlc</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679287417"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span class="hs-special"
	>)</span
	><span
	> </span
	><span class="hs-glyph"
	>=&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#String"
	  ><span class="hs-identifier hs-type"
	    >String</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#String"
	  ><span class="hs-identifier hs-type"
	    >String</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679287417"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	  ><span class="hs-identifier hs-type"
	    >TestTree</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span id="goldenVsPretty"
      ><span class="annot"
	><span class="annottext"
	  >goldenVsPretty :: forall a. PrettyPlc a =&gt; String -&gt; String -&gt; a -&gt; TestTree
</span
	  ><a href="Transform.Simplify.Lib.html#goldenVsPretty"
	  ><span class="hs-identifier hs-var hs-var"
	    >goldenVsPretty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679287672"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679287672"
	  ><span class="hs-identifier hs-var"
	    >extn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679287673"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679287673"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679287674"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679287674"
	  ><span class="hs-identifier hs-var"
	    >value</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; IO ByteString -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-golden-2.3.5/docs/src/Test.Tasty.Golden.html#goldenVsString"
	><span class="hs-identifier hs-var"
	  >goldenVsString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679287673"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;untyped-plutus-core/test/Transform/&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679287673"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679287672"
	><span class="hs-identifier hs-var"
	  >extn</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(IO ByteString -&gt; TestTree) -&gt; IO ByteString -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; IO ByteString
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ByteString -&gt; IO ByteString)
-&gt; (Doc Any -&gt; ByteString) -&gt; Doc Any -&gt; IO ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; ByteString
</span
	><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.Lazy.Internal.html#fromStrict"
	><span class="hs-identifier hs-var"
	  >BSL.fromStrict</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ByteString -&gt; ByteString)
-&gt; (Doc Any -&gt; ByteString) -&gt; Doc Any -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; ByteString
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Encoding.html#encodeUtf8"
	><span class="hs-identifier hs-var"
	  >encodeUtf8</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; ByteString) -&gt; (Doc Any -&gt; Text) -&gt; Doc Any -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc Any -&gt; Text
forall ann. Doc ann -&gt; Text
forall str ann. Render str =&gt; Doc ann -&gt; str
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Default.html#render"
	><span class="hs-identifier hs-var"
	  >render</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Doc Any -&gt; IO ByteString) -&gt; Doc Any -&gt; IO ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; Doc Any
forall a ann. PrettyPlc a =&gt; a -&gt; Doc ann
</span
	><a href="../../plutus-core/src/PlutusCore.Pretty.Plc.html#prettyPlcReadableSimple"
	><span class="hs-identifier hs-var"
	  >prettyPlcReadableSimple</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679287674"
	><span class="hs-identifier hs-var"
	  >value</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span class="annot"
      ><a href="Transform.Simplify.Lib.html#goldenVsSimplified"
	><span class="hs-identifier hs-type"
	  >goldenVsSimplified</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#String"
	><span class="hs-identifier hs-type"
	  >String</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span id="goldenVsSimplified"
      ><span class="annot"
	><span class="annottext"
	  >goldenVsSimplified :: String -&gt; Term Name DefaultUni DefaultFun () -&gt; TestTree
</span
	  ><a href="Transform.Simplify.Lib.html#goldenVsSimplified"
	  ><span class="hs-identifier hs-var hs-var"
	    >goldenVsSimplified</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679287678"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679287678"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Term Name DefaultUni DefaultFun () -&gt; TestTree
forall a. PrettyPlc a =&gt; String -&gt; String -&gt; a -&gt; TestTree
</span
	><a href="Transform.Simplify.Lib.html#goldenVsPretty"
	><span class="hs-identifier hs-var"
	  >goldenVsPretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;.uplc.golden&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679287678"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>(Term Name DefaultUni DefaultFun () -&gt; TestTree)
-&gt; (Term Name DefaultUni DefaultFun ()
    -&gt; Term Name DefaultUni DefaultFun ())
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Quote (Term Name DefaultUni DefaultFun ())
-&gt; Term Name DefaultUni DefaultFun ()
forall a. Quote a -&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Quote.html#runQuote"
	><span class="hs-identifier hs-var"
	  >PLC.runQuote</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>(Quote (Term Name DefaultUni DefaultFun ())
 -&gt; Term Name DefaultUni DefaultFun ())
-&gt; (Term Name DefaultUni DefaultFun ()
    -&gt; Quote (Term Name DefaultUni DefaultFun ()))
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; Term Name DefaultUni DefaultFun ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Term Name DefaultUni DefaultFun (),
  SimplifierTrace Name DefaultUni DefaultFun ())
 -&gt; Term Name DefaultUni DefaultFun ())
-&gt; QuoteT
     Identity
     (Term Name DefaultUni DefaultFun (),
      SimplifierTrace Name DefaultUni DefaultFun ())
-&gt; Quote (Term Name DefaultUni DefaultFun ())
forall a b. (a -&gt; b) -&gt; QuoteT Identity a -&gt; QuoteT Identity b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term Name DefaultUni DefaultFun (),
 SimplifierTrace Name DefaultUni DefaultFun ())
-&gt; Term Name DefaultUni DefaultFun ()
forall a b. (a, b) -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#fst"
	><span class="hs-identifier hs-var"
	  >fst</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>(QuoteT
   Identity
   (Term Name DefaultUni DefaultFun (),
    SimplifierTrace Name DefaultUni DefaultFun ())
 -&gt; Quote (Term Name DefaultUni DefaultFun ()))
-&gt; (Term Name DefaultUni DefaultFun ()
    -&gt; QuoteT
         Identity
         (Term Name DefaultUni DefaultFun (),
          SimplifierTrace Name DefaultUni DefaultFun ()))
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; Quote (Term Name DefaultUni DefaultFun ())
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term Name DefaultUni DefaultFun ()
-&gt; QuoteT
     Identity
     (Term Name DefaultUni DefaultFun (),
      SimplifierTrace Name DefaultUni DefaultFun ())
</span
	><a href="Transform.Simplify.Lib.html#testSimplify"
	><span class="hs-identifier hs-var"
	  >testSimplify</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span class="annot"
      ><a href="Transform.Simplify.Lib.html#testSimplify"
	><span class="hs-identifier hs-type"
	  >testSimplify</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Quote.html#Quote"
	><span class="hs-identifier hs-type"
	  >PLC.Quote</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Transform.Simplifier.html#SimplifierTrace"
	><span class="hs-identifier hs-type"
	  >SimplifierTrace</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-37"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span id="testSimplify"
      ><span class="annot"
	><span class="annottext"
	  >testSimplify :: Term Name DefaultUni DefaultFun ()
-&gt; QuoteT
     Identity
     (Term Name DefaultUni DefaultFun (),
      SimplifierTrace Name DefaultUni DefaultFun ())
</span
	  ><a href="Transform.Simplify.Lib.html#testSimplify"
	  ><span class="hs-identifier hs-var hs-var"
	    >testSimplify</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifierT
  Name
  DefaultUni
  DefaultFun
  ()
  (QuoteT Identity)
  (Term Name DefaultUni DefaultFun ())
-&gt; QuoteT
     Identity
     (Term Name DefaultUni DefaultFun (),
      SimplifierTrace Name DefaultUni DefaultFun ())
forall name (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
SimplifierT name uni fun ann m a
-&gt; m (a, SimplifierTrace name uni fun ann)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Transform.Simplifier.html#runSimplifierT"
	><span class="hs-identifier hs-var"
	  >runSimplifierT</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>(SimplifierT
   Name
   DefaultUni
   DefaultFun
   ()
   (QuoteT Identity)
   (Term Name DefaultUni DefaultFun ())
 -&gt; QuoteT
      Identity
      (Term Name DefaultUni DefaultFun (),
       SimplifierTrace Name DefaultUni DefaultFun ()))
-&gt; (Term Name DefaultUni DefaultFun ()
    -&gt; SimplifierT
         Name
         DefaultUni
         DefaultFun
         ()
         (QuoteT Identity)
         (Term Name DefaultUni DefaultFun ()))
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; QuoteT
     Identity
     (Term Name DefaultUni DefaultFun (),
      SimplifierTrace Name DefaultUni DefaultFun ())
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
-&gt; BuiltinSemanticsVariant DefaultFun
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; SimplifierT
     Name
     DefaultUni
     DefaultFun
     ()
     (QuoteT Identity)
     (Term Name DefaultUni DefaultFun ())
forall name (uni :: * -&gt; *) fun (m :: * -&gt; *) a.
Compiling m uni fun name a =&gt;
SimplifyOpts name a
-&gt; BuiltinSemanticsVariant fun
-&gt; Term name uni fun a
-&gt; SimplifierT name uni fun a m (Term name uni fun a)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.html#termSimplifier"
	><span class="hs-identifier hs-var"
	  >termSimplifier</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
forall name a. SimplifyOpts name a
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#defaultSimplifyOpts"
	><span class="hs-identifier hs-var"
	  >defaultSimplifyOpts</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- Just run one iteration, to see what that does</span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
-&gt; (SimplifyOpts Name () -&gt; SimplifyOpts Name ())
-&gt; SimplifyOpts Name ()
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; Identity Int)
-&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ())
forall name a (f :: * -&gt; *).
Functor f =&gt;
(Int -&gt; f Int) -&gt; SimplifyOpts name a -&gt; f (SimplifyOpts name a)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soMaxSimplifierIterations"
	><span class="hs-identifier hs-var"
	  >soMaxSimplifierIterations</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Int -&gt; Identity Int)
 -&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ()))
-&gt; Int -&gt; SimplifyOpts Name () -&gt; SimplifyOpts Name ()
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>.~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
-&gt; (SimplifyOpts Name () -&gt; SimplifyOpts Name ())
-&gt; SimplifyOpts Name ()
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; Identity Int)
-&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ())
forall name a (f :: * -&gt; *).
Functor f =&gt;
(Int -&gt; f Int) -&gt; SimplifyOpts name a -&gt; f (SimplifyOpts name a)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soMaxCseIterations"
	><span class="hs-identifier hs-var"
	  >soMaxCseIterations</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Int -&gt; Identity Int)
 -&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ()))
-&gt; Int -&gt; SimplifyOpts Name () -&gt; SimplifyOpts Name ()
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>.~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
-&gt; (SimplifyOpts Name () -&gt; SimplifyOpts Name ())
-&gt; SimplifyOpts Name ()
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Size -&gt; Identity Size)
-&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ())
forall name a (f :: * -&gt; *).
Functor f =&gt;
(Size -&gt; f Size) -&gt; SimplifyOpts name a -&gt; f (SimplifyOpts name a)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soInlineCallsiteGrowth"
	><span class="hs-identifier hs-var"
	  >soInlineCallsiteGrowth</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Size -&gt; Identity Size)
 -&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ()))
-&gt; Size -&gt; SimplifyOpts Name () -&gt; SimplifyOpts Name ()
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>.~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Size
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
-&gt; (SimplifyOpts Name () -&gt; SimplifyOpts Name ())
-&gt; SimplifyOpts Name ()
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; Identity Bool)
-&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ())
forall name a (f :: * -&gt; *).
Functor f =&gt;
(Bool -&gt; f Bool) -&gt; SimplifyOpts name a -&gt; f (SimplifyOpts name a)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soPreserveLogging"
	><span class="hs-identifier hs-var"
	  >soPreserveLogging</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Bool -&gt; Identity Bool)
 -&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ()))
-&gt; Bool -&gt; SimplifyOpts Name () -&gt; SimplifyOpts Name ()
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>.~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-47"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-48"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinSemanticsVariant DefaultFun
forall a. Default a =&gt; a
</span
	><span class="hs-identifier hs-var"
	>def</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#BuiltinSemanticsVariant"
	><span class="hs-identifier hs-type"
	  >BuiltinSemanticsVariant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-49"
      ></span
      ><span
      >
</span
      ><span id="line-50"
      ></span
      ><span class="annot"
      ><a href="Transform.Simplify.Lib.html#goldenVsCse"
	><span class="hs-identifier hs-type"
	  >goldenVsCse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#String"
	><span class="hs-identifier hs-type"
	  >String</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span id="goldenVsCse"
      ><span class="annot"
	><span class="annottext"
	  >goldenVsCse :: String -&gt; Term Name DefaultUni DefaultFun () -&gt; TestTree
</span
	  ><a href="Transform.Simplify.Lib.html#goldenVsCse"
	  ><span class="hs-identifier hs-var hs-var"
	    >goldenVsCse</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679287683"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679287683"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Term Name DefaultUni DefaultFun () -&gt; TestTree
forall a. PrettyPlc a =&gt; String -&gt; String -&gt; a -&gt; TestTree
</span
	><a href="Transform.Simplify.Lib.html#goldenVsPretty"
	><span class="hs-identifier hs-var"
	  >goldenVsPretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;.uplc.golden&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679287683"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>(Term Name DefaultUni DefaultFun () -&gt; TestTree)
-&gt; (Term Name DefaultUni DefaultFun ()
    -&gt; Term Name DefaultUni DefaultFun ())
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Quote (Term Name DefaultUni DefaultFun ())
-&gt; Term Name DefaultUni DefaultFun ()
forall a. Quote a -&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Quote.html#runQuote"
	><span class="hs-identifier hs-var"
	  >PLC.runQuote</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>(Quote (Term Name DefaultUni DefaultFun ())
 -&gt; Term Name DefaultUni DefaultFun ())
-&gt; (Term Name DefaultUni DefaultFun ()
    -&gt; Quote (Term Name DefaultUni DefaultFun ()))
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; Term Name DefaultUni DefaultFun ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Term Name DefaultUni DefaultFun (),
  SimplifierTrace Name DefaultUni DefaultFun ())
 -&gt; Term Name DefaultUni DefaultFun ())
-&gt; QuoteT
     Identity
     (Term Name DefaultUni DefaultFun (),
      SimplifierTrace Name DefaultUni DefaultFun ())
-&gt; Quote (Term Name DefaultUni DefaultFun ())
forall a b. (a -&gt; b) -&gt; QuoteT Identity a -&gt; QuoteT Identity b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term Name DefaultUni DefaultFun (),
 SimplifierTrace Name DefaultUni DefaultFun ())
-&gt; Term Name DefaultUni DefaultFun ()
forall a b. (a, b) -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#fst"
	><span class="hs-identifier hs-var"
	  >fst</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-55"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>(QuoteT
   Identity
   (Term Name DefaultUni DefaultFun (),
    SimplifierTrace Name DefaultUni DefaultFun ())
 -&gt; Quote (Term Name DefaultUni DefaultFun ()))
-&gt; (Term Name DefaultUni DefaultFun ()
    -&gt; QuoteT
         Identity
         (Term Name DefaultUni DefaultFun (),
          SimplifierTrace Name DefaultUni DefaultFun ()))
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; Quote (Term Name DefaultUni DefaultFun ())
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term Name DefaultUni DefaultFun ()
-&gt; QuoteT
     Identity
     (Term Name DefaultUni DefaultFun (),
      SimplifierTrace Name DefaultUni DefaultFun ())
</span
	><a href="Transform.Simplify.Lib.html#testCse"
	><span class="hs-identifier hs-var"
	  >testCse</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-56"
      ></span
      ><span
      >
</span
      ><span id="line-57"
      ></span
      ><span class="annot"
      ><a href="Transform.Simplify.Lib.html#testCse"
	><span class="hs-identifier hs-type"
	  >testCse</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-58"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-59"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Quote.html#Quote"
	><span class="hs-identifier hs-type"
	  >PLC.Quote</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-60"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-61"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/UntypedPlutusCore.Transform.Simplifier.html#SimplifierTrace"
	><span class="hs-identifier hs-type"
	  >SimplifierTrace</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-62"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-63"
      ></span
      ><span id="testCse"
      ><span class="annot"
	><span class="annottext"
	  >testCse :: Term Name DefaultUni DefaultFun ()
-&gt; QuoteT
     Identity
     (Term Name DefaultUni DefaultFun (),
      SimplifierTrace Name DefaultUni DefaultFun ())
</span
	  ><a href="Transform.Simplify.Lib.html#testCse"
	  ><span class="hs-identifier hs-var hs-var"
	    >testCse</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-64"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifierT
  Name
  DefaultUni
  DefaultFun
  ()
  (QuoteT Identity)
  (Term Name DefaultUni DefaultFun ())
-&gt; QuoteT
     Identity
     (Term Name DefaultUni DefaultFun (),
      SimplifierTrace Name DefaultUni DefaultFun ())
forall name (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
SimplifierT name uni fun ann m a
-&gt; m (a, SimplifierTrace name uni fun ann)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Transform.Simplifier.html#runSimplifierT"
	><span class="hs-identifier hs-var"
	  >runSimplifierT</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-65"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>(SimplifierT
   Name
   DefaultUni
   DefaultFun
   ()
   (QuoteT Identity)
   (Term Name DefaultUni DefaultFun ())
 -&gt; QuoteT
      Identity
      (Term Name DefaultUni DefaultFun (),
       SimplifierTrace Name DefaultUni DefaultFun ()))
-&gt; (Term Name DefaultUni DefaultFun ()
    -&gt; SimplifierT
         Name
         DefaultUni
         DefaultFun
         ()
         (QuoteT Identity)
         (Term Name DefaultUni DefaultFun ()))
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; QuoteT
     Identity
     (Term Name DefaultUni DefaultFun (),
      SimplifierTrace Name DefaultUni DefaultFun ())
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
-&gt; BuiltinSemanticsVariant DefaultFun
-&gt; Term Name DefaultUni DefaultFun ()
-&gt; SimplifierT
     Name
     DefaultUni
     DefaultFun
     ()
     (QuoteT Identity)
     (Term Name DefaultUni DefaultFun ())
forall name (uni :: * -&gt; *) fun (m :: * -&gt; *) a.
Compiling m uni fun name a =&gt;
SimplifyOpts name a
-&gt; BuiltinSemanticsVariant fun
-&gt; Term name uni fun a
-&gt; SimplifierT name uni fun a m (Term name uni fun a)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.html#termSimplifier"
	><span class="hs-identifier hs-var"
	  >termSimplifier</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-66"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
forall name a. SimplifyOpts name a
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#defaultSimplifyOpts"
	><span class="hs-identifier hs-var"
	  >defaultSimplifyOpts</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-67"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- Just run one iteration, to see what that does</span
      ><span
      >
</span
      ><span id="line-68"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
-&gt; (SimplifyOpts Name () -&gt; SimplifyOpts Name ())
-&gt; SimplifyOpts Name ()
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; Identity Int)
-&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ())
forall name a (f :: * -&gt; *).
Functor f =&gt;
(Int -&gt; f Int) -&gt; SimplifyOpts name a -&gt; f (SimplifyOpts name a)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soMaxSimplifierIterations"
	><span class="hs-identifier hs-var"
	  >soMaxSimplifierIterations</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Int -&gt; Identity Int)
 -&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ()))
-&gt; Int -&gt; SimplifyOpts Name () -&gt; SimplifyOpts Name ()
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>.~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      >
</span
      ><span id="line-69"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
-&gt; (SimplifyOpts Name () -&gt; SimplifyOpts Name ())
-&gt; SimplifyOpts Name ()
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; Identity Int)
-&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ())
forall name a (f :: * -&gt; *).
Functor f =&gt;
(Int -&gt; f Int) -&gt; SimplifyOpts name a -&gt; f (SimplifyOpts name a)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soMaxCseIterations"
	><span class="hs-identifier hs-var"
	  >soMaxCseIterations</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Int -&gt; Identity Int)
 -&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ()))
-&gt; Int -&gt; SimplifyOpts Name () -&gt; SimplifyOpts Name ()
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>.~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      >
</span
      ><span id="line-70"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
-&gt; (SimplifyOpts Name () -&gt; SimplifyOpts Name ())
-&gt; SimplifyOpts Name ()
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Size -&gt; Identity Size)
-&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ())
forall name a (f :: * -&gt; *).
Functor f =&gt;
(Size -&gt; f Size) -&gt; SimplifyOpts name a -&gt; f (SimplifyOpts name a)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soInlineCallsiteGrowth"
	><span class="hs-identifier hs-var"
	  >soInlineCallsiteGrowth</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Size -&gt; Identity Size)
 -&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ()))
-&gt; Size -&gt; SimplifyOpts Name () -&gt; SimplifyOpts Name ()
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>.~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Size
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      >
</span
      ><span id="line-71"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SimplifyOpts Name ()
-&gt; (SimplifyOpts Name () -&gt; SimplifyOpts Name ())
-&gt; SimplifyOpts Name ()
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; Identity Bool)
-&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ())
forall name a (f :: * -&gt; *).
Functor f =&gt;
(Bool -&gt; f Bool) -&gt; SimplifyOpts name a -&gt; f (SimplifyOpts name a)
</span
	><a href="../../plutus-core/src/UntypedPlutusCore.Simplify.Opts.html#soPreserveLogging"
	><span class="hs-identifier hs-var"
	  >soPreserveLogging</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Bool -&gt; Identity Bool)
 -&gt; SimplifyOpts Name () -&gt; Identity (SimplifyOpts Name ()))
-&gt; Bool -&gt; SimplifyOpts Name () -&gt; SimplifyOpts Name ()
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>.~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-72"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-73"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinSemanticsVariant DefaultFun
forall a. Default a =&gt; a
</span
	><span class="hs-identifier hs-var"
	>def</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#BuiltinSemanticsVariant"
	><span class="hs-identifier hs-type"
	  >BuiltinSemanticsVariant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-74"
      ></span
      ></pre
    ></body
  ></html
>

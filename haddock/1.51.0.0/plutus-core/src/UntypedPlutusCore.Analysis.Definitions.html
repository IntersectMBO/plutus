<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-pragma"
      >{-# LANGUAGE LambdaCase #-}</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-comment"
      >-- | Definition analysis for untyped Plutus Core.</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-comment"
      >-- This just adapts term-related code from PlutusCore.Analysis.Definitions;</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span class="hs-comment"
      >-- we just re-use the typed machinery to do the hard work here.</span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >UntypedPlutusCore.Analysis.Definitions</span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Analysis.Definitions.html#termDefs"
	><span class="hs-identifier"
	  >termDefs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Analysis.Definitions.html#runTermDefs"
	><span class="hs-identifier"
	  >runTermDefs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.html"
	><span class="hs-identifier"
	  >UntypedPlutusCore.Core</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Analysis.Definitions.html"
	><span class="hs-identifier"
	  >PlutusCore.Analysis.Definitions</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Analysis.Definitions.html#ScopeType"
	><span class="hs-identifier"
	  >ScopeType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Analysis.Definitions.html#TermScope"
	><span class="hs-identifier"
	  >TermScope</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Analysis.Definitions.html#UniqueInfos"
	><span class="hs-identifier"
	  >UniqueInfos</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Analysis.Definitions.html#addDef"
	><span class="hs-identifier"
	  >addDef</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Analysis.Definitions.html#addUsage"
	><span class="hs-identifier"
	  >addUsage</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Error.html"
	><span class="hs-identifier"
	  >PlutusCore.Error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Error.html#UniqueError"
	><span class="hs-identifier"
	  >UniqueError</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.Unique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#HasUnique"
	><span class="hs-identifier"
	  >HasUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier"
	  >TermUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier"
	  >TermUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Unique"
	><span class="hs-identifier"
	  >Unique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Unique"
	><span class="hs-identifier"
	  >Unique</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Control.Lens</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier"
	>forMOf_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.html"
	><span class="hs-identifier"
	  >Control.Monad.State</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#MonadState"
	><span class="hs-identifier"
	  >MonadState</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.State.Lazy.html#execStateT"
	><span class="hs-identifier"
	  >execStateT</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Writer.html"
	><span class="hs-identifier"
	  >Control.Monad.Writer</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Writer.Class.html#MonadWriter"
	><span class="hs-identifier"
	  >MonadWriter</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Writer.Lazy.html#WriterT"
	><span class="hs-identifier"
	  >WriterT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Writer.Lazy.html#runWriterT"
	><span class="hs-identifier"
	  >runWriterT</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span class="hs-comment"
      >-- | Given a UPLC term, add all of its term definitions and usages, including its subterms,</span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span class="hs-comment"
      >-- to a global map.</span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span id="local-6989586621681940976"
      ><span id="local-6989586621681940977"
	><span id="local-6989586621681940981"
	  ><span id="local-6989586621681940985"
	    ><span id="local-6989586621681940986"
	      ><span class="annot"
		><a href="UntypedPlutusCore.Analysis.Definitions.html#termDefs"
		  ><span class="hs-identifier hs-type"
		    >termDefs</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-23"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Ord"
		  ><span class="hs-identifier hs-type"
		    >Ord</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940976"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		>
</span
		><span id="line-24"
		></span
		><span
		>        </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940977"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		>
</span
		><span id="line-25"
		></span
		><span
		>        </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#MonadState"
		  ><span class="hs-identifier hs-type"
		    >MonadState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.Analysis.Definitions.html#UniqueInfos"
		  ><span class="hs-identifier hs-type"
		    >UniqueInfos</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940976"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940981"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		>
</span
		><span id="line-26"
		></span
		><span
		>        </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Writer.Class.html#MonadWriter"
		  ><span class="hs-identifier hs-type"
		    >MonadWriter</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>[</span
		><span class="annot"
		><a href="PlutusCore.Error.html#UniqueError"
		  ><span class="hs-identifier hs-type"
		    >UniqueError</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940976"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>]</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940981"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-27"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="UntypedPlutusCore.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940977"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940985"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940986"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940976"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-28"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681940981"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span id="termDefs"
      ><span class="annot"
	><span class="annottext"
	  >termDefs :: forall ann name (m :: * -&gt; *) (uni :: * -&gt; *) fun.
(Ord ann, HasUnique name TermUnique,
 MonadState (UniqueInfos ann) m, MonadWriter [UniqueError ann] m) =&gt;
Term name uni fun ann -&gt; m ()
</span
	  ><a href="UntypedPlutusCore.Analysis.Definitions.html#termDefs"
	  ><span class="hs-identifier hs-var hs-var"
	    >termDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681941091"
      ><span class="annot"
	><span class="annottext"
	  >Term name uni fun ann
</span
	  ><a href="#local-6989586621681941091"
	  ><span class="hs-identifier hs-var"
	    >tm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span
      >   </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (Sequenced () m) (Term name uni fun ann) (Term name uni fun ann)
-&gt; Term name uni fun ann -&gt; (Term name uni fun ann -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) r s a.
Monad m =&gt;
Getting (Sequenced r m) s a -&gt; s -&gt; (a -&gt; m r) -&gt; m ()
</span
	><span class="hs-identifier hs-var"
	>forMOf_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (Sequenced () m) (Term name uni fun ann) (Term name uni fun ann)
forall name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
(Contravariant f, Applicative f) =&gt;
(Term name uni fun ann -&gt; f (Term name uni fun ann))
-&gt; Term name uni fun ann -&gt; f (Term name uni fun ann)
</span
	><a href="UntypedPlutusCore.Core.Plated.html#termSubtermsDeep"
	><span class="hs-identifier hs-var"
	  >termSubtermsDeep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term name uni fun ann
</span
	><a href="#local-6989586621681941091"
	><span class="hs-identifier hs-var"
	  >tm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term name uni fun ann -&gt; m ()
forall ann name (m :: * -&gt; *) (uni :: * -&gt; *) fun.
(Ord ann, HasUnique name TermUnique,
 MonadState (UniqueInfos ann) m, MonadWriter [UniqueError ann] m) =&gt;
Term name uni fun ann -&gt; m ()
</span
	><a href="UntypedPlutusCore.Analysis.Definitions.html#handleTerm"
	><span class="hs-identifier hs-var"
	  >handleTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span id="local-6989586621681941094"
      ><span id="local-6989586621681941095"
	><span id="local-6989586621681941096"
	  ><span id="local-6989586621681941097"
	    ><span id="local-6989586621681941098"
	      ><span class="annot"
		><a href="UntypedPlutusCore.Analysis.Definitions.html#handleTerm"
		  ><span class="hs-identifier hs-type"
		    >handleTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Ord"
		  ><span class="hs-identifier hs-type"
		    >Ord</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941094"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		>
</span
		><span id="line-33"
		></span
		><span
		>        </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941095"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		>
</span
		><span id="line-34"
		></span
		><span
		>        </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#MonadState"
		  ><span class="hs-identifier hs-type"
		    >MonadState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.Analysis.Definitions.html#UniqueInfos"
		  ><span class="hs-identifier hs-type"
		    >UniqueInfos</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941094"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941096"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		>
</span
		><span id="line-35"
		></span
		><span
		>        </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Writer.Class.html#MonadWriter"
		  ><span class="hs-identifier hs-type"
		    >MonadWriter</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>[</span
		><span class="annot"
		><a href="PlutusCore.Error.html#UniqueError"
		  ><span class="hs-identifier hs-type"
		    >UniqueError</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941094"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>]</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941096"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-36"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="UntypedPlutusCore.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941095"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941097"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941098"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941094"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-37"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941096"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span id="handleTerm"
      ><span class="annot"
	><span class="annottext"
	  >handleTerm :: forall ann name (m :: * -&gt; *) (uni :: * -&gt; *) fun.
(Ord ann, HasUnique name TermUnique,
 MonadState (UniqueInfos ann) m, MonadWriter [UniqueError ann] m) =&gt;
Term name uni fun ann -&gt; m ()
</span
	  ><a href="UntypedPlutusCore.Analysis.Definitions.html#handleTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >handleTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#Var"
	><span class="hs-identifier hs-type"
	  >Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681941116"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681941116"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681941117"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621681941117"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; ann -&gt; ScopeType -&gt; m ()
forall ann n unique (m :: * -&gt; *).
(Ord ann, HasUnique n unique, MonadState (UniqueInfos ann) m,
 MonadWriter [UniqueError ann] m) =&gt;
n -&gt; ann -&gt; ScopeType -&gt; m ()
</span
	><a href="PlutusCore.Analysis.Definitions.html#addUsage"
	><span class="hs-identifier hs-var"
	  >addUsage</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621681941117"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681941116"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ScopeType
</span
	><a href="PlutusCore.Analysis.Definitions.html#TermScope"
	><span class="hs-identifier hs-var"
	  >TermScope</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-type"
	  >LamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681941119"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681941119"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681941120"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621681941120"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term name uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; ann -&gt; ScopeType -&gt; m ()
forall ann n unique (m :: * -&gt; *).
(Ord ann, HasUnique n unique, MonadState (UniqueInfos ann) m,
 MonadWriter [UniqueError ann] m) =&gt;
n -&gt; ann -&gt; ScopeType -&gt; m ()
</span
	><a href="PlutusCore.Analysis.Definitions.html#addDef"
	><span class="hs-identifier hs-var"
	  >addDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621681941120"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681941119"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ScopeType
</span
	><a href="PlutusCore.Analysis.Definitions.html#TermScope"
	><span class="hs-identifier hs-var"
	  >TermScope</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Term name uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >               </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; m ()
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span id="local-6989586621681941025"
      ><span id="local-6989586621681941026"
	><span id="local-6989586621681941027"
	  ><span id="local-6989586621681941028"
	    ><span id="local-6989586621681941029"
	      ><span class="annot"
		><a href="UntypedPlutusCore.Analysis.Definitions.html#runTermDefs"
		  ><span class="hs-identifier hs-type"
		    >runTermDefs</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-46"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Ord"
		  ><span class="hs-identifier hs-type"
		    >Ord</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941025"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		>
</span
		><span id="line-47"
		></span
		><span
		>        </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941026"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		>
</span
		><span id="line-48"
		></span
		><span
		>        </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Monad"
		  ><span class="hs-identifier hs-type"
		    >Monad</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941027"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-49"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="UntypedPlutusCore.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941026"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941028"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941029"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941025"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-50"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941027"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.Analysis.Definitions.html#UniqueInfos"
		  ><span class="hs-identifier hs-type"
		    >UniqueInfos</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941025"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		> </span
		><span class="hs-special"
		>[</span
		><span class="annot"
		><a href="PlutusCore.Error.html#UniqueError"
		  ><span class="hs-identifier hs-type"
		    >UniqueError</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681941025"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>]</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span id="runTermDefs"
      ><span class="annot"
	><span class="annottext"
	  >runTermDefs :: forall ann name (m :: * -&gt; *) (uni :: * -&gt; *) fun.
(Ord ann, HasUnique name TermUnique, Monad m) =&gt;
Term name uni fun ann -&gt; m (UniqueInfos ann, [UniqueError ann])
</span
	  ><a href="UntypedPlutusCore.Analysis.Definitions.html#runTermDefs"
	  ><span class="hs-identifier hs-var hs-var"
	    >runTermDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WriterT [UniqueError ann] m (UniqueInfos ann)
-&gt; m (UniqueInfos ann, [UniqueError ann])
forall w (m :: * -&gt; *) a. WriterT w m a -&gt; m (a, w)
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Writer.Lazy.html#runWriterT"
	><span class="hs-identifier hs-var"
	  >runWriterT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(WriterT [UniqueError ann] m (UniqueInfos ann)
 -&gt; m (UniqueInfos ann, [UniqueError ann]))
-&gt; (Term name uni fun ann
    -&gt; WriterT [UniqueError ann] m (UniqueInfos ann))
-&gt; Term name uni fun ann
-&gt; m (UniqueInfos ann, [UniqueError ann])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (UniqueInfos ann) (WriterT [UniqueError ann] m) ()
 -&gt; UniqueInfos ann
 -&gt; WriterT [UniqueError ann] m (UniqueInfos ann))
-&gt; UniqueInfos ann
-&gt; StateT (UniqueInfos ann) (WriterT [UniqueError ann] m) ()
-&gt; WriterT [UniqueError ann] m (UniqueInfos ann)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#flip"
	><span class="hs-identifier hs-var"
	  >flip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (UniqueInfos ann) (WriterT [UniqueError ann] m) ()
-&gt; UniqueInfos ann -&gt; WriterT [UniqueError ann] m (UniqueInfos ann)
forall (m :: * -&gt; *) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m s
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.State.Lazy.html#execStateT"
	><span class="hs-identifier hs-var"
	  >execStateT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueInfos ann
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (UniqueInfos ann) (WriterT [UniqueError ann] m) ()
 -&gt; WriterT [UniqueError ann] m (UniqueInfos ann))
-&gt; (Term name uni fun ann
    -&gt; StateT (UniqueInfos ann) (WriterT [UniqueError ann] m) ())
-&gt; Term name uni fun ann
-&gt; WriterT [UniqueError ann] m (UniqueInfos ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term name uni fun ann
-&gt; StateT (UniqueInfos ann) (WriterT [UniqueError ann] m) ()
forall ann name (m :: * -&gt; *) (uni :: * -&gt; *) fun.
(Ord ann, HasUnique name TermUnique,
 MonadState (UniqueInfos ann) m, MonadWriter [UniqueError ann] m) =&gt;
Term name uni fun ann -&gt; m ()
</span
	><a href="UntypedPlutusCore.Analysis.Definitions.html#termDefs"
	><span class="hs-identifier hs-var"
	  >termDefs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ></pre
    ></body
  ></html
>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-comment"
      >-- editorconfig-checker-disable-file</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-comment"
      >-- | The CEK machine.</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-comment"
      >-- The CEK machine relies on variables having non-equal 'Unique's whenever they have non-equal</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span class="hs-comment"
      >-- string names. I.e. 'Unique's are used instead of string names. This is for efficiency reasons.</span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="hs-comment"
      >-- The CEK machines handles name capture by design.</span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE BangPatterns          #-}</span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ConstraintKinds       #-}</span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE DataKinds             #-}</span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleInstances     #-}</span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ImplicitParams        #-}</span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE LambdaCase            #-}</span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE MultiParamTypeClasses #-}</span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE NPlusKPatterns        #-}</span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE NamedFieldPuns        #-}</span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE OverloadedStrings     #-}</span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE RankNTypes            #-}</span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ScopedTypeVariables   #-}</span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeApplications      #-}</span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeFamilies          #-}</span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeOperators         #-}</span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE UndecidableInstances  #-}</span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal</span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
	><span class="hs-identifier"
	  >CekState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#contextAnn"
	><span class="hs-identifier"
	  >contextAnn</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#liftCek"
	><span class="hs-identifier"
	  >liftCek</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/primitive-0.9.1.0/docs/src/Control.Monad.Primitive.html#PrimMonad"
	><span class="hs-identifier"
	  >PrimMonad</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#lenContext"
	><span class="hs-identifier"
	  >lenContext</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekStateContext"
	><span class="hs-identifier"
	  >cekStateContext</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekStateAnn"
	><span class="hs-identifier"
	  >cekStateAnn</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#runCekDeBruijn"
	><span class="hs-identifier"
	  >runCekDeBruijn</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier"
	  >computeCek</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier"
	  >returnCek</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#mkCekTrans"
	><span class="hs-identifier"
	  >mkCekTrans</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekTrans"
	><span class="hs-identifier"
	  >CekTrans</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-37"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#nilSlippage"
	><span class="hs-identifier"
	  >nilSlippage</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html"
	><span class="hs-identifier"
	  >UntypedPlutusCore.Evaluation.Machine.Cek.Internal</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.html"
	><span class="hs-identifier"
	  >PlutusCore.Builtin</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.DeBruijn.html"
	><span class="hs-identifier"
	  >PlutusCore.DeBruijn</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Machine.ExBudget.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.ExBudget</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Machine.ExBudgetStream.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.ExBudgetStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Machine.Exception.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.Exception</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-47"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Machine.MachineParameters.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.MachineParameters</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-48"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Result.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Result</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-49"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusPrelude.html"
	><span class="hs-identifier"
	  >PlutusPrelude</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-50"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.html"
	><span class="hs-identifier"
	  >UntypedPlutusCore.Core</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html"
	><span class="hs-identifier"
	  >UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#CekMachineCosts"
	><span class="hs-identifier"
	  >CekMachineCosts</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ><span
      >                                                                 </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#CekMachineCostsBase"
	><span class="hs-identifier"
	  >CekMachineCostsBase</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html"
	><span class="hs-identifier"
	  >UntypedPlutusCore.Evaluation.Machine.Cek.Internal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >hiding</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#Context"
	><span class="hs-identifier"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#runCekDeBruijn"
	><span class="hs-identifier"
	  >runCekDeBruijn</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span
      >                                                          </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#transferArgStack"
	><span class="hs-identifier"
	  >transferArgStack</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-55"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.StepCounter.html"
	><span class="hs-identifier"
	  >UntypedPlutusCore.Evaluation.Machine.Cek.StepCounter</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-56"
      ></span
      ><span
      >
</span
      ><span id="line-57"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Control.Lens</span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >hiding</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier"
	>Context</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-58"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html"
	><span class="hs-identifier"
	  >Control.Monad</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-59"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/primitive-0.9.1.0/docs/src/Control.Monad.Primitive.html"
	><span class="hs-identifier"
	  >Control.Monad.Primitive</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-60"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Proxy.html"
	><span class="hs-identifier"
	  >Data.Proxy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-61"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.RandomAccessList.Class.html"
	><span class="hs-identifier"
	  >Data.RandomAccessList.Class</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Env</span
	></span
      ><span
      >
</span
      ><span id="line-62"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Semigroup.html"
	><span class="hs-identifier"
	  >Data.Semigroup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#stimes"
	><span class="hs-identifier"
	  >stimes</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-63"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.html"
	><span class="hs-identifier"
	  >Data.Text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier"
	  >Text</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-64"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/vector-0.13.2.0/docs/src/Data.Vector.html"
	><span class="hs-identifier"
	  >Data.Vector</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>V</span
	></span
      ><span
      >
</span
      ><span id="line-65"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Word.html"
	><span class="hs-identifier"
	  >Data.Word</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Word.html#Word64"
	><span class="hs-identifier"
	  >Word64</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-66"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.TypeNats.html"
	><span class="hs-identifier"
	  >GHC.TypeNats</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-67"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="Universe.html"
	><span class="hs-identifier"
	  >Universe</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-68"
      ></span
      ><span
      >
</span
      ><span id="line-69"
      ></span
      ><span class="hs-comment"
      >{- Note [Debuggable vs Original versions of CEK]

The debuggable version of CEK was created from copying over the original CEK/Internal.hs module
and modifying the `computeCek`, `returnCek` functions.
These functions were modified so as to execute a single step (Compute or Return resp.) and immediately
return with the CEK's machine new state (`CekState`), whereas previously these two functions would iteratively run to completion.

The interface otherwise remains the same. Moreover, the `Original.runCekDeBruijn` and `Debug.runCekDeBruijn` must behave equivalently.
-}</span
      ><span
      >
</span
      ><span id="line-78"
      ></span
      ><span
      >
</span
      ><span id="line-79"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="CekState"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
	  ><span class="hs-identifier hs-var"
	    >CekState</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951674"
      ><span class="annot"
	><a href="#local-6989586621681951674"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951675"
      ><span class="annot"
	><a href="#local-6989586621681951675"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951676"
      ><span class="annot"
	><a href="#local-6989586621681951676"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-80"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- loaded a term but not fired the cek yet</span
      ><span
      >
</span
      ><span id="line-81"
      ></span
      ><span
      >    </span
      ><span id="Starting"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Starting"
	  ><span class="hs-identifier hs-var"
	    >Starting</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
	><span class="hs-identifier hs-type"
	  >NTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951674"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951675"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951676"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-82"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- the next state is computing</span
      ><span
      >
</span
      ><span id="line-83"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="Computing"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	  ><span class="hs-identifier hs-var"
	    >Computing</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951674"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951675"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951676"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValEnv"
	><span class="hs-identifier hs-type"
	  >CekValEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951674"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951675"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951676"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
	><span class="hs-identifier hs-type"
	  >NTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951674"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951675"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951676"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-84"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- the next state is returning</span
      ><span
      >
</span
      ><span id="line-85"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="Returning"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	  ><span class="hs-identifier hs-var"
	    >Returning</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951674"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951675"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951676"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
	><span class="hs-identifier hs-type"
	  >CekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951674"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951675"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951676"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-86"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- evaluation finished</span
      ><span
      >
</span
      ><span id="line-87"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="Terminating"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Terminating"
	  ><span class="hs-identifier hs-var"
	    >Terminating</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
	><span class="hs-identifier hs-type"
	  >NTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951674"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951675"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-88"
      ></span
      ><span
      >
</span
      ><span id="line-89"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621681951554"
      ><span id="local-6989586621681951555"
	><span id="local-6989586621681951556"
	  ><span id="local-6989586621681951999"
	    ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#Pretty"
		><span class="hs-identifier hs-type"
		  >Pretty</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
		><span class="hs-identifier hs-type"
		  >CekState</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951554"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951555"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951556"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-90"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681952008"
      ><span class="annot"
	><span class="annottext"
	  >pretty :: forall ann. CekState uni fun ann -&gt; Doc ann
</span
	  ><a href="#local-6989586621681952008"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >pretty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-91"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Starting"
	><span class="hs-identifier hs-type"
	  >Starting</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;Starting&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-92"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-type"
	  >Computing</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;Computing&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-93"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-type"
	  >Returning</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;Returning&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-94"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Terminating"
	><span class="hs-identifier hs-type"
	  >Terminating</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;Terminating&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-95"
      ></span
      ><span
      >
</span
      ><span id="line-96"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Similar to 'Cek.Internal.Context', but augmented with an 'ann'</span
	></span
      ><span
      >
</span
      ><span id="line-97"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="Context"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	  ><span class="hs-identifier hs-var"
	    >Context</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951599"
      ><span class="annot"
	><a href="#local-6989586621681951599"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951600"
      ><span class="annot"
	><a href="#local-6989586621681951600"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951598"
      ><span class="annot"
	><a href="#local-6989586621681951598"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-98"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="FrameAwaitArg"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitArg"
	  ><span class="hs-identifier hs-var"
	    >FrameAwaitArg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
	><span class="hs-identifier hs-type"
	  >CekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >                         </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ @[V _]@</span
	></span
      ><span
      >
</span
      ><span id="line-99"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="FrameAwaitFunTerm"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunTerm"
	  ><span class="hs-identifier hs-var"
	    >FrameAwaitFunTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValEnv"
	><span class="hs-identifier hs-type"
	  >CekValEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
	><span class="hs-identifier hs-type"
	  >NTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ @[_ N]@</span
	></span
      ><span
      >
</span
      ><span id="line-100"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="FrameAwaitFunValue"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunValue"
	  ><span class="hs-identifier hs-var"
	    >FrameAwaitFunValue</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
	><span class="hs-identifier hs-type"
	  >CekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-101"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="FrameForce"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameForce"
	  ><span class="hs-identifier hs-var"
	    >FrameForce</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >                                               </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ @(force _)@</span
	></span
      ><span
      >
</span
      ><span id="line-102"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="FrameConstr"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameConstr"
	  ><span class="hs-identifier hs-var"
	    >FrameConstr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValEnv"
	><span class="hs-identifier hs-type"
	  >CekValEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-pragma"
      >{-# UNPACK</span
      ><span
      > </span
      ><span class="hs-pragma"
      >#-}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Word.html#Word64"
	><span class="hs-identifier hs-type"
	  >Word64</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
	><span class="hs-identifier hs-type"
	  >NTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#ArgStack"
	><span class="hs-identifier hs-type"
	  >ArgStack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-103"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="FrameCases"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameCases"
	  ><span class="hs-identifier hs-var"
	    >FrameCases</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValEnv"
	><span class="hs-identifier hs-type"
	  >CekValEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/vector-0.13.2.0/docs/src/Data.Vector.html#Vector"
	><span class="hs-identifier hs-type"
	  >V.Vector</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
	><span class="hs-identifier hs-type"
	  >NTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951599"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951600"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951598"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-104"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="NoFrame"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#NoFrame"
	  ><span class="hs-identifier hs-var"
	    >NoFrame</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-105"
      ></span
      ><span
      >
</span
      ><span id="line-106"
      ></span
      ><span id="local-6989586621681952023"
      ><span id="local-6989586621681952067"
	><span id="local-6989586621681952071"
	  ><span class="hs-keyword"
	    >deriving</span
	    ><span
	    > </span
	    ><span id="local-6989586621681951589"
	    ><span id="local-6989586621681951590"
	      ><span id="local-6989586621681951591"
		><span class="annot"
		  ><a href="#local-6989586621681951589"
		    ><span class="hs-keyword hs-type hs-type hs-type"
		      >stock</span
		      ></a
		    ></span
		  ></span
		></span
	      ></span
	    ><span
	    > </span
	    ><span class="hs-keyword"
	    >instance</span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/some-1.0.6/docs/src/Data.GADT.Internal.html#GShow"
	      ><span class="hs-identifier hs-type"
		>GShow</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951589"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span class="hs-special"
	    >,</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="Universe.Core.html#Everywhere"
	      ><span class="hs-identifier hs-type"
		>Everywhere</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951589"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#Show"
	      ><span class="hs-identifier hs-type"
		>Show</span
		></a
	      ></span
	    ><span class="hs-special"
	    >,</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#Show"
	      ><span class="hs-identifier hs-type"
		>Show</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951590"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span class="hs-special"
	    >,</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#Show"
	      ><span class="hs-identifier hs-type"
		>Show</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951591"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span class="hs-special"
	    >,</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="Universe.Core.html#Closed"
	      ><span class="hs-identifier hs-type"
		>Closed</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951589"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    >
</span
	    ><span id="line-107"
	    ></span
	    ><span
	    >    </span
	    ><span class="hs-glyph"
	    >=&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#Show"
	      ><span class="hs-identifier hs-type"
		>Show</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	      ><span class="hs-identifier hs-type"
		>Context</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951589"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951590"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951591"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-108"
      ></span
      ><span
      >
</span
      ><span id="line-109"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Transfers an 'ArgStack' to a series of 'Context' frames.</span
	></span
      ><span
      >
</span
      ><span id="line-110"
      ></span
      ><span id="local-6989586621681951592"
      ><span id="local-6989586621681951593"
	><span id="local-6989586621681951594"
	  ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#transferArgStack"
	      ><span class="hs-identifier hs-type"
		>transferArgStack</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951592"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#ArgStack"
	      ><span class="hs-identifier hs-type"
		>ArgStack</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951593"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951594"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951592"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	      ><span class="hs-identifier hs-type"
		>Context</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951593"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951594"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951592"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	      ><span class="hs-identifier hs-type"
		>Context</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951593"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951594"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951592"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-111"
      ></span
      ><span id="transferArgStack"
      ><span class="annot"
	><span class="annottext"
	  >transferArgStack :: forall ann (uni :: * -&gt; *) fun.
ann
-&gt; ArgStack uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#transferArgStack"
	  ><span class="hs-identifier hs-var hs-var"
	    >transferArgStack</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952077"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952077"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann -&gt; Context uni fun ann -&gt; Context uni fun ann
</span
	><a href="#local-6989586621681952078"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-112"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-113"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681952078"
      ><span class="annot"
	><span class="annottext"
	  >go :: ArgStack uni fun ann -&gt; Context uni fun ann -&gt; Context uni fun ann
</span
	  ><a href="#local-6989586621681952078"
	  ><span class="hs-identifier hs-var hs-var"
	    >go</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#EmptyStack"
	><span class="hs-identifier hs-var"
	  >EmptyStack</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952080"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952080"
	  ><span class="hs-identifier hs-var"
	    >c</span
	    ></a
	  ></span
	></span
      ><span
      >           </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952080"
	><span class="hs-identifier hs-var"
	  >c</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-114"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621681952078"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#ConsStack"
	><span class="hs-identifier hs-type"
	  >ConsStack</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952082"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952082"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952083"
      ><span class="annot"
	><span class="annottext"
	  >ArgStack uni fun ann
</span
	  ><a href="#local-6989586621681952083"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621681952084"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952084"
	  ><span class="hs-identifier hs-var"
	    >c</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann -&gt; Context uni fun ann -&gt; Context uni fun ann
</span
	><a href="#local-6989586621681952078"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
</span
	><a href="#local-6989586621681952083"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; CekValue uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
forall (uni :: * -&gt; *) fun ann.
ann
-&gt; CekValue uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunValue"
	><span class="hs-identifier hs-var"
	  >FrameAwaitFunValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952077"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952082"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952084"
	><span class="hs-identifier hs-var"
	  >c</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-115"
      ></span
      ><span
      >
</span
      ><span id="line-116"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Transfers a 'Spine' of contant values onto the stack. The first argument will be at the top of the stack.</span
	></span
      ><span
      >
</span
      ><span id="line-117"
      ></span
      ><span id="local-6989586621681951601"
      ><span id="local-6989586621681951602"
	><span id="local-6989586621681951606"
	  ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#transferConstantSpine"
	      ><span class="hs-identifier hs-type"
		>transferConstantSpine</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951601"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="PlutusCore.Builtin.KnownType.html#Spine"
	      ><span class="hs-identifier hs-type"
		>Spine</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/some-1.0.6/docs/src/Data.Some.Newtype.html#Some"
	      ><span class="hs-identifier hs-type"
		>Some</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="Universe.Core.html#ValueOf"
	      ><span class="hs-identifier hs-type"
		>ValueOf</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951602"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	      ><span class="hs-identifier hs-type"
		>Context</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951602"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951606"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951601"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	      ><span class="hs-identifier hs-type"
		>Context</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951602"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951606"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951601"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-118"
      ></span
      ><span id="transferConstantSpine"
      ><span class="annot"
	><span class="annottext"
	  >transferConstantSpine :: forall ann (uni :: * -&gt; *) fun.
ann
-&gt; Spine (Some (ValueOf uni))
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#transferConstantSpine"
	  ><span class="hs-identifier hs-var hs-var"
	    >transferConstantSpine</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952088"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952088"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952089"
      ><span class="annot"
	><span class="annottext"
	  >Spine (Some (ValueOf uni))
</span
	  ><a href="#local-6989586621681952089"
	  ><span class="hs-identifier hs-var"
	    >args</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952090"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952090"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Some (ValueOf uni) -&gt; Context uni fun ann -&gt; Context uni fun ann)
-&gt; Context uni fun ann
-&gt; Spine (Some (ValueOf uni))
-&gt; Context uni fun ann
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Spine a -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#foldr"
	><span class="hs-identifier hs-var"
	  >foldr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; CekValue uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
forall (uni :: * -&gt; *) fun ann.
ann
-&gt; CekValue uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunValue"
	><span class="hs-identifier hs-var"
	  >FrameAwaitFunValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952088"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekValue uni fun ann
 -&gt; Context uni fun ann -&gt; Context uni fun ann)
-&gt; (Some (ValueOf uni) -&gt; CekValue uni fun ann)
-&gt; Some (ValueOf uni)
-&gt; Context uni fun ann
-&gt; Context uni fun ann
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Some (ValueOf uni) -&gt; CekValue uni fun ann
forall (uni :: * -&gt; *) fun ann.
Some (ValueOf uni) -&gt; CekValue uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VCon"
	><span class="hs-identifier hs-var"
	  >VCon</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952090"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Spine (Some (ValueOf uni))
</span
	><a href="#local-6989586621681952089"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-119"
      ></span
      ><span
      >
</span
      ><span id="line-120"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-type"
	  >computeCek</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-121"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621681951619"
      ><span class="annot"
	><a href="#local-6989586621681951619"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951620"
      ><span class="annot"
	><a href="#local-6989586621681951620"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951622"
      ><span class="annot"
	><a href="#local-6989586621681951622"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951623"
      ><span class="annot"
	><a href="#local-6989586621681951623"
	  ><span class="hs-identifier hs-type"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-122"
      ></span
      ><span
      >    </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
	><span class="hs-identifier hs-type"
	  >ThrowableBuiltins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951619"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951620"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#GivenCekReqs"
	><span class="hs-identifier hs-type"
	  >GivenCekReqs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951619"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951620"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951622"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951623"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-123"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951619"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951620"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951622"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-124"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValEnv"
	><span class="hs-identifier hs-type"
	  >CekValEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951619"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951620"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951622"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-125"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
	><span class="hs-identifier hs-type"
	  >NTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951619"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951620"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951622"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-126"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
	><span class="hs-identifier hs-type"
	  >CekM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951619"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951620"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951623"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
	><span class="hs-identifier hs-type"
	  >CekState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951619"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951620"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951622"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-127"
      ></span
      ><span class="hs-comment"
      >-- s ; &#961; &#9659; {L A}  &#8614; s , {_ A} ; &#961; &#9659; L</span
      ><span
      >
</span
      ><span id="line-128"
      ></span
      ><span id="computeCek"
      ><span class="annot"
	><span class="annottext"
	  >computeCek :: forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	  ><span class="hs-identifier hs-var hs-var"
	    >computeCek</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952156"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952156"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952157"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952157"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#Var"
	><span class="hs-identifier hs-type"
	  >Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952159"
      ><span class="annot"
	><span class="annottext"
	  >NamedDeBruijn
</span
	  ><a href="#local-6989586621681952159"
	  ><span class="hs-identifier hs-var"
	    >varName</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-129"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
StepKind -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
	><span class="hs-identifier hs-var"
	  >stepAndMaybeSpend</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BVar"
	><span class="hs-identifier hs-var"
	  >BVar</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-130"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681952162"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952162"
	  ><span class="hs-identifier hs-var"
	    >val</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NamedDeBruijn
-&gt; CekValEnv uni fun ann -&gt; CekM uni fun s (CekValue uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
ThrowableBuiltins uni fun =&gt;
NamedDeBruijn
-&gt; CekValEnv uni fun ann -&gt; CekM uni fun s (CekValue uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#lookupVarName"
	><span class="hs-identifier hs-var"
	  >lookupVarName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NamedDeBruijn
</span
	><a href="#local-6989586621681952159"
	><span class="hs-identifier hs-var"
	  >varName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952157"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-131"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-var"
	  >Returning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952156"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952162"
	><span class="hs-identifier hs-var"
	  >val</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-132"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952164"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952164"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#Constant"
	><span class="hs-identifier hs-type"
	  >Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952166"
      ><span class="annot"
	><span class="annottext"
	  >Some (ValueOf uni)
</span
	  ><a href="#local-6989586621681952166"
	  ><span class="hs-identifier hs-var"
	    >val</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-133"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
StepKind -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
	><span class="hs-identifier hs-var"
	  >stepAndMaybeSpend</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BConst"
	><span class="hs-identifier hs-var"
	  >BConst</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-134"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-var"
	  >Returning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952164"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Some (ValueOf uni) -&gt; CekValue uni fun ann
forall (uni :: * -&gt; *) fun ann.
Some (ValueOf uni) -&gt; CekValue uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VCon"
	><span class="hs-identifier hs-var"
	  >VCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Some (ValueOf uni)
</span
	><a href="#local-6989586621681952166"
	><span class="hs-identifier hs-var"
	  >val</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-135"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952168"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952168"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952169"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952169"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-type"
	  >LamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952171"
      ><span class="annot"
	><span class="annottext"
	  >NamedDeBruijn
</span
	  ><a href="#local-6989586621681952171"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952172"
      ><span class="annot"
	><span class="annottext"
	  >Term NamedDeBruijn uni fun ann
</span
	  ><a href="#local-6989586621681952172"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-136"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
StepKind -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
	><span class="hs-identifier hs-var"
	  >stepAndMaybeSpend</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BLamAbs"
	><span class="hs-identifier hs-var"
	  >BLamAbs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-137"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-var"
	  >Returning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952168"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NamedDeBruijn
-&gt; Term NamedDeBruijn uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; CekValue uni fun ann
forall (uni :: * -&gt; *) fun ann.
NamedDeBruijn
-&gt; NTerm uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; CekValue uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VLamAbs"
	><span class="hs-identifier hs-var"
	  >VLamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NamedDeBruijn
</span
	><a href="#local-6989586621681952171"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann
</span
	><a href="#local-6989586621681952172"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952169"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-138"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952175"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952175"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952176"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952176"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#Delay"
	><span class="hs-identifier hs-type"
	  >Delay</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952178"
      ><span class="annot"
	><span class="annottext"
	  >Term NamedDeBruijn uni fun ann
</span
	  ><a href="#local-6989586621681952178"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-139"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
StepKind -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
	><span class="hs-identifier hs-var"
	  >stepAndMaybeSpend</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BDelay"
	><span class="hs-identifier hs-var"
	  >BDelay</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-140"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-var"
	  >Returning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952175"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann
-&gt; CekValEnv uni fun ann -&gt; CekValue uni fun ann
forall (uni :: * -&gt; *) fun ann.
NTerm uni fun ann -&gt; CekValEnv uni fun ann -&gt; CekValue uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VDelay"
	><span class="hs-identifier hs-var"
	  >VDelay</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann
</span
	><a href="#local-6989586621681952178"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952176"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-141"
      ></span
      ><span class="hs-comment"
      >-- s ; &#961; &#9659; lam x L  &#8614;  s &#9669; lam x (L , &#961;)</span
      ><span
      >
</span
      ><span id="line-142"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952181"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952181"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952182"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952182"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#Force"
	><span class="hs-identifier hs-type"
	  >Force</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952184"
      ><span class="annot"
	><span class="annottext"
	  >Term NamedDeBruijn uni fun ann
</span
	  ><a href="#local-6989586621681952184"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-143"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
StepKind -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
	><span class="hs-identifier hs-var"
	  >stepAndMaybeSpend</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BForce"
	><span class="hs-identifier hs-var"
	  >BForce</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-144"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; Term NamedDeBruijn uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Context uni fun ann -&gt; Context uni fun ann
forall (uni :: * -&gt; *) fun ann.
ann -&gt; Context uni fun ann -&gt; Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameForce"
	><span class="hs-identifier hs-var"
	  >FrameForce</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann -&gt; ann
forall name (uni :: * -&gt; *) fun ann. Term name uni fun ann -&gt; ann
</span
	><a href="UntypedPlutusCore.Core.Type.html#termAnn"
	><span class="hs-identifier hs-var"
	  >termAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann
</span
	><a href="#local-6989586621681952184"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952181"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952182"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann
</span
	><a href="#local-6989586621681952184"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-145"
      ></span
      ><span class="hs-comment"
      >-- s ; &#961; &#9659; [L M]  &#8614;  s , [_ (M,&#961;)]  ; &#961; &#9659; L</span
      ><span
      >
</span
      ><span id="line-146"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952187"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952187"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952188"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952188"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#Apply"
	><span class="hs-identifier hs-type"
	  >Apply</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952190"
      ><span class="annot"
	><span class="annottext"
	  >Term NamedDeBruijn uni fun ann
</span
	  ><a href="#local-6989586621681952190"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952191"
      ><span class="annot"
	><span class="annottext"
	  >Term NamedDeBruijn uni fun ann
</span
	  ><a href="#local-6989586621681952191"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-147"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
StepKind -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
	><span class="hs-identifier hs-var"
	  >stepAndMaybeSpend</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BApply"
	><span class="hs-identifier hs-var"
	  >BApply</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-148"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; Term NamedDeBruijn uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; CekValEnv uni fun ann
-&gt; Term NamedDeBruijn uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
forall (uni :: * -&gt; *) fun ann.
ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunTerm"
	><span class="hs-identifier hs-var"
	  >FrameAwaitFunTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann -&gt; ann
forall name (uni :: * -&gt; *) fun ann. Term name uni fun ann -&gt; ann
</span
	><a href="UntypedPlutusCore.Core.Type.html#termAnn"
	><span class="hs-identifier hs-var"
	  >termAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann
</span
	><a href="#local-6989586621681952190"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952188"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann
</span
	><a href="#local-6989586621681952191"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952187"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952188"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann
</span
	><a href="#local-6989586621681952190"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-149"
      ></span
      ><span class="hs-comment"
      >-- s ; &#961; &#9659; abs &#945; L  &#8614;  s &#9669; abs &#945; (L , &#961;)</span
      ><span
      >
</span
      ><span id="line-150"
      ></span
      ><span class="hs-comment"
      >-- s ; &#961; &#9659; con c  &#8614;  s &#9669; con c</span
      ><span
      >
</span
      ><span id="line-151"
      ></span
      ><span class="hs-comment"
      >-- s ; &#961; &#9659; builtin bn  &#8614;  s &#9669; builtin bn arity arity [] [] &#961;</span
      ><span
      >
</span
      ><span id="line-152"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952193"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952193"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#Builtin"
	><span class="hs-identifier hs-type"
	  >Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952195"
      ><span class="annot"
	><span class="annottext"
	  >fun
</span
	  ><a href="#local-6989586621681952195"
	  ><span class="hs-identifier hs-var"
	    >bn</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-153"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
StepKind -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
	><span class="hs-identifier hs-var"
	  >stepAndMaybeSpend</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BBuiltin"
	><span class="hs-identifier hs-var"
	  >BBuiltin</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-154"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681952197"
      ><span class="annot"
	><span class="annottext"
	  >meaning :: BuiltinRuntime (CekValue uni fun ann)
</span
	  ><a href="#local-6989586621681952197"
	  ><span class="hs-identifier hs-var hs-var"
	    >meaning</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
-&gt; BuiltinsRuntime fun (CekValue uni fun ann)
-&gt; BuiltinRuntime (CekValue uni fun ann)
forall fun val.
fun -&gt; BuiltinsRuntime fun val -&gt; BuiltinRuntime val
</span
	><a href="PlutusCore.Builtin.Runtime.html#lookupBuiltin"
	><span class="hs-identifier hs-var"
	  >lookupBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621681952195"
	><span class="hs-identifier hs-var"
	  >bn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>?cekRuntime::BuiltinsRuntime fun (CekValue uni fun ann)
BuiltinsRuntime fun (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952127"
	><span class="hs-var"
	  >?cekRuntime</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-155"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- 'Builtin' is fully discharged.</span
      ><span
      >
</span
      ><span id="line-156"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-var"
	  >Returning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952193"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>fun
-&gt; Term NamedDeBruijn uni fun ()
-&gt; BuiltinRuntime (CekValue uni fun ann)
-&gt; CekValue uni fun ann
forall (uni :: * -&gt; *) fun ann.
fun
-&gt; NTerm uni fun ()
-&gt; BuiltinRuntime (CekValue uni fun ann)
-&gt; CekValue uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VBuiltin"
	><span class="hs-identifier hs-var"
	  >VBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621681952195"
	><span class="hs-identifier hs-var"
	  >bn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; fun -&gt; Term NamedDeBruijn uni fun ()
forall name (uni :: * -&gt; *) fun ann.
ann -&gt; fun -&gt; Term name uni fun ann
</span
	><a href="UntypedPlutusCore.Core.Type.html#Builtin"
	><span class="hs-identifier hs-var"
	  >Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621681952195"
	><span class="hs-identifier hs-var"
	  >bn</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinRuntime (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952197"
	><span class="hs-identifier hs-var"
	  >meaning</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-157"
      ></span
      ><span class="hs-comment"
      >-- s ; &#961; &#9659; constr I T0 .. Tn  &#8614;  s , constr I _ (T1 ... Tn, &#961;) ; &#961; &#9659; T0</span
      ><span
      >
</span
      ><span id="line-158"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952200"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952200"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952201"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952201"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#Constr"
	><span class="hs-identifier hs-type"
	  >Constr</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952203"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952203"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952204"
      ><span class="annot"
	><span class="annottext"
	  >Word64
</span
	  ><a href="#local-6989586621681952204"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952205"
      ><span class="annot"
	><span class="annottext"
	  >[Term NamedDeBruijn uni fun ann]
</span
	  ><a href="#local-6989586621681952205"
	  ><span class="hs-identifier hs-var"
	    >es</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-159"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
StepKind -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
	><span class="hs-identifier hs-var"
	  >stepAndMaybeSpend</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BConstr"
	><span class="hs-identifier hs-var"
	  >BConstr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-160"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term NamedDeBruijn uni fun ann]
</span
	><a href="#local-6989586621681952205"
	><span class="hs-identifier hs-var"
	  >es</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-161"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621681952207"
      ><span class="annot"
	><span class="annottext"
	  >Term NamedDeBruijn uni fun ann
</span
	  ><a href="#local-6989586621681952207"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952208"
      ><span class="annot"
	><span class="annottext"
	  >[Term NamedDeBruijn uni fun ann]
</span
	  ><a href="#local-6989586621681952208"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; Term NamedDeBruijn uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; CekValEnv uni fun ann
-&gt; Word64
-&gt; [Term NamedDeBruijn uni fun ann]
-&gt; ArgStack uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
forall (uni :: * -&gt; *) fun ann.
ann
-&gt; CekValEnv uni fun ann
-&gt; Word64
-&gt; [NTerm uni fun ann]
-&gt; ArgStack uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameConstr"
	><span class="hs-identifier hs-var"
	  >FrameConstr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952203"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952201"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><a href="#local-6989586621681952204"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term NamedDeBruijn uni fun ann]
</span
	><a href="#local-6989586621681952208"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
forall (uni :: * -&gt; *) fun ann. ArgStack uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#EmptyStack"
	><span class="hs-identifier hs-var"
	  >EmptyStack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952200"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952201"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann
</span
	><a href="#local-6989586621681952207"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-162"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >         </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-var"
	  >Returning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952200"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekValue uni fun ann -&gt; CekState uni fun ann)
-&gt; CekValue uni fun ann -&gt; CekState uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64 -&gt; ArgStack uni fun ann -&gt; CekValue uni fun ann
forall (uni :: * -&gt; *) fun ann.
Word64 -&gt; ArgStack uni fun ann -&gt; CekValue uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VConstr"
	><span class="hs-identifier hs-var"
	  >VConstr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><a href="#local-6989586621681952204"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
forall (uni :: * -&gt; *) fun ann. ArgStack uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#EmptyStack"
	><span class="hs-identifier hs-var"
	  >EmptyStack</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-163"
      ></span
      ><span class="hs-comment"
      >-- s ; &#961; &#9659; case S C0 ... Cn  &#8614;  s , case _ (C0 ... Cn, &#961;) ; &#961; &#9659; S</span
      ><span
      >
</span
      ><span id="line-164"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952210"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952210"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952211"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952211"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#Case"
	><span class="hs-identifier hs-type"
	  >Case</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952213"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952213"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952214"
      ><span class="annot"
	><span class="annottext"
	  >Term NamedDeBruijn uni fun ann
</span
	  ><a href="#local-6989586621681952214"
	  ><span class="hs-identifier hs-var"
	    >scrut</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952215"
      ><span class="annot"
	><span class="annottext"
	  >Vector (Term NamedDeBruijn uni fun ann)
</span
	  ><a href="#local-6989586621681952215"
	  ><span class="hs-identifier hs-var"
	    >cs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-165"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
StepKind -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
	><span class="hs-identifier hs-var"
	  >stepAndMaybeSpend</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BCase"
	><span class="hs-identifier hs-var"
	  >BCase</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-166"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; Term NamedDeBruijn uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; CekValEnv uni fun ann
-&gt; Vector (Term NamedDeBruijn uni fun ann)
-&gt; Context uni fun ann
-&gt; Context uni fun ann
forall (uni :: * -&gt; *) fun ann.
ann
-&gt; CekValEnv uni fun ann
-&gt; Vector (NTerm uni fun ann)
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameCases"
	><span class="hs-identifier hs-var"
	  >FrameCases</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952213"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952211"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Vector (Term NamedDeBruijn uni fun ann)
</span
	><a href="#local-6989586621681952215"
	><span class="hs-identifier hs-var"
	  >cs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952210"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952211"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ann
</span
	><a href="#local-6989586621681952214"
	><span class="hs-identifier hs-var"
	  >scrut</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-167"
      ></span
      ><span class="hs-comment"
      >-- s ; &#961; &#9659; error A  &#8614;  &lt;&gt; A</span
      ><span
      >
</span
      ><span id="line-168"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Core.Type.html#Error"
	><span class="hs-identifier hs-type"
	  >Error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-169"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; Term NamedDeBruijn uni fun ()
-&gt; CekM uni fun s (CekState uni fun ann)
forall e cause (m :: * -&gt; *) x.
MonadError (ErrorWithCause e cause) m =&gt;
e -&gt; cause -&gt; m x
</span
	><a href="PlutusCore.Evaluation.ErrorWithCause.html#throwErrorWithCause"
	><span class="hs-identifier hs-var"
	  >throwErrorWithCause</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CekUserError -&gt; EvaluationError (MachineError fun) CekUserError
forall structural operational.
operational -&gt; EvaluationError structural operational
</span
	><a href="PlutusCore.Evaluation.Error.html#OperationalError"
	><span class="hs-identifier hs-var"
	  >OperationalError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekUserError
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekEvaluationFailure"
	><span class="hs-identifier hs-var"
	  >CekEvaluationFailure</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Term NamedDeBruijn uni fun ()
forall name (uni :: * -&gt; *) fun ann. ann -&gt; Term name uni fun ann
</span
	><a href="UntypedPlutusCore.Core.Type.html#Error"
	><span class="hs-identifier hs-var"
	  >Error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-170"
      ></span
      ><span
      >
</span
      ><span id="line-171"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-type"
	  >returnCek</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-172"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621681951697"
      ><span class="annot"
	><a href="#local-6989586621681951697"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951698"
      ><span class="annot"
	><a href="#local-6989586621681951698"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951699"
      ><span class="annot"
	><a href="#local-6989586621681951699"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951700"
      ><span class="annot"
	><a href="#local-6989586621681951700"
	  ><span class="hs-identifier hs-type"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-173"
      ></span
      ><span
      >    </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
	><span class="hs-identifier hs-type"
	  >ThrowableBuiltins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951697"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951698"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#GivenCekReqs"
	><span class="hs-identifier hs-type"
	  >GivenCekReqs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951697"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951698"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951699"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951700"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-174"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951697"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951698"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951699"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-175"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
	><span class="hs-identifier hs-type"
	  >CekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951697"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951698"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951699"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-176"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
	><span class="hs-identifier hs-type"
	  >CekM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951697"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951698"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951700"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
	><span class="hs-identifier hs-type"
	  >CekState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951697"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951698"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951699"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-177"
      ></span
      ><span class="hs-comment"
      >--- Instantiate all the free variable of the resulting term in case there are any.</span
      ><span
      >
</span
      ><span id="line-178"
      ></span
      ><span class="hs-comment"
      >-- . &#9669; V           &#8614;  [] V</span
      ><span
      >
</span
      ><span id="line-179"
      ></span
      ><span id="returnCek"
      ><span class="annot"
	><span class="annottext"
	  >returnCek :: forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	  ><span class="hs-identifier hs-var hs-var"
	    >returnCek</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#NoFrame"
	><span class="hs-identifier hs-var"
	  >NoFrame</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952278"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952278"
	  ><span class="hs-identifier hs-var"
	    >val</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-180"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#spendAccumulatedBudget"
	><span class="hs-identifier hs-var"
	  >spendAccumulatedBudget</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-181"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun () -&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
NTerm uni fun () -&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Terminating"
	><span class="hs-identifier hs-var"
	  >Terminating</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann -&gt; NTerm uni fun ()
forall (uni :: * -&gt; *) fun ann.
CekValue uni fun ann -&gt; NTerm uni fun ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#dischargeCekValue"
	><span class="hs-identifier hs-var"
	  >dischargeCekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952278"
	><span class="hs-identifier hs-var"
	  >val</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-182"
      ></span
      ><span class="hs-comment"
      >-- s , {_ A} &#9669; abs &#945; M  &#8614;  s ; &#961; &#9659; M [ &#945; / A ]*</span
      ><span
      >
</span
      ><span id="line-183"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameForce"
	><span class="hs-identifier hs-type"
	  >FrameForce</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952281"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952281"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621681952282"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952282"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#forceEvaluate"
	><span class="hs-identifier hs-var"
	  >forceEvaluate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952281"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952282"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-184"
      ></span
      ><span class="hs-comment"
      >-- s , [_ (M,&#961;)] &#9669; V  &#8614;  s , [V _] ; &#961; &#9659; M</span
      ><span
      >
</span
      ><span id="line-185"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunTerm"
	><span class="hs-identifier hs-type"
	  >FrameAwaitFunTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952284"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952284"
	  ><span class="hs-identifier hs-var"
	    >_funAnn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952285"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952285"
	  ><span class="hs-identifier hs-var"
	    >argVarEnv</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952286"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952286"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952287"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952287"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621681952288"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952288"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-186"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- MAYBE: perhaps it is worth here to merge the _funAnn with argAnn</span
      ><span
      >
</span
      ><span id="line-187"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; CekValue uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
forall (uni :: * -&gt; *) fun ann.
ann
-&gt; CekValue uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitArg"
	><span class="hs-identifier hs-var"
	  >FrameAwaitArg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann -&gt; ann
forall name (uni :: * -&gt; *) fun ann. Term name uni fun ann -&gt; ann
</span
	><a href="UntypedPlutusCore.Core.Type.html#termAnn"
	><span class="hs-identifier hs-var"
	  >termAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952286"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952288"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952287"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952285"
	><span class="hs-identifier hs-var"
	  >argVarEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952286"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-188"
      ></span
      ><span class="hs-comment"
      >-- s , [(lam x (M,&#961;)) _] &#9669; V  &#8614;  s ; &#961; [ x  &#8614;  V ] &#9659; M</span
      ><span
      >
</span
      ><span id="line-189"
      ></span
      ><span class="hs-comment"
      >-- FIXME: add rule for VBuiltin once it's in the specification.</span
      ><span
      >
</span
      ><span id="line-190"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitArg"
	><span class="hs-identifier hs-type"
	  >FrameAwaitArg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952289"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952289"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952290"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952290"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621681952291"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952291"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-191"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValue uni fun ann
-&gt; CekValue uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann
-&gt; CekValue uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#applyEvaluate"
	><span class="hs-identifier hs-var"
	  >applyEvaluate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952290"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952289"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952291"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-192"
      ></span
      ><span class="hs-comment"
      >-- s , [_ V1 .. Vn] &#9669; lam x (M,&#961;)  &#8614;  s , [_ V2 .. Vn]; &#961; [ x  &#8614;  V1 ] &#9659; M</span
      ><span
      >
</span
      ><span id="line-193"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunValue"
	><span class="hs-identifier hs-type"
	  >FrameAwaitFunValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952293"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952293"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952294"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952294"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621681952295"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952295"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-194"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValue uni fun ann
-&gt; CekValue uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann
-&gt; CekValue uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#applyEvaluate"
	><span class="hs-identifier hs-var"
	  >applyEvaluate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952294"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952295"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952293"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-195"
      ></span
      ><span class="hs-comment"
      >-- s , constr I V0 ... Vj-1 _ (Tj+1 ... Tn, &#961;) &#9669; Vj  &#8614;  s , constr i V0 ... Vj _ (Tj+2... Tn, &#961;)  ; &#961; &#9659; Tj+1</span
      ><span
      >
</span
      ><span id="line-196"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameConstr"
	><span class="hs-identifier hs-type"
	  >FrameConstr</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952296"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952296"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952297"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952297"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952298"
      ><span class="annot"
	><span class="annottext"
	  >Word64
</span
	  ><a href="#local-6989586621681952298"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952299"
      ><span class="annot"
	><span class="annottext"
	  >[NTerm uni fun ann]
</span
	  ><a href="#local-6989586621681952299"
	  ><span class="hs-identifier hs-var"
	    >todo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952300"
      ><span class="annot"
	><span class="annottext"
	  >ArgStack uni fun ann
</span
	  ><a href="#local-6989586621681952300"
	  ><span class="hs-identifier hs-var"
	    >done</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952301"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952301"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621681952302"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952302"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-197"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681952303"
      ><span class="annot"
	><span class="annottext"
	  >done' :: ArgStack uni fun ann
</span
	  ><a href="#local-6989586621681952303"
	  ><span class="hs-identifier hs-var hs-var"
	    >done'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
-&gt; ArgStack uni fun ann -&gt; ArgStack uni fun ann
forall (uni :: * -&gt; *) fun ann.
CekValue uni fun ann
-&gt; ArgStack uni fun ann -&gt; ArgStack uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#ConsStack"
	><span class="hs-identifier hs-var"
	  >ConsStack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952302"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
</span
	><a href="#local-6989586621681952300"
	><span class="hs-identifier hs-var"
	  >done</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-198"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[NTerm uni fun ann]
</span
	><a href="#local-6989586621681952299"
	><span class="hs-identifier hs-var"
	  >todo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-199"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621681952304"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952304"
	  ><span class="hs-identifier hs-var"
	    >next</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952305"
      ><span class="annot"
	><span class="annottext"
	  >[NTerm uni fun ann]
</span
	  ><a href="#local-6989586621681952305"
	  ><span class="hs-identifier hs-var"
	    >todo'</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; CekValEnv uni fun ann
-&gt; Word64
-&gt; [NTerm uni fun ann]
-&gt; ArgStack uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
forall (uni :: * -&gt; *) fun ann.
ann
-&gt; CekValEnv uni fun ann
-&gt; Word64
-&gt; [NTerm uni fun ann]
-&gt; ArgStack uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameConstr"
	><span class="hs-identifier hs-var"
	  >FrameConstr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952296"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952297"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><a href="#local-6989586621681952298"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[NTerm uni fun ann]
</span
	><a href="#local-6989586621681952305"
	><span class="hs-identifier hs-var"
	  >todo'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
</span
	><a href="#local-6989586621681952303"
	><span class="hs-identifier hs-var"
	  >done'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952301"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952297"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952304"
	><span class="hs-identifier hs-var"
	  >next</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-200"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >             </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952301"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64 -&gt; ArgStack uni fun ann -&gt; CekValue uni fun ann
forall (uni :: * -&gt; *) fun ann.
Word64 -&gt; ArgStack uni fun ann -&gt; CekValue uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VConstr"
	><span class="hs-identifier hs-var"
	  >VConstr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><a href="#local-6989586621681952298"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
</span
	><a href="#local-6989586621681952303"
	><span class="hs-identifier hs-var"
	  >done'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-201"
      ></span
      ><span class="hs-comment"
      >-- s , case _ (C0 ... CN, &#961;) &#9669; constr i V1 .. Vm  &#8614;  s , [_ V1 ... Vm] ; &#961; &#9659; Ci</span
      ><span
      >
</span
      ><span id="line-202"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameCases"
	><span class="hs-identifier hs-type"
	  >FrameCases</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952306"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952306"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952307"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952307"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952308"
      ><span class="annot"
	><span class="annottext"
	  >Vector (NTerm uni fun ann)
</span
	  ><a href="#local-6989586621681952308"
	  ><span class="hs-identifier hs-var"
	    >cs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952309"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952309"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621681952310"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952310"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952310"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-203"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- If the index is larger than the max bound of an Int, or negative, then it's a bad index</span
      ><span
      >
</span
      ><span id="line-204"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- As it happens, this will currently never trigger, since i is a Word64, and the largest</span
      ><span
      >
</span
      ><span id="line-205"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Word64 value wraps to -1 as an Int64. So you can't wrap around enough to get an</span
      ><span
      >
</span
      ><span id="line-206"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- &quot;apparently good&quot; value.</span
      ><span
      >
</span
      ><span id="line-207"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VConstr"
	><span class="hs-identifier hs-type"
	  >VConstr</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952311"
      ><span class="annot"
	><span class="annottext"
	  >Word64
</span
	  ><a href="#local-6989586621681952311"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Real.html#fromIntegral"
	><span class="hs-identifier hs-var"
	  >fromIntegral</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-bignum-1.3/docs/src/GHC.Num.Integer.html#Integer"
	><span class="hs-identifier hs-type"
	  >Integer</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><a href="#local-6989586621681952311"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3E"
	><span class="hs-operator hs-var"
	  >&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Real.html#fromIntegral"
	><span class="hs-identifier hs-var"
	  >fromIntegral</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Int"
	><span class="hs-identifier hs-type"
	  >Int</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-bignum-1.3/docs/src/GHC.Num.Integer.html#Integer"
	><span class="hs-identifier hs-type"
	  >Integer</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
forall a. Bounded a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Enum.html#maxBound"
	><span class="hs-identifier hs-var"
	  >maxBound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-208"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s x.
ThrowableBuiltins uni fun =&gt;
EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s x
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#throwErrorDischarged"
	><span class="hs-identifier hs-var"
	  >throwErrorDischarged</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun -&gt; EvaluationError (MachineError fun) CekUserError
forall structural operational.
structural -&gt; EvaluationError structural operational
</span
	><a href="PlutusCore.Evaluation.Error.html#StructuralError"
	><span class="hs-identifier hs-var"
	  >StructuralError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(MachineError fun
 -&gt; EvaluationError (MachineError fun) CekUserError)
-&gt; MachineError fun
-&gt; EvaluationError (MachineError fun) CekUserError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64 -&gt; MachineError fun
forall fun. Word64 -&gt; MachineError fun
</span
	><a href="PlutusCore.Evaluation.Machine.Exception.html#MissingCaseBranchMachineError"
	><span class="hs-identifier hs-var"
	  >MissingCaseBranchMachineError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><a href="#local-6989586621681952311"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952310"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-209"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VConstr"
	><span class="hs-identifier hs-type"
	  >VConstr</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952317"
      ><span class="annot"
	><span class="annottext"
	  >Word64
</span
	  ><a href="#local-6989586621681952317"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952318"
      ><span class="annot"
	><span class="annottext"
	  >ArgStack uni fun ann
</span
	  ><a href="#local-6989586621681952318"
	  ><span class="hs-identifier hs-var"
	    >args</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Vector (NTerm uni fun ann) -&gt; Int -&gt; Maybe (NTerm uni fun ann)
forall a. Vector a -&gt; Int -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/vector-0.13.2.0/docs/src/Data.Vector.html#%21%3F"
	><span class="hs-operator hs-var"
	  >(V.!?)</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Vector (NTerm uni fun ann)
</span
	><a href="#local-6989586621681952308"
	><span class="hs-identifier hs-var"
	  >cs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word64 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Real.html#fromIntegral"
	><span class="hs-identifier hs-var"
	  >fromIntegral</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><a href="#local-6989586621681952317"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-210"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952320"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952320"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-211"
      ></span
      ><span
      >              </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681952321"
      ><span class="annot"
	><span class="annottext"
	  >ctx' :: Context uni fun ann
</span
	  ><a href="#local-6989586621681952321"
	  ><span class="hs-identifier hs-var hs-var"
	    >ctx'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; ArgStack uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
forall ann (uni :: * -&gt; *) fun.
ann
-&gt; ArgStack uni fun ann
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#transferArgStack"
	><span class="hs-identifier hs-var"
	  >transferArgStack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952306"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
</span
	><a href="#local-6989586621681952318"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952309"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-212"
      ></span
      ><span
      >              </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952321"
	><span class="hs-identifier hs-var"
	  >ctx'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952307"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952320"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-213"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (NTerm uni fun ann)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s x.
ThrowableBuiltins uni fun =&gt;
EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s x
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#throwErrorDischarged"
	><span class="hs-identifier hs-var"
	  >throwErrorDischarged</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun -&gt; EvaluationError (MachineError fun) CekUserError
forall structural operational.
structural -&gt; EvaluationError structural operational
</span
	><a href="PlutusCore.Evaluation.Error.html#StructuralError"
	><span class="hs-identifier hs-var"
	  >StructuralError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(MachineError fun
 -&gt; EvaluationError (MachineError fun) CekUserError)
-&gt; MachineError fun
-&gt; EvaluationError (MachineError fun) CekUserError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64 -&gt; MachineError fun
forall fun. Word64 -&gt; MachineError fun
</span
	><a href="PlutusCore.Evaluation.Machine.Exception.html#MissingCaseBranchMachineError"
	><span class="hs-identifier hs-var"
	  >MissingCaseBranchMachineError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><a href="#local-6989586621681952317"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952310"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-214"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VCon"
	><span class="hs-identifier hs-type"
	  >VCon</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952322"
      ><span class="annot"
	><span class="annottext"
	  >Some (ValueOf uni)
</span
	  ><a href="#local-6989586621681952322"
	  ><span class="hs-identifier hs-var"
	    >val</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CaserBuiltin uni
-&gt; forall term.
   (UniOf term ~ uni) =&gt;
   Some (ValueOf uni)
   -&gt; Vector term -&gt; Either Text (HeadSpine term (Some (ValueOf uni)))
forall (uni :: * -&gt; *).
CaserBuiltin uni
-&gt; forall term.
   (UniOf term ~ uni) =&gt;
   Some (ValueOf uni)
   -&gt; Vector term -&gt; Either Text (HeadSpine term (Some (ValueOf uni)))
</span
	><a href="PlutusCore.Builtin.Case.html#unCaserBuiltin"
	><span class="hs-identifier hs-var"
	  >unCaserBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>?cekCaserBuiltin::CaserBuiltin uni
CaserBuiltin uni
</span
	><a href="#local-6989586621681952264"
	><span class="hs-var"
	  >?cekCaserBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Some (ValueOf uni)
</span
	><a href="#local-6989586621681952322"
	><span class="hs-identifier hs-var"
	  >val</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Vector (NTerm uni fun ann)
</span
	><a href="#local-6989586621681952308"
	><span class="hs-identifier hs-var"
	  >cs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-215"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952324"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621681952324"
	  ><span class="hs-identifier hs-var"
	    >err</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s x.
ThrowableBuiltins uni fun =&gt;
EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s x
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#throwErrorDischarged"
	><span class="hs-identifier hs-var"
	  >throwErrorDischarged</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CekUserError -&gt; EvaluationError (MachineError fun) CekUserError
forall structural operational.
operational -&gt; EvaluationError structural operational
</span
	><a href="PlutusCore.Evaluation.Error.html#OperationalError"
	><span class="hs-identifier hs-var"
	  >OperationalError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekUserError -&gt; EvaluationError (MachineError fun) CekUserError)
-&gt; CekUserError -&gt; EvaluationError (MachineError fun) CekUserError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; CekUserError
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekCaseBuiltinError"
	><span class="hs-identifier hs-var"
	  >CekCaseBuiltinError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621681952324"
	><span class="hs-identifier hs-var"
	  >err</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952310"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-216"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.KnownType.html#HeadOnly"
	><span class="hs-identifier hs-type"
	  >HeadOnly</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952327"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952327"
	  ><span class="hs-identifier hs-var"
	    >fX</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952309"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952307"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952327"
	><span class="hs-identifier hs-var"
	  >fX</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-217"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.KnownType.html#HeadSpine"
	><span class="hs-identifier hs-type"
	  >HeadSpine</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952329"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952329"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952330"
      ><span class="annot"
	><span class="annottext"
	  >Spine (Some (ValueOf uni))
</span
	  ><a href="#local-6989586621681952330"
	  ><span class="hs-identifier hs-var"
	    >xs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Spine (Some (ValueOf uni))
-&gt; Context uni fun ann
-&gt; Context uni fun ann
forall ann (uni :: * -&gt; *) fun.
ann
-&gt; Spine (Some (ValueOf uni))
-&gt; Context uni fun ann
-&gt; Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#transferConstantSpine"
	><span class="hs-identifier hs-var"
	  >transferConstantSpine</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952306"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Spine (Some (ValueOf uni))
</span
	><a href="#local-6989586621681952330"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952309"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952307"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952329"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-218"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s x.
ThrowableBuiltins uni fun =&gt;
EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s x
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#throwErrorDischarged"
	><span class="hs-identifier hs-var"
	  >throwErrorDischarged</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun -&gt; EvaluationError (MachineError fun) CekUserError
forall structural operational.
structural -&gt; EvaluationError structural operational
</span
	><a href="PlutusCore.Evaluation.Error.html#StructuralError"
	><span class="hs-identifier hs-var"
	  >StructuralError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun
forall fun. MachineError fun
</span
	><a href="PlutusCore.Evaluation.Machine.Exception.html#NonConstrScrutinizedMachineError"
	><span class="hs-identifier hs-var"
	  >NonConstrScrutinizedMachineError</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952310"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-219"
      ></span
      ><span
      >
</span
      ><span id="line-220"
      ></span
      ><span class="hs-comment"
      >-- | @force@ a term and proceed.</span
      ><span
      >
</span
      ><span id="line-221"
      ></span
      ><span class="hs-comment"
      >-- If v is a delay then compute the body of v;</span
      ><span
      >
</span
      ><span id="line-222"
      ></span
      ><span class="hs-comment"
      >-- if v is a builtin application then check that it's expecting a type argument,</span
      ><span
      >
</span
      ><span id="line-223"
      ></span
      ><span class="hs-comment"
      >-- and either calculate the builtin application or stick a 'Force' on top of its 'Term'</span
      ><span
      >
</span
      ><span id="line-224"
      ></span
      ><span class="hs-comment"
      >-- representation depending on whether the application is saturated or not,</span
      ><span
      >
</span
      ><span id="line-225"
      ></span
      ><span class="hs-comment"
      >-- if v is anything else, fail.</span
      ><span
      >
</span
      ><span id="line-226"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#forceEvaluate"
	><span class="hs-identifier hs-type"
	  >forceEvaluate</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-227"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621681952332"
      ><span class="annot"
	><a href="#local-6989586621681952332"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952333"
      ><span class="annot"
	><a href="#local-6989586621681952333"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952334"
      ><span class="annot"
	><a href="#local-6989586621681952334"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952335"
      ><span class="annot"
	><a href="#local-6989586621681952335"
	  ><span class="hs-identifier hs-type"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-228"
      ></span
      ><span
      >    </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
	><span class="hs-identifier hs-type"
	  >ThrowableBuiltins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952332"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952333"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#GivenCekReqs"
	><span class="hs-identifier hs-type"
	  >GivenCekReqs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952332"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952333"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952334"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952335"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-229"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952332"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952333"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952334"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-230"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
	><span class="hs-identifier hs-type"
	  >CekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952332"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952333"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952334"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-231"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
	><span class="hs-identifier hs-type"
	  >CekM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952332"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952333"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952335"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
	><span class="hs-identifier hs-type"
	  >CekState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952332"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952333"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952334"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-232"
      ></span
      ><span id="forceEvaluate"
      ><span class="annot"
	><span class="annottext"
	  >forceEvaluate :: forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#forceEvaluate"
	  ><span class="hs-identifier hs-var hs-var"
	    >forceEvaluate</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952352"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952352"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VDelay"
	><span class="hs-identifier hs-type"
	  >VDelay</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952353"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952353"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952354"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952354"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-233"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952352"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952354"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952353"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-234"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#forceEvaluate"
	><span class="hs-identifier hs-var"
	  >forceEvaluate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952355"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952355"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VBuiltin"
	><span class="hs-identifier hs-type"
	  >VBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952356"
      ><span class="annot"
	><span class="annottext"
	  >fun
</span
	  ><a href="#local-6989586621681952356"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952357"
      ><span class="annot"
	><span class="annottext"
	  >Term NamedDeBruijn uni fun ()
</span
	  ><a href="#local-6989586621681952357"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952358"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinRuntime (CekValue uni fun ann)
</span
	  ><a href="#local-6989586621681952358"
	  ><span class="hs-identifier hs-var"
	    >runtime</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-235"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- @term@ is fully discharged, and so @term'@ is, hence we can put it in a 'VBuiltin'.</span
      ><span
      >
</span
      ><span id="line-236"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681952359"
      ><span class="annot"
	><span class="annottext"
	  >term' :: Term NamedDeBruijn uni fun ()
</span
	  ><a href="#local-6989586621681952359"
	  ><span class="hs-identifier hs-var hs-var"
	    >term'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
-&gt; Term NamedDeBruijn uni fun () -&gt; Term NamedDeBruijn uni fun ()
forall name (uni :: * -&gt; *) fun ann.
ann -&gt; Term name uni fun ann -&gt; Term name uni fun ann
</span
	><a href="UntypedPlutusCore.Core.Type.html#Force"
	><span class="hs-identifier hs-var"
	  >Force</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ()
</span
	><a href="#local-6989586621681952357"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-237"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinRuntime (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952358"
	><span class="hs-identifier hs-var"
	  >runtime</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-238"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- It's only possible to force a builtin application if the builtin expects a type</span
      ><span
      >
</span
      ><span id="line-239"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- argument next.</span
      ><span
      >
</span
      ><span id="line-240"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.Runtime.html#BuiltinExpectForce"
	><span class="hs-identifier hs-type"
	  >BuiltinExpectForce</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952361"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinRuntime (CekValue uni fun ann)
</span
	  ><a href="#local-6989586621681952361"
	  ><span class="hs-identifier hs-var"
	    >runtime'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-241"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- We allow a type argument to appear last in the type of a built-in function,</span
      ><span
      >
</span
      ><span id="line-242"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- otherwise we could just assemble a 'VBuiltin' without trying to evaluate the</span
      ><span
      >
</span
      ><span id="line-243"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- application.</span
      ><span
      >
</span
      ><span id="line-244"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; fun
-&gt; Term NamedDeBruijn uni fun ()
-&gt; BuiltinRuntime (CekValue uni fun ann)
-&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; fun
-&gt; NTerm uni fun ()
-&gt; BuiltinRuntime (CekValue uni fun ann)
-&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#evalBuiltinApp"
	><span class="hs-identifier hs-var"
	  >evalBuiltinApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952355"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621681952356"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ()
</span
	><a href="#local-6989586621681952359"
	><span class="hs-identifier hs-var"
	  >term'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinRuntime (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952361"
	><span class="hs-identifier hs-var"
	  >runtime'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-245"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinRuntime (CekValue uni fun ann)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-246"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; Term NamedDeBruijn uni fun ()
-&gt; CekM uni fun s (CekState uni fun ann)
forall e cause (m :: * -&gt; *) x.
MonadError (ErrorWithCause e cause) m =&gt;
e -&gt; cause -&gt; m x
</span
	><a href="PlutusCore.Evaluation.ErrorWithCause.html#throwErrorWithCause"
	><span class="hs-identifier hs-var"
	  >throwErrorWithCause</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun -&gt; EvaluationError (MachineError fun) CekUserError
forall structural operational.
structural -&gt; EvaluationError structural operational
</span
	><a href="PlutusCore.Evaluation.Error.html#StructuralError"
	><span class="hs-identifier hs-var"
	  >StructuralError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun
forall fun. MachineError fun
</span
	><a href="PlutusCore.Evaluation.Machine.Exception.html#BuiltinTermArgumentExpectedMachineError"
	><span class="hs-identifier hs-var"
	  >BuiltinTermArgumentExpectedMachineError</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ()
</span
	><a href="#local-6989586621681952359"
	><span class="hs-identifier hs-var"
	  >term'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-247"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#forceEvaluate"
	><span class="hs-identifier hs-var"
	  >forceEvaluate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952364"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952364"
	  ><span class="hs-identifier hs-var"
	    >val</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-248"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s x.
ThrowableBuiltins uni fun =&gt;
EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s x
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#throwErrorDischarged"
	><span class="hs-identifier hs-var"
	  >throwErrorDischarged</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun -&gt; EvaluationError (MachineError fun) CekUserError
forall structural operational.
structural -&gt; EvaluationError structural operational
</span
	><a href="PlutusCore.Evaluation.Error.html#StructuralError"
	><span class="hs-identifier hs-var"
	  >StructuralError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun
forall fun. MachineError fun
</span
	><a href="PlutusCore.Evaluation.Machine.Exception.html#NonPolymorphicInstantiationMachineError"
	><span class="hs-identifier hs-var"
	  >NonPolymorphicInstantiationMachineError</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952364"
	><span class="hs-identifier hs-var"
	  >val</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-249"
      ></span
      ><span
      >
</span
      ><span id="line-250"
      ></span
      ><span class="hs-comment"
      >-- | Apply a function to an argument and proceed.</span
      ><span
      >
</span
      ><span id="line-251"
      ></span
      ><span class="hs-comment"
      >-- If the function is a lambda 'lam x ty body' then extend the environment with a binding of @v@</span
      ><span
      >
</span
      ><span id="line-252"
      ></span
      ><span class="hs-comment"
      >-- to x@ and call 'computeCek' on the body.</span
      ><span
      >
</span
      ><span id="line-253"
      ></span
      ><span class="hs-comment"
      >-- If the function is a builtin application then check that it's expecting a term argument,</span
      ><span
      >
</span
      ><span id="line-254"
      ></span
      ><span class="hs-comment"
      >-- and either calculate the builtin application or stick a 'Apply' on top of its 'Term'</span
      ><span
      >
</span
      ><span id="line-255"
      ></span
      ><span class="hs-comment"
      >-- representation depending on whether the application is saturated or not.</span
      ><span
      >
</span
      ><span id="line-256"
      ></span
      ><span class="hs-comment"
      >-- If v is anything else, fail.</span
      ><span
      >
</span
      ><span id="line-257"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#applyEvaluate"
	><span class="hs-identifier hs-type"
	  >applyEvaluate</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-258"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621681951716"
      ><span class="annot"
	><a href="#local-6989586621681951716"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951717"
      ><span class="annot"
	><a href="#local-6989586621681951717"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951718"
      ><span class="annot"
	><a href="#local-6989586621681951718"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951719"
      ><span class="annot"
	><a href="#local-6989586621681951719"
	  ><span class="hs-identifier hs-type"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-259"
      ></span
      ><span
      >    </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
	><span class="hs-identifier hs-type"
	  >ThrowableBuiltins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951716"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951717"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#GivenCekReqs"
	><span class="hs-identifier hs-type"
	  >GivenCekReqs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951716"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951717"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951718"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951719"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-260"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951716"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951717"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951718"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-261"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
	><span class="hs-identifier hs-type"
	  >CekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951716"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951717"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951718"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >   </span
      ><span class="hs-comment"
      >-- lhs of application</span
      ><span
      >
</span
      ><span id="line-262"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
	><span class="hs-identifier hs-type"
	  >CekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951716"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951717"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951718"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >   </span
      ><span class="hs-comment"
      >-- rhs of application</span
      ><span
      >
</span
      ><span id="line-263"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
	><span class="hs-identifier hs-type"
	  >CekM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951716"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951717"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951719"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
	><span class="hs-identifier hs-type"
	  >CekState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951716"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951717"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951718"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-264"
      ></span
      ><span id="applyEvaluate"
      ><span class="annot"
	><span class="annottext"
	  >applyEvaluate :: forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann
-&gt; CekValue uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#applyEvaluate"
	  ><span class="hs-identifier hs-var hs-var"
	    >applyEvaluate</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952384"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952384"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VLamAbs"
	><span class="hs-identifier hs-type"
	  >VLamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NamedDeBruijn
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952385"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952385"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952386"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952386"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621681952387"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952387"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-265"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952384"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Element (CekValEnv uni fun ann)
-&gt; CekValEnv uni fun ann -&gt; CekValEnv uni fun ann
forall e. RandomAccessList e =&gt; Element e -&gt; e -&gt; e
</span
	><a href="../../plutus-core/src/Data.RandomAccessList.Class.html#cons"
	><span class="hs-identifier hs-var"
	  >Env.cons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Element (CekValEnv uni fun ann)
CekValue uni fun ann
</span
	><a href="#local-6989586621681952387"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952386"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952385"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-266"
      ></span
      ><span class="hs-comment"
      >-- Annotating @f@ and @exF@ with bangs gave us some speed-up, but only until we added a bang to</span
      ><span
      >
</span
      ><span id="line-267"
      ></span
      ><span class="hs-comment"
      >-- 'VCon'. After that the bangs here were making things a tiny bit slower and so we removed them.</span
      ><span
      >
</span
      ><span id="line-268"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#applyEvaluate"
	><span class="hs-identifier hs-var"
	  >applyEvaluate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952389"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952389"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VBuiltin"
	><span class="hs-identifier hs-type"
	  >VBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952390"
      ><span class="annot"
	><span class="annottext"
	  >fun
</span
	  ><a href="#local-6989586621681952390"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952391"
      ><span class="annot"
	><span class="annottext"
	  >Term NamedDeBruijn uni fun ()
</span
	  ><a href="#local-6989586621681952391"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952392"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinRuntime (CekValue uni fun ann)
</span
	  ><a href="#local-6989586621681952392"
	  ><span class="hs-identifier hs-var"
	    >runtime</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621681952393"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952393"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-269"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681952394"
      ><span class="annot"
	><span class="annottext"
	  >argTerm :: Term NamedDeBruijn uni fun ()
</span
	  ><a href="#local-6989586621681952394"
	  ><span class="hs-identifier hs-var hs-var"
	    >argTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann -&gt; Term NamedDeBruijn uni fun ()
forall (uni :: * -&gt; *) fun ann.
CekValue uni fun ann -&gt; NTerm uni fun ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#dischargeCekValue"
	><span class="hs-identifier hs-var"
	  >dischargeCekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952393"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-270"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- @term@ and @argTerm@ are fully discharged, and so @term'@ is, hence we can put it</span
      ><span
      >
</span
      ><span id="line-271"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- in a 'VBuiltin'.</span
      ><span
      >
</span
      ><span id="line-272"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681952395"
      ><span class="annot"
	><span class="annottext"
	  >term' :: Term NamedDeBruijn uni fun ()
</span
	  ><a href="#local-6989586621681952395"
	  ><span class="hs-identifier hs-var hs-var"
	    >term'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
-&gt; Term NamedDeBruijn uni fun ()
-&gt; Term NamedDeBruijn uni fun ()
-&gt; Term NamedDeBruijn uni fun ()
forall name (uni :: * -&gt; *) fun ann.
ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
-&gt; Term name uni fun ann
</span
	><a href="UntypedPlutusCore.Core.Type.html#Apply"
	><span class="hs-identifier hs-var"
	  >Apply</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ()
</span
	><a href="#local-6989586621681952391"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ()
</span
	><a href="#local-6989586621681952394"
	><span class="hs-identifier hs-var"
	  >argTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-273"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinRuntime (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952392"
	><span class="hs-identifier hs-var"
	  >runtime</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-274"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- It's only possible to apply a builtin application if the builtin expects a term</span
      ><span
      >
</span
      ><span id="line-275"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- argument next.</span
      ><span
      >
</span
      ><span id="line-276"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.Runtime.html#BuiltinExpectArgument"
	><span class="hs-identifier hs-type"
	  >BuiltinExpectArgument</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952397"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann -&gt; BuiltinRuntime (CekValue uni fun ann)
</span
	  ><a href="#local-6989586621681952397"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; fun
-&gt; Term NamedDeBruijn uni fun ()
-&gt; BuiltinRuntime (CekValue uni fun ann)
-&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; fun
-&gt; NTerm uni fun ()
-&gt; BuiltinRuntime (CekValue uni fun ann)
-&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#evalBuiltinApp"
	><span class="hs-identifier hs-var"
	  >evalBuiltinApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952389"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621681952390"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ()
</span
	><a href="#local-6989586621681952395"
	><span class="hs-identifier hs-var"
	  >term'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(BuiltinRuntime (CekValue uni fun ann)
 -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; BuiltinRuntime (CekValue uni fun ann)
-&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann -&gt; BuiltinRuntime (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952397"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952393"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-277"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinRuntime (CekValue uni fun ann)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-278"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; Term NamedDeBruijn uni fun ()
-&gt; CekM uni fun s (CekState uni fun ann)
forall e cause (m :: * -&gt; *) x.
MonadError (ErrorWithCause e cause) m =&gt;
e -&gt; cause -&gt; m x
</span
	><a href="PlutusCore.Evaluation.ErrorWithCause.html#throwErrorWithCause"
	><span class="hs-identifier hs-var"
	  >throwErrorWithCause</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun -&gt; EvaluationError (MachineError fun) CekUserError
forall structural operational.
structural -&gt; EvaluationError structural operational
</span
	><a href="PlutusCore.Evaluation.Error.html#StructuralError"
	><span class="hs-identifier hs-var"
	  >StructuralError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun
forall fun. MachineError fun
</span
	><a href="PlutusCore.Evaluation.Machine.Exception.html#UnexpectedBuiltinTermArgumentMachineError"
	><span class="hs-identifier hs-var"
	  >UnexpectedBuiltinTermArgumentMachineError</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term NamedDeBruijn uni fun ()
</span
	><a href="#local-6989586621681952395"
	><span class="hs-identifier hs-var"
	  >term'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-279"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#applyEvaluate"
	><span class="hs-identifier hs-var"
	  >applyEvaluate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952399"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952399"
	  ><span class="hs-identifier hs-var"
	    >val</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-280"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s x.
ThrowableBuiltins uni fun =&gt;
EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s x
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#throwErrorDischarged"
	><span class="hs-identifier hs-var"
	  >throwErrorDischarged</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun -&gt; EvaluationError (MachineError fun) CekUserError
forall structural operational.
structural -&gt; EvaluationError structural operational
</span
	><a href="PlutusCore.Evaluation.Error.html#StructuralError"
	><span class="hs-identifier hs-var"
	  >StructuralError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun
forall fun. MachineError fun
</span
	><a href="PlutusCore.Evaluation.Machine.Exception.html#NonFunctionalApplicationMachineError"
	><span class="hs-identifier hs-var"
	  >NonFunctionalApplicationMachineError</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952399"
	><span class="hs-identifier hs-var"
	  >val</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-281"
      ></span
      ><span
      >
</span
      ><span id="line-282"
      ></span
      ><span class="hs-comment"
      >-- MAYBE: runCekDeBruijn can be shared between original&amp;debug ceks by passing a `enterComputeCek` func.</span
      ><span
      >
</span
      ><span id="line-283"
      ></span
      ><span id="local-6989586621681951751"
      ><span id="local-6989586621681951752"
	><span id="local-6989586621681951754"
	  ><span id="local-6989586621681951756"
	    ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#runCekDeBruijn"
		><span class="hs-identifier hs-type"
		  >runCekDeBruijn</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-284"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
		><span class="hs-identifier hs-type"
		  >ThrowableBuiltins</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951751"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951752"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-285"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Evaluation.Machine.MachineParameters.html#MachineParameters"
		><span class="hs-identifier hs-type"
		  >MachineParameters</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#CekMachineCosts"
		><span class="hs-identifier hs-type"
		  >CekMachineCosts</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951752"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
		><span class="hs-identifier hs-type"
		  >CekValue</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951751"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951752"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951754"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-286"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#ExBudgetMode"
		><span class="hs-identifier hs-type"
		  >ExBudgetMode</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951756"
		><span class="hs-identifier hs-type"
		  >cost</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951751"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951752"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-287"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#EmitterMode"
		><span class="hs-identifier hs-type"
		  >EmitterMode</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951751"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951752"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-288"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
		><span class="hs-identifier hs-type"
		  >NTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951751"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951752"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951754"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-289"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Either"
		><span class="hs-identifier hs-type"
		  >Either</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekEvaluationException"
		><span class="hs-identifier hs-type"
		  >CekEvaluationException</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.DeBruijn.Internal.html#NamedDeBruijn"
		><span class="hs-identifier hs-type"
		  >NamedDeBruijn</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951751"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951752"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
		><span class="hs-identifier hs-type"
		  >NTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951751"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951752"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ><span class="hs-special"
	      >)</span
	      ><span class="hs-special"
	      >,</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951756"
		><span class="hs-identifier hs-type"
		  >cost</span
		  ></a
		></span
	      ><span class="hs-special"
	      >,</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >[</span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
		><span class="hs-identifier hs-type"
		  >Text</span
		  ></a
		></span
	      ><span class="hs-special"
	      >]</span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-290"
      ></span
      ><span id="runCekDeBruijn"
      ><span class="annot"
	><span class="annottext"
	  >runCekDeBruijn :: forall (uni :: * -&gt; *) fun ann cost.
ThrowableBuiltins uni fun =&gt;
MachineParameters CekMachineCosts fun (CekValue uni fun ann)
-&gt; ExBudgetMode cost uni fun
-&gt; EmitterMode uni fun
-&gt; NTerm uni fun ann
-&gt; (Either
      (CekEvaluationException NamedDeBruijn uni fun) (NTerm uni fun ()),
    cost, [Text])
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#runCekDeBruijn"
	  ><span class="hs-identifier hs-var hs-var"
	    >runCekDeBruijn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952403"
      ><span class="annot"
	><span class="annottext"
	  >MachineParameters CekMachineCosts fun (CekValue uni fun ann)
</span
	  ><a href="#local-6989586621681952403"
	  ><span class="hs-identifier hs-var"
	    >params</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952404"
      ><span class="annot"
	><span class="annottext"
	  >ExBudgetMode cost uni fun
</span
	  ><a href="#local-6989586621681952404"
	  ><span class="hs-identifier hs-var"
	    >mode</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952405"
      ><span class="annot"
	><span class="annottext"
	  >EmitterMode uni fun
</span
	  ><a href="#local-6989586621681952405"
	  ><span class="hs-identifier hs-var"
	    >emitMode</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952406"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952406"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-291"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>MachineParameters CekMachineCosts fun (CekValue uni fun ann)
-&gt; ExBudgetMode cost uni fun
-&gt; EmitterMode uni fun
-&gt; (forall {s}.
    GivenCekReqs uni fun ann s =&gt;
    CekM uni fun s (NTerm uni fun ()))
-&gt; (Either
      (ErrorWithCause
         (EvaluationError (MachineError fun) CekUserError)
         (NTerm uni fun ()))
      (NTerm uni fun ()),
    cost, [Text])
forall a cost (uni :: * -&gt; *) fun ann.
ThrowableBuiltins uni fun =&gt;
MachineParameters CekMachineCosts fun (CekValue uni fun ann)
-&gt; ExBudgetMode cost uni fun
-&gt; EmitterMode uni fun
-&gt; (forall s. GivenCekReqs uni fun ann s =&gt; CekM uni fun s a)
-&gt; (Either (CekEvaluationException NamedDeBruijn uni fun) a, cost,
    [Text])
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#runCekM"
	><span class="hs-identifier hs-var"
	  >runCekM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>MachineParameters CekMachineCosts fun (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952403"
	><span class="hs-identifier hs-var"
	  >params</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetMode cost uni fun
</span
	><a href="#local-6989586621681952404"
	><span class="hs-identifier hs-var"
	  >mode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EmitterMode uni fun
</span
	><a href="#local-6989586621681952405"
	><span class="hs-identifier hs-var"
	  >emitMode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((forall {s}.
  GivenCekReqs uni fun ann s =&gt;
  CekM uni fun s (NTerm uni fun ()))
 -&gt; (Either
       (ErrorWithCause
          (EvaluationError (MachineError fun) CekUserError)
          (NTerm uni fun ()))
       (NTerm uni fun ()),
     cost, [Text]))
-&gt; (forall {s}.
    GivenCekReqs uni fun ann s =&gt;
    CekM uni fun s (NTerm uni fun ()))
-&gt; (Either
      (ErrorWithCause
         (EvaluationError (MachineError fun) CekUserError)
         (NTerm uni fun ()))
      (NTerm uni fun ()),
    cost, [Text])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-292"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun s.
GivenCekSpender uni fun s =&gt;
ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#spendBudget"
	><span class="hs-identifier hs-var"
	  >spendBudget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetCategory fun
forall fun. ExBudgetCategory fun
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BStartup"
	><span class="hs-identifier hs-var"
	  >BStartup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ExBudget -&gt; CekM uni fun s ()) -&gt; ExBudget -&gt; CekM uni fun s ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Identity ExBudget -&gt; ExBudget
forall a. Identity a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.Identity.html#runIdentity"
	><span class="hs-identifier hs-var"
	  >runIdentity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Identity ExBudget -&gt; ExBudget) -&gt; Identity ExBudget -&gt; ExBudget
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; Identity ExBudget
forall (f :: * -&gt; *). CekMachineCostsBase f -&gt; f ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#cekStartupCost"
	><span class="hs-identifier hs-var"
	  >cekStartupCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>GivenCekCosts
CekMachineCosts
</span
	><a href="#local-6989586621681952412"
	><span class="hs-var"
	  >?cekCosts</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-293"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekM uni fun s (NTerm uni fun ())
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekM uni fun s (NTerm uni fun ())
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#enterComputeCek"
	><span class="hs-identifier hs-var"
	  >enterComputeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
forall (uni :: * -&gt; *) fun ann. Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#NoFrame"
	><span class="hs-identifier hs-var"
	  >NoFrame</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
forall e. RandomAccessList e =&gt; e
</span
	><a href="../../plutus-core/src/Data.RandomAccessList.Class.html#empty"
	><span class="hs-identifier hs-var"
	  >Env.empty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952406"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-294"
      ></span
      ><span
      >
</span
      ><span id="line-295"
      ></span
      ><span class="hs-comment"
      >-- See Note [Compilation peculiarities].</span
      ><span
      >
</span
      ><span id="line-296"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The entering point to the CEK machine's engine.</span
	></span
      ><span
      >
</span
      ><span id="line-297"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#enterComputeCek"
	><span class="hs-identifier hs-type"
	  >enterComputeCek</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-298"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621681951782"
      ><span class="annot"
	><a href="#local-6989586621681951782"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951783"
      ><span class="annot"
	><a href="#local-6989586621681951783"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951784"
      ><span class="annot"
	><a href="#local-6989586621681951784"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951785"
      ><span class="annot"
	><a href="#local-6989586621681951785"
	  ><span class="hs-identifier hs-type"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-299"
      ></span
      ><span
      >    </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
	><span class="hs-identifier hs-type"
	  >ThrowableBuiltins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951782"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951783"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#GivenCekReqs"
	><span class="hs-identifier hs-type"
	  >GivenCekReqs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951782"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951783"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951784"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951785"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-300"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	><span class="hs-identifier hs-type"
	  >Context</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951782"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951783"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951784"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-301"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValEnv"
	><span class="hs-identifier hs-type"
	  >CekValEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951782"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951783"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951784"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-302"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
	><span class="hs-identifier hs-type"
	  >NTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951782"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951783"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951784"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-303"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
	><span class="hs-identifier hs-type"
	  >CekM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951782"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951783"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951785"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
	><span class="hs-identifier hs-type"
	  >NTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951782"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951783"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-304"
      ></span
      ><span id="enterComputeCek"
      ><span class="annot"
	><span class="annottext"
	  >enterComputeCek :: forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekM uni fun s (NTerm uni fun ())
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#enterComputeCek"
	  ><span class="hs-identifier hs-var hs-var"
	    >enterComputeCek</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952445"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952445"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952446"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952446"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952447"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952447"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (NTerm uni fun ())
</span
	><a href="#local-6989586621681952448"
	><span class="hs-identifier hs-var"
	  >iterToFinalState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (NTerm uni fun ()))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (NTerm uni fun ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952445"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952446"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952447"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-305"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-306"
      ></span
      ><span
      >   </span
      ><span class="annot"
      ><a href="#local-6989586621681952448"
	><span class="hs-identifier hs-type"
	  >iterToFinalState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
	><span class="hs-identifier hs-type"
	  >CekState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951782"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951783"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951784"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
	><span class="hs-identifier hs-type"
	  >CekM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951782"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951783"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951785"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
	><span class="hs-identifier hs-type"
	  >NTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951782"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951783"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-307"
      ></span
      ><span
      >   </span
      ><span id="local-6989586621681952448"
      ><span class="annot"
	><span class="annottext"
	  >iterToFinalState :: CekState uni fun ann -&gt; CekM uni fun s (NTerm uni fun ())
</span
	  ><a href="#local-6989586621681952448"
	  ><span class="hs-identifier hs-var hs-var"
	    >iterToFinalState</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekTrans uni fun ann s
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
CekTrans uni fun ann s
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekTrans"
	><span class="hs-identifier hs-var"
	  >cekTrans</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-308"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>CekTrans uni fun ann s
-&gt; (CekState uni fun ann -&gt; CekM uni fun s (NTerm uni fun ()))
-&gt; CekState uni fun ann
-&gt; CekM uni fun s (NTerm uni fun ())
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html#%3E%3D%3E"
	><span class="hs-operator hs-var"
	  >&gt;=&gt;</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-309"
      ></span
      ><span
      >                      </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-310"
      ></span
      ><span
      >                          </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Terminating"
	><span class="hs-identifier hs-type"
	  >Terminating</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952451"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ()
</span
	  ><a href="#local-6989586621681952451"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun () -&gt; CekM uni fun s (NTerm uni fun ())
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ()
</span
	><a href="#local-6989586621681952451"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-311"
      ></span
      ><span
      >                          </span
      ><span id="local-6989586621681952452"
      ><span class="annot"
	><span class="annottext"
	  >CekState uni fun ann
</span
	  ><a href="#local-6989586621681952452"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      >             </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (NTerm uni fun ())
</span
	><a href="#local-6989586621681952448"
	><span class="hs-identifier hs-var"
	  >iterToFinalState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann
</span
	><a href="#local-6989586621681952452"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-312"
      ></span
      ><span
      >
</span
      ><span id="line-313"
      ></span
      ><span class="hs-comment"
      >-- | A CEK parameter that turns the slippage optimization *off*.</span
      ><span
      >
</span
      ><span id="line-314"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-315"
      ></span
      ><span class="hs-comment"
      >-- This is needed in the case of the debugger, where the accounting/budgeting costs</span
      ><span
      >
</span
      ><span id="line-316"
      ></span
      ><span class="hs-comment"
      >-- must be *live* updated.</span
      ><span
      >
</span
      ><span id="line-317"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#nilSlippage"
	><span class="hs-identifier hs-type"
	  >nilSlippage</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#Slippage"
	><span class="hs-identifier hs-type"
	  >Slippage</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-318"
      ></span
      ><span class="hs-comment"
      >-- Setting the slippage to 1 would also work and turn off slippage optimization.</span
      ><span
      >
</span
      ><span id="line-319"
      ></span
      ><span id="nilSlippage"
      ><span class="annot"
	><span class="annottext"
	  >nilSlippage :: Slippage
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#nilSlippage"
	  ><span class="hs-identifier hs-var hs-var"
	    >nilSlippage</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Slippage
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      >
</span
      ><span id="line-320"
      ></span
      ><span
      >
</span
      ><span id="line-321"
      ></span
      ><span class="hs-comment"
      >-- the type of our state transition function, `s -&gt; m s` , aka `Kleisli m a a`</span
      ><span
      >
</span
      ><span id="line-322"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="Trans"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Trans"
	  ><span class="hs-identifier hs-var"
	    >Trans</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952454"
      ><span class="annot"
	><a href="#local-6989586621681952454"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952455"
      ><span class="annot"
	><a href="#local-6989586621681952455"
	  ><span class="hs-identifier hs-type"
	    >state</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952455"
	><span class="hs-identifier hs-type"
	  >state</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952454"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952455"
	><span class="hs-identifier hs-type"
	  >state</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-323"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="CekTrans"
      ><span class="annot"
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekTrans"
	  ><span class="hs-identifier hs-var"
	    >CekTrans</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952456"
      ><span class="annot"
	><a href="#local-6989586621681952456"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952457"
      ><span class="annot"
	><a href="#local-6989586621681952457"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952458"
      ><span class="annot"
	><a href="#local-6989586621681952458"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952459"
      ><span class="annot"
	><a href="#local-6989586621681952459"
	  ><span class="hs-identifier hs-type"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Trans"
	><span class="hs-identifier hs-type"
	  >Trans</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
	><span class="hs-identifier hs-type"
	  >CekM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952456"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952457"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952459"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
	><span class="hs-identifier hs-type"
	  >CekState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952456"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952457"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952458"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-324"
      ></span
      ><span
      >
</span
      ><span id="line-325"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The state transition function of the machine.</span
	></span
      ><span
      >
</span
      ><span id="line-326"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekTrans"
	><span class="hs-identifier hs-type"
	  >cekTrans</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621681951791"
      ><span class="annot"
	><a href="#local-6989586621681951791"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951792"
      ><span class="annot"
	><a href="#local-6989586621681951792"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951793"
      ><span class="annot"
	><a href="#local-6989586621681951793"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951794"
      ><span class="annot"
	><a href="#local-6989586621681951794"
	  ><span class="hs-identifier hs-type"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-327"
      ></span
      ><span
      >           </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
	><span class="hs-identifier hs-type"
	  >ThrowableBuiltins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951791"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951792"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#GivenCekReqs"
	><span class="hs-identifier hs-type"
	  >GivenCekReqs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951791"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951792"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951793"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951794"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-328"
      ></span
      ><span
      >           </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekTrans"
	><span class="hs-identifier hs-type"
	  >CekTrans</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951791"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951792"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951793"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951794"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-329"
      ></span
      ><span id="cekTrans"
      ><span class="annot"
	><span class="annottext"
	  >cekTrans :: forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
CekTrans uni fun ann s
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekTrans"
	  ><span class="hs-identifier hs-var hs-var"
	    >cekTrans</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-330"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Starting"
	><span class="hs-identifier hs-type"
	  >Starting</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952479"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952479"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      >          </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
forall (uni :: * -&gt; *) fun ann. Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#NoFrame"
	><span class="hs-identifier hs-var"
	  >NoFrame</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
forall e. RandomAccessList e =&gt; e
</span
	><a href="../../plutus-core/src/Data.RandomAccessList.Class.html#empty"
	><span class="hs-identifier hs-var"
	  >Env.empty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952479"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-331"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-type"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952480"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952480"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952481"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952481"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952482"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952482"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#computeCek"
	><span class="hs-identifier hs-var"
	  >computeCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952480"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952481"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952482"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-332"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-type"
	  >Returning</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952483"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952483"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952484"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952484"
	  ><span class="hs-identifier hs-var"
	    >val</span
	    ></a
	  ></span
	></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952483"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952484"
	><span class="hs-identifier hs-var"
	  >val</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-333"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681952485"
      ><span class="annot"
	><span class="annottext"
	  >self :: CekState uni fun ann
</span
	  ><a href="#local-6989586621681952485"
	  ><span class="hs-identifier hs-var"
	    >self</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Terminating"
	><span class="hs-identifier hs-type"
	  >Terminating</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >     </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann
</span
	><a href="#local-6989586621681952485"
	><span class="hs-identifier hs-var"
	  >self</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-comment"
      >-- FINAL STATE, idempotent</span
      ><span
      >
</span
      ><span id="line-334"
      ></span
      ><span
      >
</span
      ><span id="line-335"
      ></span
      ><span class="hs-comment"
      >-- | Based on the supplied arguments, initialize the CEK environment and</span
      ><span
      >
</span
      ><span id="line-336"
      ></span
      ><span class="hs-comment"
      >-- construct a state transition function.</span
      ><span
      >
</span
      ><span id="line-337"
      ></span
      ><span class="hs-comment"
      >-- Returns the constructed transition function paired with the methods to live access the running budget.</span
      ><span
      >
</span
      ><span id="line-338"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#mkCekTrans"
	><span class="hs-identifier hs-type"
	  >mkCekTrans</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-339"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621681951810"
      ><span class="annot"
	><a href="#local-6989586621681951810"
	  ><span class="hs-identifier hs-type"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951803"
      ><span class="annot"
	><a href="#local-6989586621681951803"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951804"
      ><span class="annot"
	><a href="#local-6989586621681951804"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951809"
      ><span class="annot"
	><a href="#local-6989586621681951809"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951805"
      ><span class="annot"
	><a href="#local-6989586621681951805"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951807"
      ><span class="annot"
	><a href="#local-6989586621681951807"
	  ><span class="hs-identifier hs-type"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-340"
      ></span
      ><span
      >    </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
	><span class="hs-identifier hs-type"
	  >ThrowableBuiltins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951803"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951804"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-341"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/primitive-0.9.1.0/docs/src/Control.Monad.Primitive.html#PrimMonad"
	><span class="hs-identifier hs-type"
	  >PrimMonad</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951805"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951807"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#~"
	><span class="hs-operator hs-type"
	  >~</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/primitive-0.9.1.0/docs/src/Control.Monad.Primitive.html#PrimState"
	><span class="hs-identifier hs-type"
	  >PrimState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951805"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- the outer monad that initializes the transition function</span
      ><span
      >
</span
      ><span id="line-342"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Machine.MachineParameters.html#MachineParameters"
	><span class="hs-identifier hs-type"
	  >MachineParameters</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#CekMachineCosts"
	><span class="hs-identifier hs-type"
	  >CekMachineCosts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951804"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
	><span class="hs-identifier hs-type"
	  >CekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951803"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951804"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951809"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-343"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#ExBudgetMode"
	><span class="hs-identifier hs-type"
	  >ExBudgetMode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951810"
	><span class="hs-identifier hs-type"
	  >cost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951803"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951804"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-344"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#EmitterMode"
	><span class="hs-identifier hs-type"
	  >EmitterMode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951803"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951804"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-345"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#Slippage"
	><span class="hs-identifier hs-type"
	  >Slippage</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-346"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951805"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekTrans"
	><span class="hs-identifier hs-type"
	  >CekTrans</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951803"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951804"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951809"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951807"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#ExBudgetInfo"
	><span class="hs-identifier hs-type"
	  >ExBudgetInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951810"
	><span class="hs-identifier hs-type"
	  >cost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951803"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951804"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951807"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-347"
      ></span
      ><span id="mkCekTrans"
      ><span class="annot"
	><span class="annottext"
	  >mkCekTrans :: forall cost (uni :: * -&gt; *) fun ann (m :: * -&gt; *) s.
(ThrowableBuiltins uni fun, PrimMonad m, s ~ PrimState m) =&gt;
MachineParameters CekMachineCosts fun (CekValue uni fun ann)
-&gt; ExBudgetMode cost uni fun
-&gt; EmitterMode uni fun
-&gt; Slippage
-&gt; m (CekTrans uni fun ann s, ExBudgetInfo cost uni fun s)
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#mkCekTrans"
	  ><span class="hs-identifier hs-var hs-var"
	    >mkCekTrans</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-348"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Machine.MachineParameters.html#MachineParameters"
	><span class="hs-identifier hs-type"
	  >MachineParameters</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952510"
      ><span class="annot"
	><span class="annottext"
	  >CaserBuiltin (UniOf (CekValue uni fun ann))
</span
	  ><a href="#local-6989586621681952510"
	  ><span class="hs-identifier hs-var"
	    >caser</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Machine.MachineParameters.html#MachineVariantParameters"
	><span class="hs-identifier hs-type"
	  >MachineVariantParameters</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952512"
      ><span class="annot"
	><span class="annottext"
	  >CekMachineCosts
</span
	  ><a href="#local-6989586621681952512"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952513"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinsRuntime fun (CekValue uni fun ann)
</span
	  ><a href="#local-6989586621681952513"
	  ><span class="hs-identifier hs-var"
	    >runtime</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-349"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#ExBudgetMode"
	><span class="hs-identifier hs-type"
	  >ExBudgetMode</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952515"
      ><span class="annot"
	><span class="annottext"
	  >forall s. ST s (ExBudgetInfo cost uni fun s)
</span
	  ><a href="#local-6989586621681952515"
	  ><span class="hs-identifier hs-var"
	    >getExBudgetInfo</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-350"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#EmitterMode"
	><span class="hs-identifier hs-type"
	  >EmitterMode</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952517"
      ><span class="annot"
	><span class="annottext"
	  >forall s. ST s ExBudget -&gt; ST s (CekEmitterInfo uni fun s)
</span
	  ><a href="#local-6989586621681952517"
	  ><span class="hs-identifier hs-var"
	    >getEmitterMode</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-351"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681952518"
      ><span class="annot"
	><span class="annottext"
	  >Slippage
</span
	  ><a href="#local-6989586621681952518"
	  ><span class="hs-identifier hs-var"
	    >slippage</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-352"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681952519"
      ><span class="annot"
	><span class="annottext"
	  >exBudgetInfo :: ExBudgetInfo cost uni fun s
</span
	  ><a href="#local-6989586621681952519"
	  ><span class="hs-identifier hs-var"
	    >exBudgetInfo</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#ExBudgetInfo"
	><span class="hs-identifier hs-type"
	  >ExBudgetInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span id="local-6989586621681952521"
      ><span class="annot"
	><span class="annottext"
	  >CekBudgetSpender uni fun s
_exBudgetModeSpender :: CekBudgetSpender uni fun s
_exBudgetModeSpender :: forall cost (uni :: * -&gt; *) fun s.
ExBudgetInfo cost uni fun s -&gt; CekBudgetSpender uni fun s
</span
	  ><a href="#local-6989586621681952521"
	  ><span class="hs-identifier hs-var hs-var"
	    >_exBudgetModeSpender</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621681952523"
      ><span class="annot"
	><span class="annottext"
	  >ST s ExBudget
_exBudgetModeGetCumulative :: ST s ExBudget
_exBudgetModeGetCumulative :: forall cost (uni :: * -&gt; *) fun s.
ExBudgetInfo cost uni fun s -&gt; ST s ExBudget
</span
	  ><a href="#local-6989586621681952523"
	  ><span class="hs-identifier hs-var hs-var"
	    >_exBudgetModeGetCumulative</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ST s (ExBudgetInfo cost uni fun s)
-&gt; m (ExBudgetInfo cost uni fun s)
forall (m1 :: * -&gt; *) (m2 :: * -&gt; *) a.
(PrimBase m1, PrimMonad m2, PrimState m1 ~ PrimState m2) =&gt;
m1 a -&gt; m2 a
</span
	><a href="https://hackage.haskell.org/package/primitive-0.9.1.0/docs/src/Control.Monad.Primitive.html#liftPrim"
	><span class="hs-identifier hs-var"
	  >liftPrim</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ST s (ExBudgetInfo cost uni fun s)
forall s. ST s (ExBudgetInfo cost uni fun s)
</span
	><a href="#local-6989586621681952515"
	><span class="hs-identifier hs-var"
	  >getExBudgetInfo</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-353"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekEmitterInfo"
	><span class="hs-identifier hs-type"
	  >CekEmitterInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span id="local-6989586621681952527"
      ><span class="annot"
	><span class="annottext"
	  >CekEmitter uni fun s
_cekEmitterInfoEmit :: CekEmitter uni fun s
_cekEmitterInfoEmit :: forall (uni :: * -&gt; *) fun s.
CekEmitterInfo uni fun s -&gt; CekEmitter uni fun s
</span
	  ><a href="#local-6989586621681952527"
	  ><span class="hs-identifier hs-var hs-var"
	    >_cekEmitterInfoEmit</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ST s (CekEmitterInfo uni fun s) -&gt; m (CekEmitterInfo uni fun s)
forall (m1 :: * -&gt; *) (m2 :: * -&gt; *) a.
(PrimBase m1, PrimMonad m2, PrimState m1 ~ PrimState m2) =&gt;
m1 a -&gt; m2 a
</span
	><a href="https://hackage.haskell.org/package/primitive-0.9.1.0/docs/src/Control.Monad.Primitive.html#liftPrim"
	><span class="hs-identifier hs-var"
	  >liftPrim</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ST s (CekEmitterInfo uni fun s) -&gt; m (CekEmitterInfo uni fun s))
-&gt; ST s (CekEmitterInfo uni fun s) -&gt; m (CekEmitterInfo uni fun s)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ST s ExBudget -&gt; ST s (CekEmitterInfo uni fun s)
forall s. ST s ExBudget -&gt; ST s (CekEmitterInfo uni fun s)
</span
	><a href="#local-6989586621681952517"
	><span class="hs-identifier hs-var"
	  >getEmitterMode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ST s ExBudget
</span
	><a href="#local-6989586621681952523"
	><span class="hs-identifier hs-var"
	  >_exBudgetModeGetCumulative</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-354"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681952529"
      ><span class="annot"
	><span class="annottext"
	  >StepCounter 10 s
</span
	  ><a href="#local-6989586621681952529"
	  ><span class="hs-identifier hs-var"
	    >ctr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Proxy 10 -&gt; m (StepCounter 10 (PrimState m))
forall (n :: Nat) (m :: * -&gt; *).
(KnownNat n, PrimMonad m) =&gt;
Proxy n -&gt; m (StepCounter n (PrimState m))
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.StepCounter.html#newCounter"
	><span class="hs-identifier hs-var"
	  >newCounter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>forall (t :: Nat). Proxy t
forall {k} (t :: k). Proxy t
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Proxy.html#Proxy"
	><span class="hs-identifier hs-var"
	  >Proxy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CounterSize"
	><span class="hs-identifier hs-type"
	  >CounterSize</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-355"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span class=""
      >?cekRuntime</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>?cekRuntime::BuiltinsRuntime fun (CekValue uni fun ann)
BuiltinsRuntime fun (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952513"
	><span class="hs-identifier hs-var"
	  >runtime</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-356"
      ></span
      ><span
      >        </span
      ><span class=""
      >?cekCaserBuiltin</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>?cekCaserBuiltin::CaserBuiltin uni
CaserBuiltin uni
CaserBuiltin (UniOf (CekValue uni fun ann))
</span
	><a href="#local-6989586621681952510"
	><span class="hs-identifier hs-var"
	  >caser</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-357"
      ></span
      ><span
      >        </span
      ><span class=""
      >?cekEmitter</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>?cekEmitter::CekEmitter uni fun s
CekEmitter uni fun s
</span
	><a href="#local-6989586621681952527"
	><span class="hs-identifier hs-var"
	  >_cekEmitterInfoEmit</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-358"
      ></span
      ><span
      >        </span
      ><span class=""
      >?cekBudgetSpender</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>?cekBudgetSpender::CekBudgetSpender uni fun s
CekBudgetSpender uni fun s
</span
	><a href="#local-6989586621681952521"
	><span class="hs-identifier hs-var"
	  >_exBudgetModeSpender</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-359"
      ></span
      ><span
      >        </span
      ><span class=""
      >?cekCosts</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>GivenCekCosts
CekMachineCosts
</span
	><a href="#local-6989586621681952512"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-360"
      ></span
      ><span
      >        </span
      ><span class=""
      >?cekSlippage</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>GivenCekSlippage
Slippage
</span
	><a href="#local-6989586621681952518"
	><span class="hs-identifier hs-var"
	  >slippage</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-361"
      ></span
      ><span
      >        </span
      ><span class=""
      >?cekStepCounter</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>?cekStepCounter::StepCounter 10 s
StepCounter 10 s
</span
	><a href="#local-6989586621681952529"
	><span class="hs-identifier hs-var"
	  >ctr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-362"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekTrans uni fun ann s, ExBudgetInfo cost uni fun s)
-&gt; m (CekTrans uni fun ann s, ExBudgetInfo cost uni fun s)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CekTrans uni fun ann s
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
CekTrans uni fun ann s
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekTrans"
	><span class="hs-identifier hs-var"
	  >cekTrans</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetInfo cost uni fun s
</span
	><a href="#local-6989586621681952519"
	><span class="hs-identifier hs-var"
	  >exBudgetInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-363"
      ></span
      ><span
      >         </span
      ><span class="hs-comment"
      >-- note that we do not call the final budget&amp;emit getters like in `runCekM`,</span
      ><span
      >
</span
      ><span id="line-364"
      ></span
      ><span
      >         </span
      ><span class="hs-comment"
      >-- since we do not need it for our usecase.</span
      ><span
      >
</span
      ><span id="line-365"
      ></span
      ><span
      >
</span
      ><span id="line-366"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- * Helpers</span
	></span
      ><span
      >
</span
      ><span id="line-367"
      ></span
      ><span class="hs-comment"
      >------------</span
      ><span
      >
</span
      ><span id="line-368"
      ></span
      ><span
      >
</span
      ><span id="line-369"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Lift a CEK computation to a primitive.PrimMonad m</span
	></span
      ><span
      >
</span
      ><span id="line-370"
      ></span
      ><span id="local-6989586621681951848"
      ><span id="local-6989586621681951849"
	><span id="local-6989586621681951850"
	  ><span id="local-6989586621681951851"
	    ><span id="local-6989586621681951852"
	      ><span class="annot"
		><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#liftCek"
		  ><span class="hs-identifier hs-type"
		    >liftCek</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/primitive-0.9.1.0/docs/src/Control.Monad.Primitive.html#PrimMonad"
		  ><span class="hs-identifier hs-type"
		    >PrimMonad</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951848"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/primitive-0.9.1.0/docs/src/Control.Monad.Primitive.html#PrimState"
		  ><span class="hs-identifier hs-type"
		    >PrimState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951848"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#~"
		  ><span class="hs-operator hs-type"
		    >~</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951849"
		  ><span class="hs-identifier hs-type"
		    >s</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
		  ><span class="hs-identifier hs-type"
		    >CekM</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951850"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951851"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951849"
		  ><span class="hs-identifier hs-type"
		    >s</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951852"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951848"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951852"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-371"
      ></span
      ><span id="liftCek"
      ><span class="annot"
	><span class="annottext"
	  >liftCek :: forall (m :: * -&gt; *) s (uni :: * -&gt; *) fun a.
(PrimMonad m, PrimState m ~ s) =&gt;
CekM uni fun s a -&gt; m a
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#liftCek"
	  ><span class="hs-identifier hs-var hs-var"
	    >liftCek</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ST s a -&gt; m a
forall (m1 :: * -&gt; *) (m2 :: * -&gt; *) a.
(PrimBase m1, PrimMonad m2, PrimState m1 ~ PrimState m2) =&gt;
m1 a -&gt; m2 a
</span
	><a href="https://hackage.haskell.org/package/primitive-0.9.1.0/docs/src/Control.Monad.Primitive.html#liftPrim"
	><span class="hs-identifier hs-var"
	  >liftPrim</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ST s a -&gt; m a)
-&gt; (CekM uni fun s a -&gt; ST s a) -&gt; CekM uni fun s a -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekM uni fun s a -&gt; ST s a
forall (uni :: * -&gt; *) fun s a. CekM uni fun s a -&gt; ST s a
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#unCekM"
	><span class="hs-identifier hs-var"
	  >unCekM</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-372"
      ></span
      ><span
      >
</span
      ><span id="line-373"
      ></span
      ><span id="local-6989586621681951863"
      ><span id="local-6989586621681951864"
	><span id="local-6989586621681951865"
	  ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekStateContext"
	      ><span class="hs-identifier hs-type"
		>cekStateContext</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><span class="hs-identifier hs-type"
	      >Traversal'</span
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
	      ><span class="hs-identifier hs-type"
		>CekState</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951863"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951864"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951865"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	      ><span class="hs-identifier hs-type"
		>Context</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951863"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951864"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951865"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-374"
      ></span
      ><span id="cekStateContext"
      ><span class="annot"
	><span class="annottext"
	  >cekStateContext :: forall (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Applicative f =&gt;
(Context uni fun ann -&gt; f (Context uni fun ann))
-&gt; CekState uni fun ann -&gt; f (CekState uni fun ann)
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekStateContext"
	  ><span class="hs-identifier hs-var hs-var"
	    >cekStateContext</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952567"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann -&gt; f (Context uni fun ann)
</span
	  ><a href="#local-6989586621681952567"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-375"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-type"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952568"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952568"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952569"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952569"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952570"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952570"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann
-&gt; CekValEnv uni fun ann
-&gt; NTerm uni fun ann
-&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-var"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Context uni fun ann
 -&gt; CekValEnv uni fun ann
 -&gt; NTerm uni fun ann
 -&gt; CekState uni fun ann)
-&gt; f (Context uni fun ann)
-&gt; f (CekValEnv uni fun ann
      -&gt; NTerm uni fun ann -&gt; CekState uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann -&gt; f (Context uni fun ann)
</span
	><a href="#local-6989586621681952567"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952568"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (CekValEnv uni fun ann
   -&gt; NTerm uni fun ann -&gt; CekState uni fun ann)
-&gt; f (CekValEnv uni fun ann)
-&gt; f (NTerm uni fun ann -&gt; CekState uni fun ann)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann -&gt; f (CekValEnv uni fun ann)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952569"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (NTerm uni fun ann -&gt; CekState uni fun ann)
-&gt; f (NTerm uni fun ann) -&gt; f (CekState uni fun ann)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann -&gt; f (NTerm uni fun ann)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952570"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-376"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-type"
	  >Returning</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952572"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952572"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952573"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952573"
	  ><span class="hs-identifier hs-var"
	    >v</span
	    ></a
	  ></span
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
forall (uni :: * -&gt; *) fun ann.
Context uni fun ann -&gt; CekValue uni fun ann -&gt; CekState uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-var"
	  >Returning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Context uni fun ann
 -&gt; CekValue uni fun ann -&gt; CekState uni fun ann)
-&gt; f (Context uni fun ann)
-&gt; f (CekValue uni fun ann -&gt; CekState uni fun ann)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann -&gt; f (Context uni fun ann)
</span
	><a href="#local-6989586621681952567"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952572"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (CekValue uni fun ann -&gt; CekState uni fun ann)
-&gt; f (CekValue uni fun ann) -&gt; f (CekState uni fun ann)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann -&gt; f (CekValue uni fun ann)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952573"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-377"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681952574"
      ><span class="annot"
	><span class="annottext"
	  >CekState uni fun ann
</span
	  ><a href="#local-6989586621681952574"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      >               </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann -&gt; f (CekState uni fun ann)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann
</span
	><a href="#local-6989586621681952574"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-378"
      ></span
      ><span
      >
</span
      ><span id="line-379"
      ></span
      ><span id="local-6989586621681951875"
      ><span id="local-6989586621681951876"
	><span id="local-6989586621681951877"
	  ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekStateAnn"
	      ><span class="hs-identifier hs-type"
		>cekStateAnn</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
	      ><span class="hs-identifier hs-type"
		>CekState</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951875"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951876"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951877"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	      ><span class="hs-identifier hs-type"
		>Maybe</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951877"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-380"
      ></span
      ><span id="cekStateAnn"
      ><span class="annot"
	><span class="annottext"
	  >cekStateAnn :: forall (uni :: * -&gt; *) fun ann. CekState uni fun ann -&gt; Maybe ann
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekStateAnn"
	  ><span class="hs-identifier hs-var hs-var"
	    >cekStateAnn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-381"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Computing"
	><span class="hs-identifier hs-type"
	  >Computing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952579"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ann
</span
	  ><a href="#local-6989586621681952579"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Maybe ann
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ann -&gt; Maybe ann) -&gt; ann -&gt; Maybe ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann -&gt; ann
forall name (uni :: * -&gt; *) fun ann. Term name uni fun ann -&gt; ann
</span
	><a href="UntypedPlutusCore.Core.Type.html#termAnn"
	><span class="hs-identifier hs-var"
	  >termAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><a href="#local-6989586621681952579"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-382"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Returning"
	><span class="hs-identifier hs-type"
	  >Returning</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952580"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952580"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann -&gt; Maybe ann
forall (uni :: * -&gt; *) fun ann. Context uni fun ann -&gt; Maybe ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#contextAnn"
	><span class="hs-identifier hs-var"
	  >contextAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952580"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-383"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CekState uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >               </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ann
forall a. Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#empty"
	><span class="hs-identifier hs-var"
	  >empty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-384"
      ></span
      ><span
      >
</span
      ><span id="line-385"
      ></span
      ><span id="local-6989586621681951882"
      ><span id="local-6989586621681951883"
	><span id="local-6989586621681951884"
	  ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#contextAnn"
	      ><span class="hs-identifier hs-type"
		>contextAnn</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	      ><span class="hs-identifier hs-type"
		>Context</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951882"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951883"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951884"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	      ><span class="hs-identifier hs-type"
		>Maybe</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951884"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-386"
      ></span
      ><span id="contextAnn"
      ><span class="annot"
	><span class="annottext"
	  >contextAnn :: forall (uni :: * -&gt; *) fun ann. Context uni fun ann -&gt; Maybe ann
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#contextAnn"
	  ><span class="hs-identifier hs-var hs-var"
	    >contextAnn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-387"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitArg"
	><span class="hs-identifier hs-type"
	  >FrameAwaitArg</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952589"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952589"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >       </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Maybe ann
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952589"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-388"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunTerm"
	><span class="hs-identifier hs-type"
	  >FrameAwaitFunTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952590"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952590"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Maybe ann
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952590"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-389"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunValue"
	><span class="hs-identifier hs-type"
	  >FrameAwaitFunValue</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952591"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952591"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Maybe ann
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952591"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-390"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameForce"
	><span class="hs-identifier hs-type"
	  >FrameForce</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952592"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952592"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >            </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Maybe ann
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952592"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-391"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameConstr"
	><span class="hs-identifier hs-type"
	  >FrameConstr</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952593"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952593"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[NTerm uni fun ann]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Maybe ann
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952593"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-392"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameCases"
	><span class="hs-identifier hs-type"
	  >FrameCases</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952594"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681952594"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Vector (NTerm uni fun ann)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Maybe ann
forall a. a -&gt; Maybe a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681952594"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-393"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#NoFrame"
	><span class="hs-identifier hs-var"
	  >NoFrame</span
	  ></a
	></span
      ><span
      >                     </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ann
forall a. Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#empty"
	><span class="hs-identifier hs-var"
	  >empty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-394"
      ></span
      ><span
      >
</span
      ><span id="line-395"
      ></span
      ><span id="local-6989586621681951890"
      ><span id="local-6989586621681951891"
	><span id="local-6989586621681951892"
	  ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#lenContext"
	      ><span class="hs-identifier hs-type"
		>lenContext</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	      ><span class="hs-identifier hs-type"
		>Context</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951890"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951891"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951892"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Word"
	      ><span class="hs-identifier hs-type"
		>Word</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-396"
      ></span
      ><span id="lenContext"
      ><span class="annot"
	><span class="annottext"
	  >lenContext :: forall (uni :: * -&gt; *) fun ann. Context uni fun ann -&gt; Word
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#lenContext"
	  ><span class="hs-identifier hs-var hs-var"
	    >lenContext</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Context uni fun ann -&gt; Word
forall (uni :: * -&gt; *) fun ann. Word -&gt; Context uni fun ann -&gt; Word
</span
	><a href="#local-6989586621681952595"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      >
</span
      ><span id="line-397"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-398"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621681951896"
      ><span id="local-6989586621681951897"
	><span id="local-6989586621681951898"
	  ><span class="annot"
	    ><a href="#local-6989586621681952595"
	      ><span class="hs-identifier hs-type"
		>go</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Word"
	      ><span class="hs-identifier hs-type"
		>Word</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
	      ><span class="hs-identifier hs-type"
		>Context</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951896"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951897"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951898"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Word"
	      ><span class="hs-identifier hs-type"
		>Word</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-399"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621681952595"
      ><span class="annot"
	><span class="annottext"
	  >go :: forall (uni :: * -&gt; *) fun ann. Word -&gt; Context uni fun ann -&gt; Word
</span
	  ><a href="#local-6989586621681952595"
	  ><span class="hs-identifier hs-var hs-var"
	    >go</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952609"
      ><span class="annot"
	><span class="annottext"
	  >Word
</span
	  ><a href="#local-6989586621681952609"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-400"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitArg"
	><span class="hs-identifier hs-type"
	  >FrameAwaitArg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952610"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952610"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      >       </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Context uni fun ann -&gt; Word
forall (uni :: * -&gt; *) fun ann. Word -&gt; Context uni fun ann -&gt; Word
</span
	><a href="#local-6989586621681952595"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><a href="#local-6989586621681952609"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Word -&gt; Word
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952610"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-401"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunTerm"
	><span class="hs-identifier hs-type"
	  >FrameAwaitFunTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952612"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952612"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Context uni fun ann -&gt; Word
forall (uni :: * -&gt; *) fun ann. Word -&gt; Context uni fun ann -&gt; Word
</span
	><a href="#local-6989586621681952595"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><a href="#local-6989586621681952609"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Word -&gt; Word
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952612"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-402"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameAwaitFunValue"
	><span class="hs-identifier hs-type"
	  >FrameAwaitFunValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952613"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952613"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Context uni fun ann -&gt; Word
forall (uni :: * -&gt; *) fun ann. Word -&gt; Context uni fun ann -&gt; Word
</span
	><a href="#local-6989586621681952595"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><a href="#local-6989586621681952609"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Word -&gt; Word
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952613"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-403"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameForce"
	><span class="hs-identifier hs-type"
	  >FrameForce</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952614"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952614"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      >            </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Context uni fun ann -&gt; Word
forall (uni :: * -&gt; *) fun ann. Word -&gt; Context uni fun ann -&gt; Word
</span
	><a href="#local-6989586621681952595"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><a href="#local-6989586621681952609"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Word -&gt; Word
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952614"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-404"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameConstr"
	><span class="hs-identifier hs-type"
	  >FrameConstr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[NTerm uni fun ann]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ArgStack uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952615"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952615"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Context uni fun ann -&gt; Word
forall (uni :: * -&gt; *) fun ann. Word -&gt; Context uni fun ann -&gt; Word
</span
	><a href="#local-6989586621681952595"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><a href="#local-6989586621681952609"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Word -&gt; Word
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952615"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-405"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#FrameCases"
	><span class="hs-identifier hs-type"
	  >FrameCases</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Vector (NTerm uni fun ann)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952616"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952616"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Context uni fun ann -&gt; Word
forall (uni :: * -&gt; *) fun ann. Word -&gt; Context uni fun ann -&gt; Word
</span
	><a href="#local-6989586621681952595"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><a href="#local-6989586621681952609"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word -&gt; Word -&gt; Word
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952616"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-406"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#NoFrame"
	><span class="hs-identifier hs-var"
	  >NoFrame</span
	  ></a
	></span
      ><span
      >                   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      >
</span
      ><span id="line-407"
      ></span
      ><span
      >
</span
      ><span id="line-408"
      ></span
      ><span
      >
</span
      ><span id="line-409"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- * Duplicated functions from Cek.Internal module</span
	></span
      ><span
      >
</span
      ><span id="line-410"
      ></span
      ><span class="hs-comment"
      >-- FIXME: share these functions with Cek.Internal</span
      ><span
      >
</span
      ><span id="line-411"
      ></span
      ><span class="hs-comment"
      >-- preliminary testing shows that sharing slows down original cek</span
      ><span
      >
</span
      ><span id="line-412"
      ></span
      ><span
      >
</span
      ><span id="line-413"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekStepCost"
	><span class="hs-identifier hs-type"
	  >cekStepCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#CekMachineCosts"
	><span class="hs-identifier hs-type"
	  >CekMachineCosts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#StepKind"
	><span class="hs-identifier hs-type"
	  >StepKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Machine.ExBudget.html#ExBudget"
	><span class="hs-identifier hs-type"
	  >ExBudget</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-414"
      ></span
      ><span id="cekStepCost"
      ><span class="annot"
	><span class="annottext"
	  >cekStepCost :: CekMachineCosts -&gt; StepKind -&gt; ExBudget
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekStepCost"
	  ><span class="hs-identifier hs-var hs-var"
	    >cekStepCost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952618"
      ><span class="annot"
	><span class="annottext"
	  >CekMachineCosts
</span
	  ><a href="#local-6989586621681952618"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Identity ExBudget -&gt; ExBudget
forall a. Identity a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.Identity.html#runIdentity"
	><span class="hs-identifier hs-var"
	  >runIdentity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Identity ExBudget -&gt; ExBudget)
-&gt; (StepKind -&gt; Identity ExBudget) -&gt; StepKind -&gt; ExBudget
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-415"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BConst"
	><span class="hs-identifier hs-var"
	  >BConst</span
	  ></a
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; Identity ExBudget
forall (f :: * -&gt; *). CekMachineCostsBase f -&gt; f ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#cekConstCost"
	><span class="hs-identifier hs-var"
	  >cekConstCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts
</span
	><a href="#local-6989586621681952618"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-416"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BVar"
	><span class="hs-identifier hs-var"
	  >BVar</span
	  ></a
	></span
      ><span
      >     </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; Identity ExBudget
forall (f :: * -&gt; *). CekMachineCostsBase f -&gt; f ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#cekVarCost"
	><span class="hs-identifier hs-var"
	  >cekVarCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts
</span
	><a href="#local-6989586621681952618"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-417"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BLamAbs"
	><span class="hs-identifier hs-var"
	  >BLamAbs</span
	  ></a
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; Identity ExBudget
forall (f :: * -&gt; *). CekMachineCostsBase f -&gt; f ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#cekLamCost"
	><span class="hs-identifier hs-var"
	  >cekLamCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts
</span
	><a href="#local-6989586621681952618"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-418"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BApply"
	><span class="hs-identifier hs-var"
	  >BApply</span
	  ></a
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; Identity ExBudget
forall (f :: * -&gt; *). CekMachineCostsBase f -&gt; f ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#cekApplyCost"
	><span class="hs-identifier hs-var"
	  >cekApplyCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts
</span
	><a href="#local-6989586621681952618"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-419"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BDelay"
	><span class="hs-identifier hs-var"
	  >BDelay</span
	  ></a
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; Identity ExBudget
forall (f :: * -&gt; *). CekMachineCostsBase f -&gt; f ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#cekDelayCost"
	><span class="hs-identifier hs-var"
	  >cekDelayCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts
</span
	><a href="#local-6989586621681952618"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-420"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BForce"
	><span class="hs-identifier hs-var"
	  >BForce</span
	  ></a
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; Identity ExBudget
forall (f :: * -&gt; *). CekMachineCostsBase f -&gt; f ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#cekForceCost"
	><span class="hs-identifier hs-var"
	  >cekForceCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts
</span
	><a href="#local-6989586621681952618"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-421"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BBuiltin"
	><span class="hs-identifier hs-var"
	  >BBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; Identity ExBudget
forall (f :: * -&gt; *). CekMachineCostsBase f -&gt; f ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#cekBuiltinCost"
	><span class="hs-identifier hs-var"
	  >cekBuiltinCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts
</span
	><a href="#local-6989586621681952618"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-422"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BConstr"
	><span class="hs-identifier hs-var"
	  >BConstr</span
	  ></a
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; Identity ExBudget
forall (f :: * -&gt; *). CekMachineCostsBase f -&gt; f ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#cekConstrCost"
	><span class="hs-identifier hs-var"
	  >cekConstrCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts
</span
	><a href="#local-6989586621681952618"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-423"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BCase"
	><span class="hs-identifier hs-var"
	  >BCase</span
	  ></a
	></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; Identity ExBudget
forall (f :: * -&gt; *). CekMachineCostsBase f -&gt; f ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.CekMachineCosts.html#cekCaseCost"
	><span class="hs-identifier hs-var"
	  >cekCaseCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts
</span
	><a href="#local-6989586621681952618"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-424"
      ></span
      ><span
      >
</span
      ><span id="line-425"
      ></span
      ><span class="hs-comment"
      >-- | Call 'dischargeCekValue' over the received 'CekVal' and feed the resulting 'Term' to</span
      ><span
      >
</span
      ><span id="line-426"
      ></span
      ><span class="hs-comment"
      >-- 'throwErrorWithCause' as the cause of the failure.</span
      ><span
      >
</span
      ><span id="line-427"
      ></span
      ><span id="local-6989586621681951724"
      ><span id="local-6989586621681951725"
	><span id="local-6989586621681951726"
	  ><span id="local-6989586621681951727"
	    ><span id="local-6989586621681951728"
	      ><span class="annot"
		><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#throwErrorDischarged"
		  ><span class="hs-identifier hs-type"
		    >throwErrorDischarged</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-428"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
		  ><span class="hs-identifier hs-type"
		    >ThrowableBuiltins</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951724"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951725"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-429"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Evaluation.Error.html#EvaluationError"
		  ><span class="hs-identifier hs-type"
		    >EvaluationError</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.Evaluation.Machine.Exception.html#MachineError"
		  ><span class="hs-identifier hs-type"
		    >MachineError</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951725"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="annot"
		><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekUserError"
		  ><span class="hs-identifier hs-type"
		    >CekUserError</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-430"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
		  ><span class="hs-identifier hs-type"
		    >CekValue</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951724"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951725"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951726"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-431"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
		  ><span class="hs-identifier hs-type"
		    >CekM</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951724"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951725"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951727"
		  ><span class="hs-identifier hs-type"
		    >s</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681951728"
		  ><span class="hs-identifier hs-type"
		    >x</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-432"
      ></span
      ><span id="throwErrorDischarged"
      ><span class="annot"
	><span class="annottext"
	  >throwErrorDischarged :: forall (uni :: * -&gt; *) fun ann s x.
ThrowableBuiltins uni fun =&gt;
EvaluationError (MachineError fun) CekUserError
-&gt; CekValue uni fun ann -&gt; CekM uni fun s x
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#throwErrorDischarged"
	  ><span class="hs-identifier hs-var hs-var"
	    >throwErrorDischarged</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952630"
      ><span class="annot"
	><span class="annottext"
	  >EvaluationError (MachineError fun) CekUserError
</span
	  ><a href="#local-6989586621681952630"
	  ><span class="hs-identifier hs-var"
	    >err</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; NTerm uni fun () -&gt; CekM uni fun s x
forall e cause (m :: * -&gt; *) x.
MonadError (ErrorWithCause e cause) m =&gt;
e -&gt; cause -&gt; m x
</span
	><a href="PlutusCore.Evaluation.ErrorWithCause.html#throwErrorWithCause"
	><span class="hs-identifier hs-var"
	  >throwErrorWithCause</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
</span
	><a href="#local-6989586621681952630"
	><span class="hs-identifier hs-var"
	  >err</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NTerm uni fun () -&gt; CekM uni fun s x)
-&gt; (CekValue uni fun ann -&gt; NTerm uni fun ())
-&gt; CekValue uni fun ann
-&gt; CekM uni fun s x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann -&gt; NTerm uni fun ()
forall (uni :: * -&gt; *) fun ann.
CekValue uni fun ann -&gt; NTerm uni fun ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#dischargeCekValue"
	><span class="hs-identifier hs-var"
	  >dischargeCekValue</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-433"
      ></span
      ><span
      >
</span
      ><span id="line-434"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Look up a variable name in the environment.</span
	></span
      ><span
      >
</span
      ><span id="line-435"
      ></span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#lookupVarName"
	><span class="hs-identifier hs-type"
	  >lookupVarName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-436"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621681951665"
      ><span class="annot"
	><a href="#local-6989586621681951665"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951666"
      ><span class="annot"
	><a href="#local-6989586621681951666"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951667"
      ><span class="annot"
	><a href="#local-6989586621681951667"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681951668"
      ><span class="annot"
	><a href="#local-6989586621681951668"
	  ><span class="hs-identifier hs-type"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-operator"
      >.</span
      ><span
      >
</span
      ><span id="line-437"
      ></span
      ><span
      >       </span
      ><span class="annot"
      ><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
	><span class="hs-identifier hs-type"
	  >ThrowableBuiltins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951665"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951666"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-438"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.DeBruijn.Internal.html#NamedDeBruijn"
	><span class="hs-identifier hs-type"
	  >NamedDeBruijn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValEnv"
	><span class="hs-identifier hs-type"
	  >CekValEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951665"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951666"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951667"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
	><span class="hs-identifier hs-type"
	  >CekM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951665"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951666"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951668"
	><span class="hs-identifier hs-type"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
	><span class="hs-identifier hs-type"
	  >CekValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951665"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951666"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681951667"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-439"
      ></span
      ><span id="lookupVarName"
      ><span class="annot"
	><span class="annottext"
	  >lookupVarName :: forall (uni :: * -&gt; *) fun ann s.
ThrowableBuiltins uni fun =&gt;
NamedDeBruijn
-&gt; CekValEnv uni fun ann -&gt; CekM uni fun s (CekValue uni fun ann)
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#lookupVarName"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupVarName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952636"
      ><span class="annot"
	><span class="annottext"
	  >varName :: NamedDeBruijn
</span
	  ><a href="#local-6989586621681952636"
	  ><span class="hs-identifier hs-var"
	    >varName</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.DeBruijn.Internal.html#NamedDeBruijn"
	><span class="hs-identifier hs-type"
	  >NamedDeBruijn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952638"
      ><span class="annot"
	><span class="annottext"
	  >Index
</span
	  ><a href="#local-6989586621681952638"
	  ><span class="hs-identifier hs-var"
	    >varIx</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621681952639"
      ><span class="annot"
	><span class="annottext"
	  >CekValEnv uni fun ann
</span
	  ><a href="#local-6989586621681952639"
	  ><span class="hs-identifier hs-var"
	    >varEnv</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-440"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
</span
	><a href="#local-6989586621681952639"
	><span class="hs-identifier hs-var"
	  >varEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValEnv uni fun ann
-&gt; Word64 -&gt; Maybe (Element (CekValEnv uni fun ann))
forall e. RandomAccessList e =&gt; e -&gt; Word64 -&gt; Maybe (Element e)
</span
	><a href="../../plutus-core/src/Data.RandomAccessList.Class.html#indexOne"
	><span class="hs-operator hs-var"
	  >`Env.indexOne`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Index -&gt; Word64
forall a b. Coercible a b =&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Prim.html#coerce"
	><span class="hs-identifier hs-var"
	  >coerce</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Index
</span
	><a href="#local-6989586621681952638"
	><span class="hs-identifier hs-var"
	  >varIx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-441"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Element (CekValEnv uni fun ann))
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-442"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>EvaluationError (MachineError fun) CekUserError
-&gt; Term NamedDeBruijn uni fun ()
-&gt; CekM uni fun s (CekValue uni fun ann)
forall e cause (m :: * -&gt; *) x.
MonadError (ErrorWithCause e cause) m =&gt;
e -&gt; cause -&gt; m x
</span
	><a href="PlutusCore.Evaluation.ErrorWithCause.html#throwErrorWithCause"
	><span class="hs-identifier hs-var"
	  >throwErrorWithCause</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun -&gt; EvaluationError (MachineError fun) CekUserError
forall structural operational.
structural -&gt; EvaluationError structural operational
</span
	><a href="PlutusCore.Evaluation.Error.html#StructuralError"
	><span class="hs-identifier hs-var"
	  >StructuralError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>MachineError fun
forall fun. MachineError fun
</span
	><a href="PlutusCore.Evaluation.Machine.Exception.html#OpenTermEvaluatedMachineError"
	><span class="hs-identifier hs-var"
	  >OpenTermEvaluatedMachineError</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; NamedDeBruijn -&gt; Term NamedDeBruijn uni fun ()
forall name (uni :: * -&gt; *) fun ann.
ann -&gt; name -&gt; Term name uni fun ann
</span
	><a href="UntypedPlutusCore.Core.Type.html#Var"
	><span class="hs-identifier hs-var"
	  >Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NamedDeBruijn
</span
	><a href="#local-6989586621681952636"
	><span class="hs-identifier hs-var"
	  >varName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-443"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952642"
      ><span class="annot"
	><span class="annottext"
	  >Element (CekValEnv uni fun ann)
</span
	  ><a href="#local-6989586621681952642"
	  ><span class="hs-identifier hs-var"
	    >val</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann -&gt; CekM uni fun s (CekValue uni fun ann)
forall a. a -&gt; CekM uni fun s a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Element (CekValEnv uni fun ann)
CekValue uni fun ann
</span
	><a href="#local-6989586621681952642"
	><span class="hs-identifier hs-var"
	  >val</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-444"
      ></span
      ><span
      >
</span
      ><span id="line-445"
      ></span
      ><span class="hs-comment"
      >-- | Take a possibly partial builtin application and</span
      ><span
      >
</span
      ><span id="line-446"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-447"
      ></span
      ><span class="hs-comment"
      >-- - either create a 'CekValue' by evaluating the application if it's saturated (emitting logs, if</span
      ><span
      >
</span
      ><span id="line-448"
      ></span
      ><span class="hs-comment"
      >--    any, along the way), potentially failing evaluation</span
      ><span
      >
</span
      ><span id="line-449"
      ></span
      ><span class="hs-comment"
      >-- - or create a partial builtin application otherwise</span
      ><span
      >
</span
      ><span id="line-450"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-451"
      ></span
      ><span class="hs-comment"
      >-- and proceed with the returning phase of the CEK machine.</span
      ><span
      >
</span
      ><span id="line-452"
      ></span
      ><span id="local-6989586621681951739"
      ><span id="local-6989586621681951740"
	><span id="local-6989586621681951741"
	  ><span id="local-6989586621681951742"
	    ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#evalBuiltinApp"
		><span class="hs-identifier hs-type"
		  >evalBuiltinApp</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-453"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusCore.Pretty.PrettyConst.html#ThrowableBuiltins"
		><span class="hs-identifier hs-type"
		  >ThrowableBuiltins</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951739"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951740"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >,</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#GivenCekReqs"
		><span class="hs-identifier hs-type"
		  >GivenCekReqs</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951739"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951740"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951741"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951742"
		><span class="hs-identifier hs-type"
		  >s</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-454"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#Context"
		><span class="hs-identifier hs-type"
		  >Context</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951739"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951740"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951741"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-455"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951740"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-456"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#NTerm"
		><span class="hs-identifier hs-type"
		  >NTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951739"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951740"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-457"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Builtin.Runtime.html#BuiltinRuntime"
		><span class="hs-identifier hs-type"
		  >BuiltinRuntime</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekValue"
		><span class="hs-identifier hs-type"
		  >CekValue</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951739"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951740"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951741"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-458"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
		><span class="hs-identifier hs-type"
		  >CekM</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951739"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951740"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951742"
		><span class="hs-identifier hs-type"
		  >s</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#CekState"
		><span class="hs-identifier hs-type"
		  >CekState</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951739"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951740"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951741"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-459"
      ></span
      ><span id="evalBuiltinApp"
      ><span class="annot"
	><span class="annottext"
	  >evalBuiltinApp :: forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; fun
-&gt; NTerm uni fun ()
-&gt; BuiltinRuntime (CekValue uni fun ann)
-&gt; CekM uni fun s (CekState uni fun ann)
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#evalBuiltinApp"
	  ><span class="hs-identifier hs-var hs-var"
	    >evalBuiltinApp</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952673"
      ><span class="annot"
	><span class="annottext"
	  >Context uni fun ann
</span
	  ><a href="#local-6989586621681952673"
	  ><span class="hs-identifier hs-var"
	    >ctx</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952674"
      ><span class="annot"
	><span class="annottext"
	  >fun
</span
	  ><a href="#local-6989586621681952674"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952675"
      ><span class="annot"
	><span class="annottext"
	  >NTerm uni fun ()
</span
	  ><a href="#local-6989586621681952675"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952676"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinRuntime (CekValue uni fun ann)
</span
	  ><a href="#local-6989586621681952676"
	  ><span class="hs-identifier hs-var"
	    >runtime</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinRuntime (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952676"
	><span class="hs-identifier hs-var"
	  >runtime</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-460"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.Runtime.html#BuiltinCostedResult"
	><span class="hs-identifier hs-type"
	  >BuiltinCostedResult</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952678"
      ><span class="annot"
	><span class="annottext"
	  >ExBudgetStream
</span
	  ><a href="#local-6989586621681952678"
	  ><span class="hs-identifier hs-var"
	    >budgets0</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952679"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinResult (CekValue uni fun ann)
</span
	  ><a href="#local-6989586621681952679"
	  ><span class="hs-identifier hs-var"
	    >getFXs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-461"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681952680"
      ><span class="annot"
	><span class="annottext"
	  >exCat :: ExBudgetCategory fun
</span
	  ><a href="#local-6989586621681952680"
	  ><span class="hs-identifier hs-var hs-var"
	    >exCat</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun -&gt; ExBudgetCategory fun
forall fun. fun -&gt; ExBudgetCategory fun
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BBuiltinApp"
	><span class="hs-identifier hs-var"
	  >BBuiltinApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621681952674"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-462"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621681952682"
      ><span class="annot"
	><span class="annottext"
	  >spendBudgets :: ExBudgetStream -&gt; CekM uni fun s ()
</span
	  ><a href="#local-6989586621681952682"
	  ><span class="hs-identifier hs-var hs-var"
	    >spendBudgets</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Machine.ExBudgetStream.html#ExBudgetLast"
	><span class="hs-identifier hs-type"
	  >ExBudgetLast</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952684"
      ><span class="annot"
	><span class="annottext"
	  >ExBudget
</span
	  ><a href="#local-6989586621681952684"
	  ><span class="hs-identifier hs-var"
	    >budget</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun s.
GivenCekSpender uni fun s =&gt;
ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#spendBudget"
	><span class="hs-identifier hs-var"
	  >spendBudget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetCategory fun
</span
	><a href="#local-6989586621681952680"
	><span class="hs-identifier hs-var"
	  >exCat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudget
</span
	><a href="#local-6989586621681952684"
	><span class="hs-identifier hs-var"
	  >budget</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-463"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="#local-6989586621681952682"
	><span class="hs-identifier hs-var"
	  >spendBudgets</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Evaluation.Machine.ExBudgetStream.html#ExBudgetCons"
	><span class="hs-identifier hs-type"
	  >ExBudgetCons</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952686"
      ><span class="annot"
	><span class="annottext"
	  >ExBudget
</span
	  ><a href="#local-6989586621681952686"
	  ><span class="hs-identifier hs-var"
	    >budget</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952687"
      ><span class="annot"
	><span class="annottext"
	  >ExBudgetStream
</span
	  ><a href="#local-6989586621681952687"
	  ><span class="hs-identifier hs-var"
	    >budgets</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-464"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun s.
GivenCekSpender uni fun s =&gt;
ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#spendBudget"
	><span class="hs-identifier hs-var"
	  >spendBudget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetCategory fun
</span
	><a href="#local-6989586621681952680"
	><span class="hs-identifier hs-var"
	  >exCat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudget
</span
	><a href="#local-6989586621681952686"
	><span class="hs-identifier hs-var"
	  >budget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekM uni fun s () -&gt; CekM uni fun s () -&gt; CekM uni fun s ()
forall a b.
CekM uni fun s a -&gt; CekM uni fun s b -&gt; CekM uni fun s b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2A%3E"
	><span class="hs-operator hs-var"
	  >*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream -&gt; CekM uni fun s ()
</span
	><a href="#local-6989586621681952682"
	><span class="hs-identifier hs-var"
	  >spendBudgets</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream
</span
	><a href="#local-6989586621681952687"
	><span class="hs-identifier hs-var"
	  >budgets</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-465"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream -&gt; CekM uni fun s ()
</span
	><a href="#local-6989586621681952682"
	><span class="hs-identifier hs-var"
	  >spendBudgets</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream
</span
	><a href="#local-6989586621681952678"
	><span class="hs-identifier hs-var"
	  >budgets0</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-466"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinResult (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952679"
	><span class="hs-identifier hs-var"
	  >getFXs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-467"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.Result.html#BuiltinSuccess"
	><span class="hs-identifier hs-type"
	  >BuiltinSuccess</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952689"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952689"
	  ><span class="hs-identifier hs-var"
	    >y</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-468"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952673"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952689"
	><span class="hs-identifier hs-var"
	  >y</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-469"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.Result.html#BuiltinSuccessWithLogs"
	><span class="hs-identifier hs-type"
	  >BuiltinSuccessWithLogs</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952691"
      ><span class="annot"
	><span class="annottext"
	  >DList Text
</span
	  ><a href="#local-6989586621681952691"
	  ><span class="hs-identifier hs-var"
	    >logs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952692"
      ><span class="annot"
	><span class="annottext"
	  >CekValue uni fun ann
</span
	  ><a href="#local-6989586621681952692"
	  ><span class="hs-identifier hs-var"
	    >y</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-470"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>?cekEmitter::DList Text -&gt; CekM uni fun s ()
DList Text -&gt; CekM uni fun s ()
</span
	><a href="#local-6989586621681952654"
	><span class="hs-var"
	  >?cekEmitter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DList Text
</span
	><a href="#local-6989586621681952691"
	><span class="hs-identifier hs-var"
	  >logs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-471"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952673"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekValue uni fun ann
</span
	><a href="#local-6989586621681952692"
	><span class="hs-identifier hs-var"
	  >y</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-472"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.Result.html#BuiltinFailure"
	><span class="hs-identifier hs-type"
	  >BuiltinFailure</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681952694"
      ><span class="annot"
	><span class="annottext"
	  >DList Text
</span
	  ><a href="#local-6989586621681952694"
	  ><span class="hs-identifier hs-var"
	    >logs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681952695"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinError
</span
	  ><a href="#local-6989586621681952695"
	  ><span class="hs-identifier hs-var"
	    >err</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-473"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>?cekEmitter::DList Text -&gt; CekM uni fun s ()
DList Text -&gt; CekM uni fun s ()
</span
	><a href="#local-6989586621681952660"
	><span class="hs-var"
	  >?cekEmitter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DList Text
</span
	><a href="#local-6989586621681952694"
	><span class="hs-identifier hs-var"
	  >logs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-474"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ()
-&gt; BuiltinError -&gt; CekM uni fun s (CekState uni fun ann)
forall structural operational cause (m :: * -&gt; *) void.
(MonadError (EvaluationException structural operational cause) m,
 BuiltinErrorToEvaluationError structural operational) =&gt;
cause -&gt; BuiltinError -&gt; m void
</span
	><a href="PlutusCore.Evaluation.Machine.Exception.html#throwBuiltinErrorWithCause"
	><span class="hs-identifier hs-var"
	  >throwBuiltinErrorWithCause</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ()
</span
	><a href="#local-6989586621681952675"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinError
</span
	><a href="#local-6989586621681952695"
	><span class="hs-identifier hs-var"
	  >err</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-475"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinRuntime (CekValue uni fun ann)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall (uni :: * -&gt; *) fun ann s.
(ThrowableBuiltins uni fun, GivenCekReqs uni fun ann s) =&gt;
Context uni fun ann
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#returnCek"
	><span class="hs-identifier hs-var"
	  >returnCek</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Context uni fun ann
</span
	><a href="#local-6989586621681952673"
	><span class="hs-identifier hs-var"
	  >ctx</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann))
-&gt; CekValue uni fun ann -&gt; CekM uni fun s (CekState uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
-&gt; NTerm uni fun ()
-&gt; BuiltinRuntime (CekValue uni fun ann)
-&gt; CekValue uni fun ann
forall (uni :: * -&gt; *) fun ann.
fun
-&gt; NTerm uni fun ()
-&gt; BuiltinRuntime (CekValue uni fun ann)
-&gt; CekValue uni fun ann
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#VBuiltin"
	><span class="hs-identifier hs-var"
	  >VBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621681952674"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NTerm uni fun ()
</span
	><a href="#local-6989586621681952675"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinRuntime (CekValue uni fun ann)
</span
	><a href="#local-6989586621681952676"
	><span class="hs-identifier hs-var"
	  >runtime</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-476"
      ></span
      ><span class="hs-pragma"
      >{-# INLINE</span
      ><span
      > </span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#evalBuiltinApp"
	><span class="hs-pragma hs-type"
	  >evalBuiltinApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-pragma"
      >#-}</span
      ><span
      >
</span
      ><span id="line-477"
      ></span
      ><span
      >
</span
      ><span id="line-478"
      ></span
      ><span id="local-6989586621681951774"
      ><span id="local-6989586621681951775"
	><span id="local-6989586621681951776"
	  ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#spendBudget"
	      ><span class="hs-identifier hs-type"
		>spendBudget</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#GivenCekSpender"
	      ><span class="hs-identifier hs-type"
		>GivenCekSpender</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951774"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951775"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951776"
	      ><span class="hs-identifier hs-type"
		>s</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >=&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#ExBudgetCategory"
	      ><span class="hs-identifier hs-type"
		>ExBudgetCategory</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951775"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="PlutusCore.Evaluation.Machine.ExBudget.html#ExBudget"
	      ><span class="hs-identifier hs-type"
		>ExBudget</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
	      ><span class="hs-identifier hs-type"
		>CekM</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951774"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951775"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681951776"
	      ><span class="hs-identifier hs-type"
		>s</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="hs-special"
	    >)</span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-479"
      ></span
      ><span id="spendBudget"
      ><span class="annot"
	><span class="annottext"
	  >spendBudget :: forall (uni :: * -&gt; *) fun s.
GivenCekSpender uni fun s =&gt;
ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#spendBudget"
	  ><span class="hs-identifier hs-var hs-var"
	    >spendBudget</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekBudgetSpender uni fun s
-&gt; ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun s.
CekBudgetSpender uni fun s
-&gt; ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#unCekBudgetSpender"
	><span class="hs-identifier hs-var"
	  >unCekBudgetSpender</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>GivenCekSpender uni fun s
CekBudgetSpender uni fun s
</span
	><a href="#local-6989586621681952698"
	><span class="hs-var"
	  >?cekBudgetSpender</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-480"
      ></span
      ><span
      >
</span
      ><span id="line-481"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Spend the budget that has been accumulated for a number of machine steps.</span
	></span
      ><span
      >
</span
      ><span id="line-482"
      ></span
      ><span id="local-6989586621681951709"
      ><span id="local-6989586621681951710"
	><span id="local-6989586621681951711"
	  ><span id="local-6989586621681951712"
	    ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#spendAccumulatedBudget"
		><span class="hs-identifier hs-type"
		  >spendAccumulatedBudget</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#GivenCekReqs"
		><span class="hs-identifier hs-type"
		  >GivenCekReqs</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951709"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951710"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951711"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951712"
		><span class="hs-identifier hs-type"
		  >s</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
		><span class="hs-identifier hs-type"
		  >CekM</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951709"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951710"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951712"
		><span class="hs-identifier hs-type"
		  >s</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-483"
      ></span
      ><span id="spendAccumulatedBudget"
      ><span class="annot"
	><span class="annottext"
	  >spendAccumulatedBudget :: forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
CekM uni fun s ()
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#spendAccumulatedBudget"
	  ><span class="hs-identifier hs-var hs-var"
	    >spendAccumulatedBudget</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-484"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681952730"
      ><span class="annot"
	><span class="annottext"
	  >ctr :: StepCounter 10 s
</span
	  ><a href="#local-6989586621681952730"
	  ><span class="hs-identifier hs-var hs-var"
	    >ctr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>?cekStepCounter::StepCounter 10 s
StepCounter 10 s
</span
	><a href="#local-6989586621681952729"
	><span class="hs-var"
	  >?cekStepCounter</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-485"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepCounter 10 (PrimState (CekM uni fun s))
-&gt; (Int -&gt; Slippage -&gt; CekM uni fun s ()) -&gt; CekM uni fun s ()
forall (m :: * -&gt; *) (n :: Nat).
(UpwardsM m (NatToPeano n), PrimMonad m) =&gt;
StepCounter n (PrimState m) -&gt; (Int -&gt; Slippage -&gt; m ()) -&gt; m ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.StepCounter.html#iforCounter_"
	><span class="hs-identifier hs-var"
	  >iforCounter_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepCounter 10 s
StepCounter 10 (PrimState (CekM uni fun s))
</span
	><a href="#local-6989586621681952730"
	><span class="hs-identifier hs-var"
	  >ctr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Slippage -&gt; CekM uni fun s ()
forall {b} {uni :: * -&gt; *} {fun} {s}.
(Integral b, ?cekBudgetSpender::CekBudgetSpender uni fun s,
 GivenCekCosts) =&gt;
Int -&gt; b -&gt; CekM uni fun s ()
</span
	><a href="#local-6989586621681952732"
	><span class="hs-identifier hs-var"
	  >spend</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-486"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>StepCounter 10 (PrimState (CekM uni fun s)) -&gt; CekM uni fun s ()
forall (n :: Nat) (m :: * -&gt; *).
(KnownNat n, PrimMonad m) =&gt;
StepCounter n (PrimState m) -&gt; m ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.StepCounter.html#resetCounter"
	><span class="hs-identifier hs-var"
	  >resetCounter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepCounter 10 s
StepCounter 10 (PrimState (CekM uni fun s))
</span
	><a href="#local-6989586621681952730"
	><span class="hs-identifier hs-var"
	  >ctr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-487"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-488"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Making this a definition of its own causes it to inline better than actually writing it inline, for</span
      ><span
      >
</span
      ><span id="line-489"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- some reason.</span
      ><span
      >
</span
      ><span id="line-490"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Skip index 7, that's the total counter!</span
      ><span
      >
</span
      ><span id="line-491"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Structure of the step counter]</span
      ><span
      >
</span
      ><span id="line-492"
      ></span
      ><span
      >    </span
      ><span class="hs-pragma"
      >{-# INLINE</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681952732"
	><span class="hs-pragma hs-type"
	  >spend</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-pragma"
      >#-}</span
      ><span
      >
</span
      ><span id="line-493"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681952732"
      ><span class="annot"
	><span class="annottext"
	  >spend :: Int -&gt; b -&gt; CekM uni fun s ()
</span
	  ><a href="#local-6989586621681952732"
	  ><span class="hs-identifier hs-var hs-var"
	    >spend</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952766"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621681952766"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952767"
      ><span class="annot"
	><span class="annottext"
	  >b
</span
	  ><a href="#local-6989586621681952767"
	  ><span class="hs-identifier hs-var"
	    >w</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; CekM uni fun s () -&gt; CekM uni fun s ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html#unless"
	><span class="hs-identifier hs-var"
	  >unless</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621681952766"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Nat -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Real.html#fromIntegral"
	><span class="hs-identifier hs-var"
	  >fromIntegral</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Nat -&gt; Int) -&gt; Nat -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Proxy 9 -&gt; Nat
forall (n :: Nat) (proxy :: Nat -&gt; *). KnownNat n =&gt; proxy n -&gt; Nat
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.TypeNats.html#natVal"
	><span class="hs-identifier hs-var"
	  >natVal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Proxy 9 -&gt; Nat) -&gt; Proxy 9 -&gt; Nat
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall (t :: Nat). Proxy t
forall {k} (t :: k). Proxy t
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Proxy.html#Proxy"
	><span class="hs-identifier hs-var"
	  >Proxy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#TotalCountIndex"
	><span class="hs-identifier hs-type"
	  >TotalCountIndex</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CekM uni fun s () -&gt; CekM uni fun s ())
-&gt; CekM uni fun s () -&gt; CekM uni fun s ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-494"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681952771"
      ><span class="annot"
	><span class="annottext"
	  >kind :: StepKind
</span
	  ><a href="#local-6989586621681952771"
	  ><span class="hs-identifier hs-var hs-var"
	    >kind</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; StepKind
forall a. Enum a =&gt; Int -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Enum.html#toEnum"
	><span class="hs-identifier hs-var"
	  >toEnum</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621681952766"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
forall (uni :: * -&gt; *) fun s.
GivenCekSpender uni fun s =&gt;
ExBudgetCategory fun -&gt; ExBudget -&gt; CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#spendBudget"
	><span class="hs-identifier hs-var"
	  >spendBudget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; ExBudgetCategory fun
forall fun. StepKind -&gt; ExBudgetCategory fun
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#BStep"
	><span class="hs-identifier hs-var"
	  >BStep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="#local-6989586621681952771"
	><span class="hs-identifier hs-var"
	  >kind</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>b -&gt; ExBudget -&gt; ExBudget
forall b. Integral b =&gt; b -&gt; ExBudget -&gt; ExBudget
forall a b. (Semigroup a, Integral b) =&gt; b -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#stimes"
	><span class="hs-identifier hs-var"
	  >stimes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>b
</span
	><a href="#local-6989586621681952767"
	><span class="hs-identifier hs-var"
	  >w</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CekMachineCosts -&gt; StepKind -&gt; ExBudget
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#cekStepCost"
	><span class="hs-identifier hs-var"
	  >cekStepCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>GivenCekCosts
CekMachineCosts
</span
	><a href="#local-6989586621681952749"
	><span class="hs-var"
	  >?cekCosts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="#local-6989586621681952771"
	><span class="hs-identifier hs-var"
	  >kind</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-495"
      ></span
      ><span
      >
</span
      ><span id="line-496"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Accumulate a step, and maybe spend the budget that has accumulated for a number of machine steps, but only if we've exceeded our slippage.</span
	></span
      ><span
      >
</span
      ><span id="line-497"
      ></span
      ><span id="local-6989586621681951661"
      ><span id="local-6989586621681951662"
	><span id="local-6989586621681951663"
	  ><span id="local-6989586621681951664"
	    ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
		><span class="hs-identifier hs-type"
		  >stepAndMaybeSpend</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#GivenCekReqs"
		><span class="hs-identifier hs-type"
		  >GivenCekReqs</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951661"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951662"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951663"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951664"
		><span class="hs-identifier hs-type"
		  >s</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#StepKind"
		><span class="hs-identifier hs-type"
		  >StepKind</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#CekM"
		><span class="hs-identifier hs-type"
		  >CekM</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951661"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951662"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681951664"
		><span class="hs-identifier hs-type"
		  >s</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-498"
      ></span
      ><span id="stepAndMaybeSpend"
      ><span class="annot"
	><span class="annottext"
	  >stepAndMaybeSpend :: forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
StepKind -&gt; CekM uni fun s ()
</span
	  ><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#stepAndMaybeSpend"
	  ><span class="hs-identifier hs-var hs-var"
	    >stepAndMaybeSpend</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952799"
      ><span class="annot"
	><span class="annottext"
	  >StepKind
</span
	  ><a href="#local-6989586621681952799"
	  ><span class="hs-identifier hs-var"
	    >kind</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-499"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Structure of the step counter]</span
      ><span
      >
</span
      ><span id="line-500"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- This generates let-expressions in GHC Core, however all of them bind unboxed things and</span
      ><span
      >
</span
      ><span id="line-501"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- so they don't survive further compilation, see https://stackoverflow.com/a/14090277</span
      ><span
      >
</span
      ><span id="line-502"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952800"
      ><span class="annot"
	><span class="annottext"
	  >counterIndex :: Int
</span
	  ><a href="#local-6989586621681952800"
	  ><span class="hs-identifier hs-var hs-var"
	    >counterIndex</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Enum.html#fromEnum"
	><span class="hs-identifier hs-var"
	  >fromEnum</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepKind
</span
	><a href="#local-6989586621681952799"
	><span class="hs-identifier hs-var"
	  >kind</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-503"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681952803"
      ><span class="annot"
	><span class="annottext"
	  >ctr :: StepCounter 10 s
</span
	  ><a href="#local-6989586621681952803"
	  ><span class="hs-identifier hs-var hs-var"
	    >ctr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>?cekStepCounter::StepCounter 10 s
StepCounter 10 s
</span
	><a href="#local-6989586621681952802"
	><span class="hs-var"
	  >?cekStepCounter</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-504"
      ></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952807"
      ><span class="annot"
	><span class="annottext"
	  >totalStepIndex :: Int
</span
	  ><a href="#local-6989586621681952807"
	  ><span class="hs-identifier hs-var hs-var"
	    >totalStepIndex</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Nat -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Real.html#fromIntegral"
	><span class="hs-identifier hs-var"
	  >fromIntegral</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Nat -&gt; Int) -&gt; Nat -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Proxy 9 -&gt; Nat
forall (n :: Nat) (proxy :: Nat -&gt; *). KnownNat n =&gt; proxy n -&gt; Nat
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.TypeNats.html#natVal"
	><span class="hs-identifier hs-var"
	  >natVal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>forall (t :: Nat). Proxy t
forall {k} (t :: k). Proxy t
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Proxy.html#Proxy"
	><span class="hs-identifier hs-var"
	  >Proxy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="UntypedPlutusCore.Evaluation.Machine.Cek.Internal.html#TotalCountIndex"
	><span class="hs-identifier hs-type"
	  >TotalCountIndex</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-505"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >!</span
      ><span id="local-6989586621681952808"
      ><span class="annot"
	><span class="annottext"
	  >Slippage
</span
	  ><a href="#local-6989586621681952808"
	  ><span class="hs-identifier hs-var"
	    >unbudgetedStepsTotal</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Int
-&gt; (Slippage -&gt; Slippage)
-&gt; StepCounter 10 (PrimState (CekM uni fun s))
-&gt; CekM uni fun s Slippage
forall (m :: * -&gt; *) (n :: Nat).
PrimMonad m =&gt;
Int
-&gt; (Slippage -&gt; Slippage)
-&gt; StepCounter n (PrimState m)
-&gt; m Slippage
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.StepCounter.html#modifyCounter"
	><span class="hs-identifier hs-var"
	  >modifyCounter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621681952807"
	><span class="hs-identifier hs-var"
	  >totalStepIndex</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Slippage -&gt; Slippage -&gt; Slippage
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Slippage
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepCounter 10 s
StepCounter 10 (PrimState (CekM uni fun s))
</span
	><a href="#local-6989586621681952803"
	><span class="hs-identifier hs-var"
	  >ctr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-506"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Slippage
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
-&gt; (Slippage -&gt; Slippage)
-&gt; StepCounter 10 (PrimState (CekM uni fun s))
-&gt; CekM uni fun s Slippage
forall (m :: * -&gt; *) (n :: Nat).
PrimMonad m =&gt;
Int
-&gt; (Slippage -&gt; Slippage)
-&gt; StepCounter n (PrimState m)
-&gt; m Slippage
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.Cek.StepCounter.html#modifyCounter"
	><span class="hs-identifier hs-var"
	  >modifyCounter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621681952800"
	><span class="hs-identifier hs-var"
	  >counterIndex</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Slippage -&gt; Slippage -&gt; Slippage
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>Slippage
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StepCounter 10 s
StepCounter 10 (PrimState (CekM uni fun s))
</span
	><a href="#local-6989586621681952803"
	><span class="hs-identifier hs-var"
	  >ctr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-507"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- There's no risk of overflow here, since we only ever increment the total</span
      ><span
      >
</span
      ><span id="line-508"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- steps by 1 and then check this condition.</span
      ><span
      >
</span
      ><span id="line-509"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; CekM uni fun s () -&gt; CekM uni fun s ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#when"
	><span class="hs-identifier hs-var"
	  >when</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Slippage
</span
	><a href="#local-6989586621681952808"
	><span class="hs-identifier hs-var"
	  >unbudgetedStepsTotal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Slippage -&gt; Slippage -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>GivenCekSlippage
Slippage
</span
	><a href="#local-6989586621681952787"
	><span class="hs-var"
	  >?cekSlippage</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CekM uni fun s ()
forall (uni :: * -&gt; *) fun ann s.
GivenCekReqs uni fun ann s =&gt;
CekM uni fun s ()
</span
	><a href="UntypedPlutusCore.Evaluation.Machine.SteppableCek.Internal.html#spendAccumulatedBudget"
	><span class="hs-identifier hs-var"
	  >spendAccumulatedBudget</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-510"
      ></span
      ></pre
    ></body
  ></html
>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-comment"
      >-- editorconfig-checker-disable-file</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-comment"
      >-- | The internal module of the type checker that defines the actual algorithms,</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-comment"
      >-- but not the user-facing API.</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ConstraintKinds        #-}</span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleInstances      #-}</span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FunctionalDependencies #-}</span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE OverloadedStrings      #-}</span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TemplateHaskell        #-}</span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeApplications       #-}</span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeOperators          #-}</span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE StrictData             #-}</span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >PlutusCore.TypeCheck.Internal</span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- export all because a lot are used by the pir-typechecker</span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html"
	><span class="hs-identifier"
	  >PlutusCore.TypeCheck.Internal</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Normalize.Internal.html#MonadNormalizeType"
	><span class="hs-identifier"
	  >MonadNormalizeType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.html"
	><span class="hs-identifier"
	  >PlutusCore.Builtin</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html"
	><span class="hs-identifier"
	  >PlutusCore.Core.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Kind"
	><span class="hs-identifier"
	  >Kind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Normalized"
	><span class="hs-identifier"
	  >Normalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Term"
	><span class="hs-identifier"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#toPatFuncKind"
	><span class="hs-identifier"
	  >toPatFuncKind</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Error.html"
	><span class="hs-identifier"
	  >PlutusCore.Error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Error.html#ExpectedShapeOr"
	><span class="hs-identifier"
	  >ExpectedShapeOr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Error.html#ExpectedExact"
	><span class="hs-identifier"
	  >ExpectedExact</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Error.html#ExpectedShape"
	><span class="hs-identifier"
	  >ExpectedShape</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Error.html#TypeError"
	><span class="hs-identifier"
	  >TypeError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.MkPlc.html"
	><span class="hs-identifier"
	  >PlutusCore.MkPlc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.MkPlc.html#mkIterTyAppNoAnn"
	><span class="hs-identifier"
	  >mkIterTyAppNoAnn</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.MkPlc.html#mkIterTyFun"
	><span class="hs-identifier"
	  >mkIterTyFun</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.MkPlc.html#mkTyBuiltinOf"
	><span class="hs-identifier"
	  >mkTyBuiltinOf</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.Unique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#HasText"
	><span class="hs-identifier"
	  >HasText</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#theText"
	><span class="hs-identifier"
	  >theText</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier"
	  >Name</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Named"
	><span class="hs-identifier"
	  >Named</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Named"
	><span class="hs-identifier"
	  >Named</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier"
	  >TermUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span
      >                               </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier"
	  >TyName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TypeUnique"
	><span class="hs-identifier"
	  >TypeUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#theUnique"
	><span class="hs-identifier"
	  >theUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.UniqueMap.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.UniqueMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.UniqueMap.html#UniqueMap"
	><span class="hs-identifier"
	  >UniqueMap</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.UniqueMap.html#insertNamed"
	><span class="hs-identifier"
	  >insertNamed</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.UniqueMap.html#lookupName"
	><span class="hs-identifier"
	  >lookupName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Normalize.Internal.html"
	><span class="hs-identifier"
	  >PlutusCore.Normalize.Internal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Normalize.Internal.html#MonadNormalizeType"
	><span class="hs-identifier"
	  >MonadNormalizeType</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Normalize.Internal.html"
	><span class="hs-identifier"
	  >PlutusCore.Normalize.Internal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Norm</span
	></span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Quote.html"
	><span class="hs-identifier"
	  >PlutusCore.Quote</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Quote.html#MonadQuote"
	><span class="hs-identifier"
	  >MonadQuote</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Quote.html#liftQuote"
	><span class="hs-identifier"
	  >liftQuote</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Quote.html#freshTyName"
	><span class="hs-identifier"
	  >freshTyName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Rename.html"
	><span class="hs-identifier"
	  >PlutusCore.Rename</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Rename.Internal.html#Dupable"
	><span class="hs-identifier"
	  >Dupable</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Rename.html#Rename"
	><span class="hs-identifier"
	  >Rename</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Rename.html#rename"
	><span class="hs-identifier"
	  >rename</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Rename.html#dupable"
	><span class="hs-identifier"
	  >dupable</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Rename.html#liftDupable"
	><span class="hs-identifier"
	  >liftDupable</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusPrelude.html"
	><span class="hs-identifier"
	  >PlutusPrelude</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier"
	>Lens'</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>lens</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>over</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>view</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier"
	  >void</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusPrelude.html#zipExact"
	><span class="hs-identifier"
	  >zipExact</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusPrelude.html#%3C%3C%24%3E%3E"
	><span class="hs-operator"
	  >(&lt;&lt;$&gt;&gt;)</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusPrelude.html#%3C%3C%2A%3E%3E"
	><span class="hs-operator"
	  >(&lt;&lt;*&gt;&gt;)</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-operator"
	>(^.)</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Control.Lens</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier"
	>Ixed</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier"
	>ix</span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>makeClassy</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>makeLenses</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>preview</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-operator"
	>(^?)</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html"
	><span class="hs-identifier"
	  >Control.Monad</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#when"
	><span class="hs-identifier"
	  >when</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Except.html"
	><span class="hs-identifier"
	  >Control.Monad.Except</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#MonadError"
	><span class="hs-identifier"
	  >MonadError</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier"
	  >throwError</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-37"
      ></span
      ><span class="hs-comment"
      >-- Using @transformers@ rather than @mtl@, because the former doesn't impose the 'Monad' constraint</span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span class="hs-comment"
      >-- on 'local'.</span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html"
	><span class="hs-identifier"
	  >Control.Monad.Trans.Reader</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#ReaderT"
	><span class="hs-identifier"
	  >ReaderT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#runReaderT"
	><span class="hs-identifier"
	  >runReaderT</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#ask"
	><span class="hs-identifier"
	  >ask</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#local"
	><span class="hs-identifier"
	  >local</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/array-0.5.8.0/docs/src/Data.Array.html"
	><span class="hs-identifier"
	  >Data.Array</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Arr.html#Array"
	><span class="hs-identifier"
	  >Array</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Ix.html#Ix"
	><span class="hs-identifier"
	  >Ix</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html"
	><span class="hs-identifier"
	  >Data.Foldable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#for_"
	><span class="hs-identifier"
	  >for_</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="Data.List.Extras.html"
	><span class="hs-identifier"
	  >Data.List.Extras</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="Data.List.Extras.html#wix"
	><span class="hs-identifier"
	  >wix</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.html"
	><span class="hs-identifier"
	  >Data.Text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Text</span
	></span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="Universe.Core.html"
	><span class="hs-identifier"
	  >Universe.Core</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/some-1.0.6/docs/src/Data.GADT.Internal.html#GEq"
	><span class="hs-identifier"
	  >GEq</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/some-1.0.6/docs/src/Data.Some.Newtype.html#Some"
	><span class="hs-identifier"
	  >Some</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/some-1.0.6/docs/src/Data.Some.Newtype.html#Some"
	><span class="hs-identifier"
	  >Some</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="Universe.Core.html#SomeTypeIn"
	><span class="hs-identifier"
	  >SomeTypeIn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="Universe.Core.html#SomeTypeIn"
	><span class="hs-identifier"
	  >SomeTypeIn</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="Universe.Core.html#ValueOf"
	><span class="hs-identifier"
	  >ValueOf</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="Universe.Core.html#ValueOf"
	><span class="hs-identifier"
	  >ValueOf</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span class="hs-comment"
      >{- Note [Global uniqueness in the type checker]
WARNING: type inference/checking works under the assumption that the global uniqueness condition
is satisfied. The invariant is not checked, enforced or automatically fulfilled. So you must ensure
that the global uniqueness condition is satisfied before calling 'inferTypeM' or 'checkTypeM'.

The invariant is preserved. In future we will enforce the invariant.
-}</span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span class="hs-comment"
      >{- Note [Typing rules]
We write type rules in the bidirectional style.

[infer| G !- x : a] -- means that the inferred type of 'x' in the context 'G' is 'a'.
'a' is not necessary a varible, e.g. [infer| G !- fun : dom -&gt; cod] is fine too.
It reads as follows: &quot;infer the type of 'fun' in the context 'G', check that it's functional and
bind the 'dom' variable to the domain and the 'cod' variable to the codomain of this type&quot;.

Analogously, [infer| G !- t :: k] means that the inferred kind of 't' in the context 'G' is 'k'.
The [infer| G !- x : a] judgement appears in conclusions in the clauses of the 'inferTypeM'
function.

[check| G !- x : a] -- check that the type of 'x' in the context 'G' is 'a'.
Since Plutus Core is a fully elaborated language, this amounts to inferring the type of 'x' and
checking that it's equal to 'a'.

Analogously, [check| G !- t :: k] means &quot;check that the kind of 't' in the context 'G' is 'k'&quot;.
The [check| G !- x : a] judgement appears in the conclusion in the sole clause of
the 'checkTypeM' function.

The equality check is denoted as &quot;a ~ b&quot;.

We use unified contexts in rules, i.e. a context can carry type variables as well as term variables.

The &quot;NORM a&quot; notation reads as &quot;normalize 'a'&quot;.

The &quot;a ~&gt; b&quot; notations reads as &quot;normalize 'a' to 'b'&quot;.

Functions that can fail start with either @infer@ or @check@ prefixes,
functions that cannot fail look like this:

    kindOfBuiltinType
    typeOfBuiltinFunction
-}</span
      ><span
      >
</span
      ><span id="line-88"
      ></span
      ><span
      >
</span
      ><span id="line-89"
      ></span
      ><span class="hs-comment"
      >-- ######################</span
      ><span
      >
</span
      ><span id="line-90"
      ></span
      ><span class="hs-comment"
      >-- ## Type definitions ##</span
      ><span
      >
</span
      ><span id="line-91"
      ></span
      ><span class="hs-comment"
      >-- ######################</span
      ><span
      >
</span
      ><span id="line-92"
      ></span
      ><span
      >
</span
      ><span id="line-93"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Mapping from 'Builtin's to their 'Normalized' 'Type's.</span
	></span
      ><span
      >
</span
      ><span id="line-94"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="BuiltinTypes"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#BuiltinTypes"
	  ><span class="hs-identifier hs-var"
	    >BuiltinTypes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926076"
      ><span class="annot"
	><a href="#local-6989586621681926076"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926077"
      ><span class="annot"
	><a href="#local-6989586621681926077"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="BuiltinTypes"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#BuiltinTypes"
	  ><span class="hs-identifier hs-var"
	    >BuiltinTypes</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-95"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="unBuiltinTypes"
      ><span class="annot"
	><span class="annottext"
	  >forall (uni :: * -&gt; *) fun.
BuiltinTypes uni fun
-&gt; Array fun (Dupable (Normalized (Type TyName uni ())))
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#unBuiltinTypes"
	  ><span class="hs-identifier hs-var hs-var"
	    >unBuiltinTypes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Arr.html#Array"
	><span class="hs-identifier hs-type"
	  >Array</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926077"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Rename.Internal.html#Dupable"
	><span class="hs-identifier hs-type"
	  >Dupable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Normalized"
	><span class="hs-identifier hs-type"
	  >Normalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926076"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-96"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-97"
      ></span
      ><span
      >
</span
      ><span id="line-98"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="TyVarKinds"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#TyVarKinds"
	  ><span class="hs-identifier hs-var"
	    >TyVarKinds</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.UniqueMap.html#UniqueMap"
	><span class="hs-identifier hs-type"
	  >UniqueMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TypeUnique"
	><span class="hs-identifier hs-type"
	  >TypeUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Named"
	><span class="hs-identifier hs-type"
	  >Named</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Kind"
	><span class="hs-identifier hs-type"
	  >Kind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-99"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="VarTypes"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#VarTypes"
	  ><span class="hs-identifier hs-var"
	    >VarTypes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926592"
      ><span class="annot"
	><a href="#local-6989586621681926592"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.UniqueMap.html#UniqueMap"
	><span class="hs-identifier hs-type"
	  >UniqueMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier hs-type"
	  >TermUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Named"
	><span class="hs-identifier hs-type"
	  >Named</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Rename.Internal.html#Dupable"
	><span class="hs-identifier hs-type"
	  >Dupable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Normalized"
	><span class="hs-identifier hs-type"
	  >Normalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926592"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-100"
      ></span
      ><span
      >
</span
      ><span id="line-101"
      ></span
      ><span class="hs-comment"
      >-- | Decides what to do upon encountering a variable whose name doesn't match the name of the</span
      ><span
      >
</span
      ><span id="line-102"
      ></span
      ><span class="hs-comment"
      >-- variable with the same unique that is currently in the scope. Consider for example this type:</span
      ><span
      >
</span
      ><span id="line-103"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-104"
      ></span
      ><span class="hs-comment"
      >--     \(a_0 :: *) (b_0 :: *) -&gt; a_0</span
      ><span
      >
</span
      ><span id="line-105"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-106"
      ></span
      ><span class="hs-comment"
      >-- here @b_0@ shadows @a_0@ and so any variable having the @0@th unique within the body of the</span
      ><span
      >
</span
      ><span id="line-107"
      ></span
      ><span class="hs-comment"
      >-- lambda references @b_0@, but we have @a_0@ there and so there's a name mismatch. Technically,</span
      ><span
      >
</span
      ><span id="line-108"
      ></span
      ><span class="hs-comment"
      >-- it's not a type error to have a name mismatch, because uniques are the single source of truth,</span
      ><span
      >
</span
      ><span id="line-109"
      ></span
      ><span class="hs-comment"
      >-- however a name mismatch is deeply suspicious and is likely to be caused by a bug somewhere.</span
      ><span
      >
</span
      ><span id="line-110"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-111"
      ></span
      ><span class="hs-comment"
      >-- We perform the same check for term-level variables too.</span
      ><span
      >
</span
      ><span id="line-112"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="HandleNameMismatches"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#HandleNameMismatches"
	  ><span class="hs-identifier hs-var"
	    >HandleNameMismatches</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-113"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="DetectNameMismatches"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#DetectNameMismatches"
	  ><span class="hs-identifier hs-var"
	    >DetectNameMismatches</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ Throw upon encountering such a name.</span
	></span
      ><span
      >
</span
      ><span id="line-114"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="IgnoreNameMismatches"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#IgnoreNameMismatches"
	  ><span class="hs-identifier hs-var"
	    >IgnoreNameMismatches</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ Ignore it.</span
	></span
      ><span
      >
</span
      ><span id="line-115"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >deriving</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-keyword"
	>stock</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621681926596"
      ><span id="local-6989586621681926598"
	><span id="local-6989586621681926602"
	  ><span class="annot"
	    ><span class="annottext"
	      >Int -&gt; HandleNameMismatches -&gt; ShowS
[HandleNameMismatches] -&gt; ShowS
HandleNameMismatches -&gt; String
(Int -&gt; HandleNameMismatches -&gt; ShowS)
-&gt; (HandleNameMismatches -&gt; String)
-&gt; ([HandleNameMismatches] -&gt; ShowS)
-&gt; Show HandleNameMismatches
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; HandleNameMismatches -&gt; ShowS
showsPrec :: Int -&gt; HandleNameMismatches -&gt; ShowS
$cshow :: HandleNameMismatches -&gt; String
show :: HandleNameMismatches -&gt; String
$cshowList :: [HandleNameMismatches] -&gt; ShowS
showList :: [HandleNameMismatches] -&gt; ShowS
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#Show"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Show</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621681926606"
      ><span id="local-6989586621681926608"
	><span class="annot"
	  ><span class="annottext"
	    >HandleNameMismatches -&gt; HandleNameMismatches -&gt; Bool
(HandleNameMismatches -&gt; HandleNameMismatches -&gt; Bool)
-&gt; (HandleNameMismatches -&gt; HandleNameMismatches -&gt; Bool)
-&gt; Eq HandleNameMismatches
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: HandleNameMismatches -&gt; HandleNameMismatches -&gt; Bool
== :: HandleNameMismatches -&gt; HandleNameMismatches -&gt; Bool
$c/= :: HandleNameMismatches -&gt; HandleNameMismatches -&gt; Bool
/= :: HandleNameMismatches -&gt; HandleNameMismatches -&gt; Bool
</span
	    ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Eq"
	    ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var"
	      >Eq</span
	      ></a
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-116"
      ></span
      ><span
      >
</span
      ><span id="line-117"
      ></span
      ><span class="hs-comment"
      >{- Note [Alignment of kind and type checker configs]
Kind checking is performed as a part of type checking meaning we always need a kind checking config
whenever a type checking one is required. There are three ways we can align the two sorts of config:

1. store them separately and require the caller to provide both
2. put the type checking config into the kind checking config
3. put the kind checking config into the type checking config

1 is straightforward, but makes the caller provide one config for kind checking and two configs for
type checking, which is inconsistent boilerplate and so it's not really a good option.

2 is better: it makes the caller provide only one config: the type checking config stored in the
kind checking config. However that makes the type signatures unwieldy:

    KindCheckConfig (TypeCheckConfig uni fun) =&gt; &lt;...&gt;

plus it's kinda weird to put the type checking config inside the kind checking one.

3 is what we choose. It makes the caller only worry about the type checking config when doing type
checking, hence no syntactical or semantical overhead, plus it makes the type signatures symmetric:

    (MonadKindCheck err term uni fun ann m, HasKindCheckConfig cfg) =&gt; &lt;...&gt;

vs

    (MonadTypeCheck err term uni fun ann m, HasTypeCheckConfig cfg uni fun) =&gt; &lt;...&gt;

This approach does require a bit of boilerplate at the definition site (see 'HasTypeCheckConfig'),
but it's not much and it doesn't proliferate into user space unlike with the other approaches.
-}</span
      ><span
      >
</span
      ><span id="line-147"
      ></span
      ><span
      >
</span
      ><span id="line-148"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Configuration of the kind checker.</span
	></span
      ><span
      >
</span
      ><span id="line-149"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="KindCheckConfig"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#KindCheckConfig"
	  ><span class="hs-identifier hs-var"
	    >KindCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="KindCheckConfig"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#KindCheckConfig"
	  ><span class="hs-identifier hs-var"
	    >KindCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-150"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="_kccHandleNameMismatches"
      ><span class="annot"
	><span class="annottext"
	  >KindCheckConfig -&gt; HandleNameMismatches
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#_kccHandleNameMismatches"
	  ><span class="hs-identifier hs-var hs-var"
	    >_kccHandleNameMismatches</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#HandleNameMismatches"
	><span class="hs-identifier hs-type"
	  >HandleNameMismatches</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-151"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-152"
      ></span
      ><span id="HasKindCheckConfig"
      ><span id="local-6989586621681926093"
	><span id="local-6989586621681926615"
	  ><span id="local-6989586621681926623"
	    ><span id="local-6989586621681926626"
	      ><span id="kindCheckConfig"
		><span id="kccHandleNameMismatches"
		  ><span class="hs-identifier"
		    >makeClassy</span
		    ><span
		    > </span
		    ><span class="hs-special"
		    >''</span
		    ><span class="hs-identifier"
		    >KindCheckConfig</span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-153"
      ></span
      ><span
      >
</span
      ><span id="line-154"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Configuration of the type checker.</span
	></span
      ><span
      >
</span
      ><span id="line-155"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="TypeCheckConfig"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckConfig"
	  ><span class="hs-identifier hs-var"
	    >TypeCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926107"
      ><span class="annot"
	><a href="#local-6989586621681926107"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926108"
      ><span class="annot"
	><a href="#local-6989586621681926108"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="TypeCheckConfig"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckConfig"
	  ><span class="hs-identifier hs-var"
	    >TypeCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-156"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="_tccKindCheckConfig"
      ><span class="annot"
	><span class="annottext"
	  >forall (uni :: * -&gt; *) fun.
TypeCheckConfig uni fun -&gt; KindCheckConfig
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#_tccKindCheckConfig"
	  ><span class="hs-identifier hs-var hs-var"
	    >_tccKindCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#KindCheckConfig"
	><span class="hs-identifier hs-type"
	  >KindCheckConfig</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-157"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_tccBuiltinTypes"
      ><span class="annot"
	><span class="annottext"
	  >forall (uni :: * -&gt; *) fun.
TypeCheckConfig uni fun -&gt; BuiltinTypes uni fun
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#_tccBuiltinTypes"
	  ><span class="hs-identifier hs-var hs-var"
	    >_tccBuiltinTypes</span
	    ></a
	  ></span
	></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#BuiltinTypes"
	><span class="hs-identifier hs-type"
	  >BuiltinTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926107"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926108"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-158"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-159"
      ></span
      ><span
      >
</span
      ><span id="line-160"
      ></span
      ><span class="hs-comment"
      >-- | We want 'HasKindCheckConfig' to be a superclass of 'HasTypeCheckConfig' for being able to</span
      ><span
      >
</span
      ><span id="line-161"
      ></span
      ><span class="hs-comment"
      >-- seamlessly call the kind checker from the type checker, hence we're rolling out our own</span
      ><span
      >
</span
      ><span id="line-162"
      ></span
      ><span class="hs-comment"
      >-- 'makeClassy' here just to add the constraint.</span
      ><span
      >
</span
      ><span id="line-163"
      ></span
      ><span class="hs-keyword"
      >class</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#HasKindCheckConfig"
	><span class="hs-identifier hs-type"
	  >HasKindCheckConfig</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926114"
	><span class="hs-identifier hs-type"
	  >cfg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span id="HasTypeCheckConfig"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#HasTypeCheckConfig"
	  ><span class="hs-identifier hs-var"
	    >HasTypeCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926114"
      ><span class="annot"
	><a href="#local-6989586621681926114"
	  ><span class="hs-identifier hs-type"
	    >cfg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926115"
      ><span class="annot"
	><a href="#local-6989586621681926115"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926116"
      ><span class="annot"
	><a href="#local-6989586621681926116"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926114"
	><span class="hs-identifier hs-type"
	  >cfg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926115"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926116"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-164"
      ></span
      ><span
      >    </span
      ><span id="typeCheckConfig"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#typeCheckConfig"
	  ><span class="hs-identifier hs-type"
	    >typeCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Lens'</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926114"
	><span class="hs-identifier hs-type"
	  >cfg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckConfig"
	><span class="hs-identifier hs-type"
	  >TypeCheckConfig</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926115"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926116"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-165"
      ></span
      ><span
      >
</span
      ><span id="line-166"
      ></span
      ><span
      >    </span
      ><span id="tccKindCheckConfig"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#tccKindCheckConfig"
	  ><span class="hs-identifier hs-type"
	    >tccKindCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Lens'</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926114"
	><span class="hs-identifier hs-type"
	  >cfg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#KindCheckConfig"
	><span class="hs-identifier hs-type"
	  >KindCheckConfig</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-167"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681926645"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#tccKindCheckConfig"
	  ><span class="hs-identifier hs-var hs-var"
	    >tccKindCheckConfig</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>=</span
	><span
	>
</span
	><span id="line-168"
	></span
	><span
	>        </span
	><span class="annot"
	><span class="annottext"
	  >(TypeCheckConfig uni fun -&gt; f (TypeCheckConfig uni fun))
-&gt; cfg -&gt; f cfg
forall cfg (uni :: * -&gt; *) fun.
HasTypeCheckConfig cfg uni fun =&gt;
Lens' cfg (TypeCheckConfig uni fun)
Lens' cfg (TypeCheckConfig uni fun)
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#typeCheckConfig"
	  ><span class="hs-identifier hs-var"
	    >typeCheckConfig</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >((TypeCheckConfig uni fun -&gt; f (TypeCheckConfig uni fun))
 -&gt; cfg -&gt; f cfg)
-&gt; ((KindCheckConfig -&gt; f KindCheckConfig)
    -&gt; TypeCheckConfig uni fun -&gt; f (TypeCheckConfig uni fun))
-&gt; (KindCheckConfig -&gt; f KindCheckConfig)
-&gt; cfg
-&gt; f cfg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	  ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	  ><span class="hs-operator hs-var"
	    >.</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >(TypeCheckConfig uni fun -&gt; KindCheckConfig)
-&gt; (TypeCheckConfig uni fun
    -&gt; KindCheckConfig -&gt; TypeCheckConfig uni fun)
-&gt; Lens
     (TypeCheckConfig uni fun)
     (TypeCheckConfig uni fun)
     KindCheckConfig
     KindCheckConfig
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span
	  ><span class="hs-identifier hs-var"
	  >lens</span
	  ></span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >TypeCheckConfig uni fun -&gt; KindCheckConfig
forall (uni :: * -&gt; *) fun.
TypeCheckConfig uni fun -&gt; KindCheckConfig
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#_tccKindCheckConfig"
	  ><span class="hs-identifier hs-var"
	    >_tccKindCheckConfig</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="hs-glyph"
	>\</span
	><span id="local-6989586621681926650"
	><span class="annot"
	  ><span class="annottext"
	    >TypeCheckConfig uni fun
</span
	    ><a href="#local-6989586621681926650"
	    ><span class="hs-identifier hs-var"
	      >s</span
	      ></a
	    ></span
	  ></span
	><span
	> </span
	><span id="local-6989586621681926651"
	><span class="annot"
	  ><span class="annottext"
	    >KindCheckConfig
</span
	    ><a href="#local-6989586621681926651"
	    ><span class="hs-identifier hs-var"
	      >b</span
	      ></a
	    ></span
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >TypeCheckConfig uni fun
</span
	  ><a href="#local-6989586621681926650"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>{</span
	><span
	> </span
	><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#_tccKindCheckConfig"
	  ><span class="hs-identifier hs-var"
	    >_tccKindCheckConfig</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>=</span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621681926651"
	  ><span class="hs-identifier hs-type"
	    >b</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>}</span
	><span class="hs-special"
	>)</span
	></span
      ><span
      >
</span
      ><span id="line-169"
      ></span
      ><span
      >
</span
      ><span id="line-170"
      ></span
      ><span
      >    </span
      ><span id="tccBuiltinTypes"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#tccBuiltinTypes"
	  ><span class="hs-identifier hs-type"
	    >tccBuiltinTypes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Lens'</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926114"
	><span class="hs-identifier hs-type"
	  >cfg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#BuiltinTypes"
	><span class="hs-identifier hs-type"
	  >BuiltinTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926115"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926116"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-171"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681926653"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#tccBuiltinTypes"
	  ><span class="hs-identifier hs-var hs-var"
	    >tccBuiltinTypes</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>=</span
	><span
	>
</span
	><span id="line-172"
	></span
	><span
	>        </span
	><span class="annot"
	><span class="annottext"
	  >(TypeCheckConfig uni fun -&gt; f (TypeCheckConfig uni fun))
-&gt; cfg -&gt; f cfg
forall cfg (uni :: * -&gt; *) fun.
HasTypeCheckConfig cfg uni fun =&gt;
Lens' cfg (TypeCheckConfig uni fun)
Lens' cfg (TypeCheckConfig uni fun)
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#typeCheckConfig"
	  ><span class="hs-identifier hs-var"
	    >typeCheckConfig</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >((TypeCheckConfig uni fun -&gt; f (TypeCheckConfig uni fun))
 -&gt; cfg -&gt; f cfg)
-&gt; ((BuiltinTypes uni fun -&gt; f (BuiltinTypes uni fun))
    -&gt; TypeCheckConfig uni fun -&gt; f (TypeCheckConfig uni fun))
-&gt; (BuiltinTypes uni fun -&gt; f (BuiltinTypes uni fun))
-&gt; cfg
-&gt; f cfg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	  ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	  ><span class="hs-operator hs-var"
	    >.</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >(TypeCheckConfig uni fun -&gt; BuiltinTypes uni fun)
-&gt; (TypeCheckConfig uni fun
    -&gt; BuiltinTypes uni fun -&gt; TypeCheckConfig uni fun)
-&gt; Lens
     (TypeCheckConfig uni fun)
     (TypeCheckConfig uni fun)
     (BuiltinTypes uni fun)
     (BuiltinTypes uni fun)
forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span
	  ><span class="hs-identifier hs-var"
	  >lens</span
	  ></span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >TypeCheckConfig uni fun -&gt; BuiltinTypes uni fun
forall (uni :: * -&gt; *) fun.
TypeCheckConfig uni fun -&gt; BuiltinTypes uni fun
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#_tccBuiltinTypes"
	  ><span class="hs-identifier hs-var"
	    >_tccBuiltinTypes</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="hs-glyph"
	>\</span
	><span id="local-6989586621681926658"
	><span class="annot"
	  ><span class="annottext"
	    >TypeCheckConfig uni fun
</span
	    ><a href="#local-6989586621681926658"
	    ><span class="hs-identifier hs-var"
	      >s</span
	      ></a
	    ></span
	  ></span
	><span
	> </span
	><span id="local-6989586621681926659"
	><span class="annot"
	  ><span class="annottext"
	    >BuiltinTypes uni fun
</span
	    ><a href="#local-6989586621681926659"
	    ><span class="hs-identifier hs-var"
	      >b</span
	      ></a
	    ></span
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >TypeCheckConfig uni fun
</span
	  ><a href="#local-6989586621681926658"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>{</span
	><span
	> </span
	><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#_tccBuiltinTypes"
	  ><span class="hs-identifier hs-var"
	    >_tccBuiltinTypes</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>=</span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621681926659"
	  ><span class="hs-identifier hs-type"
	    >b</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>}</span
	><span class="hs-special"
	>)</span
	></span
      ><span
      >
</span
      ><span id="line-173"
      ></span
      ><span
      >
</span
      ><span id="line-174"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621681926128"
      ><span id="local-6989586621681926129"
	><span id="local-6989586621681926662"
	  ><span class="annot"
	    ><a href="PlutusCore.TypeCheck.Internal.html#HasKindCheckConfig"
	      ><span class="hs-identifier hs-type"
		>HasKindCheckConfig</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckConfig"
	      ><span class="hs-identifier hs-type"
		>TypeCheckConfig</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681926128"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621681926129"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ></span
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-175"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681926671"
      ><span class="annot"
	><span class="annottext"
	  >kindCheckConfig :: Lens' (TypeCheckConfig uni fun) KindCheckConfig
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#kindCheckConfig"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >kindCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(KindCheckConfig -&gt; f KindCheckConfig)
-&gt; TypeCheckConfig uni fun -&gt; f (TypeCheckConfig uni fun)
forall cfg (uni :: * -&gt; *) fun.
HasTypeCheckConfig cfg uni fun =&gt;
Lens' cfg KindCheckConfig
Lens' (TypeCheckConfig uni fun) KindCheckConfig
</span
	><a href="PlutusCore.TypeCheck.Internal.html#tccKindCheckConfig"
	><span class="hs-identifier hs-var"
	  >tccKindCheckConfig</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-176"
      ></span
      ><span
      >
</span
      ><span id="line-177"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621681926131"
      ><span id="local-6989586621681926132"
	><span id="local-6989586621681926676"
	  ><span id="local-6989586621681926681"
	    ><span class="annot"
	      ><a href="PlutusCore.TypeCheck.Internal.html#HasTypeCheckConfig"
		><span class="hs-identifier hs-type"
		  >HasTypeCheckConfig</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckConfig"
		><span class="hs-identifier hs-type"
		  >TypeCheckConfig</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926131"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926132"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926131"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926132"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-178"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681926687"
      ><span class="annot"
	><span class="annottext"
	  >typeCheckConfig :: Lens' (TypeCheckConfig uni fun) (TypeCheckConfig uni fun)
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#typeCheckConfig"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >typeCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeCheckConfig uni fun -&gt; f (TypeCheckConfig uni fun))
-&gt; TypeCheckConfig uni fun -&gt; f (TypeCheckConfig uni fun)
forall a. a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#id"
	><span class="hs-identifier hs-var"
	  >id</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-179"
      ></span
      ><span
      >
</span
      ><span id="line-180"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The environment that the type checker runs in.</span
	></span
      ><span
      >
</span
      ><span id="line-181"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="TypeCheckEnv"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckEnv"
	  ><span class="hs-identifier hs-var"
	    >TypeCheckEnv</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926138"
      ><span class="annot"
	><a href="#local-6989586621681926138"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926139"
      ><span class="annot"
	><a href="#local-6989586621681926139"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926140"
      ><span class="annot"
	><a href="#local-6989586621681926140"
	  ><span class="hs-identifier hs-type"
	    >cfg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="TypeCheckEnv"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckEnv"
	  ><span class="hs-identifier hs-var"
	    >TypeCheckEnv</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-182"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="_tceTypeCheckConfig"
      ><span class="annot"
	><span class="annottext"
	  >forall (uni :: * -&gt; *) fun cfg. TypeCheckEnv uni fun cfg -&gt; cfg
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#_tceTypeCheckConfig"
	  ><span class="hs-identifier hs-var hs-var"
	    >_tceTypeCheckConfig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926140"
	><span class="hs-identifier hs-type"
	  >cfg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-183"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_tceTyVarKinds"
      ><span class="annot"
	><span class="annottext"
	  >forall (uni :: * -&gt; *) fun cfg.
TypeCheckEnv uni fun cfg -&gt; TyVarKinds
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#_tceTyVarKinds"
	  ><span class="hs-identifier hs-var hs-var"
	    >_tceTyVarKinds</span
	    ></a
	  ></span
	></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#TyVarKinds"
	><span class="hs-identifier hs-type"
	  >TyVarKinds</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-184"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_tceVarTypes"
      ><span class="annot"
	><span class="annottext"
	  >forall (uni :: * -&gt; *) fun cfg.
TypeCheckEnv uni fun cfg -&gt; VarTypes uni
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#_tceVarTypes"
	  ><span class="hs-identifier hs-var hs-var"
	    >_tceVarTypes</span
	    ></a
	  ></span
	></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#VarTypes"
	><span class="hs-identifier hs-type"
	  >VarTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926138"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-185"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-186"
      ></span
      ><span id="local-6989586621681926138"
      ><span id="local-6989586621681926139"
	><span id="local-6989586621681926140"
	  ><span id="local-6989586621681926154"
	    ><span id="local-6989586621681926155"
	      ><span id="local-6989586621681926156"
		><span id="local-6989586621681926157"
		  ><span id="local-6989586621681926158"
		    ><span id="tceTyVarKinds"
		      ><span id="tceTypeCheckConfig"
			><span id="tceVarTypes"
			  ><span class="hs-identifier"
			    >makeLenses</span
			    ><span
			    > </span
			    ><span class="hs-special"
			    >''</span
			    ><span class="hs-identifier"
			    >TypeCheckEnv</span
			    ></span
			  ></span
			></span
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-187"
      ></span
      ><span
      >
</span
      ><span id="line-188"
      ></span
      ><span class="hs-comment"
      >-- | The type checking monad that the type checker runs in.</span
      ><span
      >
</span
      ><span id="line-189"
      ></span
      ><span class="hs-comment"
      >-- In contains a 'TypeCheckEnv' and allows to throw 'TypeError's.</span
      ><span
      >
</span
      ><span id="line-190"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="TypeCheckT"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
	  ><span class="hs-identifier hs-var"
	    >TypeCheckT</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926716"
      ><span class="annot"
	><a href="#local-6989586621681926716"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926717"
      ><span class="annot"
	><a href="#local-6989586621681926717"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926718"
      ><span class="annot"
	><a href="#local-6989586621681926718"
	  ><span class="hs-identifier hs-type"
	    >cfg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926719"
      ><span class="annot"
	><a href="#local-6989586621681926719"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#ReaderT"
	><span class="hs-identifier hs-type"
	  >ReaderT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckEnv"
	><span class="hs-identifier hs-type"
	  >TypeCheckEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926716"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926717"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926718"
	><span class="hs-identifier hs-type"
	  >cfg</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926719"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-191"
      ></span
      ><span
      >
</span
      ><span id="line-192"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The constraints that are required for kind checking.</span
	></span
      ><span
      >
</span
      ><span id="line-193"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="MonadKindCheck"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#MonadKindCheck"
	  ><span class="hs-identifier hs-var"
	    >MonadKindCheck</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926720"
      ><span class="annot"
	><a href="#local-6989586621681926720"
	  ><span class="hs-identifier hs-type"
	    >err</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926721"
      ><span class="annot"
	><a href="#local-6989586621681926721"
	  ><span class="hs-identifier hs-type"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926722"
      ><span class="annot"
	><a href="#local-6989586621681926722"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926723"
      ><span class="annot"
	><a href="#local-6989586621681926723"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926724"
      ><span class="annot"
	><a href="#local-6989586621681926724"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926725"
      ><span class="annot"
	><a href="#local-6989586621681926725"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-194"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#MonadError"
	><span class="hs-identifier hs-type"
	  >MonadError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926720"
	><span class="hs-identifier hs-type"
	  >err</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926725"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      >                  </span
      ><span class="hs-comment"
      >-- Kind/type checking can fail</span
      ><span
      >
</span
      ><span id="line-195"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.KnownKind.html#ToKind"
	><span class="hs-identifier hs-type"
	  >ToKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926722"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      >                        </span
      ><span class="hs-comment"
      >-- For getting the kind of a built-in type.</span
      ><span
      >
</span
      ><span id="line-196"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-197"
      ></span
      ><span
      >
</span
      ><span id="line-198"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The general constraints that are required for type checking a Plutus AST.</span
	></span
      ><span
      >
</span
      ><span id="line-199"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="MonadTypeCheck"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#MonadTypeCheck"
	  ><span class="hs-identifier hs-var"
	    >MonadTypeCheck</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926726"
      ><span class="annot"
	><a href="#local-6989586621681926726"
	  ><span class="hs-identifier hs-type"
	    >err</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926727"
      ><span class="annot"
	><a href="#local-6989586621681926727"
	  ><span class="hs-identifier hs-type"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926728"
      ><span class="annot"
	><a href="#local-6989586621681926728"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926729"
      ><span class="annot"
	><a href="#local-6989586621681926729"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926730"
      ><span class="annot"
	><a href="#local-6989586621681926730"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926731"
      ><span class="annot"
	><a href="#local-6989586621681926731"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-200"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#MonadKindCheck"
	><span class="hs-identifier hs-type"
	  >MonadKindCheck</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926726"
	><span class="hs-identifier hs-type"
	  >err</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926727"
	><span class="hs-identifier hs-type"
	  >term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926728"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926729"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926730"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926731"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Kind checking is run during type checking (this</span
      ><span
      >
</span
      ><span id="line-201"
      ></span
      ><span
      >                                             </span
      ><span class="hs-comment"
      >-- includes the constraint for throwing errors).</span
      ><span
      >
</span
      ><span id="line-202"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Normalize.Internal.html#MonadNormalizeType"
	><span class="hs-identifier hs-type"
	  >Norm.MonadNormalizeType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926728"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926731"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- Type lambdas open up type computation.</span
      ><span
      >
</span
      ><span id="line-203"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Builtin.Case.html#AnnotateCaseBuiltin"
	><span class="hs-identifier hs-type"
	  >AnnotateCaseBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926728"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-204"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/some-1.0.6/docs/src/Data.GADT.Internal.html#GEq"
	><span class="hs-identifier hs-type"
	  >GEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926728"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      >                                </span
      ><span class="hs-comment"
      >-- For checking equality of built-in types.</span
      ><span
      >
</span
      ><span id="line-205"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Ix.html#Ix"
	><span class="hs-identifier hs-type"
	  >Ix</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926729"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >                                 </span
      ><span class="hs-comment"
      >-- For indexing into the precomputed array of</span
      ><span
      >
</span
      ><span id="line-206"
      ></span
      ><span
      >                                             </span
      ><span class="hs-comment"
      >-- types of built-in functions.</span
      ><span
      >
</span
      ><span id="line-207"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-208"
      ></span
      ><span
      >
</span
      ><span id="line-209"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The PLC type error type.</span
	></span
      ><span
      >
</span
      ><span id="line-210"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="TypeErrorPlc"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#TypeErrorPlc"
	  ><span class="hs-identifier hs-var"
	    >TypeErrorPlc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926733"
      ><span class="annot"
	><a href="#local-6989586621681926733"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926734"
      ><span class="annot"
	><a href="#local-6989586621681926734"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926735"
      ><span class="annot"
	><a href="#local-6989586621681926735"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Error.html#TypeError"
	><span class="hs-identifier hs-type"
	  >TypeError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926733"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926734"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926733"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926734"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926735"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-211"
      ></span
      ><span
      >
</span
      ><span id="line-212"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The constraints that are required for type checking Plutus Core.</span
	></span
      ><span
      >
</span
      ><span id="line-213"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="MonadTypeCheckPlc"
      ><span class="annot"
	><a href="PlutusCore.TypeCheck.Internal.html#MonadTypeCheckPlc"
	  ><span class="hs-identifier hs-var"
	    >MonadTypeCheckPlc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926736"
      ><span class="annot"
	><a href="#local-6989586621681926736"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926737"
      ><span class="annot"
	><a href="#local-6989586621681926737"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926738"
      ><span class="annot"
	><a href="#local-6989586621681926738"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926739"
      ><span class="annot"
	><a href="#local-6989586621681926739"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-214"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#MonadTypeCheck"
	><span class="hs-identifier hs-type"
	  >MonadTypeCheck</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-215"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#TypeErrorPlc"
	><span class="hs-identifier hs-type"
	  >TypeErrorPlc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926736"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926737"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926738"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-216"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926736"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926737"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926736"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926737"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926738"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621681926739"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-217"
      ></span
      ><span
      >
</span
      ><span id="line-218"
      ></span
      ><span class="hs-comment"
      >-- #########################</span
      ><span
      >
</span
      ><span id="line-219"
      ></span
      ><span class="hs-comment"
      >-- ## Auxiliary functions ##</span
      ><span
      >
</span
      ><span id="line-220"
      ></span
      ><span class="hs-comment"
      >-- #########################</span
      ><span
      >
</span
      ><span id="line-221"
      ></span
      ><span
      >
</span
      ><span id="line-222"
      ></span
      ><span class="hs-comment"
      >-- | Run a 'TypeCheckM' computation by supplying a 'TypeCheckConfig' to it.</span
      ><span
      >
</span
      ><span id="line-223"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-224"
      ></span
      ><span class="hs-comment"
      >-- Used for both type and kind checking, because we need to do kind checking during type checking</span
      ><span
      >
</span
      ><span id="line-225"
      ></span
      ><span class="hs-comment"
      >-- and so it makes sense to keep a single monad. However type checking requires a 'TypeCheckConfig',</span
      ><span
      >
</span
      ><span id="line-226"
      ></span
      ><span class="hs-comment"
      >-- while kind checking doesn't, hence we keep the kind checker fully polymorphic over the type of</span
      ><span
      >
</span
      ><span id="line-227"
      ></span
      ><span class="hs-comment"
      >-- config, so that the kinder checker can be run with an empty config (such as @()@) and access to</span
      ><span
      >
</span
      ><span id="line-228"
      ></span
      ><span class="hs-comment"
      >-- a 'TypeCheckConfig' is not needed.</span
      ><span
      >
</span
      ><span id="line-229"
      ></span
      ><span id="local-6989586621681926179"
      ><span id="local-6989586621681926180"
	><span id="local-6989586621681926181"
	  ><span id="local-6989586621681926182"
	    ><span id="local-6989586621681926183"
	      ><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#runTypeCheckM"
		  ><span class="hs-identifier hs-type"
		    >runTypeCheckM</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926179"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		  ><span class="hs-identifier hs-type"
		    >TypeCheckT</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926180"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926181"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926179"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926182"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926183"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926182"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926183"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-230"
      ></span
      ><span id="runTypeCheckM"
      ><span class="annot"
	><span class="annottext"
	  >runTypeCheckM :: forall cfg (uni :: * -&gt; *) fun (m :: * -&gt; *) a.
cfg -&gt; TypeCheckT uni fun cfg m a -&gt; m a
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#runTypeCheckM"
	  ><span class="hs-identifier hs-var hs-var"
	    >runTypeCheckM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926744"
      ><span class="annot"
	><span class="annottext"
	  >cfg
</span
	  ><a href="#local-6989586621681926744"
	  ><span class="hs-identifier hs-var"
	    >config</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926745"
      ><span class="annot"
	><span class="annottext"
	  >TypeCheckT uni fun cfg m a
</span
	  ><a href="#local-6989586621681926745"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeCheckT uni fun cfg m a -&gt; TypeCheckEnv uni fun cfg -&gt; m a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#runReaderT"
	><span class="hs-identifier hs-var"
	  >runReaderT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeCheckT uni fun cfg m a
</span
	><a href="#local-6989586621681926745"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeCheckEnv uni fun cfg -&gt; m a)
-&gt; TypeCheckEnv uni fun cfg -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>cfg -&gt; TyVarKinds -&gt; VarTypes uni -&gt; TypeCheckEnv uni fun cfg
forall (uni :: * -&gt; *) fun cfg.
cfg -&gt; TyVarKinds -&gt; VarTypes uni -&gt; TypeCheckEnv uni fun cfg
</span
	><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckEnv"
	><span class="hs-identifier hs-var"
	  >TypeCheckEnv</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>cfg
</span
	><a href="#local-6989586621681926744"
	><span class="hs-identifier hs-var"
	  >config</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarKinds
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarTypes uni
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-231"
      ></span
      ><span
      >
</span
      ><span id="line-232"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Extend the context of a 'TypeCheckM' computation with a kinded variable.</span
	></span
      ><span
      >
</span
      ><span id="line-233"
      ></span
      ><span id="local-6989586621681926202"
      ><span id="local-6989586621681926203"
	><span id="local-6989586621681926204"
	  ><span id="local-6989586621681926205"
	    ><span id="local-6989586621681926206"
	      ><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#withTyVar"
		  ><span class="hs-identifier hs-type"
		    >withTyVar</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Kind"
		  ><span class="hs-identifier hs-type"
		    >Kind</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		  ><span class="hs-identifier hs-type"
		    >TypeCheckT</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926202"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926203"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926204"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926205"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926206"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		  ><span class="hs-identifier hs-type"
		    >TypeCheckT</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926202"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926203"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926204"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926205"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926206"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-234"
      ></span
      ><span id="withTyVar"
      ><span class="annot"
	><span class="annottext"
	  >withTyVar :: forall (uni :: * -&gt; *) fun cfg (m :: * -&gt; *) a.
TyName
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m a
-&gt; TypeCheckT uni fun cfg m a
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#withTyVar"
	  ><span class="hs-identifier hs-var hs-var"
	    >withTyVar</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926753"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621681926753"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeCheckEnv uni fun cfg -&gt; TypeCheckEnv uni fun cfg)
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall r (m :: * -&gt; *) a.
(r -&gt; r) -&gt; ReaderT r m a -&gt; ReaderT r m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#local"
	><span class="hs-identifier hs-var"
	  >local</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TypeCheckEnv uni fun cfg -&gt; TypeCheckEnv uni fun cfg)
 -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
 -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a)
-&gt; (Kind ()
    -&gt; TypeCheckEnv uni fun cfg -&gt; TypeCheckEnv uni fun cfg)
-&gt; Kind ()
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (TypeCheckEnv uni fun cfg)
  (TypeCheckEnv uni fun cfg)
  TyVarKinds
  TyVarKinds
-&gt; (TyVarKinds -&gt; TyVarKinds)
-&gt; TypeCheckEnv uni fun cfg
-&gt; TypeCheckEnv uni fun cfg
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (TypeCheckEnv uni fun cfg)
  (TypeCheckEnv uni fun cfg)
  TyVarKinds
  TyVarKinds
forall (uni :: * -&gt; *) fun cfg fun (f :: * -&gt; *).
Functor f =&gt;
(TyVarKinds -&gt; f TyVarKinds)
-&gt; TypeCheckEnv uni fun cfg -&gt; f (TypeCheckEnv uni fun cfg)
</span
	><a href="PlutusCore.TypeCheck.Internal.html#tceTyVarKinds"
	><span class="hs-identifier hs-var"
	  >tceTyVarKinds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TyVarKinds -&gt; TyVarKinds)
 -&gt; TypeCheckEnv uni fun cfg -&gt; TypeCheckEnv uni fun cfg)
-&gt; (Kind () -&gt; TyVarKinds -&gt; TyVarKinds)
-&gt; Kind ()
-&gt; TypeCheckEnv uni fun cfg
-&gt; TypeCheckEnv uni fun cfg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName -&gt; Kind () -&gt; TyVarKinds -&gt; TyVarKinds
forall name unique a.
(HasText name, HasUnique name unique) =&gt;
name
-&gt; a -&gt; UniqueMap unique (Named a) -&gt; UniqueMap unique (Named a)
</span
	><a href="PlutusCore.Name.UniqueMap.html#insertNamed"
	><span class="hs-identifier hs-var"
	  >insertNamed</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681926753"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-235"
      ></span
      ><span
      >
</span
      ><span id="line-236"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Look up the type of a built-in function.</span
	></span
      ><span
      >
</span
      ><span id="line-237"
      ></span
      ><span id="local-6989586621681926228"
      ><span id="local-6989586621681926229"
	><span id="local-6989586621681926230"
	  ><span id="local-6989586621681926231"
	    ><span id="local-6989586621681926233"
	      ><span id="local-6989586621681926235"
		><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#lookupBuiltinM"
		    ><span class="hs-identifier hs-type"
		      >lookupBuiltinM</span
		      ></a
		    ></span
		  ><span
		  >
</span
		  ><span id="line-238"
		  ></span
		  ><span
		  >    </span
		  ><span class="hs-glyph"
		  >::</span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#MonadTypeCheck"
		    ><span class="hs-identifier hs-type"
		      >MonadTypeCheck</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Error.html#TypeError"
		    ><span class="hs-identifier hs-type"
		      >TypeError</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926228"
		    ><span class="hs-identifier hs-type"
		      >term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926229"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926230"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926231"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926228"
		    ><span class="hs-identifier hs-type"
		      >term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926229"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926230"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926231"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926233"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >,</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#HasTypeCheckConfig"
		    ><span class="hs-identifier hs-type"
		      >HasTypeCheckConfig</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926235"
		    ><span class="hs-identifier hs-type"
		      >cfg</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926229"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926230"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  >
</span
		  ><span id="line-239"
		  ></span
		  ><span
		  >    </span
		  ><span class="hs-glyph"
		  >=&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926231"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926230"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		    ><span class="hs-identifier hs-type"
		      >TypeCheckT</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926229"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926230"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926235"
		    ><span class="hs-identifier hs-type"
		      >cfg</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926233"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Core.Type.html#Normalized"
		    ><span class="hs-identifier hs-type"
		      >Normalized</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Core.Type.html#Type"
		    ><span class="hs-identifier hs-type"
		      >Type</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.Name.Unique.html#TyName"
		    ><span class="hs-identifier hs-type"
		      >TyName</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926229"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="hs-special"
		  >)</span
		  ><span class="hs-special"
		  >)</span
		  ><span class="hs-special"
		  >)</span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-240"
      ></span
      ><span id="lookupBuiltinM"
      ><span class="annot"
	><span class="annottext"
	  >lookupBuiltinM :: forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheck (TypeError term uni fun ann) term uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
ann
-&gt; fun
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#lookupBuiltinM"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupBuiltinM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926797"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681926797"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926798"
      ><span class="annot"
	><span class="annottext"
	  >fun
</span
	  ><a href="#local-6989586621681926798"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-241"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#BuiltinTypes"
	><span class="hs-identifier hs-type"
	  >BuiltinTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681926799"
      ><span class="annot"
	><span class="annottext"
	  >Array fun (Dupable (Normalized (Type TyName uni ())))
</span
	  ><a href="#local-6989586621681926799"
	  ><span class="hs-identifier hs-var"
	    >arr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (BuiltinTypes uni fun)
  (TypeCheckEnv uni fun cfg)
  (BuiltinTypes uni fun)
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (BuiltinTypes uni fun)
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span
	><span class="hs-identifier hs-var"
	>view</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Getting
   (BuiltinTypes uni fun)
   (TypeCheckEnv uni fun cfg)
   (BuiltinTypes uni fun)
 -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (BuiltinTypes uni fun))
-&gt; Getting
     (BuiltinTypes uni fun)
     (TypeCheckEnv uni fun cfg)
     (BuiltinTypes uni fun)
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (BuiltinTypes uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(cfg -&gt; Const (BuiltinTypes uni fun) cfg)
-&gt; TypeCheckEnv uni fun cfg
-&gt; Const (BuiltinTypes uni fun) (TypeCheckEnv uni fun cfg)
forall (uni :: * -&gt; *) fun cfg fun cfg (f :: * -&gt; *).
Functor f =&gt;
(cfg -&gt; f cfg)
-&gt; TypeCheckEnv uni fun cfg -&gt; f (TypeCheckEnv uni fun cfg)
</span
	><a href="PlutusCore.TypeCheck.Internal.html#tceTypeCheckConfig"
	><span class="hs-identifier hs-var"
	  >tceTypeCheckConfig</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((cfg -&gt; Const (BuiltinTypes uni fun) cfg)
 -&gt; TypeCheckEnv uni fun cfg
 -&gt; Const (BuiltinTypes uni fun) (TypeCheckEnv uni fun cfg))
-&gt; ((BuiltinTypes uni fun
     -&gt; Const (BuiltinTypes uni fun) (BuiltinTypes uni fun))
    -&gt; cfg -&gt; Const (BuiltinTypes uni fun) cfg)
-&gt; Getting
     (BuiltinTypes uni fun)
     (TypeCheckEnv uni fun cfg)
     (BuiltinTypes uni fun)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(BuiltinTypes uni fun
 -&gt; Const (BuiltinTypes uni fun) (BuiltinTypes uni fun))
-&gt; cfg -&gt; Const (BuiltinTypes uni fun) cfg
forall cfg (uni :: * -&gt; *) fun.
HasTypeCheckConfig cfg uni fun =&gt;
Lens' cfg (BuiltinTypes uni fun)
Lens' cfg (BuiltinTypes uni fun)
</span
	><a href="PlutusCore.TypeCheck.Internal.html#tccBuiltinTypes"
	><span class="hs-identifier hs-var"
	  >tccBuiltinTypes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-242"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Believe it or not, but 'Data.Array' doesn't seem to expose any way of indexing into an array</span
      ><span
      >
</span
      ><span id="line-243"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- safely.</span
      ><span
      >
</span
      ><span id="line-244"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (First (Dupable (Normalized (Type TyName uni ()))))
  (Array fun (Dupable (Normalized (Type TyName uni ()))))
  (Dupable (Normalized (Type TyName uni ())))
-&gt; Array fun (Dupable (Normalized (Type TyName uni ())))
-&gt; Maybe (Dupable (Normalized (Type TyName uni ())))
forall s (m :: * -&gt; *) a.
MonadReader s m =&gt;
Getting (First a) s a -&gt; m (Maybe a)
</span
	><span class="hs-identifier hs-var"
	>preview</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Index (Array fun (Dupable (Normalized (Type TyName uni ()))))
-&gt; Traversal'
     (Array fun (Dupable (Normalized (Type TyName uni ()))))
     (IxValue (Array fun (Dupable (Normalized (Type TyName uni ())))))
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span
	><span class="hs-identifier hs-var"
	>ix</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
Index (Array fun (Dupable (Normalized (Type TyName uni ()))))
</span
	><a href="#local-6989586621681926798"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Array fun (Dupable (Normalized (Type TyName uni ())))
</span
	><a href="#local-6989586621681926799"
	><span class="hs-identifier hs-var"
	  >arr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-245"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Dupable (Normalized (Type TyName uni ())))
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError term uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a.
TypeError term uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeError term uni fun ann
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; TypeError term uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; fun -&gt; TypeError term uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann -&gt; fun -&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#UnknownBuiltinFunctionE"
	><span class="hs-identifier hs-var"
	  >UnknownBuiltinFunctionE</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681926797"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621681926798"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-246"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681926801"
      ><span class="annot"
	><span class="annottext"
	  >Dupable (Normalized (Type TyName uni ()))
</span
	  ><a href="#local-6989586621681926801"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dupable (Normalized (Type TyName uni ()))
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (m :: * -&gt; *) a.
(MonadQuote m, Rename a) =&gt;
Dupable a -&gt; m a
</span
	><a href="PlutusCore.Rename.html#liftDupable"
	><span class="hs-identifier hs-var"
	  >liftDupable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dupable (Normalized (Type TyName uni ()))
</span
	><a href="#local-6989586621681926801"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-247"
      ></span
      ><span
      >
</span
      ><span id="line-248"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Extend the context of a 'TypeCheckM' computation with a typed variable.</span
	></span
      ><span
      >
</span
      ><span id="line-249"
      ></span
      ><span id="local-6989586621681926300"
      ><span id="local-6989586621681926301"
	><span id="local-6989586621681926302"
	  ><span id="local-6989586621681926303"
	    ><span id="local-6989586621681926304"
	      ><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#withVar"
		  ><span class="hs-identifier hs-type"
		    >withVar</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-250"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#Name"
		  ><span class="hs-identifier hs-type"
		    >Name</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-251"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Normalized"
		  ><span class="hs-identifier hs-type"
		    >Normalized</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Type"
		  ><span class="hs-identifier hs-type"
		    >Type</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926300"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-252"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		  ><span class="hs-identifier hs-type"
		    >TypeCheckT</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926300"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926301"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926302"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926303"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926304"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-253"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		  ><span class="hs-identifier hs-type"
		    >TypeCheckT</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926300"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926301"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926302"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926303"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926304"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-254"
      ></span
      ><span id="withVar"
      ><span class="annot"
	><span class="annottext"
	  >withVar :: forall (uni :: * -&gt; *) fun cfg (m :: * -&gt; *) a.
Name
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m a
-&gt; TypeCheckT uni fun cfg m a
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#withVar"
	  ><span class="hs-identifier hs-var hs-var"
	    >withVar</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926808"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621681926808"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeCheckEnv uni fun cfg -&gt; TypeCheckEnv uni fun cfg)
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall r (m :: * -&gt; *) a.
(r -&gt; r) -&gt; ReaderT r m a -&gt; ReaderT r m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#local"
	><span class="hs-identifier hs-var"
	  >local</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TypeCheckEnv uni fun cfg -&gt; TypeCheckEnv uni fun cfg)
 -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
 -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a)
-&gt; (Normalized (Type TyName uni ())
    -&gt; TypeCheckEnv uni fun cfg -&gt; TypeCheckEnv uni fun cfg)
-&gt; Normalized (Type TyName uni ())
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (TypeCheckEnv uni fun cfg)
  (TypeCheckEnv uni fun cfg)
  (VarTypes uni)
  (VarTypes uni)
-&gt; (VarTypes uni -&gt; VarTypes uni)
-&gt; TypeCheckEnv uni fun cfg
-&gt; TypeCheckEnv uni fun cfg
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (TypeCheckEnv uni fun cfg)
  (TypeCheckEnv uni fun cfg)
  (VarTypes uni)
  (VarTypes uni)
forall (uni :: * -&gt; *) fun cfg (uni :: * -&gt; *) fun (f :: * -&gt; *).
Functor f =&gt;
(VarTypes uni -&gt; f (VarTypes uni))
-&gt; TypeCheckEnv uni fun cfg -&gt; f (TypeCheckEnv uni fun cfg)
</span
	><a href="PlutusCore.TypeCheck.Internal.html#tceVarTypes"
	><span class="hs-identifier hs-var"
	  >tceVarTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((VarTypes uni -&gt; VarTypes uni)
 -&gt; TypeCheckEnv uni fun cfg -&gt; TypeCheckEnv uni fun cfg)
-&gt; (Normalized (Type TyName uni ())
    -&gt; VarTypes uni -&gt; VarTypes uni)
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckEnv uni fun cfg
-&gt; TypeCheckEnv uni fun cfg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
-&gt; Dupable (Normalized (Type TyName uni ()))
-&gt; VarTypes uni
-&gt; VarTypes uni
forall name unique a.
(HasText name, HasUnique name unique) =&gt;
name
-&gt; a -&gt; UniqueMap unique (Named a) -&gt; UniqueMap unique (Named a)
</span
	><a href="PlutusCore.Name.UniqueMap.html#insertNamed"
	><span class="hs-identifier hs-var"
	  >insertNamed</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621681926808"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Dupable (Normalized (Type TyName uni ()))
 -&gt; VarTypes uni -&gt; VarTypes uni)
-&gt; (Normalized (Type TyName uni ())
    -&gt; Dupable (Normalized (Type TyName uni ())))
-&gt; Normalized (Type TyName uni ())
-&gt; VarTypes uni
-&gt; VarTypes uni
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; Dupable (Normalized (Type TyName uni ()))
forall a. a -&gt; Dupable a
</span
	><a href="PlutusCore.Rename.html#dupable"
	><span class="hs-identifier hs-var"
	  >dupable</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-255"
      ></span
      ><span
      >
</span
      ><span id="line-256"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Look up a type variable in the current context.</span
	></span
      ><span
      >
</span
      ><span id="line-257"
      ></span
      ><span id="local-6989586621681926312"
      ><span id="local-6989586621681926313"
	><span id="local-6989586621681926314"
	  ><span id="local-6989586621681926315"
	    ><span id="local-6989586621681926316"
	      ><span id="local-6989586621681926317"
		><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#lookupTyVarM"
		    ><span class="hs-identifier hs-type"
		      >lookupTyVarM</span
		      ></a
		    ></span
		  ><span
		  >
</span
		  ><span id="line-258"
		  ></span
		  ><span
		  >    </span
		  ><span class="hs-glyph"
		  >::</span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#MonadKindCheck"
		    ><span class="hs-identifier hs-type"
		      >MonadKindCheck</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Error.html#TypeError"
		    ><span class="hs-identifier hs-type"
		      >TypeError</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926312"
		    ><span class="hs-identifier hs-type"
		      >term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926313"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926314"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926315"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926312"
		    ><span class="hs-identifier hs-type"
		      >term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926313"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926314"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926315"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926316"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >,</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#HasKindCheckConfig"
		    ><span class="hs-identifier hs-type"
		      >HasKindCheckConfig</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926317"
		    ><span class="hs-identifier hs-type"
		      >cfg</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  >
</span
		  ><span id="line-259"
		  ></span
		  ><span
		  >    </span
		  ><span class="hs-glyph"
		  >=&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926315"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.Name.Unique.html#TyName"
		    ><span class="hs-identifier hs-type"
		      >TyName</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		    ><span class="hs-identifier hs-type"
		      >TypeCheckT</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926313"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926314"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926317"
		    ><span class="hs-identifier hs-type"
		      >cfg</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926316"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Core.Type.html#Kind"
		    ><span class="hs-identifier hs-type"
		      >Kind</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="hs-special"
		  >)</span
		  ><span class="hs-special"
		  >)</span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-260"
      ></span
      ><span id="lookupTyVarM"
      ><span class="annot"
	><span class="annottext"
	  >lookupTyVarM :: forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann -&gt; TyName -&gt; TypeCheckT uni fun cfg m (Kind ())
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#lookupTyVarM"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupTyVarM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926836"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681926836"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926837"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621681926837"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-261"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681926838"
      ><span class="annot"
	><span class="annottext"
	  >TypeCheckEnv uni fun cfg
</span
	  ><a href="#local-6989586621681926838"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT (TypeCheckEnv uni fun cfg) m (TypeCheckEnv uni fun cfg)
forall (m :: * -&gt; *) r. Monad m =&gt; ReaderT r m r
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#ask"
	><span class="hs-identifier hs-var"
	  >ask</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-262"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681926842"
      ><span class="annot"
	><span class="annottext"
	  >handleNameMismatches :: HandleNameMismatches
</span
	  ><a href="#local-6989586621681926842"
	  ><span class="hs-identifier hs-var hs-var"
	    >handleNameMismatches</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeCheckEnv uni fun cfg
</span
	><a href="#local-6989586621681926838"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeCheckEnv uni fun cfg
-&gt; Getting
     HandleNameMismatches
     (TypeCheckEnv uni fun cfg)
     HandleNameMismatches
-&gt; HandleNameMismatches
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(cfg -&gt; Const HandleNameMismatches cfg)
-&gt; TypeCheckEnv uni fun cfg
-&gt; Const HandleNameMismatches (TypeCheckEnv uni fun cfg)
forall (uni :: * -&gt; *) fun cfg fun cfg (f :: * -&gt; *).
Functor f =&gt;
(cfg -&gt; f cfg)
-&gt; TypeCheckEnv uni fun cfg -&gt; f (TypeCheckEnv uni fun cfg)
</span
	><a href="PlutusCore.TypeCheck.Internal.html#tceTypeCheckConfig"
	><span class="hs-identifier hs-var"
	  >tceTypeCheckConfig</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((cfg -&gt; Const HandleNameMismatches cfg)
 -&gt; TypeCheckEnv uni fun cfg
 -&gt; Const HandleNameMismatches (TypeCheckEnv uni fun cfg))
-&gt; ((HandleNameMismatches
     -&gt; Const HandleNameMismatches HandleNameMismatches)
    -&gt; cfg -&gt; Const HandleNameMismatches cfg)
-&gt; Getting
     HandleNameMismatches
     (TypeCheckEnv uni fun cfg)
     HandleNameMismatches
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(HandleNameMismatches
 -&gt; Const HandleNameMismatches HandleNameMismatches)
-&gt; cfg -&gt; Const HandleNameMismatches cfg
forall c. HasKindCheckConfig c =&gt; Lens' c HandleNameMismatches
Lens' cfg HandleNameMismatches
</span
	><a href="PlutusCore.TypeCheck.Internal.html#kccHandleNameMismatches"
	><span class="hs-identifier hs-var"
	  >kccHandleNameMismatches</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-263"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName -&gt; TyVarKinds -&gt; Maybe (Named (Kind ()))
forall name unique a.
HasUnique name unique =&gt;
name -&gt; UniqueMap unique a -&gt; Maybe a
</span
	><a href="PlutusCore.Name.UniqueMap.html#lookupName"
	><span class="hs-identifier hs-var"
	  >lookupName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681926837"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TyVarKinds -&gt; Maybe (Named (Kind ())))
-&gt; TyVarKinds -&gt; Maybe (Named (Kind ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeCheckEnv uni fun cfg -&gt; TyVarKinds
forall (uni :: * -&gt; *) fun cfg.
TypeCheckEnv uni fun cfg -&gt; TyVarKinds
</span
	><a href="PlutusCore.TypeCheck.Internal.html#_tceTyVarKinds"
	><span class="hs-identifier hs-var"
	  >_tceTyVarKinds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeCheckEnv uni fun cfg
</span
	><a href="#local-6989586621681926838"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-264"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Named (Kind ()))
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >                    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError term uni fun ann -&gt; TypeCheckT uni fun cfg m (Kind ())
forall a.
TypeError term uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeError term uni fun ann -&gt; TypeCheckT uni fun cfg m (Kind ()))
-&gt; TypeError term uni fun ann -&gt; TypeCheckT uni fun cfg m (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; TyName -&gt; TypeError term uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann -&gt; TyName -&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#FreeTypeVariableE"
	><span class="hs-identifier hs-var"
	  >FreeTypeVariableE</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681926836"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681926837"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-265"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Named"
	><span class="hs-identifier hs-type"
	  >Named</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681926844"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621681926844"
	  ><span class="hs-identifier hs-var"
	    >nameOrig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926845"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681926845"
	  ><span class="hs-identifier hs-var"
	    >kind</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-266"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>HandleNameMismatches
</span
	><a href="#local-6989586621681926842"
	><span class="hs-identifier hs-var"
	  >handleNameMismatches</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>HandleNameMismatches -&gt; HandleNameMismatches -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>HandleNameMismatches
</span
	><a href="PlutusCore.TypeCheck.Internal.html#IgnoreNameMismatches"
	><span class="hs-identifier hs-var"
	  >IgnoreNameMismatches</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting Text TyName Text -&gt; TyName -&gt; Text
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span
	><span class="hs-identifier hs-var"
	>view</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting Text TyName Text
forall a. HasText a =&gt; Lens' a Text
Lens' TyName Text
</span
	><a href="PlutusCore.Name.Unique.html#theText"
	><span class="hs-identifier hs-var"
	  >theText</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681926837"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621681926844"
	><span class="hs-identifier hs-var"
	  >nameOrig</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-267"
      ></span
      ><span
      >                </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; TypeCheckT uni fun cfg m (Kind ())
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681926845"
	><span class="hs-identifier hs-var"
	  >kind</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-268"
      ></span
      ><span
      >                </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError term uni fun ann -&gt; TypeCheckT uni fun cfg m (Kind ())
forall a.
TypeError term uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeError term uni fun ann -&gt; TypeCheckT uni fun cfg m (Kind ()))
-&gt; TypeError term uni fun ann -&gt; TypeCheckT uni fun cfg m (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-269"
      ></span
      ><span
      >                        </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; TyName -&gt; TyName -&gt; TypeError term uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann -&gt; TyName -&gt; TyName -&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#TyNameMismatch"
	><span class="hs-identifier hs-var"
	  >TyNameMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681926836"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; TyName
</span
	><a href="PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-var"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; TyName) -&gt; (Unique -&gt; Name) -&gt; Unique -&gt; TyName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Unique -&gt; Name
</span
	><a href="PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-var"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621681926844"
	><span class="hs-identifier hs-var"
	  >nameOrig</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Unique -&gt; TyName) -&gt; Unique -&gt; TyName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681926837"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName -&gt; Getting Unique TyName Unique -&gt; Unique
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting Unique TyName Unique
forall name unique. HasUnique name unique =&gt; Lens' name Unique
Lens' TyName Unique
</span
	><a href="PlutusCore.Name.Unique.html#theUnique"
	><span class="hs-identifier hs-var"
	  >theUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681926837"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-270"
      ></span
      ><span
      >
</span
      ><span id="line-271"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Look up a term variable in the current context.</span
	></span
      ><span
      >
</span
      ><span id="line-272"
      ></span
      ><span id="local-6989586621681926341"
      ><span id="local-6989586621681926342"
	><span id="local-6989586621681926343"
	  ><span id="local-6989586621681926344"
	    ><span id="local-6989586621681926345"
	      ><span id="local-6989586621681926346"
		><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#lookupVarM"
		    ><span class="hs-identifier hs-type"
		      >lookupVarM</span
		      ></a
		    ></span
		  ><span
		  >
</span
		  ><span id="line-273"
		  ></span
		  ><span
		  >    </span
		  ><span class="hs-glyph"
		  >::</span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#MonadTypeCheck"
		    ><span class="hs-identifier hs-type"
		      >MonadTypeCheck</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Error.html#TypeError"
		    ><span class="hs-identifier hs-type"
		      >TypeError</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926341"
		    ><span class="hs-identifier hs-type"
		      >term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926342"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926343"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926344"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926341"
		    ><span class="hs-identifier hs-type"
		      >term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926342"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926343"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926344"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926345"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >,</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#HasTypeCheckConfig"
		    ><span class="hs-identifier hs-type"
		      >HasTypeCheckConfig</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926346"
		    ><span class="hs-identifier hs-type"
		      >cfg</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926342"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926343"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  >
</span
		  ><span id="line-274"
		  ></span
		  ><span
		  >    </span
		  ><span class="hs-glyph"
		  >=&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926344"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.Name.Unique.html#Name"
		    ><span class="hs-identifier hs-type"
		      >Name</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		    ><span class="hs-identifier hs-type"
		      >TypeCheckT</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926342"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926343"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926346"
		    ><span class="hs-identifier hs-type"
		      >cfg</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926345"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Core.Type.html#Normalized"
		    ><span class="hs-identifier hs-type"
		      >Normalized</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Core.Type.html#Type"
		    ><span class="hs-identifier hs-type"
		      >Type</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.Name.Unique.html#TyName"
		    ><span class="hs-identifier hs-type"
		      >TyName</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926342"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="hs-special"
		  >)</span
		  ><span class="hs-special"
		  >)</span
		  ><span class="hs-special"
		  >)</span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-275"
      ></span
      ><span id="lookupVarM"
      ><span class="annot"
	><span class="annottext"
	  >lookupVarM :: forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheck (TypeError term uni fun ann) term uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
ann
-&gt; Name
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#lookupVarM"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupVarM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926879"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681926879"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926880"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621681926880"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-276"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681926881"
      ><span class="annot"
	><span class="annottext"
	  >TypeCheckEnv uni fun cfg
</span
	  ><a href="#local-6989586621681926881"
	  ><span class="hs-identifier hs-var"
	    >env</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT (TypeCheckEnv uni fun cfg) m (TypeCheckEnv uni fun cfg)
forall (m :: * -&gt; *) r. Monad m =&gt; ReaderT r m r
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#ask"
	><span class="hs-identifier hs-var"
	  >ask</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-277"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681926888"
      ><span class="annot"
	><span class="annottext"
	  >handleNameMismatches :: HandleNameMismatches
</span
	  ><a href="#local-6989586621681926888"
	  ><span class="hs-identifier hs-var hs-var"
	    >handleNameMismatches</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-278"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>TypeCheckEnv uni fun cfg
</span
	><a href="#local-6989586621681926881"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeCheckEnv uni fun cfg
-&gt; Getting
     HandleNameMismatches
     (TypeCheckEnv uni fun cfg)
     HandleNameMismatches
-&gt; HandleNameMismatches
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(cfg -&gt; Const HandleNameMismatches cfg)
-&gt; TypeCheckEnv uni fun cfg
-&gt; Const HandleNameMismatches (TypeCheckEnv uni fun cfg)
forall (uni :: * -&gt; *) fun cfg fun cfg (f :: * -&gt; *).
Functor f =&gt;
(cfg -&gt; f cfg)
-&gt; TypeCheckEnv uni fun cfg -&gt; f (TypeCheckEnv uni fun cfg)
</span
	><a href="PlutusCore.TypeCheck.Internal.html#tceTypeCheckConfig"
	><span class="hs-identifier hs-var"
	  >tceTypeCheckConfig</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((cfg -&gt; Const HandleNameMismatches cfg)
 -&gt; TypeCheckEnv uni fun cfg
 -&gt; Const HandleNameMismatches (TypeCheckEnv uni fun cfg))
-&gt; ((HandleNameMismatches
     -&gt; Const HandleNameMismatches HandleNameMismatches)
    -&gt; cfg -&gt; Const HandleNameMismatches cfg)
-&gt; Getting
     HandleNameMismatches
     (TypeCheckEnv uni fun cfg)
     HandleNameMismatches
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(KindCheckConfig -&gt; Const HandleNameMismatches KindCheckConfig)
-&gt; cfg -&gt; Const HandleNameMismatches cfg
forall cfg (uni :: * -&gt; *) fun.
HasTypeCheckConfig cfg uni fun =&gt;
Lens' cfg KindCheckConfig
Lens' cfg KindCheckConfig
</span
	><a href="PlutusCore.TypeCheck.Internal.html#tccKindCheckConfig"
	><span class="hs-identifier hs-var"
	  >tccKindCheckConfig</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((KindCheckConfig -&gt; Const HandleNameMismatches KindCheckConfig)
 -&gt; cfg -&gt; Const HandleNameMismatches cfg)
-&gt; ((HandleNameMismatches
     -&gt; Const HandleNameMismatches HandleNameMismatches)
    -&gt; KindCheckConfig -&gt; Const HandleNameMismatches KindCheckConfig)
-&gt; (HandleNameMismatches
    -&gt; Const HandleNameMismatches HandleNameMismatches)
-&gt; cfg
-&gt; Const HandleNameMismatches cfg
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(HandleNameMismatches
 -&gt; Const HandleNameMismatches HandleNameMismatches)
-&gt; KindCheckConfig -&gt; Const HandleNameMismatches KindCheckConfig
forall c. HasKindCheckConfig c =&gt; Lens' c HandleNameMismatches
Lens' KindCheckConfig HandleNameMismatches
</span
	><a href="PlutusCore.TypeCheck.Internal.html#kccHandleNameMismatches"
	><span class="hs-identifier hs-var"
	  >kccHandleNameMismatches</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-279"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
-&gt; UniqueMap
     TermUnique (Named (Dupable (Normalized (Type TyName uni ()))))
-&gt; Maybe (Named (Dupable (Normalized (Type TyName uni ()))))
forall name unique a.
HasUnique name unique =&gt;
name -&gt; UniqueMap unique a -&gt; Maybe a
</span
	><a href="PlutusCore.Name.UniqueMap.html#lookupName"
	><span class="hs-identifier hs-var"
	  >lookupName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621681926880"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueMap
   TermUnique (Named (Dupable (Normalized (Type TyName uni ()))))
 -&gt; Maybe (Named (Dupable (Normalized (Type TyName uni ())))))
-&gt; UniqueMap
     TermUnique (Named (Dupable (Normalized (Type TyName uni ()))))
-&gt; Maybe (Named (Dupable (Normalized (Type TyName uni ()))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeCheckEnv uni fun cfg
-&gt; UniqueMap
     TermUnique (Named (Dupable (Normalized (Type TyName uni ()))))
forall (uni :: * -&gt; *) fun cfg.
TypeCheckEnv uni fun cfg -&gt; VarTypes uni
</span
	><a href="PlutusCore.TypeCheck.Internal.html#_tceVarTypes"
	><span class="hs-identifier hs-var"
	  >_tceVarTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeCheckEnv uni fun cfg
</span
	><a href="#local-6989586621681926881"
	><span class="hs-identifier hs-var"
	  >env</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-280"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Named (Dupable (Normalized (Type TyName uni ()))))
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >                  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError term uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a.
TypeError term uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeError term uni fun ann
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; TypeError term uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Name -&gt; TypeError term uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann -&gt; Name -&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#FreeVariableE"
	><span class="hs-identifier hs-var"
	  >FreeVariableE</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681926879"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621681926880"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-281"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Name.Unique.html#Named"
	><span class="hs-identifier hs-type"
	  >Named</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681926890"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621681926890"
	  ><span class="hs-identifier hs-var"
	    >nameOrig</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926891"
      ><span class="annot"
	><span class="annottext"
	  >Dupable (Normalized (Type TyName uni ()))
</span
	  ><a href="#local-6989586621681926891"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-282"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>HandleNameMismatches
</span
	><a href="#local-6989586621681926888"
	><span class="hs-identifier hs-var"
	  >handleNameMismatches</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>HandleNameMismatches -&gt; HandleNameMismatches -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>HandleNameMismatches
</span
	><a href="PlutusCore.TypeCheck.Internal.html#IgnoreNameMismatches"
	><span class="hs-identifier hs-var"
	  >IgnoreNameMismatches</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting Text Name Text -&gt; Name -&gt; Text
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span
	><span class="hs-identifier hs-var"
	>view</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting Text Name Text
forall a. HasText a =&gt; Lens' a Text
Lens' Name Text
</span
	><a href="PlutusCore.Name.Unique.html#theText"
	><span class="hs-identifier hs-var"
	  >theText</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621681926880"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621681926890"
	><span class="hs-identifier hs-var"
	  >nameOrig</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-283"
      ></span
      ><span
      >                </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dupable (Normalized (Type TyName uni ()))
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (m :: * -&gt; *) a.
(MonadQuote m, Rename a) =&gt;
Dupable a -&gt; m a
</span
	><a href="PlutusCore.Rename.html#liftDupable"
	><span class="hs-identifier hs-var"
	  >liftDupable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dupable (Normalized (Type TyName uni ()))
</span
	><a href="#local-6989586621681926891"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-284"
      ></span
      ><span
      >                </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError term uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a.
TypeError term uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeError term uni fun ann
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; TypeError term uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-285"
      ></span
      ><span
      >                        </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Name -&gt; Name -&gt; TypeError term uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann -&gt; Name -&gt; Name -&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#NameMismatch"
	><span class="hs-identifier hs-var"
	  >NameMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681926879"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Unique -&gt; Name
</span
	><a href="PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-var"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621681926890"
	><span class="hs-identifier hs-var"
	  >nameOrig</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Unique -&gt; Name) -&gt; Unique -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621681926880"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Getting Unique Name Unique -&gt; Unique
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting Unique Name Unique
forall name unique. HasUnique name unique =&gt; Lens' name Unique
Lens' Name Unique
</span
	><a href="PlutusCore.Name.Unique.html#theUnique"
	><span class="hs-identifier hs-var"
	  >theUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621681926880"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-286"
      ></span
      ><span
      >
</span
      ><span id="line-287"
      ></span
      ><span class="hs-comment"
      >-- ########################</span
      ><span
      >
</span
      ><span id="line-288"
      ></span
      ><span class="hs-comment"
      >-- ## Type normalization ##</span
      ><span
      >
</span
      ><span id="line-289"
      ></span
      ><span class="hs-comment"
      >-- ########################</span
      ><span
      >
</span
      ><span id="line-290"
      ></span
      ><span
      >
</span
      ><span id="line-291"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Normalize a 'Type'.</span
	></span
      ><span
      >
</span
      ><span id="line-292"
      ></span
      ><span id="local-6989586621681926353"
      ><span id="local-6989586621681926354"
	><span id="local-6989586621681926355"
	  ><span id="local-6989586621681926356"
	    ><span id="local-6989586621681926357"
	      ><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
		  ><span class="hs-identifier hs-type"
		    >normalizeTypeM</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-293"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Normalize.Internal.html#MonadNormalizeType"
		  ><span class="hs-identifier hs-type"
		    >MonadNormalizeType</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926353"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926354"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-294"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Type"
		  ><span class="hs-identifier hs-type"
		    >Type</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926353"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926355"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-295"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		  ><span class="hs-identifier hs-type"
		    >TypeCheckT</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926353"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926356"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926357"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926354"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Normalized"
		  ><span class="hs-identifier hs-type"
		    >Normalized</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Type"
		  ><span class="hs-identifier hs-type"
		    >Type</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926353"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926355"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-296"
      ></span
      ><span id="normalizeTypeM"
      ><span class="annot"
	><span class="annottext"
	  >normalizeTypeM :: forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	  ><span class="hs-identifier hs-var hs-var"
	    >normalizeTypeM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926900"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681926900"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NormalizeTypeT
  (ReaderT (TypeCheckEnv uni fun cfg) m)
  TyName
  uni
  ann
  (Normalized (Type TyName uni ann))
-&gt; ReaderT
     (TypeCheckEnv uni fun cfg) m (Normalized (Type TyName uni ann))
forall (m :: * -&gt; *) tyname (uni :: * -&gt; *) ann a.
NormalizeTypeT m tyname uni ann a -&gt; m a
</span
	><a href="PlutusCore.Normalize.Internal.html#runNormalizeTypeT"
	><span class="hs-identifier hs-var"
	  >Norm.runNormalizeTypeT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NormalizeTypeT
   (ReaderT (TypeCheckEnv uni fun cfg) m)
   TyName
   uni
   ann
   (Normalized (Type TyName uni ann))
 -&gt; ReaderT
      (TypeCheckEnv uni fun cfg) m (Normalized (Type TyName uni ann)))
-&gt; NormalizeTypeT
     (ReaderT (TypeCheckEnv uni fun cfg) m)
     TyName
     uni
     ann
     (Normalized (Type TyName uni ann))
-&gt; ReaderT
     (TypeCheckEnv uni fun cfg) m (Normalized (Type TyName uni ann))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
-&gt; NormalizeTypeT
     (ReaderT (TypeCheckEnv uni fun cfg) m)
     TyName
     uni
     ann
     (Normalized (Type TyName uni ann))
forall tyname (uni :: * -&gt; *) (m :: * -&gt; *) ann.
(HasUnique tyname TypeUnique, MonadNormalizeType uni m) =&gt;
Type tyname uni ann
-&gt; NormalizeTypeT
     m tyname uni ann (Normalized (Type tyname uni ann))
</span
	><a href="PlutusCore.Normalize.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >Norm.normalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681926900"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-297"
      ></span
      ><span
      >
</span
      ><span id="line-298"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Substitute a type for a variable in a type and normalize the result.</span
	></span
      ><span
      >
</span
      ><span id="line-299"
      ></span
      ><span id="local-6989586621681926374"
      ><span id="local-6989586621681926375"
	><span id="local-6989586621681926376"
	  ><span id="local-6989586621681926377"
	    ><span class="annot"
	      ><a href="PlutusCore.TypeCheck.Internal.html#substNormalizeTypeM"
		><span class="hs-identifier hs-type"
		  >substNormalizeTypeM</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-300"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Normalize.Internal.html#MonadNormalizeType"
		><span class="hs-identifier hs-type"
		  >MonadNormalizeType</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926374"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926375"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-301"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Normalized"
		><span class="hs-identifier hs-type"
		  >Normalized</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Type"
		><span class="hs-identifier hs-type"
		  >Type</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Name.Unique.html#TyName"
		><span class="hs-identifier hs-type"
		  >TyName</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926374"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ @ty@</span
		></span
	      ><span
	      >
</span
	      ><span id="line-302"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Name.Unique.html#TyName"
		><span class="hs-identifier hs-type"
		  >TyName</span
		  ></a
		></span
	      ><span
	      >                           </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ @name@</span
		></span
	      ><span
	      >
</span
	      ><span id="line-303"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Type"
		><span class="hs-identifier hs-type"
		  >Type</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Name.Unique.html#TyName"
		><span class="hs-identifier hs-type"
		  >TyName</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926374"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >               </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ @body@</span
		></span
	      ><span
	      >
</span
	      ><span id="line-304"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		><span class="hs-identifier hs-type"
		  >TypeCheckT</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926374"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926376"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926377"
		><span class="hs-identifier hs-type"
		  >cfg</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926375"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Normalized"
		><span class="hs-identifier hs-type"
		  >Normalized</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Type"
		><span class="hs-identifier hs-type"
		  >Type</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Name.Unique.html#TyName"
		><span class="hs-identifier hs-type"
		  >TyName</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926374"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ><span class="hs-special"
	      >)</span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-305"
      ></span
      ><span id="substNormalizeTypeM"
      ><span class="annot"
	><span class="annottext"
	  >substNormalizeTypeM :: forall (uni :: * -&gt; *) (m :: * -&gt; *) fun cfg.
MonadNormalizeType uni m =&gt;
Normalized (Type TyName uni ())
-&gt; TyName
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#substNormalizeTypeM"
	  ><span class="hs-identifier hs-var hs-var"
	    >substNormalizeTypeM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926910"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681926910"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926911"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621681926911"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926912"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ()
</span
	  ><a href="#local-6989586621681926912"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NormalizeTypeT
  (ReaderT (TypeCheckEnv uni fun cfg) m)
  TyName
  uni
  ()
  (Normalized (Type TyName uni ()))
-&gt; ReaderT
     (TypeCheckEnv uni fun cfg) m (Normalized (Type TyName uni ()))
forall (m :: * -&gt; *) tyname (uni :: * -&gt; *) ann a.
NormalizeTypeT m tyname uni ann a -&gt; m a
</span
	><a href="PlutusCore.Normalize.Internal.html#runNormalizeTypeT"
	><span class="hs-identifier hs-var"
	  >Norm.runNormalizeTypeT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NormalizeTypeT
   (ReaderT (TypeCheckEnv uni fun cfg) m)
   TyName
   uni
   ()
   (Normalized (Type TyName uni ()))
 -&gt; ReaderT
      (TypeCheckEnv uni fun cfg) m (Normalized (Type TyName uni ())))
-&gt; NormalizeTypeT
     (ReaderT (TypeCheckEnv uni fun cfg) m)
     TyName
     uni
     ()
     (Normalized (Type TyName uni ()))
-&gt; ReaderT
     (TypeCheckEnv uni fun cfg) m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; TyName
-&gt; Type TyName uni ()
-&gt; NormalizeTypeT
     (ReaderT (TypeCheckEnv uni fun cfg) m)
     TyName
     uni
     ()
     (Normalized (Type TyName uni ()))
forall tyname (uni :: * -&gt; *) (m :: * -&gt; *) ann.
(HasUnique tyname TypeUnique, MonadNormalizeType uni m) =&gt;
Normalized (Type tyname uni ann)
-&gt; tyname
-&gt; Type tyname uni ann
-&gt; NormalizeTypeT
     m tyname uni ann (Normalized (Type tyname uni ann))
</span
	><a href="PlutusCore.Normalize.Internal.html#substNormalizeTypeM"
	><span class="hs-identifier hs-var"
	  >Norm.substNormalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681926910"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681926911"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681926912"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-306"
      ></span
      ><span
      >
</span
      ><span id="line-307"
      ></span
      ><span class="hs-comment"
      >-- ###################</span
      ><span
      >
</span
      ><span id="line-308"
      ></span
      ><span class="hs-comment"
      >-- ## Kind checking ##</span
      ><span
      >
</span
      ><span id="line-309"
      ></span
      ><span class="hs-comment"
      >-- ###################</span
      ><span
      >
</span
      ><span id="line-310"
      ></span
      ><span
      >
</span
      ><span id="line-311"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Infer the kind of a type.</span
	></span
      ><span
      >
</span
      ><span id="line-312"
      ></span
      ><span id="local-6989586621681926386"
      ><span id="local-6989586621681926387"
	><span id="local-6989586621681926388"
	  ><span id="local-6989586621681926389"
	    ><span id="local-6989586621681926390"
	      ><span id="local-6989586621681926391"
		><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
		    ><span class="hs-identifier hs-type"
		      >inferKindM</span
		      ></a
		    ></span
		  ><span
		  >
</span
		  ><span id="line-313"
		  ></span
		  ><span
		  >    </span
		  ><span class="hs-glyph"
		  >::</span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#MonadKindCheck"
		    ><span class="hs-identifier hs-type"
		      >MonadKindCheck</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Error.html#TypeError"
		    ><span class="hs-identifier hs-type"
		      >TypeError</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926386"
		    ><span class="hs-identifier hs-type"
		      >term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926387"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926388"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926389"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926386"
		    ><span class="hs-identifier hs-type"
		      >term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926387"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926388"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926389"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926390"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >,</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#HasKindCheckConfig"
		    ><span class="hs-identifier hs-type"
		      >HasKindCheckConfig</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926391"
		    ><span class="hs-identifier hs-type"
		      >cfg</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  >
</span
		  ><span id="line-314"
		  ></span
		  ><span
		  >    </span
		  ><span class="hs-glyph"
		  >=&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.Core.Type.html#Type"
		    ><span class="hs-identifier hs-type"
		      >Type</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.Name.Unique.html#TyName"
		    ><span class="hs-identifier hs-type"
		      >TyName</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926387"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926389"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		    ><span class="hs-identifier hs-type"
		      >TypeCheckT</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926387"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926388"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926391"
		    ><span class="hs-identifier hs-type"
		      >cfg</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926390"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Core.Type.html#Kind"
		    ><span class="hs-identifier hs-type"
		      >Kind</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="hs-special"
		  >)</span
		  ><span class="hs-special"
		  >)</span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-315"
      ></span
      ><span
      >
</span
      ><span id="line-316"
      ></span
      ><span class="hs-comment"
      >-- b :: k</span
      ><span
      >
</span
      ><span id="line-317"
      ></span
      ><span class="hs-comment"
      >-- ------------------------</span
      ><span
      >
</span
      ><span id="line-318"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- con b :: k]</span
      ><span
      >
</span
      ><span id="line-319"
      ></span
      ><span id="inferKindM"
      ><span class="annot"
	><span class="annottext"
	  >inferKindM :: forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	  ><span class="hs-identifier hs-var hs-var"
	    >inferKindM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyBuiltin"
	><span class="hs-identifier hs-type"
	  >TyBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="Universe.Core.html#SomeTypeIn"
	><span class="hs-identifier hs-type"
	  >SomeTypeIn</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681926982"
      ><span class="annot"
	><span class="annottext"
	  >uni (Esc a)
</span
	  ><a href="#local-6989586621681926982"
	  ><span class="hs-identifier hs-var"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-320"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ()))
-&gt; Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>uni (Esc a) -&gt; Kind ()
forall {k} (uni :: * -&gt; *) (a :: k).
ToKind uni =&gt;
uni (Esc a) -&gt; Kind ()
</span
	><a href="PlutusCore.Builtin.KnownKind.html#kindOfBuiltinType"
	><span class="hs-identifier hs-var"
	  >kindOfBuiltinType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>uni (Esc a)
</span
	><a href="#local-6989586621681926982"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-321"
      ></span
      ><span
      >
</span
      ><span id="line-322"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- v :: k]</span
      ><span
      >
</span
      ><span id="line-323"
      ></span
      ><span class="hs-comment"
      >-- ------------------------</span
      ><span
      >
</span
      ><span id="line-324"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- var v :: k]</span
      ><span
      >
</span
      ><span id="line-325"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyVar"
	><span class="hs-identifier hs-type"
	  >TyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681926985"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681926985"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926986"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621681926986"
	  ><span class="hs-identifier hs-var"
	    >v</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >           </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-326"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; TyName -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann -&gt; TyName -&gt; TypeCheckT uni fun cfg m (Kind ())
</span
	><a href="PlutusCore.TypeCheck.Internal.html#lookupTyVarM"
	><span class="hs-identifier hs-var"
	  >lookupTyVarM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681926985"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681926986"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-327"
      ></span
      ><span
      >
</span
      ><span id="line-328"
      ></span
      ><span class="hs-comment"
      >-- [infer| G , n :: dom !- body :: cod]</span
      ><span
      >
</span
      ><span id="line-329"
      ></span
      ><span class="hs-comment"
      >-- -------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-330"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- (\(n :: dom) -&gt; body) :: dom -&gt; cod]</span
      ><span
      >
</span
      ><span id="line-331"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyLam"
	><span class="hs-identifier hs-type"
	  >TyLam</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926988"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621681926988"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926989"
      ><span class="annot"
	><span class="annottext"
	  >Kind ann
</span
	  ><a href="#local-6989586621681926989"
	  ><span class="hs-identifier hs-var"
	    >dom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926990"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681926990"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-332"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681926992"
      ><span class="annot"
	><span class="annottext"
	  >dom_ :: Kind ()
</span
	  ><a href="#local-6989586621681926992"
	  ><span class="hs-identifier hs-var hs-var"
	    >dom_</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ann -&gt; Kind ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ann
</span
	><a href="#local-6989586621681926989"
	><span class="hs-identifier hs-var"
	  >dom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-333"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
-&gt; Kind ()
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall (uni :: * -&gt; *) fun cfg (m :: * -&gt; *) a.
TyName
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m a
-&gt; TypeCheckT uni fun cfg m a
</span
	><a href="PlutusCore.TypeCheck.Internal.html#withTyVar"
	><span class="hs-identifier hs-var"
	  >withTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681926988"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681926992"
	><span class="hs-identifier hs-var"
	  >dom_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
 -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ()))
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind () -&gt; Kind () -&gt; Kind ()
forall ann. ann -&gt; Kind ann -&gt; Kind ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#KindArrow"
	><span class="hs-identifier hs-var"
	  >KindArrow</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681926992"
	><span class="hs-identifier hs-var"
	  >dom_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; Kind ())
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681926990"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-334"
      ></span
      ><span
      >
</span
      ><span id="line-335"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- fun :: dom -&gt; cod]    [check| G !- arg :: dom]</span
      ><span
      >
</span
      ><span id="line-336"
      ></span
      ><span class="hs-comment"
      >-- -----------------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-337"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- fun arg :: cod]</span
      ><span
      >
</span
      ><span id="line-338"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyApp"
	><span class="hs-identifier hs-type"
	  >TyApp</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681926996"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681926996"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926997"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681926997"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681926998"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681926998"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >     </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-339"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681926999"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681926999"
	  ><span class="hs-identifier hs-var"
	    >funKind</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681926997"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-340"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681926999"
	><span class="hs-identifier hs-var"
	  >funKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-341"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#KindArrow"
	><span class="hs-identifier hs-type"
	  >KindArrow</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927000"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681927000"
	  ><span class="hs-identifier hs-var"
	    >dom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927001"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681927001"
	  ><span class="hs-identifier hs-var"
	    >cod</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-342"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	><span class="hs-identifier hs-var"
	  >checkKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681926996"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681926998"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927000"
	><span class="hs-identifier hs-var"
	  >dom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-343"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927001"
	><span class="hs-identifier hs-var"
	  >cod</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-344"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-345"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681927007"
      ><span class="annot"
	><span class="annottext"
	  >expectedKindArrow :: ExpectedShapeOr a
</span
	  ><a href="#local-6989586621681927007"
	  ><span class="hs-identifier hs-var hs-var"
	    >expectedKindArrow</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; [Text] -&gt; ExpectedShapeOr a
forall a. Text -&gt; [Text] -&gt; ExpectedShapeOr a
</span
	><a href="PlutusCore.Error.html#ExpectedShape"
	><span class="hs-identifier hs-var"
	  >ExpectedShape</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;fun k l&quot;</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;k&quot;</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;l&quot;</span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-346"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError term uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a.
TypeError term uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeError term uni fun ann
 -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ()))
-&gt; TypeError term uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ()
-&gt; ExpectedShapeOr (Kind ())
-&gt; Kind ()
-&gt; TypeError term uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann
-&gt; Type TyName uni ()
-&gt; ExpectedShapeOr (Kind ())
-&gt; Kind ()
-&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#KindMismatch"
	><span class="hs-identifier hs-var"
	  >KindMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681926996"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Type TyName uni ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681926997"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExpectedShapeOr (Kind ())
forall {a}. ExpectedShapeOr a
</span
	><a href="#local-6989586621681927007"
	><span class="hs-identifier hs-var"
	  >expectedKindArrow</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681926999"
	><span class="hs-identifier hs-var"
	  >funKind</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-347"
      ></span
      ><span
      >
</span
      ><span id="line-348"
      ></span
      ><span class="hs-comment"
      >-- [check| G !- a :: *]    [check| G !- b :: *]</span
      ><span
      >
</span
      ><span id="line-349"
      ></span
      ><span class="hs-comment"
      >-- --------------------------------------------</span
      ><span
      >
</span
      ><span id="line-350"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- a -&gt; b :: *]</span
      ><span
      >
</span
      ><span id="line-351"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-type"
	  >TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927010"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927010"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927011"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927011"
	  ><span class="hs-identifier hs-var"
	    >dom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927012"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927012"
	  ><span class="hs-identifier hs-var"
	    >cod</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >     </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-352"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	><span class="hs-identifier hs-var"
	  >checkKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927010"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927011"
	><span class="hs-identifier hs-var"
	  >dom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; TypeCheckT uni fun cfg m ())
-&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-353"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	><span class="hs-identifier hs-var"
	  >checkKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927010"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927012"
	><span class="hs-identifier hs-var"
	  >cod</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; TypeCheckT uni fun cfg m ())
-&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-354"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ()))
-&gt; Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-355"
      ></span
      ><span
      >
</span
      ><span id="line-356"
      ></span
      ><span class="hs-comment"
      >-- [check| G , n :: k !- body :: *]</span
      ><span
      >
</span
      ><span id="line-357"
      ></span
      ><span class="hs-comment"
      >-- ---------------------------------------</span
      ><span
      >
</span
      ><span id="line-358"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- (all (n :: k). body) :: *]</span
      ><span
      >
</span
      ><span id="line-359"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyForall"
	><span class="hs-identifier hs-type"
	  >TyForall</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927014"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927014"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927015"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621681927015"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927016"
      ><span class="annot"
	><span class="annottext"
	  >Kind ann
</span
	  ><a href="#local-6989586621681927016"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927017"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927017"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-360"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m ()
-&gt; TypeCheckT uni fun cfg m ()
forall (uni :: * -&gt; *) fun cfg (m :: * -&gt; *) a.
TyName
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m a
-&gt; TypeCheckT uni fun cfg m a
</span
	><a href="PlutusCore.TypeCheck.Internal.html#withTyVar"
	><span class="hs-identifier hs-var"
	  >withTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681927015"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Kind ann -&gt; Kind ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ann
</span
	><a href="#local-6989586621681927016"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeCheckT uni fun cfg m () -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m () -&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	><span class="hs-identifier hs-var"
	  >checkKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927014"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927017"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-361"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ()))
-&gt; Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-362"
      ></span
      ><span
      >
</span
      ><span id="line-363"
      ></span
      ><span
      >
</span
      ><span id="line-364"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- arg :: k]    [check| G !- pat :: (k -&gt; *) -&gt; k -&gt; *]</span
      ><span
      >
</span
      ><span id="line-365"
      ></span
      ><span class="hs-comment"
      >-- -----------------------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-366"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- ifix pat arg :: *]</span
      ><span
      >
</span
      ><span id="line-367"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyIFix"
	><span class="hs-identifier hs-type"
	  >TyIFix</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927019"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927019"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927020"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927020"
	  ><span class="hs-identifier hs-var"
	    >pat</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927021"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927021"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-368"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927022"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681927022"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927021"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-369"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	><span class="hs-identifier hs-var"
	  >checkKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927019"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927020"
	><span class="hs-identifier hs-var"
	  >pat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; TypeCheckT uni fun cfg m ())
-&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; Kind ()
</span
	><a href="PlutusCore.Core.Type.html#toPatFuncKind"
	><span class="hs-identifier hs-var"
	  >toPatFuncKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927022"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-370"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ()))
-&gt; Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-371"
      ></span
      ><span
      >
</span
      ><span id="line-372"
      ></span
      ><span class="hs-comment"
      >-- s_0 = [p_0_0 ... p_0_m]   [check| G !- p_0_0 :: *] ... [check| G !- p_0_m :: *]</span
      ><span
      >
</span
      ><span id="line-373"
      ></span
      ><span class="hs-comment"
      >-- ...</span
      ><span
      >
</span
      ><span id="line-374"
      ></span
      ><span class="hs-comment"
      >-- s_n = [p_n_0 ... p_n_m]   [check| G !- p_n_0 :: *] ... [check| G !- p_n_m :: *]</span
      ><span
      >
</span
      ><span id="line-375"
      ></span
      ><span class="hs-comment"
      >-- -------------------------------------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-376"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- sop s_0 ... s_n :: *]</span
      ><span
      >
</span
      ><span id="line-377"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TySOP"
	><span class="hs-identifier hs-type"
	  >TySOP</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927024"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927024"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927025"
      ><span class="annot"
	><span class="annottext"
	  >[[Type TyName uni ann]]
</span
	  ><a href="#local-6989586621681927025"
	  ><span class="hs-identifier hs-var"
	    >tyls</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >        </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-378"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[[Type TyName uni ann]]
-&gt; ([Type TyName uni ann] -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#for_"
	><span class="hs-identifier hs-var"
	  >for_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[[Type TyName uni ann]]
</span
	><a href="#local-6989586621681927025"
	><span class="hs-identifier hs-var"
	  >tyls</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(([Type TyName uni ann] -&gt; TypeCheckT uni fun cfg m ())
 -&gt; TypeCheckT uni fun cfg m ())
-&gt; ([Type TyName uni ann] -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621681927026"
      ><span class="annot"
	><span class="annottext"
	  >[Type TyName uni ann]
</span
	  ><a href="#local-6989586621681927026"
	  ><span class="hs-identifier hs-var"
	    >tyl</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type TyName uni ann]
-&gt; (Type TyName uni ann -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#for_"
	><span class="hs-identifier hs-var"
	  >for_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type TyName uni ann]
</span
	><a href="#local-6989586621681927026"
	><span class="hs-identifier hs-var"
	  >tyl</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Type TyName uni ann -&gt; TypeCheckT uni fun cfg m ())
 -&gt; TypeCheckT uni fun cfg m ())
-&gt; (Type TyName uni ann -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621681927027"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927027"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	><span class="hs-identifier hs-var"
	  >checkKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927024"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927027"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-379"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ()))
-&gt; Kind () -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-380"
      ></span
      ><span
      >
</span
      ><span id="line-381"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Check a 'Type' against a 'Kind'.</span
	></span
      ><span
      >
</span
      ><span id="line-382"
      ></span
      ><span id="local-6989586621681926416"
      ><span id="local-6989586621681926417"
	><span id="local-6989586621681926418"
	  ><span id="local-6989586621681926419"
	    ><span id="local-6989586621681926420"
	      ><span id="local-6989586621681926421"
		><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
		    ><span class="hs-identifier hs-type"
		      >checkKindM</span
		      ></a
		    ></span
		  ><span
		  >
</span
		  ><span id="line-383"
		  ></span
		  ><span
		  >    </span
		  ><span class="hs-glyph"
		  >::</span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#MonadKindCheck"
		    ><span class="hs-identifier hs-type"
		      >MonadKindCheck</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusCore.Error.html#TypeError"
		    ><span class="hs-identifier hs-type"
		      >TypeError</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926416"
		    ><span class="hs-identifier hs-type"
		      >term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926417"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926418"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926419"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926416"
		    ><span class="hs-identifier hs-type"
		      >term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926417"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926418"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926419"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926420"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >,</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#HasKindCheckConfig"
		    ><span class="hs-identifier hs-type"
		      >HasKindCheckConfig</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926421"
		    ><span class="hs-identifier hs-type"
		      >cfg</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  >
</span
		  ><span id="line-384"
		  ></span
		  ><span
		  >    </span
		  ><span class="hs-glyph"
		  >=&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926419"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.Core.Type.html#Type"
		    ><span class="hs-identifier hs-type"
		      >Type</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.Name.Unique.html#TyName"
		    ><span class="hs-identifier hs-type"
		      >TyName</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926417"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926419"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.Core.Type.html#Kind"
		    ><span class="hs-identifier hs-type"
		      >Kind</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="hs-special"
		  >)</span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		    ><span class="hs-identifier hs-type"
		      >TypeCheckT</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926417"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926418"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926421"
		    ><span class="hs-identifier hs-type"
		      >cfg</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621681926420"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="hs-special"
		  >)</span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-385"
      ></span
      ><span
      >
</span
      ><span id="line-386"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- ty : tyK]    tyK ~ k</span
      ><span
      >
</span
      ><span id="line-387"
      ></span
      ><span class="hs-comment"
      >-- ---------------------------------</span
      ><span
      >
</span
      ><span id="line-388"
      ></span
      ><span class="hs-comment"
      >-- [check| G !- ty : k]</span
      ><span
      >
</span
      ><span id="line-389"
      ></span
      ><span id="checkKindM"
      ><span class="annot"
	><span class="annottext"
	  >checkKindM :: forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	  ><span class="hs-identifier hs-var hs-var"
	    >checkKindM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927046"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927046"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927047"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927047"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927048"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681927048"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-390"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927049"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681927049"
	  ><span class="hs-identifier hs-var"
	    >tyK</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927047"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-391"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; TypeCheckT uni fun cfg m () -&gt; TypeCheckT uni fun cfg m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#when"
	><span class="hs-identifier hs-var"
	  >when</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927049"
	><span class="hs-identifier hs-var"
	  >tyK</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; Kind () -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%2F%3D"
	><span class="hs-operator hs-var"
	  >/=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927048"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeCheckT uni fun cfg m () -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m () -&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError term uni fun ann -&gt; TypeCheckT uni fun cfg m ()
forall a.
TypeError term uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ()
-&gt; ExpectedShapeOr (Kind ())
-&gt; Kind ()
-&gt; TypeError term uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann
-&gt; Type TyName uni ()
-&gt; ExpectedShapeOr (Kind ())
-&gt; Kind ()
-&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#KindMismatch"
	><span class="hs-identifier hs-var"
	  >KindMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927046"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Type TyName uni ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927047"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; ExpectedShapeOr (Kind ())
forall a. a -&gt; ExpectedShapeOr a
</span
	><a href="PlutusCore.Error.html#ExpectedExact"
	><span class="hs-identifier hs-var"
	  >ExpectedExact</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927048"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927049"
	><span class="hs-identifier hs-var"
	  >tyK</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-392"
      ></span
      ><span
      >
</span
      ><span id="line-393"
      ></span
      ><span class="hs-comment"
      >-- ###################</span
      ><span
      >
</span
      ><span id="line-394"
      ></span
      ><span class="hs-comment"
      >-- ## Type checking ##</span
      ><span
      >
</span
      ><span id="line-395"
      ></span
      ><span class="hs-comment"
      >-- ###################</span
      ><span
      >
</span
      ><span id="line-396"
      ></span
      ><span
      >
</span
      ><span id="line-397"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | @unfoldIFixOf pat arg k = NORM (vPat (\(a :: k) -&gt; ifix vPat a) arg)@</span
	></span
      ><span
      >
</span
      ><span id="line-398"
      ></span
      ><span id="local-6989586621681926437"
      ><span id="local-6989586621681926438"
	><span id="local-6989586621681926439"
	  ><span id="local-6989586621681926440"
	    ><span class="annot"
	      ><a href="PlutusCore.TypeCheck.Internal.html#unfoldIFixOf"
		><span class="hs-identifier hs-type"
		  >unfoldIFixOf</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-399"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Normalize.Internal.html#MonadNormalizeType"
		><span class="hs-identifier hs-type"
		  >MonadNormalizeType</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926437"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926438"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-400"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Normalized"
		><span class="hs-identifier hs-type"
		  >Normalized</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Type"
		><span class="hs-identifier hs-type"
		  >Type</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Name.Unique.html#TyName"
		><span class="hs-identifier hs-type"
		  >TyName</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926437"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ @vPat@</span
		></span
	      ><span
	      >
</span
	      ><span id="line-401"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Normalized"
		><span class="hs-identifier hs-type"
		  >Normalized</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Type"
		><span class="hs-identifier hs-type"
		  >Type</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Name.Unique.html#TyName"
		><span class="hs-identifier hs-type"
		  >TyName</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926437"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ @vArg@</span
		></span
	      ><span
	      >
</span
	      ><span id="line-402"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Kind"
		><span class="hs-identifier hs-type"
		  >Kind</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >                          </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ @k@</span
		></span
	      ><span
	      >
</span
	      ><span id="line-403"
	      ></span
	      ><span
	      >    </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		><span class="hs-identifier hs-type"
		  >TypeCheckT</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926437"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926439"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926440"
		><span class="hs-identifier hs-type"
		  >cfg</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926438"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Normalized"
		><span class="hs-identifier hs-type"
		  >Normalized</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusCore.Core.Type.html#Type"
		><span class="hs-identifier hs-type"
		  >Type</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusCore.Name.Unique.html#TyName"
		><span class="hs-identifier hs-type"
		  >TyName</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621681926437"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="hs-special"
	      >)</span
	      ><span class="hs-special"
	      >)</span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-404"
      ></span
      ><span id="unfoldIFixOf"
      ><span class="annot"
	><span class="annottext"
	  >unfoldIFixOf :: forall (uni :: * -&gt; *) (m :: * -&gt; *) fun cfg.
MonadNormalizeType uni m =&gt;
Normalized (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#unfoldIFixOf"
	  ><span class="hs-identifier hs-var hs-var"
	    >unfoldIFixOf</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927069"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927069"
	  ><span class="hs-identifier hs-var"
	    >pat</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927070"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927070"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927071"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681927071"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-405"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681927072"
      ><span class="annot"
	><span class="annottext"
	  >vPat :: Type TyName uni ()
</span
	  ><a href="#local-6989586621681927072"
	  ><span class="hs-identifier hs-var hs-var"
	    >vPat</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927069"
	><span class="hs-identifier hs-var"
	  >pat</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-406"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681927074"
      ><span class="annot"
	><span class="annottext"
	  >vArg :: Type TyName uni ()
</span
	  ><a href="#local-6989586621681927074"
	  ><span class="hs-identifier hs-var hs-var"
	    >vArg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927070"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-407"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927075"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621681927075"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Quote TyName -&gt; ReaderT (TypeCheckEnv uni fun cfg) m TyName
forall a. Quote a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (m :: * -&gt; *) a. MonadQuote m =&gt; Quote a -&gt; m a
</span
	><a href="PlutusCore.Quote.html#liftQuote"
	><span class="hs-identifier hs-var"
	  >liftQuote</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Quote TyName -&gt; ReaderT (TypeCheckEnv uni fun cfg) m TyName)
-&gt; Quote TyName -&gt; ReaderT (TypeCheckEnv uni fun cfg) m TyName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Quote TyName
forall (m :: * -&gt; *). MonadQuote m =&gt; Text -&gt; m TyName
</span
	><a href="PlutusCore.Quote.html#freshTyName"
	><span class="hs-identifier hs-var"
	  >freshTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;a&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-408"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- We need to rename @vPat@, otherwise it would be used twice below, which would break global</span
      ><span
      >
</span
      ><span id="line-409"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- uniqueness. Alternatively, we could use 'normalizeType' instead of 'normalizeTypeM' as the</span
      ><span
      >
</span
      ><span id="line-410"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- former performs renaming before doing normalization, but renaming the entire type implicitly</span
      ><span
      >
</span
      ><span id="line-411"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- would be less efficient than renaming a subpart of the type explicitly.</span
      ><span
      >
</span
      ><span id="line-412"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-413"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Note however that breaking global uniqueness here most likely would not result in buggy</span
      ><span
      >
</span
      ><span id="line-414"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- behavior, see https://github.com/IntersectMBO/plutus/pull/2219#issuecomment-672815272</span
      ><span
      >
</span
      ><span id="line-415"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- But breaking global uniqueness is a bad idea regardless.</span
      ><span
      >
</span
      ><span id="line-416"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927076"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ()
</span
	  ><a href="#local-6989586621681927076"
	  ><span class="hs-identifier hs-var"
	    >vPat'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Type TyName uni ())
forall a (m :: * -&gt; *). (Rename a, MonadQuote m) =&gt; a -&gt; m a
forall (m :: * -&gt; *).
MonadQuote m =&gt;
Type TyName uni () -&gt; m (Type TyName uni ())
</span
	><a href="PlutusCore.Rename.html#rename"
	><span class="hs-identifier hs-var"
	  >rename</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927072"
	><span class="hs-identifier hs-var"
	  >vPat</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-417"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >normalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ()
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-418"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni () -&gt; [Type TyName uni ()] -&gt; Type TyName uni ()
forall tyname (uni :: * -&gt; *).
Type tyname uni () -&gt; [Type tyname uni ()] -&gt; Type tyname uni ()
</span
	><a href="PlutusCore.MkPlc.html#mkIterTyAppNoAnn"
	><span class="hs-identifier hs-var"
	  >mkIterTyAppNoAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927076"
	><span class="hs-identifier hs-var"
	  >vPat'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-419"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >[</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; TyName -&gt; Kind () -&gt; Type TyName uni () -&gt; Type TyName uni ()
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span
	><a href="PlutusCore.Core.Type.html#TyLam"
	><span class="hs-identifier hs-var"
	  >TyLam</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681927075"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927071"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni () -&gt; Type TyName uni ())
-&gt; (Type TyName uni () -&gt; Type TyName uni ())
-&gt; Type TyName uni ()
-&gt; Type TyName uni ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
-&gt; Type TyName uni () -&gt; Type TyName uni () -&gt; Type TyName uni ()
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="PlutusCore.Core.Type.html#TyIFix"
	><span class="hs-identifier hs-var"
	  >TyIFix</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927072"
	><span class="hs-identifier hs-var"
	  >vPat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni () -&gt; Type TyName uni ())
-&gt; Type TyName uni () -&gt; Type TyName uni ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; TyName -&gt; Type TyName uni ()
forall tyname (uni :: * -&gt; *) ann.
ann -&gt; tyname -&gt; Type tyname uni ann
</span
	><a href="PlutusCore.Core.Type.html#TyVar"
	><span class="hs-identifier hs-var"
	  >TyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681927075"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-420"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927074"
	><span class="hs-identifier hs-var"
	  >vArg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-421"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-422"
      ></span
      ><span
      >
</span
      ><span id="line-423"
      ></span
      ><span class="hs-comment"
      >-- See Note [Global uniqueness in the type checker].</span
      ><span
      >
</span
      ><span id="line-424"
      ></span
      ><span class="hs-comment"
      >-- See Note [Typing rules].</span
      ><span
      >
</span
      ><span id="line-425"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Synthesize the type of a term, returning a normalized type.</span
	></span
      ><span
      >
</span
      ><span id="line-426"
      ></span
      ><span id="local-6989586621681926459"
      ><span id="local-6989586621681926460"
	><span id="local-6989586621681926461"
	  ><span id="local-6989586621681926462"
	    ><span id="local-6989586621681926464"
	      ><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
		  ><span class="hs-identifier hs-type"
		    >inferTypeM</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-427"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#MonadTypeCheckPlc"
		  ><span class="hs-identifier hs-type"
		    >MonadTypeCheckPlc</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926459"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926460"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926461"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926462"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#HasTypeCheckConfig"
		  ><span class="hs-identifier hs-type"
		    >HasTypeCheckConfig</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926464"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926459"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926460"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-428"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#Name"
		  ><span class="hs-identifier hs-type"
		    >Name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926459"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926460"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926461"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		  ><span class="hs-identifier hs-type"
		    >TypeCheckT</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926459"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926460"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926464"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926462"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Normalized"
		  ><span class="hs-identifier hs-type"
		    >Normalized</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Type"
		  ><span class="hs-identifier hs-type"
		    >Type</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926459"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		><span class="hs-special"
		>)</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-429"
      ></span
      ><span
      >
</span
      ><span id="line-430"
      ></span
      ><span class="hs-comment"
      >-- c : vTy</span
      ><span
      >
</span
      ><span id="line-431"
      ></span
      ><span class="hs-comment"
      >-- -------------------------</span
      ><span
      >
</span
      ><span id="line-432"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- con c : vTy]</span
      ><span
      >
</span
      ><span id="line-433"
      ></span
      ><span id="inferTypeM"
      ><span class="annot"
	><span class="annottext"
	  >inferTypeM :: forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	  ><span class="hs-identifier hs-var hs-var"
	    >inferTypeM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Constant"
	><span class="hs-identifier hs-type"
	  >Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/some-1.0.6/docs/src/Data.Some.Newtype.html#Some"
	><span class="hs-identifier hs-type"
	  >Some</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="Universe.Core.html#ValueOf"
	><span class="hs-identifier hs-type"
	  >ValueOf</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927236"
      ><span class="annot"
	><span class="annottext"
	  >uni (Esc a)
</span
	  ><a href="#local-6989586621681927236"
	  ><span class="hs-identifier hs-var"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-434"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Normalization of built-in types].</span
      ><span
      >
</span
      ><span id="line-435"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >normalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ()
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; uni (Esc a) -&gt; Type TyName uni ()
forall k (a :: k) (uni :: * -&gt; *) tyname ann.
ann -&gt; uni (Esc a) -&gt; Type tyname uni ann
</span
	><a href="PlutusCore.MkPlc.html#mkTyBuiltinOf"
	><span class="hs-identifier hs-var"
	  >mkTyBuiltinOf</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>uni (Esc a)
</span
	><a href="#local-6989586621681927236"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-436"
      ></span
      ><span
      >
</span
      ><span id="line-437"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- bi : vTy]</span
      ><span
      >
</span
      ><span id="line-438"
      ></span
      ><span class="hs-comment"
      >-- ------------------------------</span
      ><span
      >
</span
      ><span id="line-439"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- builtin bi : vTy]</span
      ><span
      >
</span
      ><span id="line-440"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Builtin"
	><span class="hs-identifier hs-type"
	  >Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927237"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927237"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927238"
      ><span class="annot"
	><span class="annottext"
	  >fun
</span
	  ><a href="#local-6989586621681927238"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-441"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; fun
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheck (TypeError term uni fun ann) term uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
ann
-&gt; fun
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#lookupBuiltinM"
	><span class="hs-identifier hs-var"
	  >lookupBuiltinM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927237"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621681927238"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-442"
      ></span
      ><span
      >
</span
      ><span id="line-443"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- v : ty]    ty ~&gt; vTy</span
      ><span
      >
</span
      ><span id="line-444"
      ></span
      ><span class="hs-comment"
      >-- ---------------------------------</span
      ><span
      >
</span
      ><span id="line-445"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- var v : vTy]</span
      ><span
      >
</span
      ><span id="line-446"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Var"
	><span class="hs-identifier hs-type"
	  >Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927240"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927240"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927241"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621681927241"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-447"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Name
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheck (TypeError term uni fun ann) term uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
ann
-&gt; Name
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#lookupVarM"
	><span class="hs-identifier hs-var"
	  >lookupVarM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927240"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621681927241"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-448"
      ></span
      ><span
      >
</span
      ><span id="line-449"
      ></span
      ><span class="hs-comment"
      >-- [check| G !- dom :: *]    dom ~&gt; vDom    [infer| G , n : dom !- body : vCod]</span
      ><span
      >
</span
      ><span id="line-450"
      ></span
      ><span class="hs-comment"
      >-- ----------------------------------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-451"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- lam n dom body : vDom -&gt; vCod]</span
      ><span
      >
</span
      ><span id="line-452"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-type"
	  >LamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927243"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927243"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927244"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621681927244"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927245"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927245"
	  ><span class="hs-identifier hs-var"
	    >dom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927246"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927246"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-453"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	><span class="hs-identifier hs-var"
	  >checkKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927243"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927245"
	><span class="hs-identifier hs-var"
	  >dom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; TypeCheckT uni fun cfg m ())
-&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-454"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927247"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927247"
	  ><span class="hs-identifier hs-var"
	    >vDom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >normalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ()
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Type TyName uni ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927245"
	><span class="hs-identifier hs-var"
	  >dom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-455"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>()
-&gt; Type TyName uni () -&gt; Type TyName uni () -&gt; Type TyName uni ()
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-var"
	  >TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni () -&gt; Type TyName uni () -&gt; Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
-&gt; ReaderT
     (TypeCheckEnv uni fun cfg)
     m
     (Normalized (Type TyName uni () -&gt; Type TyName uni ()))
forall (f1 :: * -&gt; *) (f2 :: * -&gt; *) a b.
(Functor f1, Functor f2) =&gt;
(a -&gt; b) -&gt; f1 (f2 a) -&gt; f1 (f2 b)
</span
	><a href="PlutusPrelude.html#%3C%3C%24%3E%3E"
	><span class="hs-operator hs-var"
	  >&lt;&lt;$&gt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927247"
	><span class="hs-identifier hs-var"
	  >vDom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT
  (TypeCheckEnv uni fun cfg)
  m
  (Normalized (Type TyName uni () -&gt; Type TyName uni ()))
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (f1 :: * -&gt; *) (f2 :: * -&gt; *) a b.
(Applicative f1, Applicative f2) =&gt;
f1 (f2 (a -&gt; b)) -&gt; f1 (f2 a) -&gt; f1 (f2 b)
</span
	><a href="PlutusPrelude.html#%3C%3C%2A%3E%3E"
	><span class="hs-operator hs-var"
	  >&lt;&lt;*&gt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) fun cfg (m :: * -&gt; *) a.
Name
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m a
-&gt; TypeCheckT uni fun cfg m a
</span
	><a href="PlutusCore.TypeCheck.Internal.html#withVar"
	><span class="hs-identifier hs-var"
	  >withVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621681927244"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927247"
	><span class="hs-identifier hs-var"
	  >vDom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927246"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-456"
      ></span
      ><span
      >
</span
      ><span id="line-457"
      ></span
      ><span class="hs-comment"
      >-- [infer| G , n :: nK !- body : vBodyTy]</span
      ><span
      >
</span
      ><span id="line-458"
      ></span
      ><span class="hs-comment"
      >-- ---------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-459"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- abs n nK body : all (n :: nK) vBodyTy]</span
      ><span
      >
</span
      ><span id="line-460"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyAbs"
	><span class="hs-identifier hs-type"
	  >TyAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927249"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621681927249"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927250"
      ><span class="annot"
	><span class="annottext"
	  >Kind ann
</span
	  ><a href="#local-6989586621681927250"
	  ><span class="hs-identifier hs-var"
	    >nK</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927251"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927251"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-461"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681927253"
      ><span class="annot"
	><span class="annottext"
	  >nK_ :: Kind ()
</span
	  ><a href="#local-6989586621681927253"
	  ><span class="hs-identifier hs-var hs-var"
	    >nK_</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ann -&gt; Kind ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ann
</span
	><a href="#local-6989586621681927250"
	><span class="hs-identifier hs-var"
	  >nK</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-462"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; TyName -&gt; Kind () -&gt; Type TyName uni () -&gt; Type TyName uni ()
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span
	><a href="PlutusCore.Core.Type.html#TyForall"
	><span class="hs-identifier hs-var"
	  >TyForall</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681927249"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927253"
	><span class="hs-identifier hs-var"
	  >nK_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni () -&gt; Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (f1 :: * -&gt; *) (f2 :: * -&gt; *) a b.
(Functor f1, Functor f2) =&gt;
(a -&gt; b) -&gt; f1 (f2 a) -&gt; f1 (f2 b)
</span
	><a href="PlutusPrelude.html#%3C%3C%24%3E%3E"
	><span class="hs-operator hs-var"
	  >&lt;&lt;$&gt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) fun cfg (m :: * -&gt; *) a.
TyName
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m a
-&gt; TypeCheckT uni fun cfg m a
</span
	><a href="PlutusCore.TypeCheck.Internal.html#withTyVar"
	><span class="hs-identifier hs-var"
	  >withTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681927249"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927253"
	><span class="hs-identifier hs-var"
	  >nK_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927251"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-463"
      ></span
      ><span
      >
</span
      ><span id="line-464"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- fun : vDom -&gt; vCod]    [check| G !- arg : vDom]</span
      ><span
      >
</span
      ><span id="line-465"
      ></span
      ><span class="hs-comment"
      >-- ------------------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-466"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- fun arg : vCod]</span
      ><span
      >
</span
      ><span id="line-467"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Apply"
	><span class="hs-identifier hs-type"
	  >Apply</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927255"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927255"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927256"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927256"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927257"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927257"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-468"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927258"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927258"
	  ><span class="hs-identifier hs-var"
	    >vFunTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927256"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-469"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927258"
	><span class="hs-identifier hs-var"
	  >vFunTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-470"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-type"
	  >TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927259"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ()
</span
	  ><a href="#local-6989586621681927259"
	  ><span class="hs-identifier hs-var"
	    >vDom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927260"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ()
</span
	  ><a href="#local-6989586621681927260"
	  ><span class="hs-identifier hs-var"
	    >vCod</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-471"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- Subparts of a normalized type, so normalized.</span
      ><span
      >
</span
      ><span id="line-472"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkTypeM"
	><span class="hs-identifier hs-var"
	  >checkTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927255"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927257"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Normalized (Type TyName uni ()) -&gt; TypeCheckT uni fun cfg m ())
-&gt; Normalized (Type TyName uni ()) -&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni () -&gt; Normalized (Type TyName uni ())
forall a. a -&gt; Normalized a
</span
	><a href="PlutusCore.Core.Type.html#Normalized"
	><span class="hs-identifier hs-var"
	  >Normalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927259"
	><span class="hs-identifier hs-var"
	  >vDom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-473"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Normalized (Type TyName uni ())
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni () -&gt; Normalized (Type TyName uni ())
forall a. a -&gt; Normalized a
</span
	><a href="PlutusCore.Core.Type.html#Normalized"
	><span class="hs-identifier hs-var"
	  >Normalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927260"
	><span class="hs-identifier hs-var"
	  >vCod</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-474"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-475"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681927265"
      ><span class="annot"
	><span class="annottext"
	  >expectedTyFun :: ExpectedShapeOr a
</span
	  ><a href="#local-6989586621681927265"
	  ><span class="hs-identifier hs-var hs-var"
	    >expectedTyFun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; [Text] -&gt; ExpectedShapeOr a
forall a. Text -&gt; [Text] -&gt; ExpectedShapeOr a
</span
	><a href="PlutusCore.Error.html#ExpectedShape"
	><span class="hs-identifier hs-var"
	  >ExpectedShape</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;fun k l&quot;</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;k&quot;</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;l&quot;</span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-476"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a.
TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ()
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann
-&gt; term
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#TypeMismatch"
	><span class="hs-identifier hs-var"
	  >TypeMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927255"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; Term TyName Name uni fun ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927256"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExpectedShapeOr (Type TyName uni ())
forall {a}. ExpectedShapeOr a
</span
	><a href="#local-6989586621681927265"
	><span class="hs-identifier hs-var"
	  >expectedTyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927258"
	><span class="hs-identifier hs-var"
	  >vFunTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-477"
      ></span
      ><span
      >
</span
      ><span id="line-478"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- body : all (n :: nK) vCod]    [check| G !- ty :: tyK]    ty ~&gt; vTy</span
      ><span
      >
</span
      ><span id="line-479"
      ></span
      ><span class="hs-comment"
      >-- -------------------------------------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-480"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- body {ty} : NORM ([vTy / n] vCod)]</span
      ><span
      >
</span
      ><span id="line-481"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyInst"
	><span class="hs-identifier hs-type"
	  >TyInst</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927268"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927268"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927269"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927269"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927270"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927270"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-482"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927271"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927271"
	  ><span class="hs-identifier hs-var"
	    >vBodyTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927269"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-483"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927271"
	><span class="hs-identifier hs-var"
	  >vBodyTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-484"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyForall"
	><span class="hs-identifier hs-type"
	  >TyForall</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927272"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621681927272"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927273"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681927273"
	  ><span class="hs-identifier hs-var"
	    >nK</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927274"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ()
</span
	  ><a href="#local-6989586621681927274"
	  ><span class="hs-identifier hs-var"
	    >vCod</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-485"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	><span class="hs-identifier hs-var"
	  >checkKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927268"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927270"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927273"
	><span class="hs-identifier hs-var"
	  >nK</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-486"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621681927275"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927275"
	  ><span class="hs-identifier hs-var"
	    >vTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >normalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ()
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Type TyName uni ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927270"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-487"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; TyName
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) fun cfg.
MonadNormalizeType uni m =&gt;
Normalized (Type TyName uni ())
-&gt; TyName
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#substNormalizeTypeM"
	><span class="hs-identifier hs-var"
	  >substNormalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927275"
	><span class="hs-identifier hs-var"
	  >vTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621681927272"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927274"
	><span class="hs-identifier hs-var"
	  >vCod</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-488"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-489"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681927280"
      ><span class="annot"
	><span class="annottext"
	  >expectedTyForall :: ExpectedShapeOr a
</span
	  ><a href="#local-6989586621681927280"
	  ><span class="hs-identifier hs-var hs-var"
	    >expectedTyForall</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; [Text] -&gt; ExpectedShapeOr a
forall a. Text -&gt; [Text] -&gt; ExpectedShapeOr a
</span
	><a href="PlutusCore.Error.html#ExpectedShape"
	><span class="hs-identifier hs-var"
	  >ExpectedShape</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;all a kind body&quot;</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;a&quot;</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;kind&quot;</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;body&quot;</span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-490"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a.
TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ()
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann
-&gt; term
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#TypeMismatch"
	><span class="hs-identifier hs-var"
	  >TypeMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927268"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; Term TyName Name uni fun ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927269"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExpectedShapeOr (Type TyName uni ())
forall {a}. ExpectedShapeOr a
</span
	><a href="#local-6989586621681927280"
	><span class="hs-identifier hs-var"
	  >expectedTyForall</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927271"
	><span class="hs-identifier hs-var"
	  >vBodyTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-491"
      ></span
      ><span
      >
</span
      ><span id="line-492"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- arg :: k]    [check| G !- pat :: (k -&gt; *) -&gt; k -&gt; *]    pat ~&gt; vPat    arg ~&gt; vArg</span
      ><span
      >
</span
      ><span id="line-493"
      ></span
      ><span class="hs-comment"
      >-- [check| G !- term : NORM (vPat (\(a :: k) -&gt; ifix vPat a) vArg)]</span
      ><span
      >
</span
      ><span id="line-494"
      ></span
      ><span class="hs-comment"
      >-- -----------------------------------------------------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-495"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- iwrap pat arg term : ifix vPat vArg]</span
      ><span
      >
</span
      ><span id="line-496"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#IWrap"
	><span class="hs-identifier hs-type"
	  >IWrap</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927282"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927282"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927283"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927283"
	  ><span class="hs-identifier hs-var"
	    >pat</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927284"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927284"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927285"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927285"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-497"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927286"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681927286"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927284"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-498"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	><span class="hs-identifier hs-var"
	  >checkKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927282"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927283"
	><span class="hs-identifier hs-var"
	  >pat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; TypeCheckT uni fun cfg m ())
-&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; Kind ()
</span
	><a href="PlutusCore.Core.Type.html#toPatFuncKind"
	><span class="hs-identifier hs-var"
	  >toPatFuncKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927286"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-499"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927287"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927287"
	  ><span class="hs-identifier hs-var"
	    >vPat</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >normalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ()
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Type TyName uni ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927283"
	><span class="hs-identifier hs-var"
	  >pat</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-500"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927288"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927288"
	  ><span class="hs-identifier hs-var"
	    >vArg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >normalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ()
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Type TyName uni ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927284"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-501"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkTypeM"
	><span class="hs-identifier hs-var"
	  >checkTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927282"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927285"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Normalized (Type TyName uni ()) -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
-&gt; TypeCheckT uni fun cfg m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3D%3C%3C"
	><span class="hs-operator hs-var"
	  >=&lt;&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) fun cfg.
MonadNormalizeType uni m =&gt;
Normalized (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#unfoldIFixOf"
	><span class="hs-identifier hs-var"
	  >unfoldIFixOf</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927287"
	><span class="hs-identifier hs-var"
	  >vPat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927288"
	><span class="hs-identifier hs-var"
	  >vArg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927286"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-502"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Normalized (Type TyName uni ())
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
-&gt; Type TyName uni () -&gt; Type TyName uni () -&gt; Type TyName uni ()
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="PlutusCore.Core.Type.html#TyIFix"
	><span class="hs-identifier hs-var"
	  >TyIFix</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni () -&gt; Type TyName uni () -&gt; Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; Normalized (Type TyName uni () -&gt; Type TyName uni ())
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927287"
	><span class="hs-identifier hs-var"
	  >vPat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni () -&gt; Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
forall a b. Normalized (a -&gt; b) -&gt; Normalized a -&gt; Normalized b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927288"
	><span class="hs-identifier hs-var"
	  >vArg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-503"
      ></span
      ><span
      >
</span
      ><span id="line-504"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- term : ifix vPat vArg]    [infer| G !- vArg :: k]</span
      ><span
      >
</span
      ><span id="line-505"
      ></span
      ><span class="hs-comment"
      >-- -----------------------------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-506"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- unwrap term : NORM (vPat (\(a :: k) -&gt; ifix vPat a) vArg)]</span
      ><span
      >
</span
      ><span id="line-507"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Unwrap"
	><span class="hs-identifier hs-type"
	  >Unwrap</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927291"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927291"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927292"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927292"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-508"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927293"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927293"
	  ><span class="hs-identifier hs-var"
	    >vTermTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927292"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-509"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927293"
	><span class="hs-identifier hs-var"
	  >vTermTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-510"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TyIFix"
	><span class="hs-identifier hs-type"
	  >TyIFix</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927294"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ()
</span
	  ><a href="#local-6989586621681927294"
	  ><span class="hs-identifier hs-var"
	    >vPat</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927295"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ()
</span
	  ><a href="#local-6989586621681927295"
	  ><span class="hs-identifier hs-var"
	    >vArg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-511"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621681927296"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621681927296"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferKindM"
	><span class="hs-identifier hs-var"
	  >inferKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ()))
-&gt; Type TyName uni ann -&gt; TypeCheckT uni fun cfg m (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927291"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Type TyName uni () -&gt; Type TyName uni ann
forall a b. a -&gt; Type TyName uni b -&gt; Type TyName uni a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%24"
	><span class="hs-operator hs-var"
	  >&lt;$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927295"
	><span class="hs-identifier hs-var"
	  >vArg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-512"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- Subparts of a normalized type, so normalized.</span
      ><span
      >
</span
      ><span id="line-513"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) fun cfg.
MonadNormalizeType uni m =&gt;
Normalized (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; Kind ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#unfoldIFixOf"
	><span class="hs-identifier hs-var"
	  >unfoldIFixOf</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni () -&gt; Normalized (Type TyName uni ())
forall a. a -&gt; Normalized a
</span
	><a href="PlutusCore.Core.Type.html#Normalized"
	><span class="hs-identifier hs-var"
	  >Normalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927294"
	><span class="hs-identifier hs-var"
	  >vPat</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni () -&gt; Normalized (Type TyName uni ())
forall a. a -&gt; Normalized a
</span
	><a href="PlutusCore.Core.Type.html#Normalized"
	><span class="hs-identifier hs-var"
	  >Normalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927295"
	><span class="hs-identifier hs-var"
	  >vArg</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621681927296"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-514"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >                  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-515"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681927301"
      ><span class="annot"
	><span class="annottext"
	  >expectedTyIFix :: ExpectedShapeOr a
</span
	  ><a href="#local-6989586621681927301"
	  ><span class="hs-identifier hs-var hs-var"
	    >expectedTyIFix</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; [Text] -&gt; ExpectedShapeOr a
forall a. Text -&gt; [Text] -&gt; ExpectedShapeOr a
</span
	><a href="PlutusCore.Error.html#ExpectedShape"
	><span class="hs-identifier hs-var"
	  >ExpectedShape</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;ifix pat arg&quot;</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;pat&quot;</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;arg&quot;</span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-516"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a.
TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ()
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann
-&gt; term
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#TypeMismatch"
	><span class="hs-identifier hs-var"
	  >TypeMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927291"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; Term TyName Name uni fun ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927292"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExpectedShapeOr (Type TyName uni ())
forall {a}. ExpectedShapeOr a
</span
	><a href="#local-6989586621681927301"
	><span class="hs-identifier hs-var"
	  >expectedTyIFix</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927293"
	><span class="hs-identifier hs-var"
	  >vTermTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-517"
      ></span
      ><span
      >
</span
      ><span id="line-518"
      ></span
      ><span class="hs-comment"
      >-- [check| G !- ty :: *]    ty ~&gt; vTy</span
      ><span
      >
</span
      ><span id="line-519"
      ></span
      ><span class="hs-comment"
      >-- ----------------------------------</span
      ><span
      >
</span
      ><span id="line-520"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- error ty : vTy]</span
      ><span
      >
</span
      ><span id="line-521"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Error"
	><span class="hs-identifier hs-type"
	  >Error</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927303"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927303"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927304"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927304"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-522"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall term (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadKindCheck (TypeError term uni fun ann) term uni fun ann m,
 HasKindCheckConfig cfg) =&gt;
ann
-&gt; Type TyName uni ann -&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkKindM"
	><span class="hs-identifier hs-var"
	  >checkKindM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927303"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927304"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; TypeCheckT uni fun cfg m ())
-&gt; Kind () -&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-523"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >normalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ()
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Type TyName uni ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927304"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-524"
      ></span
      ><span
      >
</span
      ><span id="line-525"
      ></span
      ><span class="hs-comment"
      >-- resTy ~&gt; vResTy     vResTy = sop s_0 ... s_i ... s_n</span
      ><span
      >
</span
      ><span id="line-526"
      ></span
      ><span class="hs-comment"
      >-- s_i = [p_i_0 ... p_i_m]   [check| G !- t_0 : p_i_0] ... [check| G !- t_m : p_i_m]</span
      ><span
      >
</span
      ><span id="line-527"
      ></span
      ><span class="hs-comment"
      >-- ---------------------------------------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-528"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- constr resTy i t_0 ... t_m : vResTy]</span
      ><span
      >
</span
      ><span id="line-529"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927305"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927305"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Constr"
	><span class="hs-identifier hs-type"
	  >Constr</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927307"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927307"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927308"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927308"
	  ><span class="hs-identifier hs-var"
	    >resTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927309"
      ><span class="annot"
	><span class="annottext"
	  >Word64
</span
	  ><a href="#local-6989586621681927309"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927310"
      ><span class="annot"
	><span class="annottext"
	  >[Term TyName Name uni fun ann]
</span
	  ><a href="#local-6989586621681927310"
	  ><span class="hs-identifier hs-var"
	    >args</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-530"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927311"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927311"
	  ><span class="hs-identifier hs-var"
	    >vResTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >normalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ()
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Type TyName uni ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927308"
	><span class="hs-identifier hs-var"
	  >resTy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-531"
      ></span
      ><span
      >
</span
      ><span id="line-532"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- We don't know exactly what to expect, we only know what the i-th sum should look like, so we</span
      ><span
      >
</span
      ><span id="line-533"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- assert that we should have some types in the sum up to there, and then the known product type.</span
      ><span
      >
</span
      ><span id="line-534"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- 'toInteger' is necessary, because @i@ is a @Word64@ and therefore @i - 1@ would be</span
      ><span
      >
</span
      ><span id="line-535"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- @maxBound :: Word64@ for @i = 0@ if we didn't have 'toInteger'.</span
      ><span
      >
</span
      ><span id="line-536"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681927325"
      ><span class="annot"
	><span class="annottext"
	  >prodPrefix :: [Text]
</span
	  ><a href="#local-6989586621681927325"
	  ><span class="hs-identifier hs-var hs-var"
	    >prodPrefix</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Integer -&gt; Text) -&gt; [Integer] -&gt; [Text]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621681927326"
      ><span class="annot"
	><span class="annottext"
	  >Integer
</span
	  ><a href="#local-6989586621681927326"
	  ><span class="hs-identifier hs-var"
	    >j</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;prod_&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >Text.pack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Integer
</span
	><a href="#local-6989586621681927326"
	><span class="hs-identifier hs-var"
	  >j</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Integer
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >..</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64 -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Real.html#toInteger"
	><span class="hs-identifier hs-var"
	  >toInteger</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><a href="#local-6989586621681927309"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#-"
	><span class="hs-glyph hs-var"
	  >-</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Integer
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-537"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681927340"
      ><span class="annot"
	><span class="annottext"
	  >fields :: [Text]
</span
	  ><a href="#local-6989586621681927340"
	  ><span class="hs-identifier hs-var hs-var"
	    >fields</span
	    ></a
	  ></span
	></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; Text) -&gt; [Int] -&gt; [Text]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621681927341"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621681927341"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;field_&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >Text.pack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621681927341"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >..</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
</span
	><a href="#local-6989586621681927310"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#-"
	><span class="hs-glyph hs-var"
	  >-</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-538"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681927348"
      ><span class="annot"
	><span class="annottext"
	  >prod_i :: Text
</span
	  ><a href="#local-6989586621681927348"
	  ><span class="hs-identifier hs-var hs-var"
	    >prod_i</span
	    ></a
	  ></span
	></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;[&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; [Text] -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.html#intercalate"
	><span class="hs-identifier hs-var"
	  >Text.intercalate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot; &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Text]
</span
	><a href="#local-6989586621681927340"
	><span class="hs-identifier hs-var"
	  >fields</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;]&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-539"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681927360"
      ><span class="annot"
	><span class="annottext"
	  >shape :: Text
</span
	  ><a href="#local-6989586621681927360"
	  ><span class="hs-identifier hs-var hs-var"
	    >shape</span
	    ></a
	  ></span
	></span
      ><span
      >       </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;sop &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Text) -&gt; [Text] -&gt; Text
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#foldMap"
	><span class="hs-identifier hs-var"
	  >foldMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot; &quot;</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Text]
</span
	><a href="#local-6989586621681927325"
	><span class="hs-identifier hs-var"
	  >prodPrefix</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621681927348"
	><span class="hs-identifier hs-var"
	  >prod_i</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot; ...&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-540"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681927362"
      ><span class="annot"
	><span class="annottext"
	  >vars :: [Text]
</span
	  ><a href="#local-6989586621681927362"
	  ><span class="hs-identifier hs-var hs-var"
	    >vars</span
	    ></a
	  ></span
	></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Text]
</span
	><a href="#local-6989586621681927325"
	><span class="hs-identifier hs-var"
	  >prodPrefix</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Text] -&gt; [Text] -&gt; [Text]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Text]
</span
	><a href="#local-6989586621681927340"
	><span class="hs-identifier hs-var"
	  >fields</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-541"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681927363"
      ><span class="annot"
	><span class="annottext"
	  >expectedSop :: ExpectedShapeOr a
</span
	  ><a href="#local-6989586621681927363"
	  ><span class="hs-identifier hs-var hs-var"
	    >expectedSop</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; [Text] -&gt; ExpectedShapeOr a
forall a. Text -&gt; [Text] -&gt; ExpectedShapeOr a
</span
	><a href="PlutusCore.Error.html#ExpectedShape"
	><span class="hs-identifier hs-var"
	  >ExpectedShape</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621681927360"
	><span class="hs-identifier hs-var"
	  >shape</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Text]
</span
	><a href="#local-6989586621681927362"
	><span class="hs-identifier hs-var"
	  >vars</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-542"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927311"
	><span class="hs-identifier hs-var"
	  >vResTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-543"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TySOP"
	><span class="hs-identifier hs-type"
	  >TySOP</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927364"
      ><span class="annot"
	><span class="annottext"
	  >[[Type TyName uni ()]]
</span
	  ><a href="#local-6989586621681927364"
	  ><span class="hs-identifier hs-var"
	    >vSTys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[[Type TyName uni ()]]
</span
	><a href="#local-6989586621681927364"
	><span class="hs-identifier hs-var"
	  >vSTys</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[[Type TyName uni ()]]
-&gt; Getting
     (First [Type TyName uni ()])
     [[Type TyName uni ()]]
     [Type TyName uni ()]
-&gt; Maybe [Type TyName uni ()]
forall s a. s -&gt; Getting (First a) s a -&gt; Maybe a
</span
	><span class="hs-operator hs-var"
	>^?</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64 -&gt; Traversal' [[Type TyName uni ()]] [Type TyName uni ()]
forall a. Word64 -&gt; Traversal' [a] a
</span
	><a href="Data.List.Extras.html#wix"
	><span class="hs-identifier hs-var"
	  >wix</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><a href="#local-6989586621681927309"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-544"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927365"
      ><span class="annot"
	><span class="annottext"
	  >[Type TyName uni ()]
</span
	  ><a href="#local-6989586621681927365"
	  ><span class="hs-identifier hs-var"
	    >pTys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
-&gt; [Type TyName uni ()]
-&gt; Maybe [(Term TyName Name uni fun ann, Type TyName uni ())]
forall a b. [a] -&gt; [b] -&gt; Maybe [(a, b)]
</span
	><a href="PlutusPrelude.html#zipExact"
	><span class="hs-identifier hs-var"
	  >zipExact</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
</span
	><a href="#local-6989586621681927310"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type TyName uni ()]
</span
	><a href="#local-6989586621681927365"
	><span class="hs-identifier hs-var"
	  >pTys</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-545"
      ></span
      ><span
      >                </span
      ><span class="hs-comment"
      >-- pTy is a sub-part of a normalized type, so normalized</span
      ><span
      >
</span
      ><span id="line-546"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927366"
      ><span class="annot"
	><span class="annottext"
	  >[(Term TyName Name uni fun ann, Type TyName uni ())]
</span
	  ><a href="#local-6989586621681927366"
	  ><span class="hs-identifier hs-var"
	    >ps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Term TyName Name uni fun ann, Type TyName uni ())]
-&gt; ((Term TyName Name uni fun ann, Type TyName uni ())
    -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#for_"
	><span class="hs-identifier hs-var"
	  >for_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Term TyName Name uni fun ann, Type TyName uni ())]
</span
	><a href="#local-6989586621681927366"
	><span class="hs-identifier hs-var"
	  >ps</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(((Term TyName Name uni fun ann, Type TyName uni ())
  -&gt; TypeCheckT uni fun cfg m ())
 -&gt; TypeCheckT uni fun cfg m ())
-&gt; ((Term TyName Name uni fun ann, Type TyName uni ())
    -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621681927367"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927367"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621681927368"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ()
</span
	  ><a href="#local-6989586621681927368"
	  ><span class="hs-identifier hs-var"
	    >pTy</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkTypeM"
	><span class="hs-identifier hs-var"
	  >checkTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927307"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927367"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni () -&gt; Normalized (Type TyName uni ())
forall a. a -&gt; Normalized a
</span
	><a href="PlutusCore.Core.Type.html#Normalized"
	><span class="hs-identifier hs-var"
	  >Normalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927368"
	><span class="hs-identifier hs-var"
	  >pTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-547"
      ></span
      ><span
      >                </span
      ><span class="hs-comment"
      >-- the number of args does not match the number of types in the i'th SOP</span
      ><span
      >
</span
      ><span id="line-548"
      ></span
      ><span
      >                </span
      ><span class="hs-comment"
      >-- alternative</span
      ><span
      >
</span
      ><span id="line-549"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe [(Term TyName Name uni fun ann, Type TyName uni ())]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m ()
forall a.
TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ()
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann
-&gt; term
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#TypeMismatch"
	><span class="hs-identifier hs-var"
	  >TypeMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927307"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; Term TyName Name uni fun ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927305"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExpectedShapeOr (Type TyName uni ())
forall {a}. ExpectedShapeOr a
</span
	><a href="#local-6989586621681927363"
	><span class="hs-identifier hs-var"
	  >expectedSop</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927311"
	><span class="hs-identifier hs-var"
	  >vResTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-550"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- result type does not contain an i'th sum alternative</span
      ><span
      >
</span
      ><span id="line-551"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe [Type TyName uni ()]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m ()
forall a.
TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ()
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann
-&gt; term
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#TypeMismatch"
	><span class="hs-identifier hs-var"
	  >TypeMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927307"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; Term TyName Name uni fun ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927305"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExpectedShapeOr (Type TyName uni ())
forall {a}. ExpectedShapeOr a
</span
	><a href="#local-6989586621681927363"
	><span class="hs-identifier hs-var"
	  >expectedSop</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927311"
	><span class="hs-identifier hs-var"
	  >vResTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-552"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- result type is not a SOP type</span
      ><span
      >
</span
      ><span id="line-553"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m ()
forall a.
TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ()
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann
-&gt; term
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#TypeMismatch"
	><span class="hs-identifier hs-var"
	  >TypeMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927307"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; Term TyName Name uni fun ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927305"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExpectedShapeOr (Type TyName uni ())
forall {a}. ExpectedShapeOr a
</span
	><a href="#local-6989586621681927363"
	><span class="hs-identifier hs-var"
	  >expectedSop</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927311"
	><span class="hs-identifier hs-var"
	  >vResTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-554"
      ></span
      ><span
      >
</span
      ><span id="line-555"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927311"
	><span class="hs-identifier hs-var"
	  >vResTy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-556"
      ></span
      ><span
      >
</span
      ><span id="line-557"
      ></span
      ><span class="hs-comment"
      >-- resTy ~&gt; vResTy   [infer| G !- scrut : sop s_0 ... s_n]</span
      ><span
      >
</span
      ><span id="line-558"
      ></span
      ><span class="hs-comment"
      >-- s_0 = [p_0_0 ... p_0_m]   [check| G !- c_0 : p_0_0 -&gt; ... -&gt; p_0_m -&gt; vResTy]</span
      ><span
      >
</span
      ><span id="line-559"
      ></span
      ><span class="hs-comment"
      >-- ...</span
      ><span
      >
</span
      ><span id="line-560"
      ></span
      ><span class="hs-comment"
      >-- s_n = [p_n_0 ... p_n_m]   [check| G !- c_n : p_n_0 -&gt; ... -&gt; p_n_m -&gt; vResTy]</span
      ><span
      >
</span
      ><span id="line-561"
      ></span
      ><span class="hs-comment"
      >-- -----------------------------------------------------------------------------</span
      ><span
      >
</span
      ><span id="line-562"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- case resTy scrut c_0 ... c_n : vResTy]</span
      ><span
      >
</span
      ><span id="line-563"
      ></span
      ><span class="annot"
      ><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#Case"
	><span class="hs-identifier hs-type"
	  >Case</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927370"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927370"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927371"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621681927371"
	  ><span class="hs-identifier hs-var"
	    >resTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927372"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927372"
	  ><span class="hs-identifier hs-var"
	    >scrut</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927373"
      ><span class="annot"
	><span class="annottext"
	  >[Term TyName Name uni fun ann]
</span
	  ><a href="#local-6989586621681927373"
	  ><span class="hs-identifier hs-var"
	    >branches</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-564"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927374"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927374"
	  ><span class="hs-identifier hs-var"
	    >vResTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >normalizeTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ()
 -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Type TyName uni ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621681927371"
	><span class="hs-identifier hs-var"
	  >resTy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-565"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927375"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927375"
	  ><span class="hs-identifier hs-var"
	    >vScrutTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927372"
	><span class="hs-identifier hs-var"
	  >scrut</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-566"
      ></span
      ><span
      >
</span
      ><span id="line-567"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- We don't know exactly what to expect, we only know that it should</span
      ><span
      >
</span
      ><span id="line-568"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- be a SOP with the right number of sum alternatives when type of scrutinee is SOP</span
      ><span
      >
</span
      ><span id="line-569"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681927384"
      ><span class="annot"
	><span class="annottext"
	  >prods :: [Text]
</span
	  ><a href="#local-6989586621681927384"
	  ><span class="hs-identifier hs-var hs-var"
	    >prods</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; Text) -&gt; [Int] -&gt; [Text]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621681927385"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621681927385"
	  ><span class="hs-identifier hs-var"
	    >j</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;prod_&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >Text.pack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621681927385"
	><span class="hs-identifier hs-var"
	  >j</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >..</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
</span
	><a href="#local-6989586621681927373"
	><span class="hs-identifier hs-var"
	  >branches</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#-"
	><span class="hs-glyph hs-var"
	  >-</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-570"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681927388"
      ><span class="annot"
	><span class="annottext"
	  >expectedSop :: ExpectedShapeOr a
</span
	  ><a href="#local-6989586621681927388"
	  ><span class="hs-identifier hs-var hs-var"
	    >expectedSop</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; [Text] -&gt; ExpectedShapeOr a
forall a. Text -&gt; [Text] -&gt; ExpectedShapeOr a
</span
	><a href="PlutusCore.Error.html#ExpectedShape"
	><span class="hs-identifier hs-var"
	  >ExpectedShape</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; [Text] -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.html#intercalate"
	><span class="hs-identifier hs-var"
	  >Text.intercalate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot; &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Text] -&gt; Text) -&gt; [Text] -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;sop&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; [Text] -&gt; [Text]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Text]
</span
	><a href="#local-6989586621681927384"
	><span class="hs-identifier hs-var"
	  >prods</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Text]
</span
	><a href="#local-6989586621681927384"
	><span class="hs-identifier hs-var"
	  >prods</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-571"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927375"
	><span class="hs-identifier hs-var"
	  >vScrutTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-572"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="PlutusCore.Core.Type.html#TySOP"
	><span class="hs-identifier hs-type"
	  >TySOP</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927389"
      ><span class="annot"
	><span class="annottext"
	  >[[Type TyName uni ()]]
</span
	  ><a href="#local-6989586621681927389"
	  ><span class="hs-identifier hs-var"
	    >sTys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
-&gt; [[Type TyName uni ()]]
-&gt; Maybe [(Term TyName Name uni fun ann, [Type TyName uni ()])]
forall a b. [a] -&gt; [b] -&gt; Maybe [(a, b)]
</span
	><a href="PlutusPrelude.html#zipExact"
	><span class="hs-identifier hs-var"
	  >zipExact</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
</span
	><a href="#local-6989586621681927373"
	><span class="hs-identifier hs-var"
	  >branches</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[[Type TyName uni ()]]
</span
	><a href="#local-6989586621681927389"
	><span class="hs-identifier hs-var"
	  >sTys</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-573"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927390"
      ><span class="annot"
	><span class="annottext"
	  >[(Term TyName Name uni fun ann, [Type TyName uni ()])]
</span
	  ><a href="#local-6989586621681927390"
	  ><span class="hs-identifier hs-var"
	    >branchesAndArgTypes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Term TyName Name uni fun ann, [Type TyName uni ()])]
-&gt; ((Term TyName Name uni fun ann, [Type TyName uni ()])
    -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#for_"
	><span class="hs-identifier hs-var"
	  >for_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Term TyName Name uni fun ann, [Type TyName uni ()])]
</span
	><a href="#local-6989586621681927390"
	><span class="hs-identifier hs-var"
	  >branchesAndArgTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(((Term TyName Name uni fun ann, [Type TyName uni ()])
  -&gt; TypeCheckT uni fun cfg m ())
 -&gt; TypeCheckT uni fun cfg m ())
-&gt; ((Term TyName Name uni fun ann, [Type TyName uni ()])
    -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621681927391"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927391"
	  ><span class="hs-identifier hs-var"
	    >c</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621681927392"
      ><span class="annot"
	><span class="annottext"
	  >[Type TyName uni ()]
</span
	  ><a href="#local-6989586621681927392"
	  ><span class="hs-identifier hs-var"
	    >argTypes</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-574"
      ></span
      ><span
      >                </span
      ><span class="hs-comment"
      >-- made of sub-parts of a normalized type, so normalized</span
      ><span
      >
</span
      ><span id="line-575"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkTypeM"
	><span class="hs-identifier hs-var"
	  >checkTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927370"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927391"
	><span class="hs-identifier hs-var"
	  >c</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni () -&gt; Normalized (Type TyName uni ())
forall a. a -&gt; Normalized a
</span
	><a href="PlutusCore.Core.Type.html#Normalized"
	><span class="hs-identifier hs-var"
	  >Normalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni () -&gt; Normalized (Type TyName uni ()))
-&gt; Type TyName uni () -&gt; Normalized (Type TyName uni ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
-&gt; [Type TyName uni ()] -&gt; Type TyName uni () -&gt; Type TyName uni ()
forall ann tyname (uni :: * -&gt; *).
ann
-&gt; [Type tyname uni ann]
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="PlutusCore.MkPlc.html#mkIterTyFun"
	><span class="hs-identifier hs-var"
	  >mkIterTyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type TyName uni ()]
</span
	><a href="#local-6989586621681927392"
	><span class="hs-identifier hs-var"
	  >argTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927374"
	><span class="hs-identifier hs-var"
	  >vResTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-576"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- scrutinee does not have a SOP type with the right number of alternatives</span
      ><span
      >
</span
      ><span id="line-577"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- for the number of branches</span
      ><span
      >
</span
      ><span id="line-578"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe [(Term TyName Name uni fun ann, [Type TyName uni ()])]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m ()
forall a.
TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ()
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann
-&gt; term
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#TypeMismatch"
	><span class="hs-identifier hs-var"
	  >TypeMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927370"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; Term TyName Name uni fun ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927372"
	><span class="hs-identifier hs-var"
	  >scrut</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExpectedShapeOr (Type TyName uni ())
forall {a}. ExpectedShapeOr a
</span
	><a href="#local-6989586621681927388"
	><span class="hs-identifier hs-var"
	  >expectedSop</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927375"
	><span class="hs-identifier hs-var"
	  >vScrutTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-579"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621681927393"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ()
</span
	  ><a href="#local-6989586621681927393"
	  ><span class="hs-identifier hs-var"
	    >vTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; [Term TyName Name uni fun ann]
-&gt; Either
     Text [(Term TyName Name uni fun ann, [Type TyName uni ()])]
forall term ann.
(UniOf term ~ uni) =&gt;
Type TyName uni ann
-&gt; [term] -&gt; Either Text [(term, [Type TyName uni ann])]
forall (uni :: * -&gt; *) term ann.
(AnnotateCaseBuiltin uni, UniOf term ~ uni) =&gt;
Type TyName uni ann
-&gt; [term] -&gt; Either Text [(term, [Type TyName uni ann])]
</span
	><a href="PlutusCore.Builtin.Case.html#annotateCaseBuiltin"
	><span class="hs-identifier hs-var"
	  >annotateCaseBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
</span
	><a href="#local-6989586621681927393"
	><span class="hs-identifier hs-var"
	  >vTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
</span
	><a href="#local-6989586621681927373"
	><span class="hs-identifier hs-var"
	  >branches</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-580"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927395"
      ><span class="annot"
	><span class="annottext"
	  >[(Term TyName Name uni fun ann, [Type TyName uni ()])]
</span
	  ><a href="#local-6989586621681927395"
	  ><span class="hs-identifier hs-var"
	    >branchesAndArgTypes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Term TyName Name uni fun ann, [Type TyName uni ()])]
-&gt; ((Term TyName Name uni fun ann, [Type TyName uni ()])
    -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#for_"
	><span class="hs-identifier hs-var"
	  >for_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Term TyName Name uni fun ann, [Type TyName uni ()])]
</span
	><a href="#local-6989586621681927395"
	><span class="hs-identifier hs-var"
	  >branchesAndArgTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(((Term TyName Name uni fun ann, [Type TyName uni ()])
  -&gt; TypeCheckT uni fun cfg m ())
 -&gt; TypeCheckT uni fun cfg m ())
-&gt; ((Term TyName Name uni fun ann, [Type TyName uni ()])
    -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621681927396"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927396"
	  ><span class="hs-identifier hs-var"
	    >c</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621681927397"
      ><span class="annot"
	><span class="annottext"
	  >[Type TyName uni ()]
</span
	  ><a href="#local-6989586621681927397"
	  ><span class="hs-identifier hs-var"
	    >argTypes</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-581"
      ></span
      ><span
      >                </span
      ><span id="local-6989586621681927398"
      ><span class="annot"
	><span class="annottext"
	  >[Type TyName uni ()]
</span
	  ><a href="#local-6989586621681927398"
	  ><span class="hs-identifier hs-var"
	    >vArgTypes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ()
 -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Type TyName uni ()))
-&gt; [Type TyName uni ()]
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m [Type TyName uni ()]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Normalized (Type TyName uni ()) -&gt; Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Type TyName uni ())
forall a b.
(a -&gt; b)
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
 -&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Type TyName uni ()))
-&gt; (Type TyName uni ()
    -&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ())))
-&gt; Type TyName uni ()
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m (Type TyName uni ())
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) (m :: * -&gt; *) ann fun cfg.
MonadNormalizeType uni m =&gt;
Type TyName uni ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ann))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#normalizeTypeM"
	><span class="hs-identifier hs-var"
	  >normalizeTypeM</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type TyName uni ()]
</span
	><a href="#local-6989586621681927397"
	><span class="hs-identifier hs-var"
	  >argTypes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-582"
      ></span
      ><span
      >                </span
      ><span class="hs-comment"
      >-- made of sub-parts of a normalized type, so normalized</span
      ><span
      >
</span
      ><span id="line-583"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
</span
	><a href="PlutusCore.TypeCheck.Internal.html#checkTypeM"
	><span class="hs-identifier hs-var"
	  >checkTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927370"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927396"
	><span class="hs-identifier hs-var"
	  >c</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni () -&gt; Normalized (Type TyName uni ())
forall a. a -&gt; Normalized a
</span
	><a href="PlutusCore.Core.Type.html#Normalized"
	><span class="hs-identifier hs-var"
	  >Normalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni () -&gt; Normalized (Type TyName uni ()))
-&gt; Type TyName uni () -&gt; Normalized (Type TyName uni ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
-&gt; [Type TyName uni ()] -&gt; Type TyName uni () -&gt; Type TyName uni ()
forall ann tyname (uni :: * -&gt; *).
ann
-&gt; [Type tyname uni ann]
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="PlutusCore.MkPlc.html#mkIterTyFun"
	><span class="hs-identifier hs-var"
	  >mkIterTyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type TyName uni ()]
</span
	><a href="#local-6989586621681927398"
	><span class="hs-identifier hs-var"
	  >vArgTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927374"
	><span class="hs-identifier hs-var"
	  >vResTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-584"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621681927400"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621681927400"
	  ><span class="hs-identifier hs-var"
	    >err</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m ()
forall a.
TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeError (Term TyName Name uni fun ()) uni fun ann
 -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Text -&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann -&gt; Text -&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#UnsupportedCaseBuiltin"
	><span class="hs-identifier hs-var"
	  >UnsupportedCaseBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927370"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621681927400"
	><span class="hs-identifier hs-var"
	  >err</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-585"
      ></span
      ><span
      >
</span
      ><span id="line-586"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- If we got through all that, then every case type is correct, including that</span
      ><span
      >
</span
      ><span id="line-587"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- they all result in vResTy, so we can safely conclude that that is the type of the</span
      ><span
      >
</span
      ><span id="line-588"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- whole expression.</span
      ><span
      >
</span
      ><span id="line-589"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall a. a -&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927374"
	><span class="hs-identifier hs-var"
	  >vResTy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-590"
      ></span
      ><span
      >
</span
      ><span id="line-591"
      ></span
      ><span class="hs-comment"
      >-- See Note [Global uniqueness in the type checker].</span
      ><span
      >
</span
      ><span id="line-592"
      ></span
      ><span class="hs-comment"
      >-- See Note [Typing rules].</span
      ><span
      >
</span
      ><span id="line-593"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Check a 'Term' against a 'NormalizedType'.</span
	></span
      ><span
      >
</span
      ><span id="line-594"
      ></span
      ><span id="local-6989586621681926495"
      ><span id="local-6989586621681926496"
	><span id="local-6989586621681926497"
	  ><span id="local-6989586621681926498"
	    ><span id="local-6989586621681926499"
	      ><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#checkTypeM"
		  ><span class="hs-identifier hs-type"
		    >checkTypeM</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-595"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#MonadTypeCheckPlc"
		  ><span class="hs-identifier hs-type"
		    >MonadTypeCheckPlc</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926495"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926496"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926497"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926498"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#HasTypeCheckConfig"
		  ><span class="hs-identifier hs-type"
		    >HasTypeCheckConfig</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926499"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926495"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926496"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-596"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926497"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-597"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#Name"
		  ><span class="hs-identifier hs-type"
		    >Name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926495"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926496"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926497"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-598"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Normalized"
		  ><span class="hs-identifier hs-type"
		    >Normalized</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusCore.Core.Type.html#Type"
		  ><span class="hs-identifier hs-type"
		    >Type</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926495"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-599"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusCore.TypeCheck.Internal.html#TypeCheckT"
		  ><span class="hs-identifier hs-type"
		    >TypeCheckT</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926495"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926496"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926499"
		  ><span class="hs-identifier hs-type"
		    >cfg</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621681926498"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-600"
      ></span
      ><span
      >
</span
      ><span id="line-601"
      ></span
      ><span class="hs-comment"
      >-- [infer| G !- term : vTermTy]    vTermTy ~ vTy</span
      ><span
      >
</span
      ><span id="line-602"
      ></span
      ><span class="hs-comment"
      >-- ---------------------------------------------</span
      ><span
      >
</span
      ><span id="line-603"
      ></span
      ><span class="hs-comment"
      >-- [check| G !- term : vTy]</span
      ><span
      >
</span
      ><span id="line-604"
      ></span
      ><span id="checkTypeM"
      ><span class="annot"
	><span class="annottext"
	  >checkTypeM :: forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
ann
-&gt; Term TyName Name uni fun ann
-&gt; Normalized (Type TyName uni ())
-&gt; TypeCheckT uni fun cfg m ()
</span
	  ><a href="PlutusCore.TypeCheck.Internal.html#checkTypeM"
	  ><span class="hs-identifier hs-var hs-var"
	    >checkTypeM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927421"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621681927421"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927422"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621681927422"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621681927423"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927423"
	  ><span class="hs-identifier hs-var"
	    >vTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-605"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621681927424"
      ><span class="annot"
	><span class="annottext"
	  >Normalized (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927424"
	  ><span class="hs-identifier hs-var"
	    >vTermTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) cfg.
(MonadTypeCheckPlc uni fun ann m,
 HasTypeCheckConfig cfg uni fun) =&gt;
Term TyName Name uni fun ann
-&gt; TypeCheckT uni fun cfg m (Normalized (Type TyName uni ()))
</span
	><a href="PlutusCore.TypeCheck.Internal.html#inferTypeM"
	><span class="hs-identifier hs-var"
	  >inferTypeM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927422"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-606"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; TypeCheckT uni fun cfg m () -&gt; TypeCheckT uni fun cfg m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#when"
	><span class="hs-identifier hs-var"
	  >when</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927424"
	><span class="hs-identifier hs-var"
	  >vTermTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
-&gt; Normalized (Type TyName uni ()) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%2F%3D"
	><span class="hs-operator hs-var"
	  >/=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927423"
	><span class="hs-identifier hs-var"
	  >vTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeCheckT uni fun cfg m () -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeCheckT uni fun cfg m () -&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-607"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621681927425"
      ><span class="annot"
	><span class="annottext"
	  >expectedVTy :: ExpectedShapeOr (Type TyName uni ())
</span
	  ><a href="#local-6989586621681927425"
	  ><span class="hs-identifier hs-var hs-var"
	    >expectedVTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni () -&gt; ExpectedShapeOr (Type TyName uni ())
forall a. a -&gt; ExpectedShapeOr a
</span
	><a href="PlutusCore.Error.html#ExpectedExact"
	><span class="hs-identifier hs-var"
	  >ExpectedExact</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni () -&gt; ExpectedShapeOr (Type TyName uni ()))
-&gt; Type TyName uni () -&gt; ExpectedShapeOr (Type TyName uni ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ()) -&gt; Type TyName uni ()
forall a. Normalized a -&gt; a
</span
	><a href="PlutusCore.Core.Type.html#unNormalized"
	><span class="hs-identifier hs-var"
	  >unNormalized</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927423"
	><span class="hs-identifier hs-var"
	  >vTy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-608"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m ()
forall a.
TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; ReaderT (TypeCheckEnv uni fun cfg) m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeError (Term TyName Name uni fun ()) uni fun ann
 -&gt; TypeCheckT uni fun cfg m ())
-&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
-&gt; TypeCheckT uni fun cfg m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ()
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError (Term TyName Name uni fun ()) uni fun ann
forall term (uni :: * -&gt; *) fun ann.
ann
-&gt; term
-&gt; ExpectedShapeOr (Type TyName uni ())
-&gt; Normalized (Type TyName uni ())
-&gt; TypeError term uni fun ann
</span
	><a href="PlutusCore.Error.html#TypeMismatch"
	><span class="hs-identifier hs-var"
	  >TypeMismatch</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621681927421"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; Term TyName Name uni fun ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#void"
	><span class="hs-identifier hs-var"
	  >void</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621681927422"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExpectedShapeOr (Type TyName uni ())
</span
	><a href="#local-6989586621681927425"
	><span class="hs-identifier hs-var"
	  >expectedVTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Normalized (Type TyName uni ())
</span
	><a href="#local-6989586621681927424"
	><span class="hs-identifier hs-var"
	  >vTermTy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-609"
      ></span
      ></pre
    ></body
  ></html
>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-comment"
      >-- editorconfig-checker-disable-file</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ConstraintKinds       #-}</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleContexts      #-}</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE LambdaCase            #-}</span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE MultiWayIf            #-}</span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE OverloadedStrings     #-}</span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE PartialTypeSignatures #-}</span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TemplateHaskellQuotes #-}</span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TupleSections         #-}</span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeApplications      #-}</span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeFamilies          #-}</span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeOperators         #-}</span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ViewPatterns          #-}</span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span class="hs-pragma"
      >{-# OPTIONS_GHC -Wno-partial-type-signatures #-}</span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Functions for compiling GHC Core expressions into Plutus Core terms.</span
	></span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >PlutusTx.Compiler.Expr</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier"
	  >compileExpr</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#compileExprWithDefs"
	><span class="hs-identifier"
	  >compileExprWithDefs</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#compileDataConRef"
	><span class="hs-identifier"
	  >compileDataConRef</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html"
	><span class="hs-identifier"
	  >GHC.Builtin.Names</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.Prim.html"
	><span class="hs-identifier"
	  >GHC.Builtin.Types.Prim</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.ByteCode.Types.html"
	><span class="hs-identifier"
	  >GHC.ByteCode.Types</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html"
	><span class="hs-identifier"
	  >GHC.Core</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Class.html"
	><span class="hs-identifier"
	  >GHC.Core.Class</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Multiplicity.html"
	><span class="hs-identifier"
	  >GHC.Core.Multiplicity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html"
	><span class="hs-identifier"
	  >GHC.Core.TyCo.Rep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-bignum-1.3/docs/src/GHC.Num.Integer.html"
	><span class="hs-identifier"
	  >GHC.Num.Integer</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Plugins.html"
	><span class="hs-identifier"
	  >GHC.Plugins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Tc.Utils.TcType.html"
	><span class="hs-identifier"
	  >GHC.Tc.Utils.TcType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.CostCentre.html"
	><span class="hs-identifier"
	  >GHC.Types.CostCentre</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Make.html"
	><span class="hs-identifier"
	  >GHC.Types.Id.Make</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Tickish.html"
	><span class="hs-identifier"
	  >GHC.Types.Tickish</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.html"
	><span class="hs-identifier"
	  >GHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-tx/src/PlutusTx.AsData.Internal.html"
	><span class="hs-identifier"
	  >PlutusTx.AsData.Internal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-tx/src/PlutusTx.Bool.html"
	><span class="hs-identifier"
	  >PlutusTx.Bool</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-tx/src/PlutusTx.Builtins.html"
	><span class="hs-identifier"
	  >PlutusTx.Builtins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Builtins</span
	></span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-tx/src/PlutusTx.Builtins.Internal.html"
	><span class="hs-identifier"
	  >PlutusTx.Builtins.Internal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>BI</span
	></span
      ><span
      >
</span
      ><span id="line-37"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Binders.html"
	><span class="hs-identifier"
	  >PlutusTx.Compiler.Binders</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Builtins.html"
	><span class="hs-identifier"
	  >PlutusTx.Compiler.Builtins</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Error.html"
	><span class="hs-identifier"
	  >PlutusTx.Compiler.Error</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Laziness.html"
	><span class="hs-identifier"
	  >PlutusTx.Compiler.Laziness</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Names.html"
	><span class="hs-identifier"
	  >PlutusTx.Compiler.Names</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Trace.html"
	><span class="hs-identifier"
	  >PlutusTx.Compiler.Trace</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Type.html"
	><span class="hs-identifier"
	  >PlutusTx.Compiler.Type</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Types.html"
	><span class="hs-identifier"
	  >PlutusTx.Compiler.Types</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Utils.html"
	><span class="hs-identifier"
	  >PlutusTx.Compiler.Utils</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-tx/src/PlutusTx.Coverage.html"
	><span class="hs-identifier"
	  >PlutusTx.Coverage</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-47"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-tx/src/PlutusTx.Function.html"
	><span class="hs-identifier"
	  >PlutusTx.Function</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      >
</span
      ><span id="line-48"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-tx/src/PlutusTx.Optimize.Inline.html"
	><span class="hs-identifier"
	  >PlutusTx.Optimize.Inline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      >
</span
      ><span id="line-49"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PIRTypes.html"
	><span class="hs-identifier"
	  >PlutusTx.PIRTypes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-50"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PLCTypes.html"
	><span class="hs-identifier"
	  >PlutusTx.PLCTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.PLCTypes.html#PLCType"
	><span class="hs-identifier"
	  >PLCType</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PLCTypes.html#PLCVar"
	><span class="hs-identifier"
	  >PLCVar</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ><span class="hs-comment"
      >-- I feel like we shouldn't need this, we only need it to spot the special String type, which is annoying</span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-tx/src/PlutusTx.Builtins.HasOpaque.html"
	><span class="hs-identifier"
	  >PlutusTx.Builtins.HasOpaque</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Builtins</span
	></span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-tx/src/PlutusTx.Trace.html"
	><span class="hs-identifier"
	  >PlutusTx.Trace</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-55"
      ></span
      ><span
      >
</span
      ><span id="line-56"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.html"
	><span class="hs-identifier"
	  >PlutusIR</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PIR</span
	></span
      ><span
      >
</span
      ><span id="line-57"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Analysis.Builtins.html"
	><span class="hs-identifier"
	  >PlutusIR.Analysis.Builtins</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-58"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html"
	><span class="hs-identifier"
	  >PlutusIR.Compiler.Definitions</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PIR</span
	></span
      ><span
      >
</span
      ><span id="line-59"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Compiler.Names.html"
	><span class="hs-identifier"
	  >PlutusIR.Compiler.Names</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Compiler.Names.html#safeFreshName"
	><span class="hs-identifier"
	  >safeFreshName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-60"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Core.Type.html"
	><span class="hs-identifier"
	  >PlutusIR.Core.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-61"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.MkPir.html"
	><span class="hs-identifier"
	  >PlutusIR.MkPir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PIR</span
	></span
      ><span
      >
</span
      ><span id="line-62"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Purity.html"
	><span class="hs-identifier"
	  >PlutusIR.Purity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PIR</span
	></span
      ><span
      >
</span
      ><span id="line-63"
      ></span
      ><span
      >
</span
      ><span id="line-64"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.html"
	><span class="hs-identifier"
	  >PlutusCore</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-65"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Data.html"
	><span class="hs-identifier"
	  >PlutusCore.Data</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-66"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.MkPlc.html"
	><span class="hs-identifier"
	  >PlutusCore.MkPlc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-67"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.StdLib.Data.Function.html"
	><span class="hs-identifier"
	  >PlutusCore.StdLib.Data.Function</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      >
</span
      ><span id="line-68"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Subst.html"
	><span class="hs-identifier"
	  >PlutusCore.Subst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-69"
      ></span
      ><span
      >
</span
      ><span id="line-70"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Exception.html"
	><span class="hs-identifier"
	  >Control.Exception</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Exception.Type.html#displayException"
	><span class="hs-identifier"
	  >displayException</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-71"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Control.Lens</span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >hiding</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier"
	>index</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>strict</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>transform</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-72"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html"
	><span class="hs-identifier"
	  >Control.Monad</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-73"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.html"
	><span class="hs-identifier"
	  >Control.Monad.Reader</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#ask"
	><span class="hs-identifier"
	  >ask</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#asks"
	><span class="hs-identifier"
	  >asks</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#local"
	><span class="hs-identifier"
	  >local</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-74"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/array-0.5.8.0/docs/src/Data.Array.html"
	><span class="hs-identifier"
	  >Data.Array</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Array</span
	></span
      ><span
      >
</span
      ><span id="line-75"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.html"
	><span class="hs-identifier"
	  >Data.ByteString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>BS</span
	></span
      ><span
      >
</span
      ><span id="line-76"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Data.ByteString.Base16</span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Base16</span
	></span
      ><span
      >
</span
      ><span id="line-77"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.Char8.html"
	><span class="hs-identifier"
	  >Data.ByteString.Char8</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>BSC</span
	></span
      ><span
      >
</span
      ><span id="line-78"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/uniplate-1.6.13/docs/src/Data.Generics.Uniplate.Data.html"
	><span class="hs-identifier"
	  >Data.Generics.Uniplate.Data</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/uniplate-1.6.13/docs/src/Data.Generics.Uniplate.Operations.html#transform"
	><span class="hs-identifier"
	  >transform</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/uniplate-1.6.13/docs/src/Data.Generics.Uniplate.Operations.html#universeBi"
	><span class="hs-identifier"
	  >universeBi</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-79"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.List.html"
	><span class="hs-identifier"
	  >Data.List</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#elemIndex"
	><span class="hs-identifier"
	  >elemIndex</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#isPrefixOf"
	><span class="hs-identifier"
	  >isPrefixOf</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#isSuffixOf"
	><span class="hs-identifier"
	  >isSuffixOf</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-80"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.html"
	><span class="hs-identifier"
	  >Data.Map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Map</span
	></span
      ><span
      >
</span
      ><span id="line-81"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Maybe.html"
	><span class="hs-identifier"
	  >Data.Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Maybe.html#mapMaybe"
	><span class="hs-identifier"
	  >mapMaybe</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-82"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.html"
	><span class="hs-identifier"
	  >Data.Set</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Set</span
	></span
      ><span
      >
</span
      ><span id="line-83"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.html"
	><span class="hs-identifier"
	  >Data.Text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>T</span
	></span
      ><span
      >
</span
      ><span id="line-84"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Encoding.html"
	><span class="hs-identifier"
	  >Data.Text.Encoding</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>TE</span
	></span
      ><span
      >
</span
      ><span id="line-85"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html"
	><span class="hs-identifier"
	  >Data.Traversable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#for"
	><span class="hs-identifier"
	  >for</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-86"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/extra-1.8/docs/src/Data.Tuple.Extra.html"
	><span class="hs-identifier"
	  >Data.Tuple.Extra</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-87"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Word.html"
	><span class="hs-identifier"
	  >Data.Word</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Word.html#Word8"
	><span class="hs-identifier"
	  >Word8</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-88"
      ></span
      ><span
      >
</span
      ><span id="line-89"
      ></span
      ><span class="hs-comment"
      >{- Note [System FC and System FW]
Haskell uses system FC, which includes type equalities and coercions.

PLC does *not* have coercions in particular. However, PLC also does not have a nominal
type system - everything is constructed via operators on base types, so we have no
need for coercions to convert between newtypes and datatypes.
-}</span
      ><span
      >
</span
      ><span id="line-96"
      ></span
      ><span
      >
</span
      ><span id="line-97"
      ></span
      ><span class="hs-comment"
      >-- Literals and primitives</span
      ><span
      >
</span
      ><span id="line-98"
      ></span
      ><span
      >
</span
      ><span id="line-99"
      ></span
      ><span class="hs-comment"
      >{- Note [Literals]
GHC's literals and primitives are a bit of a pain, since they not only have a Literal
containing the actual data, but are wrapped in special functions (often ending in the magic #).

This is a pain to recognize.

Fortunately, in practice the only kind of literals we need to deal with directly are integer literals.
String literals are handled specially, see Note [String literals].
-}</span
      ><span
      >
</span
      ><span id="line-108"
      ></span
      ><span
      >
</span
      ><span id="line-109"
      ></span
      ><span class="hs-comment"
      >{- Note [unpackFoldrCString#]
This function is introduced by rewrite rules, and usually eliminated by them
in concert with `build`.

However, since we often mark things as INLINABLE, we get pre-optimization Core
where only the first transformation has fired. So we need to do something with
the function.

- We can't easily turn it into a normal fold expression, since we'd need to make
  a lambda and we're not in 'CoreM' so we can't make fresh names.

- We can't easily translate it to a builtin, since we don't support higher-order
  functions.

So we use a horrible hack and match on `build . unpackFoldrCString#` to &quot;undo&quot;
the original rewrite rule.

Moreover, in some cases GHC generates such expressions where the first literal
character is &quot;un-consed&quot; from its tail, for example:

    GHC.Types.:
      @GHC.Types.Char
      (GHC.Types.C# 'f'#)
      (GHC.Base.build
        @GHC.Types.Char
        (\@b -&gt; GHC.CString.unpackFoldrCString# @b &quot;0d1&quot;#)
      )

Then we re-do the cons after un-doing the original rewrite rule.
-}</span
      ><span
      >
</span
      ><span id="line-139"
      ></span
      ><span
      >
</span
      ><span id="line-140"
      ></span
      ><span id="local-6989586621679524814"
      ><span id="local-6989586621679524815"
	><span id="local-6989586621679524816"
	  ><span id="local-6989586621679524817"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#compileLiteral"
		><span class="hs-identifier hs-type"
		  >compileLiteral</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-141"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524814"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524815"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524816"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524817"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-142"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#Literal"
		><span class="hs-identifier hs-type"
		  >GHC.Literal</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-143"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524816"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524814"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524815"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-144"
      ></span
      ><span id="compileLiteral"
      ><span class="annot"
	><span class="annottext"
	  >compileLiteral :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Literal -&gt; m (PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#compileLiteral"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileLiteral</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-145"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Just accept any kind of number literal, we'll complain about types we don't support elsewhere</span
      ><span
      >
</span
      ><span id="line-146"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitNumber"
	><span class="hs-identifier hs-type"
	  >GHC.LitNumber</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LitNumType
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525623"
      ><span class="annot"
	><span class="annottext"
	  >Integer
</span
	  ><a href="#local-6989586621679525623"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name DefaultUni DefaultFun Ann -&gt; PIRTerm uni fun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
Term tyname name uni fun ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#embedTerm"
	><span class="hs-identifier hs-var"
	  >PIR.embedTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term TyName Name DefaultUni DefaultFun Ann -&gt; PIRTerm uni fun)
-&gt; Term TyName Name DefaultUni DefaultFun Ann -&gt; PIRTerm uni fun
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Integer -&gt; Term TyName Name DefaultUni DefaultFun Ann
forall a (uni :: * -&gt; *) fun (term :: * -&gt; *) tyname name ann.
(TermLike term tyname name uni fun, HasTermLevel uni a) =&gt;
ann -&gt; a -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkConstant"
	><span class="hs-identifier hs-var"
	  >PLC.mkConstant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Integer
</span
	><a href="#local-6989586621679525623"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-147"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitString"
	><span class="hs-identifier hs-type"
	  >GHC.LitString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Literal string (maybe you need to use OverloadedStrings)&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-148"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitChar"
	><span class="hs-identifier hs-type"
	  >GHC.LitChar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Char
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Literal char&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-149"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitFloat"
	><span class="hs-identifier hs-type"
	  >GHC.LitFloat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Rational
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Literal float&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-150"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitDouble"
	><span class="hs-identifier hs-type"
	  >GHC.LitDouble</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Rational
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Literal double&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-151"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitLabel"
	><span class="hs-identifier hs-type"
	  >GHC.LitLabel</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Literal label&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-152"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Literal
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitNullAddr"
	><span class="hs-identifier hs-var"
	  >GHC.LitNullAddr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Literal null&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-153"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitRubbish"
	><span class="hs-identifier hs-type"
	  >GHC.LitRubbish</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Literal rubbish&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-154"
      ></span
      ><span
      >
</span
      ><span id="line-155"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| Get the bytestring content of a string expression, if possible.
Follows (Haskell) variable references!
-}</span
	></span
      ><span
      >
</span
      ><span id="line-158"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#tryStringLiteralAsBytes"
	><span class="hs-identifier hs-type"
	  >tryStringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
	><span class="hs-identifier hs-type"
	  >GHC.CoreExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.Internal.Type.html#ByteString"
	><span class="hs-identifier hs-type"
	  >BS.ByteString</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-159"
      ></span
      ><span id="tryStringLiteralAsBytes"
      ><span class="annot"
	><span class="annottext"
	  >tryStringLiteralAsBytes :: CoreExpr -&gt; Maybe ByteString
</span
	  ><a href="PlutusTx.Compiler.Expr.html#tryStringLiteralAsBytes"
	  ><span class="hs-identifier hs-var hs-var"
	    >tryStringLiteralAsBytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525637"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679525637"
	  ><span class="hs-identifier hs-var"
	    >coreExpr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525637"
	><span class="hs-identifier hs-var"
	  >coreExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-160"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lit"
	><span class="hs-identifier hs-type"
	  >GHC.Lit</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitString"
	><span class="hs-identifier hs-type"
	  >GHC.LitString</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525639"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679525639"
	  ><span class="hs-identifier hs-var"
	    >bytes</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-161"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Maybe ByteString
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679525639"
	><span class="hs-identifier hs-var"
	  >bytes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-162"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525641"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679525641"
	  ><span class="hs-identifier hs-var"
	    >isUnpackCString</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lit"
	><span class="hs-identifier hs-type"
	  >GHC.Lit</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitString"
	><span class="hs-identifier hs-type"
	  >GHC.LitString</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525643"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679525643"
	  ><span class="hs-identifier hs-var"
	    >bytes</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-163"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679525641"
	><span class="hs-identifier hs-var"
	  >isUnpackCString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#unpackCStringName"
	><span class="hs-identifier hs-var"
	  >GHC.unpackCStringName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-164"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Maybe ByteString
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679525643"
	><span class="hs-identifier hs-var"
	  >bytes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-165"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525646"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679525646"
	  ><span class="hs-identifier hs-var"
	    >isUnpackCStringUtf8</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lit"
	><span class="hs-identifier hs-type"
	  >GHC.Lit</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitString"
	><span class="hs-identifier hs-type"
	  >GHC.LitString</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525647"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679525647"
	  ><span class="hs-identifier hs-var"
	    >bytes</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-166"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679525646"
	><span class="hs-identifier hs-var"
	  >isUnpackCStringUtf8</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#unpackCStringUtf8Name"
	><span class="hs-identifier hs-var"
	  >GHC.unpackCStringUtf8Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-167"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Maybe ByteString
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679525647"
	><span class="hs-identifier hs-var"
	  >bytes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-168"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >{- See Note [unpackFoldrCString#]

  Example GHC Core expr this pattern matches:
    GHC.Base.build
      @GHC.Types.Char
      (\@b -&gt; GHC.CString.unpackFoldrCString# @b &quot;0d1&quot;#)
  -}</span
      ><span
      >
</span
      ><span id="line-175"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525649"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679525649"
	  ><span class="hs-identifier hs-var"
	    >build</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-176"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html#TyConApp"
	><span class="hs-identifier hs-type"
	  >GHC.TyConApp</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525652"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679525652"
	  ><span class="hs-identifier hs-var"
	    >charTyCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525653"
      ><span class="annot"
	><span class="annottext"
	  >[Type]
</span
	  ><a href="#local-6989586621679525653"
	  ><span class="hs-identifier hs-var"
	    >_kindOrType</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-177"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lam"
	><span class="hs-identifier hs-type"
	  >GHC.Lam</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525655"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679525655"
	  ><span class="hs-identifier hs-var"
	    >unpack</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525656"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679525656"
	  ><span class="hs-identifier hs-var"
	    >expr</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-178"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679525649"
	><span class="hs-identifier hs-var"
	  >build</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#buildName"
	><span class="hs-identifier hs-var"
	  >GHC.buildName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-179"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679525655"
	><span class="hs-identifier hs-var"
	  >unpack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#unpackCStringFoldrName"
	><span class="hs-identifier hs-var"
	  >GHC.unpackCStringFoldrName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-180"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679525652"
	><span class="hs-identifier hs-var"
	  >charTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#charTyConName"
	><span class="hs-identifier hs-var"
	  >GHC.charTyConName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-181"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#tryStringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >tryStringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525656"
	><span class="hs-identifier hs-var"
	  >expr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-182"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >{-
  Example GHC Core expr this pattern matches:
    GHC.Types.: @GHC.Types.Char (GHC.Types.C# 'f'#) expr
  -}</span
      ><span
      >
</span
      ><span id="line-186"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525660"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679525660"
	  ><span class="hs-identifier hs-var"
	    >consId</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-187"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html#TyConApp"
	><span class="hs-identifier hs-type"
	  >GHC.TyConApp</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525661"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679525661"
	  ><span class="hs-identifier hs-var"
	    >charTyCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525662"
      ><span class="annot"
	><span class="annottext"
	  >[Type]
</span
	  ><a href="#local-6989586621679525662"
	  ><span class="hs-identifier hs-var"
	    >_kindOrType</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-188"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525663"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679525663"
	  ><span class="hs-identifier hs-var"
	    >cSharp</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lit"
	><span class="hs-identifier hs-type"
	  >GHC.Lit</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitChar"
	><span class="hs-identifier hs-type"
	  >GHC.LitChar</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525664"
      ><span class="annot"
	><span class="annottext"
	  >Char
</span
	  ><a href="#local-6989586621679525664"
	  ><span class="hs-identifier hs-var"
	    >c</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-189"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525665"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679525665"
	  ><span class="hs-identifier hs-var"
	    >expr</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-190"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679525661"
	><span class="hs-identifier hs-var"
	  >charTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#charTyConName"
	><span class="hs-identifier hs-var"
	  >GHC.charTyConName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-191"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525666"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679525666"
	  ><span class="hs-identifier hs-var"
	    >consDataCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Maybe DataCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.html#isDataConId_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.isDataConId_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679525660"
	><span class="hs-identifier hs-var"
	  >consId</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-192"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#consDataCon"
	><span class="hs-identifier hs-var"
	  >GHC.consDataCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; DataCon -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679525666"
	><span class="hs-identifier hs-var"
	  >consDataCon</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-193"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525669"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679525669"
	  ><span class="hs-identifier hs-var"
	    >charDataCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Maybe DataCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.html#isDataConId_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.isDataConId_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679525663"
	><span class="hs-identifier hs-var"
	  >cSharp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-194"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#charDataCon"
	><span class="hs-identifier hs-var"
	  >GHC.charDataCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; DataCon -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679525669"
	><span class="hs-identifier hs-var"
	  >charDataCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-195"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Char -&gt; ByteString -&gt; ByteString
</span
	><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.Char8.html#cons"
	><span class="hs-identifier hs-var"
	  >BSC.cons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Char
</span
	><a href="#local-6989586621679525664"
	><span class="hs-identifier hs-var"
	  >c</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ByteString -&gt; ByteString) -&gt; Maybe ByteString -&gt; Maybe ByteString
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#tryStringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >tryStringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525665"
	><span class="hs-identifier hs-var"
	  >expr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-196"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- GHC helpfully generates an empty list for the empty string literal instead</span
      ><span
      >
</span
      ><span id="line-197"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- of a 'LitString'</span
      ><span
      >
</span
      ><span id="line-198"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525673"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679525673"
	  ><span class="hs-identifier hs-var"
	    >nil</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; Maybe TyCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Type.html#tyConAppTyCon_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.tyConAppTyCon_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525675"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679525675"
	  ><span class="hs-identifier hs-var"
	    >tc</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-199"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679525673"
	><span class="hs-identifier hs-var"
	  >nil</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Id -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; Id
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.DataCon.html#dataConWorkId"
	><span class="hs-identifier hs-var"
	  >GHC.dataConWorkId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#nilDataCon"
	><span class="hs-identifier hs-var"
	  >GHC.nilDataCon</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-200"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679525675"
	><span class="hs-identifier hs-var"
	  >tc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#charTyConName"
	><span class="hs-identifier hs-var"
	  >GHC.charTyConName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-201"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Maybe ByteString
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-202"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Chase variable references! GHC likes to lift string constants to variables,</span
      ><span
      >
</span
      ><span id="line-203"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- that is not good for us!</span
      ><span
      >
</span
      ><span id="line-204"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Unfolding -&gt; Maybe CoreExpr
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#maybeUnfoldingTemplate"
	><span class="hs-identifier hs-var"
	  >GHC.maybeUnfoldingTemplate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Unfolding -&gt; Maybe CoreExpr)
-&gt; (Id -&gt; Unfolding) -&gt; Id -&gt; Maybe CoreExpr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Unfolding
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.html#realIdUnfolding"
	><span class="hs-identifier hs-var"
	  >GHC.realIdUnfolding</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525681"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679525681"
	  ><span class="hs-identifier hs-var"
	    >unfolding</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-205"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#tryStringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >tryStringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525681"
	><span class="hs-identifier hs-var"
	  >unfolding</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-206"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ByteString
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-207"
      ></span
      ><span
      >
</span
      ><span id="line-208"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| Given a GHC Core expression representing a string literal
extracts a ByteString from it.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-211"
      ></span
      ><span id="local-6989586621679524889"
      ><span id="local-6989586621679524890"
	><span id="local-6989586621679524891"
	  ><span id="local-6989586621679524892"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsBytes"
		><span class="hs-identifier hs-type"
		  >stringLiteralAsBytes</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-212"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#Compiling"
		><span class="hs-identifier hs-type"
		  >Compiling</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524889"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524890"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524891"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524892"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-213"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#Name"
		><span class="hs-identifier hs-type"
		  >GHC.Name</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-214"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ is used for error reporting.</span
		></span
	      ><span
	      >
</span
	      ><span id="line-215"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
		><span class="hs-identifier hs-type"
		  >GHC.CoreExpr</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-216"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ The expression to extract the ByteString from.</span
		></span
	      ><span
	      >
</span
	      ><span id="line-217"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524891"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.Internal.Type.html#ByteString"
		><span class="hs-identifier hs-type"
		  >BS.ByteString</span
		  ></a
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-218"
      ></span
      ><span id="stringLiteralAsBytes"
      ><span class="annot"
	><span class="annottext"
	  >stringLiteralAsBytes :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m ByteString
</span
	  ><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsBytes"
	  ><span class="hs-identifier hs-var hs-var"
	    >stringLiteralAsBytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525704"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679525704"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525705"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679525705"
	  ><span class="hs-identifier hs-var"
	    >coreExpr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-219"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#tryStringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >tryStringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525705"
	><span class="hs-identifier hs-var"
	  >coreExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-220"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525706"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679525706"
	  ><span class="hs-identifier hs-var"
	    >bytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; m ByteString
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679525706"
	><span class="hs-identifier hs-var"
	  >bytes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-221"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ByteString
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-222"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m ByteString
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
(MonadError (CompileError uni fun ann) m,
 MonadReader (CompileContext uni fun) m) =&gt;
(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m a
</span
	><a href="PlutusTx.Compiler.Utils.html#throwSd"
	><span class="hs-identifier hs-var"
	  >throwSd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error uni fun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#CompilationError"
	><span class="hs-identifier hs-var"
	  >CompilationError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SDoc -&gt; m ByteString) -&gt; SDoc -&gt; m ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-223"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Use of fromString @&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-224"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679525704"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-225"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;with inscrutable content: &quot;</span
	></span
      ><span
      >
</span
      ><span id="line-226"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525705"
	><span class="hs-identifier hs-var"
	  >coreExpr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-227"
      ></span
      ><span
      >
</span
      ><span id="line-228"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| Given a GHC Core expression representing a string literal
extracts UTF-8 encoded ByteString from it and decodes it as Text
-}</span
	></span
      ><span
      >
</span
      ><span id="line-231"
      ></span
      ><span id="local-6989586621679524912"
      ><span id="local-6989586621679524913"
	><span id="local-6989586621679524914"
	  ><span id="local-6989586621679524915"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsText"
		><span class="hs-identifier hs-type"
		  >stringLiteralAsText</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#Compiling"
		><span class="hs-identifier hs-type"
		  >Compiling</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524912"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524913"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524914"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524915"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#Name"
		><span class="hs-identifier hs-type"
		  >GHC.Name</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
		><span class="hs-identifier hs-type"
		  >GHC.CoreExpr</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524914"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
		><span class="hs-identifier hs-type"
		  >T.Text</span
		  ></a
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-232"
      ></span
      ><span id="stringLiteralAsText"
      ><span class="annot"
	><span class="annottext"
	  >stringLiteralAsText :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m Text
</span
	  ><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsText"
	  ><span class="hs-identifier hs-var hs-var"
	    >stringLiteralAsText</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525734"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679525734"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525735"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679525735"
	  ><span class="hs-identifier hs-var"
	    >coreExpr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-233"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679525736"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679525736"
	  ><span class="hs-identifier hs-var"
	    >bytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; CoreExpr -&gt; m ByteString
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >stringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679525734"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525735"
	><span class="hs-identifier hs-var"
	  >coreExpr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-234"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Either UnicodeException Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Encoding.html#decodeUtf8%27"
	><span class="hs-identifier hs-var"
	  >TE.decodeUtf8'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679525736"
	><span class="hs-identifier hs-var"
	  >bytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-235"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525738"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679525738"
	  ><span class="hs-identifier hs-var"
	    >txt</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; m Text
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679525738"
	><span class="hs-identifier hs-var"
	  >txt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-236"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525739"
      ><span class="annot"
	><span class="annottext"
	  >UnicodeException
</span
	  ><a href="#local-6989586621679525739"
	  ><span class="hs-identifier hs-var"
	    >err</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-237"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m Text
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
(MonadError (CompileError uni fun ann) m,
 MonadReader (CompileContext uni fun) m) =&gt;
(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m a
</span
	><a href="PlutusTx.Compiler.Utils.html#throwSd"
	><span class="hs-identifier hs-var"
	  >throwSd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error uni fun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#CompilationError"
	><span class="hs-identifier hs-var"
	  >CompilationError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SDoc -&gt; m Text) -&gt; SDoc -&gt; m Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-238"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Invalid UTF-8 in string literal:&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-239"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#text"
	><span class="hs-identifier hs-var"
	  >GHC.text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>UnicodeException -&gt; String
forall e. Exception e =&gt; e -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Exception.Type.html#displayException"
	><span class="hs-identifier hs-var"
	  >displayException</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UnicodeException
</span
	><a href="#local-6989586621679525739"
	><span class="hs-identifier hs-var"
	  >err</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-240"
      ></span
      ><span
      >
</span
      ><span id="line-241"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| Tries to recover original bytes from a UTF-8 encoded bytestring literal.

This isn't a full UTF-8 decoder: it only decodes the subset of UTF-8 that
is expected to be found in bytestring literals: 0x00 - 0xFF

If 'ByteString' contains a codepoint that is not in this range, the function will throw an error.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-248"
      ></span
      ><span id="local-6989586621679524930"
      ><span id="local-6989586621679524931"
	><span id="local-6989586621679524932"
	  ><span id="local-6989586621679524933"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#utf8CodePointsAsBytes"
		><span class="hs-identifier hs-type"
		  >utf8CodePointsAsBytes</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#Compiling"
		><span class="hs-identifier hs-type"
		  >Compiling</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524930"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524931"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524932"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524933"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.Internal.Type.html#ByteString"
		><span class="hs-identifier hs-type"
		  >BS.ByteString</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524932"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.Internal.Type.html#ByteString"
		><span class="hs-identifier hs-type"
		  >BS.ByteString</span
		  ></a
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-249"
      ></span
      ><span id="utf8CodePointsAsBytes"
      ><span class="annot"
	><span class="annottext"
	  >utf8CodePointsAsBytes :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
ByteString -&gt; m ByteString
</span
	  ><a href="PlutusTx.Compiler.Expr.html#utf8CodePointsAsBytes"
	  ><span class="hs-identifier hs-var hs-var"
	    >utf8CodePointsAsBytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525749"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679525749"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-250"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Maybe ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#tryUtf8CodePointsAsBytes"
	><span class="hs-identifier hs-var"
	  >tryUtf8CodePointsAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679525749"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-251"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525751"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679525751"
	  ><span class="hs-identifier hs-var"
	    >bytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; m ByteString
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679525751"
	><span class="hs-identifier hs-var"
	  >bytes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-252"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ByteString
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-253"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Error uni fun ann -&gt; m ByteString
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error uni fun ann -&gt; m ByteString)
-&gt; (Text -&gt; Error uni fun ann) -&gt; Text -&gt; m ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error uni fun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#CompilationError"
	><span class="hs-identifier hs-var"
	  >CompilationError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; m ByteString) -&gt; Text -&gt; m ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-254"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;ByteString literal is expected to contain only codepoints in the range 0 - 255 (0x00 - 0xFF)&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-255"
      ></span
      ><span
      >
</span
      ><span id="line-256"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#tryUtf8CodePointsAsBytes"
	><span class="hs-identifier hs-type"
	  >tryUtf8CodePointsAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.Internal.Type.html#ByteString"
	><span class="hs-identifier hs-type"
	  >BS.ByteString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.Internal.Type.html#ByteString"
	><span class="hs-identifier hs-type"
	  >BS.ByteString</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-257"
      ></span
      ><span id="tryUtf8CodePointsAsBytes"
      ><span class="annot"
	><span class="annottext"
	  >tryUtf8CodePointsAsBytes :: ByteString -&gt; Maybe ByteString
</span
	  ><a href="PlutusTx.Compiler.Expr.html#tryUtf8CodePointsAsBytes"
	  ><span class="hs-identifier hs-var hs-var"
	    >tryUtf8CodePointsAsBytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Word8] -&gt; ByteString) -&gt; Maybe [Word8] -&gt; Maybe ByteString
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8] -&gt; ByteString
</span
	><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.html#pack"
	><span class="hs-identifier hs-var"
	  >BS.pack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Maybe [Word8] -&gt; Maybe ByteString)
-&gt; (ByteString -&gt; Maybe [Word8]) -&gt; ByteString -&gt; Maybe ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8] -&gt; Maybe [Word8]
</span
	><a href="#local-6989586621679525753"
	><span class="hs-identifier hs-var"
	  >gracefullyDecodeUtf8Bytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Word8] -&gt; Maybe [Word8])
-&gt; (ByteString -&gt; [Word8]) -&gt; ByteString -&gt; Maybe [Word8]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; [Word8]
</span
	><a href="https://hackage.haskell.org/package/bytestring-0.11.5.4/docs/src/Data.ByteString.html#unpack"
	><span class="hs-identifier hs-var"
	  >BS.unpack</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-258"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-259"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >{-
  Why not use 'Data.Text.Encoding'?
  1. Some bytes never appear in UTF-8 encoded text (0xC0, 0xC1, 0xF5-0xFF).
  2. GHC Core could contain such bytes in bytestring literals,
     e.g. &quot;\0\1&quot; is stored as &quot;\192\128\SOH&quot;.
  3. The UTF-8 parser from 'Data.Text.Encoding' chokes on these bytes:
      ghci&gt; TE.decodeUtf8 &quot;\192\128\SOH&quot;
      *** Exception: Cannot decode byte '\xc0': Data.Text.Encoding: Invalid UTF-8 stream
  4. In the custom parsing logic below we can handle these bytes:
  -}</span
      ><span
      >
</span
      ><span id="line-269"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679525753"
	><span class="hs-identifier hs-type"
	  >gracefullyDecodeUtf8Bytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Word.html#Word8"
	><span class="hs-identifier hs-type"
	  >Word8</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Word.html#Word8"
	><span class="hs-identifier hs-type"
	  >Word8</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-270"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679525753"
      ><span class="annot"
	><span class="annottext"
	  >gracefullyDecodeUtf8Bytes :: [Word8] -&gt; Maybe [Word8]
</span
	  ><a href="#local-6989586621679525753"
	  ><span class="hs-identifier hs-var hs-var"
	    >gracefullyDecodeUtf8Bytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-271"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8] -&gt; Maybe [Word8]
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-272"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>192</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>128</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525755"
      ><span class="annot"
	><span class="annottext"
	  >[Word8]
</span
	  ><a href="#local-6989586621679525755"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>0x00</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; [Word8] -&gt; [Word8]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Word8] -&gt; [Word8]) -&gt; Maybe [Word8] -&gt; Maybe [Word8]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8] -&gt; Maybe [Word8]
</span
	><a href="#local-6989586621679525753"
	><span class="hs-identifier hs-var"
	  >gracefullyDecodeUtf8Bytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8]
</span
	><a href="#local-6989586621679525755"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-273"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>194</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525756"
      ><span class="annot"
	><span class="annottext"
	  >Word8
</span
	  ><a href="#local-6989586621679525756"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525757"
      ><span class="annot"
	><span class="annottext"
	  >[Word8]
</span
	  ><a href="#local-6989586621679525757"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><a href="#local-6989586621679525756"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; Word8 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3E"
	><span class="hs-operator hs-var"
	  >&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>127</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><a href="#local-6989586621679525756"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; Word8 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3C"
	><span class="hs-operator hs-var"
	  >&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>192</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><a href="#local-6989586621679525756"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; [Word8] -&gt; [Word8]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Word8] -&gt; [Word8]) -&gt; Maybe [Word8] -&gt; Maybe [Word8]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8] -&gt; Maybe [Word8]
</span
	><a href="#local-6989586621679525753"
	><span class="hs-identifier hs-var"
	  >gracefullyDecodeUtf8Bytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8]
</span
	><a href="#local-6989586621679525757"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-274"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>195</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525761"
      ><span class="annot"
	><span class="annottext"
	  >Word8
</span
	  ><a href="#local-6989586621679525761"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525762"
      ><span class="annot"
	><span class="annottext"
	  >[Word8]
</span
	  ><a href="#local-6989586621679525762"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><a href="#local-6989586621679525761"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; Word8 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3E"
	><span class="hs-operator hs-var"
	  >&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>127</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><a href="#local-6989586621679525761"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; Word8 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3C"
	><span class="hs-operator hs-var"
	  >&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>192</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><a href="#local-6989586621679525761"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; Word8 -&gt; Word8
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>64</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; [Word8] -&gt; [Word8]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Word8] -&gt; [Word8]) -&gt; Maybe [Word8] -&gt; Maybe [Word8]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8] -&gt; Maybe [Word8]
</span
	><a href="#local-6989586621679525753"
	><span class="hs-identifier hs-var"
	  >gracefullyDecodeUtf8Bytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8]
</span
	><a href="#local-6989586621679525762"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-275"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679525764"
      ><span class="annot"
	><span class="annottext"
	  >Word8
</span
	  ><a href="#local-6989586621679525764"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525765"
      ><span class="annot"
	><span class="annottext"
	  >[Word8]
</span
	  ><a href="#local-6989586621679525765"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><a href="#local-6989586621679525764"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; Word8 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3E"
	><span class="hs-operator hs-var"
	  >&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><a href="#local-6989586621679525764"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; Word8 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3C"
	><span class="hs-operator hs-var"
	  >&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><span class="hs-number"
	>128</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Word8
</span
	><a href="#local-6989586621679525764"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word8 -&gt; [Word8] -&gt; [Word8]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Word8] -&gt; [Word8]) -&gt; Maybe [Word8] -&gt; Maybe [Word8]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8] -&gt; Maybe [Word8]
</span
	><a href="#local-6989586621679525753"
	><span class="hs-identifier hs-var"
	  >gracefullyDecodeUtf8Bytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8]
</span
	><a href="#local-6989586621679525765"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-276"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Word8]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe [Word8]
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-277"
      ></span
      ><span
      >
</span
      ><span id="line-278"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| Strip off irrelevant things when we're trying to match a particular pattern in the code. Mostly ticks.
We only need to do this as part of a complex pattern match: if we're just compiling the expression
in question we will strip this off anyway.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-282"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-type"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
	><span class="hs-identifier hs-type"
	  >GHC.CoreExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
	><span class="hs-identifier hs-type"
	  >GHC.CoreExpr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-283"
      ></span
      ><span id="strip"
      ><span class="annot"
	><span class="annottext"
	  >strip :: CoreExpr -&gt; CoreExpr
</span
	  ><a href="PlutusTx.Compiler.Expr.html#strip"
	  ><span class="hs-identifier hs-var hs-var"
	    >strip</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-284"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525767"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679525767"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525768"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679525768"
	  ><span class="hs-identifier hs-var"
	    >expr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679525767"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Make.html#noinlineIdName"
	><span class="hs-identifier hs-var"
	  >GHC.noinlineIdName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525768"
	><span class="hs-identifier hs-var"
	  >expr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-285"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Tick"
	><span class="hs-identifier hs-type"
	  >GHC.Tick</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreTickish
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525771"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679525771"
	  ><span class="hs-identifier hs-var"
	    >expr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525771"
	><span class="hs-identifier hs-var"
	  >expr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-286"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679525772"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679525772"
	  ><span class="hs-identifier hs-var"
	    >expr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525772"
	><span class="hs-identifier hs-var"
	  >expr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-287"
      ></span
      ><span
      >
</span
      ><span id="line-288"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Convert a reference to a data constructor, i.e. a call to it.</span
	></span
      ><span
      >
</span
      ><span id="line-289"
      ></span
      ><span id="local-6989586621679524944"
      ><span id="local-6989586621679524945"
	><span id="local-6989586621679524946"
	  ><span id="local-6989586621679524947"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#compileDataConRef"
		><span class="hs-identifier hs-type"
		  >compileDataConRef</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524944"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524945"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524946"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524947"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.DataCon.html#DataCon"
		><span class="hs-identifier hs-type"
		  >GHC.DataCon</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524946"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524944"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524945"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-290"
      ></span
      ><span id="compileDataConRef"
      ><span class="annot"
	><span class="annottext"
	  >compileDataConRef :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
DataCon -&gt; m (PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#compileDataConRef"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileDataConRef</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525810"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679525810"
	  ><span class="hs-identifier hs-var"
	    >dc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-291"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679525811"
      ><span class="annot"
	><span class="annottext"
	  >[DataCon]
</span
	  ><a href="#local-6989586621679525811"
	  ><span class="hs-identifier hs-var"
	    >dcs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; m [DataCon]
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
TyCon -&gt; m [DataCon]
</span
	><a href="PlutusTx.Compiler.Type.html#getDataCons"
	><span class="hs-identifier hs-var"
	  >getDataCons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679525813"
	><span class="hs-identifier hs-var"
	  >tc</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-292"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679525814"
      ><span class="annot"
	><span class="annottext"
	  >[PIRTerm uni fun]
</span
	  ><a href="#local-6989586621679525814"
	  ><span class="hs-identifier hs-var"
	    >constrs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; m [PIRTerm uni fun]
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
TyCon -&gt; m [PIRTerm uni fun]
</span
	><a href="PlutusTx.Compiler.Type.html#getConstructors"
	><span class="hs-identifier hs-var"
	  >getConstructors</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679525813"
	><span class="hs-identifier hs-var"
	  >tc</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-293"
      ></span
      ><span
      >
</span
      ><span id="line-294"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- TODO: this is inelegant</span
      ><span
      >
</span
      ><span id="line-295"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679525816"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621679525816"
	  ><span class="hs-identifier hs-var"
	    >index</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; [DataCon] -&gt; Maybe Int
forall a. Eq a =&gt; a -&gt; [a] -&gt; Maybe Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#elemIndex"
	><span class="hs-identifier hs-var"
	  >elemIndex</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679525810"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[DataCon]
</span
	><a href="#local-6989586621679525811"
	><span class="hs-identifier hs-var"
	  >dcs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-296"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525817"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621679525817"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; m Int
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679525817"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-297"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-298"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m Int
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m Int)
-&gt; Error DefaultUni DefaultFun ann -&gt; m Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-299"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#CompilationError"
	><span class="hs-identifier hs-var"
	  >CompilationError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Data constructor not in the type constructor's list of constructors&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-300"
      ></span
      ><span
      >
</span
      ><span id="line-301"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[PIRTerm uni fun]
</span
	><a href="#local-6989586621679525814"
	><span class="hs-identifier hs-var"
	  >constrs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[PIRTerm uni fun] -&gt; Int -&gt; PIRTerm uni fun
forall a. HasCallStack =&gt; [a] -&gt; Int -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#%21%21"
	><span class="hs-operator hs-var"
	  >!!</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679525816"
	><span class="hs-identifier hs-var"
	  >index</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-302"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-303"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679525813"
      ><span class="annot"
	><span class="annottext"
	  >tc :: TyCon
</span
	  ><a href="#local-6989586621679525813"
	  ><span class="hs-identifier hs-var hs-var"
	    >tc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; TyCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.DataCon.html#dataConTyCon"
	><span class="hs-identifier hs-var"
	  >GHC.dataConTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679525810"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-304"
      ></span
      ><span
      >
</span
      ><span id="line-305"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Make alternatives with non-delayed and delayed bodies for a given 'CoreAlt'.</span
	></span
      ><span
      >
</span
      ><span id="line-306"
      ></span
      ><span id="local-6989586621679524963"
      ><span id="local-6989586621679524964"
	><span id="local-6989586621679524965"
	  ><span id="local-6989586621679524966"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#compileAlt"
		><span class="hs-identifier hs-type"
		  >compileAlt</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-307"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524963"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524964"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524965"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524966"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-308"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreAlt"
		><span class="hs-identifier hs-type"
		  >GHC.CoreAlt</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-309"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ The 'CoreAlt' representing the branch itself.</span
		></span
	      ><span
	      >
</span
	      ><span id="line-310"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >[</span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html#Type"
		><span class="hs-identifier hs-type"
		  >GHC.Type</span
		  ></a
		></span
	      ><span class="hs-special"
	      >]</span
	      ><span
	      >
</span
	      ><span id="line-311"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ The instantiated type arguments for the data constructor.</span
		></span
	      ><span
	      >
</span
	      ><span id="line-312"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524963"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524964"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-313"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524965"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524963"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524964"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >,</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524963"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524964"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-314"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ Non-delayed and delayed</span
	></span
      ><span
      >
</span
      ><span id="line-315"
      ></span
      ><span id="compileAlt"
      ><span class="annot"
	><span class="annottext"
	  >compileAlt :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreAlt
-&gt; [Type]
-&gt; PIRTerm uni fun
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#compileAlt"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileAlt</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Alt"
	><span class="hs-identifier hs-type"
	  >GHC.Alt</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525885"
      ><span class="annot"
	><span class="annottext"
	  >AltCon
</span
	  ><a href="#local-6989586621679525885"
	  ><span class="hs-identifier hs-var"
	    >alt</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525886"
      ><span class="annot"
	><span class="annottext"
	  >[Id]
</span
	  ><a href="#local-6989586621679525886"
	  ><span class="hs-identifier hs-var"
	    >vars</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525887"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679525887"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679525888"
      ><span class="annot"
	><span class="annottext"
	  >[Type]
</span
	  ><a href="#local-6989586621679525888"
	  ><span class="hs-identifier hs-var"
	    >instArgTys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525889"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679525889"
	  ><span class="hs-identifier hs-var"
	    >defaultBody</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-316"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Int
-&gt; SDoc
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) e a.
(MonadReader (CompileContext uni fun) m, MonadState CompileState m,
 MonadError (WithContext Text e) m) =&gt;
Int -&gt; SDoc -&gt; m a -&gt; m a
</span
	><a href="PlutusTx.Compiler.Trace.html#traceCompilation"
	><span class="hs-identifier hs-var"
	  >traceCompilation</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>3</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Creating alternative:&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AltCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AltCon
</span
	><a href="#local-6989586621679525885"
	><span class="hs-identifier hs-var"
	  >alt</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(m (PIRTerm uni fun, PIRTerm uni fun)
 -&gt; m (PIRTerm uni fun, PIRTerm uni fun))
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AltCon
</span
	><a href="#local-6989586621679525885"
	><span class="hs-identifier hs-var"
	  >alt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-317"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#LitAlt"
	><span class="hs-identifier hs-type"
	  >GHC.LitAlt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Literal
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann
 -&gt; m (PIRTerm uni fun, PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Literal case&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-318"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- We just package it up as a lambda bringing all the</span
      ><span
      >
</span
      ><span id="line-319"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- vars into scope whose body is the body of the case alternative.</span
      ><span
      >
</span
      ><span id="line-320"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Iterated abstraction and application]</span
      ><span
      >
</span
      ><span id="line-321"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Case expressions and laziness]</span
      ><span
      >
</span
      ><span id="line-322"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#DataAlt"
	><span class="hs-identifier hs-type"
	  >GHC.DataAlt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Id, Maybe (PIRTerm DefaultUni DefaultFun))]
-&gt; ([VarDecl TyName Name DefaultUni Ann]
    -&gt; m (PIRTerm uni fun, PIRTerm uni fun))
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann a.
CompilingDefault uni fun m ann =&gt;
[(Id, Maybe (PIRTerm uni fun))]
-&gt; ([VarDecl TyName Name uni Ann] -&gt; m a) -&gt; m a
</span
	><a href="PlutusTx.Compiler.Binders.html#withVarsScoped"
	><span class="hs-identifier hs-var"
	  >withVarsScoped</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >,</span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (PIRTerm DefaultUni DefaultFun)
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; (Id, Maybe (PIRTerm DefaultUni DefaultFun)))
-&gt; [Id] -&gt; [(Id, Maybe (PIRTerm DefaultUni DefaultFun))]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Id]
</span
	><a href="#local-6989586621679525886"
	><span class="hs-identifier hs-var"
	  >vars</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(([VarDecl TyName Name DefaultUni Ann]
  -&gt; m (PIRTerm uni fun, PIRTerm uni fun))
 -&gt; m (PIRTerm uni fun, PIRTerm uni fun))
-&gt; ([VarDecl TyName Name DefaultUni Ann]
    -&gt; m (PIRTerm uni fun, PIRTerm uni fun))
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679525894"
      ><span class="annot"
	><span class="annottext"
	  >[VarDecl TyName Name DefaultUni Ann]
</span
	  ><a href="#local-6989586621679525894"
	  ><span class="hs-identifier hs-var"
	    >vars'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-323"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679525895"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679525895"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679525887"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-324"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679525896"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679525896"
	  ><span class="hs-identifier hs-var"
	    >delayed</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Laziness.html#delay"
	><span class="hs-identifier hs-var"
	  >delay</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679525895"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-325"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun, PIRTerm uni fun)
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#return"
	><span class="hs-identifier hs-var"
	  >return</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[VarDecl TyName Name DefaultUni Ann]
-&gt; PIRTerm uni fun -&gt; PIRTerm uni fun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
[VarDecl tyname name uni ann] -&gt; term ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterLamAbs"
	><span class="hs-identifier hs-var"
	  >PLC.mkIterLamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[VarDecl TyName Name DefaultUni Ann]
</span
	><a href="#local-6989586621679525894"
	><span class="hs-identifier hs-var"
	  >vars'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679525895"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[VarDecl TyName Name DefaultUni Ann]
-&gt; PIRTerm uni fun -&gt; PIRTerm uni fun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
[VarDecl tyname name uni ann] -&gt; term ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterLamAbs"
	><span class="hs-identifier hs-var"
	  >PLC.mkIterLamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[VarDecl TyName Name DefaultUni Ann]
</span
	><a href="#local-6989586621679525894"
	><span class="hs-identifier hs-var"
	  >vars'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679525896"
	><span class="hs-identifier hs-var"
	  >delayed</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-326"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>AltCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#DEFAULT"
	><span class="hs-identifier hs-var"
	  >GHC.DEFAULT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-327"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- ignore the body in the alt, because we've got a pre-compiled one</span
      ><span
      >
</span
      ><span id="line-328"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679525900"
      ><span class="annot"
	><span class="annottext"
	  >compiledBody :: PIRTerm uni fun
</span
	  ><a href="#local-6989586621679525900"
	  ><span class="hs-identifier hs-var hs-var"
	    >compiledBody</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679525889"
	><span class="hs-identifier hs-var"
	  >defaultBody</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-329"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679525901"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679525901"
	  ><span class="hs-identifier hs-var"
	    >nonDelayed</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	><a href="#local-6989586621679525902"
	><span class="hs-identifier hs-var"
	  >wrapDefaultAlt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679525900"
	><span class="hs-identifier hs-var"
	  >compiledBody</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-330"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679525903"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679525903"
	  ><span class="hs-identifier hs-var"
	    >delayed</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Laziness.html#delay"
	><span class="hs-identifier hs-var"
	  >delay</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679525900"
	><span class="hs-identifier hs-var"
	  >compiledBody</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (PIRTerm uni fun)
-&gt; (PIRTerm uni fun -&gt; m (PIRTerm uni fun)) -&gt; m (PIRTerm uni fun)
forall a b. m a -&gt; (a -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3E%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	><a href="#local-6989586621679525902"
	><span class="hs-identifier hs-var"
	  >wrapDefaultAlt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-331"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun, PIRTerm uni fun)
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#return"
	><span class="hs-identifier hs-var"
	  >return</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679525901"
	><span class="hs-identifier hs-var"
	  >nonDelayed</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679525903"
	><span class="hs-identifier hs-var"
	  >delayed</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-332"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-333"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679524999"
      ><span id="local-6989586621679525000"
	><span id="local-6989586621679525001"
	  ><span id="local-6989586621679525002"
	    ><span class="annot"
	      ><a href="#local-6989586621679525902"
		><span class="hs-identifier hs-type"
		  >wrapDefaultAlt</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524999"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525000"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525001"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525002"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524999"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525000"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525001"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524999"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525000"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-334"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679525902"
      ><span class="annot"
	><span class="annottext"
	  >wrapDefaultAlt :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	  ><a href="#local-6989586621679525902"
	  ><span class="hs-identifier hs-var hs-var"
	    >wrapDefaultAlt</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525949"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679525949"
	  ><span class="hs-identifier hs-var"
	    >body'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-335"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- need to consume the args</span
      ><span
      >
</span
      ><span id="line-336"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679525950"
      ><span class="annot"
	><span class="annottext"
	  >[PLCType DefaultUni]
</span
	  ><a href="#local-6989586621679525950"
	  ><span class="hs-identifier hs-var"
	    >argTypes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type -&gt; m (PLCType DefaultUni))
-&gt; [Type] -&gt; m [PLCType DefaultUni]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#mapM"
	><span class="hs-identifier hs-var"
	  >mapM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; m (PLCType DefaultUni)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type -&gt; m (PIRType uni)
</span
	><a href="PlutusTx.Compiler.Type.html#compileTypeNorm"
	><span class="hs-identifier hs-var"
	  >compileTypeNorm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type]
</span
	><a href="#local-6989586621679525888"
	><span class="hs-identifier hs-var"
	  >instArgTys</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-337"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679525953"
      ><span class="annot"
	><span class="annottext"
	  >[Name]
</span
	  ><a href="#local-6989586621679525953"
	  ><span class="hs-identifier hs-var"
	    >argNames</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      >
</span
      ><span id="line-338"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>[Int] -&gt; (Int -&gt; m Name) -&gt; m [Name]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#forM"
	><span class="hs-identifier hs-var"
	  >forM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >..</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[PLCType DefaultUni] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[PLCType DefaultUni]
</span
	><a href="#local-6989586621679525950"
	><span class="hs-identifier hs-var"
	  >argTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#-"
	><span class="hs-glyph hs-var"
	  >-</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679525956"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621679525956"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; m Name
forall (m :: * -&gt; *). MonadQuote m =&gt; Text -&gt; m Name
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Names.html#safeFreshName"
	><span class="hs-identifier hs-var"
	  >safeFreshName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; m Name) -&gt; Text -&gt; m Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;default_arg&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >T.pack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679525956"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-339"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[VarDecl TyName Name DefaultUni Ann]
-&gt; PIRTerm uni fun -&gt; PIRTerm uni fun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
[VarDecl tyname name uni ann] -&gt; term ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterLamAbs"
	><span class="hs-identifier hs-var"
	  >PIR.mkIterLamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; PLCType DefaultUni -&gt; VarDecl TyName Name DefaultUni Ann)
-&gt; [Name]
-&gt; [PLCType DefaultUni]
-&gt; [VarDecl TyName Name DefaultUni Ann]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#zipWith"
	><span class="hs-identifier hs-var"
	  >zipWith</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Name -&gt; PLCType DefaultUni -&gt; VarDecl TyName Name DefaultUni Ann
forall tyname name (uni :: * -&gt; *) ann.
ann -&gt; name -&gt; Type tyname uni ann -&gt; VarDecl tyname name uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#VarDecl"
	><span class="hs-identifier hs-var"
	  >PIR.VarDecl</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Name]
</span
	><a href="#local-6989586621679525953"
	><span class="hs-identifier hs-var"
	  >argNames</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[PLCType DefaultUni]
</span
	><a href="#local-6989586621679525950"
	><span class="hs-identifier hs-var"
	  >argTypes</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679525949"
	><span class="hs-identifier hs-var"
	  >body'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-340"
      ></span
      ><span
      >
</span
      ><span id="line-341"
      ></span
      ><span class="hs-comment"
      >-- See Note [GHC runtime errors]</span
      ><span
      >
</span
      ><span id="line-342"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#isErrorId"
	><span class="hs-identifier hs-type"
	  >isErrorId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Id"
	><span class="hs-identifier hs-type"
	  >GHC.Id</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-343"
      ></span
      ><span id="isErrorId"
      ><span class="annot"
	><span class="annottext"
	  >isErrorId :: Id -&gt; Bool
</span
	  ><a href="PlutusTx.Compiler.Expr.html#isErrorId"
	  ><span class="hs-identifier hs-var hs-var"
	    >isErrorId</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679525962"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679525962"
	  ><span class="hs-identifier hs-var"
	    >ghcId</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679525962"
	><span class="hs-identifier hs-var"
	  >ghcId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; [Id] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#elem"
	><span class="hs-operator hs-var"
	  >`elem`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Id]
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Make.html#errorIds"
	><span class="hs-identifier hs-var"
	  >GHC.errorIds</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-344"
      ></span
      ><span
      >
</span
      ><span id="line-345"
      ></span
      ><span class="hs-comment"
      >-- See Note [Uses of Eq]</span
      ><span
      >
</span
      ><span id="line-346"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#isProbablyBytestringEq"
	><span class="hs-identifier hs-type"
	  >isProbablyBytestringEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Id"
	><span class="hs-identifier hs-type"
	  >GHC.Id</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-347"
      ></span
      ><span id="isProbablyBytestringEq"
      ><span class="annot"
	><span class="annottext"
	  >isProbablyBytestringEq :: Id -&gt; Bool
</span
	  ><a href="PlutusTx.Compiler.Expr.html#isProbablyBytestringEq"
	  ><span class="hs-identifier hs-var hs-var"
	    >isProbablyBytestringEq</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span id="local-6989586621679525966"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679525966"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-348"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525967"
      ><span class="annot"
	><span class="annottext"
	  >Module
</span
	  ><a href="#local-6989586621679525967"
	  ><span class="hs-identifier hs-var"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Maybe Module
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#nameModule_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.nameModule_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679525966"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-349"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ModuleName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/Language.Haskell.Syntax.Module.Name.html#moduleNameString"
	><span class="hs-identifier hs-var"
	  >GHC.moduleNameString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Unit.Types.html#moduleName"
	><span class="hs-identifier hs-var"
	  >GHC.moduleName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Module
</span
	><a href="#local-6989586621679525967"
	><span class="hs-identifier hs-var"
	  >m</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Data.ByteString.Internal&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-350"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ModuleName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/Language.Haskell.Syntax.Module.Name.html#moduleNameString"
	><span class="hs-identifier hs-var"
	  >GHC.moduleNameString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Unit.Types.html#moduleName"
	><span class="hs-identifier hs-var"
	  >GHC.moduleName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Module
</span
	><a href="#local-6989586621679525967"
	><span class="hs-identifier hs-var"
	  >m</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Data.ByteString.Lazy.Internal&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-351"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>OccName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.Occurrence.html#occNameString"
	><span class="hs-identifier hs-var"
	  >GHC.occNameString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; OccName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#nameOccName"
	><span class="hs-identifier hs-var"
	  >GHC.nameOccName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679525966"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;eq&quot;</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-352"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-353"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#isProbablyBytestringEq"
	><span class="hs-identifier hs-var"
	  >isProbablyBytestringEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-354"
      ></span
      ><span
      >
</span
      ><span id="line-355"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#isProbablyIntegerEq"
	><span class="hs-identifier hs-type"
	  >isProbablyIntegerEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Id"
	><span class="hs-identifier hs-type"
	  >GHC.Id</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-356"
      ></span
      ><span id="isProbablyIntegerEq"
      ><span class="annot"
	><span class="annottext"
	  >isProbablyIntegerEq :: Id -&gt; Bool
</span
	  ><a href="PlutusTx.Compiler.Expr.html#isProbablyIntegerEq"
	  ><span class="hs-identifier hs-var hs-var"
	    >isProbablyIntegerEq</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span id="local-6989586621679525975"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679525975"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-357"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525976"
      ><span class="annot"
	><span class="annottext"
	  >Module
</span
	  ><a href="#local-6989586621679525976"
	  ><span class="hs-identifier hs-var"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Maybe Module
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#nameModule_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.nameModule_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679525975"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-358"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ModuleName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/Language.Haskell.Syntax.Module.Name.html#moduleNameString"
	><span class="hs-identifier hs-var"
	  >GHC.moduleNameString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Unit.Types.html#moduleName"
	><span class="hs-identifier hs-var"
	  >GHC.moduleName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Module
</span
	><a href="#local-6989586621679525976"
	><span class="hs-identifier hs-var"
	  >m</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;GHC.Num.Integer&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-359"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>OccName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.Occurrence.html#occNameString"
	><span class="hs-identifier hs-var"
	  >GHC.occNameString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; OccName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#nameOccName"
	><span class="hs-identifier hs-var"
	  >GHC.nameOccName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679525975"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;integerEq&quot;</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-360"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-361"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#isProbablyIntegerEq"
	><span class="hs-identifier hs-var"
	  >isProbablyIntegerEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-362"
      ></span
      ><span
      >
</span
      ><span id="line-363"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| Check for literal ranges like [1..9] and [1, 5..101].  This will also
return `True` if there's an explicit use of `enumFromTo` or similar.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-366"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#isProbablyBoundedRange"
	><span class="hs-identifier hs-type"
	  >isProbablyBoundedRange</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Id"
	><span class="hs-identifier hs-type"
	  >GHC.Id</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-367"
      ></span
      ><span id="isProbablyBoundedRange"
      ><span class="annot"
	><span class="annottext"
	  >isProbablyBoundedRange :: Id -&gt; Bool
</span
	  ><a href="PlutusTx.Compiler.Expr.html#isProbablyBoundedRange"
	  ><span class="hs-identifier hs-var hs-var"
	    >isProbablyBoundedRange</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span id="local-6989586621679525978"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679525978"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-368"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525979"
      ><span class="annot"
	><span class="annottext"
	  >Module
</span
	  ><a href="#local-6989586621679525979"
	  ><span class="hs-identifier hs-var"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Maybe Module
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#nameModule_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.nameModule_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679525978"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-369"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ModuleName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/Language.Haskell.Syntax.Module.Name.html#moduleNameString"
	><span class="hs-identifier hs-var"
	  >GHC.moduleNameString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Unit.Types.html#moduleName"
	><span class="hs-identifier hs-var"
	  >GHC.moduleName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Module
</span
	><a href="#local-6989586621679525979"
	><span class="hs-identifier hs-var"
	  >m</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;GHC.Enum&quot;</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-370"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;$fEnum&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#isPrefixOf"
	><span class="hs-operator hs-var"
	  >`isPrefixOf`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679525980"
	><span class="hs-identifier hs-var"
	  >methodName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-371"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;_$cenumFromTo&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#isSuffixOf"
	><span class="hs-operator hs-var"
	  >`isSuffixOf`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679525980"
	><span class="hs-identifier hs-var"
	  >methodName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-comment"
      >-- [1..100]</span
      ><span
      >
</span
      ><span id="line-372"
      ></span
      ><span
      >                 </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;_$cenumFromThenTo&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#isSuffixOf"
	><span class="hs-operator hs-var"
	  >`isSuffixOf`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679525980"
	><span class="hs-identifier hs-var"
	  >methodName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-comment"
      >-- [1,3..100]</span
      ><span
      >
</span
      ><span id="line-373"
      ></span
      ><span
      >             </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-374"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-375"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;enumDeltaToInteger&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#isPrefixOf"
	><span class="hs-operator hs-var"
	  >`isPrefixOf`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679525980"
	><span class="hs-identifier hs-var"
	  >methodName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-376"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-377"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- \^ These are introduced by inlining for Integer ranges in</span
      ><span
      >
</span
      ><span id="line-378"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- GHC.Enum. This also happens for Char, Word, and Int, but those types</span
      ><span
      >
</span
      ><span id="line-379"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- aren't supported in Plutus Core.</span
      ><span
      >
</span
      ><span id="line-380"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679525980"
      ><span class="annot"
	><span class="annottext"
	  >methodName :: String
</span
	  ><a href="#local-6989586621679525980"
	  ><span class="hs-identifier hs-var hs-var"
	    >methodName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>OccName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.Occurrence.html#occNameString"
	><span class="hs-identifier hs-var"
	  >GHC.occNameString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; OccName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#nameOccName"
	><span class="hs-identifier hs-var"
	  >GHC.nameOccName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679525978"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-381"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#isProbablyBoundedRange"
	><span class="hs-identifier hs-var"
	  >isProbablyBoundedRange</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-382"
      ></span
      ><span
      >
</span
      ><span id="line-383"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| Check for literal ranges like [1..] and [1, 5..].  This will also return
`True` if there's an explicit use of `enumFrom` or similar.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-386"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#isProbablyUnboundedRange"
	><span class="hs-identifier hs-type"
	  >isProbablyUnboundedRange</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Id"
	><span class="hs-identifier hs-type"
	  >GHC.Id</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-387"
      ></span
      ><span id="isProbablyUnboundedRange"
      ><span class="annot"
	><span class="annottext"
	  >isProbablyUnboundedRange :: Id -&gt; Bool
</span
	  ><a href="PlutusTx.Compiler.Expr.html#isProbablyUnboundedRange"
	  ><span class="hs-identifier hs-var hs-var"
	    >isProbablyUnboundedRange</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span id="local-6989586621679525982"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679525982"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-388"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679525983"
      ><span class="annot"
	><span class="annottext"
	  >Module
</span
	  ><a href="#local-6989586621679525983"
	  ><span class="hs-identifier hs-var"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Maybe Module
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#nameModule_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.nameModule_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679525982"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-389"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ModuleName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/Language.Haskell.Syntax.Module.Name.html#moduleNameString"
	><span class="hs-identifier hs-var"
	  >GHC.moduleNameString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Unit.Types.html#moduleName"
	><span class="hs-identifier hs-var"
	  >GHC.moduleName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Module
</span
	><a href="#local-6989586621679525983"
	><span class="hs-identifier hs-var"
	  >m</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;GHC.Enum&quot;</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-390"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;$fEnum&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#isPrefixOf"
	><span class="hs-operator hs-var"
	  >`isPrefixOf`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679525984"
	><span class="hs-identifier hs-var"
	  >methodName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-391"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;_$cenumFrom&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#isSuffixOf"
	><span class="hs-operator hs-var"
	  >`isSuffixOf`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679525984"
	><span class="hs-identifier hs-var"
	  >methodName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-comment"
      >-- [1..]</span
      ><span
      >
</span
      ><span id="line-392"
      ></span
      ><span
      >                 </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;_$cenumFromThen&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#isSuffixOf"
	><span class="hs-operator hs-var"
	  >`isSuffixOf`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679525984"
	><span class="hs-identifier hs-var"
	  >methodName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-comment"
      >-- [1,3..]</span
      ><span
      >
</span
      ><span id="line-393"
      ></span
      ><span
      >             </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-394"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-395"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;enumDeltaInteger&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#isPrefixOf"
	><span class="hs-operator hs-var"
	  >`isPrefixOf`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679525984"
	><span class="hs-identifier hs-var"
	  >methodName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-comment"
      >-- Introduced by inlining</span
      ><span
      >
</span
      ><span id="line-396"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-397"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679525984"
      ><span class="annot"
	><span class="annottext"
	  >methodName :: String
</span
	  ><a href="#local-6989586621679525984"
	  ><span class="hs-identifier hs-var hs-var"
	    >methodName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>OccName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.Occurrence.html#occNameString"
	><span class="hs-identifier hs-var"
	  >GHC.occNameString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; OccName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#nameOccName"
	><span class="hs-identifier hs-var"
	  >GHC.nameOccName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679525982"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-398"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#isProbablyUnboundedRange"
	><span class="hs-identifier hs-var"
	  >isProbablyUnboundedRange</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-399"
      ></span
      ><span
      >
</span
      ><span id="line-400"
      ></span
      ><span class="hs-comment"
      >{- Note [GHC runtime errors]
GHC has a number of runtime errors for things like pattern matching failures and so on.

We just translate these directly into calls to error, throwing away any other information.
-}</span
      ><span
      >
</span
      ><span id="line-405"
      ></span
      ><span
      >
</span
      ><span id="line-406"
      ></span
      ><span class="hs-comment"
      >{- Note [Uses of Eq]
Eq can pop up in some annoying places:
- Literal patterns can introduce guards that use == from Eq
- Users can just plain use it instead of our Eq

This typically then leads to things we can't compile.

So, we can try and give an error when people do this. The obvious thing to do is to give an
error if we see a method of Eq. However, this doesn't work since the methods often get
inlined before we see them, either by the simplifier pass we run on our own module, or
because the simplifier does at least gentle inlining on unfoldings from other modules
before we see them.

So we have a few special cases in addition to catch things that look like inlined Integer or
ByteString equality, since those are especially likely to come up.
-}</span
      ><span
      >
</span
      ><span id="line-422"
      ></span
      ><span
      >
</span
      ><span id="line-423"
      ></span
      ><span class="hs-comment"
      >{- Note [At patterns]
GHC handles @-patterns by adding a variable to each case expression representing the scrutinee
of the expression.

We handle this by simply let-binding that variable outside our generated case.

However, there is a subtlety: we'd like this binding to be removed by the dead-binding removal pass in PIR,
but only where we don't absolutely need it to be sure the scrutinee is evaluated. Fortunately, provided
we do a pattern match at all we will evaluate the scrutinee, since we do pattern matching by applying the scrutinee.

So the only case where we *need* to keep the binding in place is the case described in Note [Evaluation-only cases].
In this case we make a strict binding, in all others we make a non-strict binding.
-}</span
      ><span
      >
</span
      ><span id="line-436"
      ></span
      ><span
      >
</span
      ><span id="line-437"
      ></span
      ><span class="hs-comment"
      >{- Note [Evaluation-only cases]
GHC sometimes generates case expressions where there is only a single alternative, and where none
of the variables bound by the alternative are live (see Note [Occurrence analysis] for how we tell
that this is the case).

What this amounts to is ensuring the expression is evaluated - hence one place this appears is bang
patterns.

It can do this even if the argument is a type variable (i.e. not known to be a datatype) by producing
a default-only case expression! Also, this can happen to our opaque builtin wrapper types in the
presence of e.g. bang patterns.

We can't actually compile this as a pattern match, since we need to know the actual type to do that,
(or in the case of builtin wrapper types, they're supposed to be opaque!).
But in the case where there is only one alternative with no live variables, we don't *need* to, because it
doesn't actually *do* anything with the contents of the datatype. So we can just compile this by returning
the body of the alternative wrapped in a strict let which binds the scrutinee. That achieves the
same thing as GHC wants (since GHC does expect the scrutinee to be in scope!).
-}</span
      ><span
      >
</span
      ><span id="line-456"
      ></span
      ><span
      >
</span
      ><span id="line-457"
      ></span
      ><span class="hs-comment"
      >{- Note [Coercions and newtypes]
GHC is keen to put coercions in, they're usually great for it. However, this is a pain for us, since
you can have all kinds of fancy coercions, like coercions between functions where some of the arguments
are newtypes. We don't need to support all the stuff you can do with coercions, but we do want to
support newtypes.

A previous approach was to inspect coercions to try and work out if they were coercions between a newtype
and its underlying type, and if so manually construct/deconstruct it. This had a number of disadvantages.
- It only worked on very specific cases (e.g. if the simplifier gets loose it can make more complicated
  coercions that we can't obviously deconstruct without much more work)
- It wasn't future-proof. It's likely that GHC will move in the direction of getting rid of the structure
  of coercions (see https://gitlab.haskell.org//ghc/ghc/issues/8095#note_108189), so this approach might
  well stop working in the future.

So we would like to &quot;believe&quot; coercions, for at least some cases. We can
do this by always treating a newtype as it's underlying type. Except - this doesn't work for recursive
newtypes (we loop!). GHC doesn't have this problem because it treats the underlying type and the
newtype as separate types that happen to have the same representation. We don't have a separate representation
so we don't have that option.

So for the moment we:
- Treat newtypes as their underlying type.
- Blackhole newtypes when we start converting them so we can bail if they're recursive.
- Always believe coercions (i.e. just treat casts as the identity).

The final point could get us into trouble with fancier uses of coercions (since we will just accept them),
but those should fail when we typecheck the PLC. And we explicitly say we don't support such things.
-}</span
      ><span
      >
</span
      ><span id="line-485"
      ></span
      ><span
      >
</span
      ><span id="line-486"
      ></span
      ><span class="hs-comment"
      >{- Note [Unfoldings]
GHC stores the current RHS of bindings in &quot;unfoldings&quot;. These are used for inlining, but
also generally provide the compiler's view of the RHS of a binding. They are usually available
for other modules in the same package, and can be available cross-package if GHC decides it's
a good idea or if the binding is marked INLINABLE (or if you use `-fexpose-all-unfoldings`).

We use unfoldings to get the definitions of non-locally bound names. We then hoist these into
definitions using PIR's support for definitions. This allows a relatively direct form of code
reuse - provided that the code you are reusing has unfoldings! In practice this means you may
need to scatter some INLINABLE pragmas around, but we may be able to improve this in future,
see e.g. https://gitlab.haskell.org/ghc/ghc/issues/10871.

(Since unfoldings are updated as the compiler progresses, unfoldings for bindings in other
modules are typically fully-optimized. The exception is the unfoldings for INLINABLE bindings,
which get the *pre* optimization RHS. This is so that rewrite rules can fire. In practice, this
means that we need to be okay getting either.)
-}</span
      ><span
      >
</span
      ><span id="line-503"
      ></span
      ><span
      >
</span
      ><span id="line-504"
      ></span
      ><span class="hs-comment"
      >{- Note [Non-strict let-bindings]
Haskell is a non-strict language, PLC is a strict language. One place that can show up is in let-bindings.
In particular, a let-binding where the RHS is not value may behave differently.
e.g.
```
let e = error in if x then e else ()
```
In Haskell this is conditionally error, in PLC it is unconditionally error.

These sorts of thing can be written by the user, or generated by GHC.

We solve this by compiling let-bindings *non-strictly*. That means we delay the body
and force all uses of it.

Conveniently, we can just use PIR's support for non-strict let bindings to implement this.
The PIR optimizer (which we use by default) will also strictify any such bindings that
turn out to be pure, so we shouldn't pay any cost for having unnecessary non-strict
bindings.
-}</span
      ><span
      >
</span
      ><span id="line-523"
      ></span
      ><span
      >
</span
      ><span id="line-524"
      ></span
      ><span class="hs-comment"
      >{- Note [String literals]
String literals are a huge pain. Ultimately, the reason for this is that GHC's 'String' type
is transparently equal to '[Char]', it is *not* opaque.

So we can't just replace GHC's 'String' with PLC's 'String' wholesale. Otherwise things will
behave quite weirdly with things that expect 'String' to be a list. (We want to be type-preserving!)

However, we can get from GHC's 'String' to our 'String' using 'IsString'. This is fine in theory:
we can turn string literals into lists of characters, and then fold over the list adding them
into a big string. But it's bad for two reasons:
- We have to actually do the fold.
- The string literal is there in the generated code as a list of characters, which is pretty big.

So we'd really like to recognize the pattern of applying 'fromString' to a string literal, and then
just use the content of the Haskell string literal to make a PLC string literal.

This is very fiddly:
- Sometimes we get the typeclass method application.
    - But we only want to change it when it's targeting the PLC string type, so we need to have
      that type around so we can check.
- Sometimes the selector has been inlined.
    - We can't easily get access to the name of the method definition itself, so instead we mark
      that as INLINE and look for a special function ('stringToBuiltinString') that is in its
      body (and we use the OPAQUE pragma on that function to ensure it isn't inlined).
- Sometimes our heuristics fail.
    - The actual definition of 'stringToBuiltinString' works, so in the worst case we fall back
      to using it and converting the list of characters into an expression.

It's also annoying since this is the first time that we have to look for a marker function inside
the plugin compilation mode, so we have a special function that's not a builtin (in that it doesn't
just get turned into a function in PLC).
-}</span
      ><span
      >
</span
      ><span id="line-556"
      ></span
      ><span
      >
</span
      ><span id="line-557"
      ></span
      ><span class="hs-comment"
      >{- Note [Runtime reps]
GHC has the notion of `RuntimeRep`. The kind of types is actually `TYPE rep`, where rep is of kind
`RuntimeRep`. Thus normal types have kind `TYPE LiftedRep`, and unlifted and unboxed types have
various other fancy kinds.

We don't have different runtime representations. But we can make the observation that for things
which say they should have a different runtime representation... we can just represent them as
normal lifted types. In particular, this lets us represent unboxed tuples as normal tuples, which
is helpful, since GHC will often produce these when it transforms the program.

That gives us a strategy for `RuntimeRep`
- Compile `TYPE rep` as `Type`, regardless of what `rep` is
- Ignore binders that bind types of kind `RuntimeRep`, assuming that those will only ever be used
  in a `Type rep` where we are going to ignore the rep anyway.
    - Note that binders for types of kind runtime rep binders can appear in both types and kinds!
- Ignore applications to types of kind `RuntimeRep`, since we're ignoring the binders.

Doing this thoroughly means also ignoring them in types, type constructors, and data constructors,
which is a bit more involved, see e.g.
- 'dropRuntimeRepVars' in 'compileTyCon' to ignore 'RuntimeRep' type variables
- 'dropRuntimeRepArgs' in 'compileType' and 'getMatchInstantiated'
-}</span
      ><span
      >
</span
      ><span id="line-579"
      ></span
      ><span
      >
</span
      ><span id="line-580"
      ></span
      ><span class="hs-comment"
      >{- Note [Dependency tracking]
We use the PIR support for creating a whole bunch of definitions with dependencies between them, and then generating the code with them all
in the right order. However, this requires us to know what the dependencies of a definition *are*.

There are broadly two ways we could do this:
1. Statically determine before compiling a term/type what it depends on (e.g. by looking at the free variables in the input Core).
2. Dynamically track dependencies as we compile a term/type; whenever we see a reference to something, add it as a dependency.

We used to do the former but we now do the latter. The reason for this is that we sometimes generate bits of code
dynamically as we go. For example, the boolean coverage code *adds* some calls to 'traceBool' into the program. That means
we need a dependency on 'traceBool' - but it wasn't there at the beginning, so a static approach won't work.

The dynamic approach requires us to:
1. Track the current definition.
2. Ensure that the definition is tracked while we are recording things it may depend on (this may require creating a fake definition to begin with)
3. Record dependencies when we find them.

This typically means that we do a three-step process for a given definition:
1. Create a definition with a fake body (this is often also needed for recursion, see Note [Occurrences of recursive names])
2. Compile the real body (during which point dependencies are discovered and added to the fake definition).
3. Modify the definition with the real body.
-}</span
      ><span
      >
</span
      ><span id="line-602"
      ></span
      ><span
      >
</span
      ><span id="line-603"
      ></span
      ><span class="hs-comment"
      >{- Note [Occurrence analysis]
GHC has &quot;occurrence analysis&quot;, which is quite handy. In particular, it can tell you if variables are dead, which is useful
in a couple of places.

But it typically gets run *before* the simplifier, so when we get the expression we might be missing occurence analysis
for any variables that were freshly created by the simplifier. That's easy to fix: we just run the occurrence analyser
ourselves before we start.
-}</span
      ><span
      >
</span
      ><span id="line-611"
      ></span
      ><span
      >
</span
      ><span id="line-612"
      ></span
      ><span id="local-6989586621679525042"
      ><span id="local-6989586621679525043"
	><span id="local-6989586621679525044"
	  ><span id="local-6989586621679525045"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#hoistExpr"
		><span class="hs-identifier hs-type"
		  >hoistExpr</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-613"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525042"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525043"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525044"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525045"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-614"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Var"
		><span class="hs-identifier hs-type"
		  >GHC.Var</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-615"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
		><span class="hs-identifier hs-type"
		  >GHC.CoreExpr</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-616"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525044"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525042"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525043"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-617"
      ></span
      ><span id="hoistExpr"
      ><span class="annot"
	><span class="annottext"
	  >hoistExpr :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Id -&gt; CoreExpr -&gt; m (PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#hoistExpr"
	  ><span class="hs-identifier hs-var hs-var"
	    >hoistExpr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526082"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679526082"
	  ><span class="hs-identifier hs-var"
	    >var</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526083"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679526083"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-618"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526084"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526084"
	  ><span class="hs-identifier hs-var"
	    >wrapUnsafeDataAsConstrName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      >
</span
      ><span id="line-619"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >PlutusTx.AsData.Internal.wrapUnsafeDataAsConstr</span
      ><span
      >
</span
      ><span id="line-620"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679526086"
      ><span class="annot"
	><span class="annottext"
	  >name :: Name
</span
	  ><a href="#local-6989586621679526086"
	  ><span class="hs-identifier hs-var hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526082"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-621"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679526087"
      ><span class="annot"
	><span class="annottext"
	  >lexName :: LexName
</span
	  ><a href="#local-6989586621679526087"
	  ><span class="hs-identifier hs-var hs-var"
	    >lexName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; LexName
</span
	><a href="PlutusTx.Compiler.Types.html#LexName"
	><span class="hs-identifier hs-var"
	  >LexName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526086"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-622"
      ></span
      ><span
      >
</span
      ><span id="line-623"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- See Note [Compiling AsData Matchers and Their Invocations]</span
      ><span
      >
</span
      ><span id="line-624"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679526089"
      ><span class="annot"
	><span class="annottext"
	  >isAsDataMatcher :: Bool
</span
	  ><a href="#local-6989586621679526089"
	  ><span class="hs-identifier hs-var hs-var"
	    >isAsDataMatcher</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-625"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; Bool) -&gt; [Id] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#any"
	><span class="hs-identifier hs-var"
	  >any</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-626"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526084"
	><span class="hs-identifier hs-var"
	  >wrapUnsafeDataAsConstrName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; Bool) -&gt; (Id -&gt; Name) -&gt; Id -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-627"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; [Id]
forall from to. Biplate from to =&gt; from -&gt; [to]
</span
	><a href="https://hackage.haskell.org/package/uniplate-1.6.13/docs/src/Data.Generics.Uniplate.Operations.html#universeBi"
	><span class="hs-identifier hs-var"
	  >universeBi</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526083"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-628"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- If the original ID has an &quot;always inline&quot; pragma, then</span
      ><span
      >
</span
      ><span id="line-629"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- propagate that to PIR so that the PIR inliner will deal</span
      ><span
      >
</span
      ><span id="line-630"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- with it.</span
      ><span
      >
</span
      ><span id="line-631"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679526091"
      ><span class="annot"
	><span class="annottext"
	  >ann :: Ann
</span
	  ><a href="#local-6989586621679526091"
	  ><span class="hs-identifier hs-var hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-632"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Expr.html#hasAlwaysInlinePragma"
	><span class="hs-identifier hs-var"
	  >hasAlwaysInlinePragma</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526082"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annAlwaysInline"
	><span class="hs-identifier hs-var"
	  >annAlwaysInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-633"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Annotation.html#annIsAsDataMatcher"
	><span class="hs-identifier hs-var"
	  >annIsAsDataMatcher</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679526089"
	><span class="hs-identifier hs-type"
	  >isAsDataMatcher</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-634"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-635"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- See Note [Dependency tracking]</span
      ><span
      >
</span
      ><span id="line-636"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>(Set LexName -&gt; Set LexName) -&gt; m ()
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
(Set LexName -&gt; Set LexName) -&gt; m ()
</span
	><a href="PlutusTx.Compiler.Types.html#modifyCurDeps"
	><span class="hs-identifier hs-var"
	  >modifyCurDeps</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>LexName -&gt; Set LexName -&gt; Set LexName
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Set.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
</span
	><a href="#local-6989586621679526087"
	><span class="hs-identifier hs-var"
	  >lexName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-637"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526097"
      ><span class="annot"
	><span class="annottext"
	  >Maybe (PIRTerm uni fun)
</span
	  ><a href="#local-6989586621679526097"
	  ><span class="hs-identifier hs-var"
	    >maybeDef</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LexName -&gt; m (Maybe (PIRTerm uni fun))
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; m (Maybe (Term TyName Name uni fun ann))
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#lookupTerm"
	><span class="hs-identifier hs-var"
	  >PIR.lookupTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
</span
	><a href="#local-6989586621679526087"
	><span class="hs-identifier hs-var"
	  >lexName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-638"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679526099"
      ><span class="annot"
	><span class="annottext"
	  >addSpan :: m (PIRTerm DefaultUni DefaultFun)
-&gt; m (PIRTerm DefaultUni DefaultFun)
</span
	  ><a href="#local-6989586621679526099"
	  ><span class="hs-identifier hs-var hs-var"
	    >addSpan</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Maybe RealSrcSpan
</span
	><a href="PlutusTx.Compiler.Expr.html#getVarSourceSpan"
	><span class="hs-identifier hs-var"
	  >getVarSourceSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526082"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-639"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe RealSrcSpan
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (PIRTerm DefaultUni DefaultFun)
-&gt; m (PIRTerm DefaultUni DefaultFun)
forall a. a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#id"
	><span class="hs-identifier hs-var"
	  >id</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-640"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526102"
      ><span class="annot"
	><span class="annottext"
	  >RealSrcSpan
</span
	  ><a href="#local-6989586621679526102"
	  ><span class="hs-identifier hs-var"
	    >src</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun)
-&gt; m (PIRTerm DefaultUni DefaultFun)
-&gt; m (PIRTerm DefaultUni DefaultFun)
forall a b. (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun)
 -&gt; m (PIRTerm DefaultUni DefaultFun)
 -&gt; m (PIRTerm DefaultUni DefaultFun))
-&gt; (SrcSpan
    -&gt; PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun)
-&gt; SrcSpan
-&gt; m (PIRTerm DefaultUni DefaultFun)
-&gt; m (PIRTerm DefaultUni DefaultFun)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Ann -&gt; Ann)
-&gt; PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun
forall a b.
(a -&gt; b)
-&gt; Term TyName Name DefaultUni DefaultFun a
-&gt; Term TyName Name DefaultUni DefaultFun b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Ann -&gt; Ann)
 -&gt; PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun)
-&gt; (SrcSpan -&gt; Ann -&gt; Ann)
-&gt; SrcSpan
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PIRTerm DefaultUni DefaultFun
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; Ann -&gt; Ann
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#addSrcSpan"
	><span class="hs-identifier hs-var"
	  >addSrcSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SrcSpan
 -&gt; m (PIRTerm DefaultUni DefaultFun)
 -&gt; m (PIRTerm DefaultUni DefaultFun))
-&gt; SrcSpan
-&gt; m (PIRTerm DefaultUni DefaultFun)
-&gt; m (PIRTerm DefaultUni DefaultFun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679526102"
	><span class="hs-identifier hs-var"
	  >src</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Getting SrcSpan RealSrcSpan SrcSpan -&gt; SrcSpan
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting SrcSpan RealSrcSpan SrcSpan
Iso' RealSrcSpan SrcSpan
</span
	><a href="PlutusTx.Compiler.Expr.html#srcSpanIso"
	><span class="hs-identifier hs-var"
	  >srcSpanIso</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-641"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (PIRTerm uni fun)
</span
	><a href="#local-6989586621679526097"
	><span class="hs-identifier hs-var"
	  >maybeDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-642"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526106"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679526106"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679526106"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-643"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Dependency tracking]</span
      ><span
      >
</span
      ><span id="line-644"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (PIRTerm uni fun)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LexName -&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann a.
Compiling uni fun m ann =&gt;
LexName -&gt; m a -&gt; m a
</span
	><a href="PlutusTx.Compiler.Types.html#withCurDef"
	><span class="hs-identifier hs-var"
	  >withCurDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
</span
	><a href="#local-6989586621679526087"
	><span class="hs-identifier hs-var"
	  >lexName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun))
-&gt; (m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun)
-&gt; m (PIRTerm uni fun)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; SDoc -&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) e a.
(MonadReader (CompileContext uni fun) m, MonadState CompileState m,
 MonadError (WithContext Text e) m) =&gt;
Int -&gt; SDoc -&gt; m a -&gt; m a
</span
	><a href="PlutusTx.Compiler.Trace.html#traceCompilation"
	><span class="hs-identifier hs-var"
	  >traceCompilation</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Compiling definition of:&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526082"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-645"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679526108"
      ><span class="annot"
	><span class="annottext"
	  >VarDecl TyName Name DefaultUni Ann
</span
	  ><a href="#local-6989586621679526108"
	  ><span class="hs-identifier hs-var"
	    >var'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Id -&gt; m (VarDecl TyName Name DefaultUni Ann)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Ann -&gt; Id -&gt; m (PLCVar uni)
</span
	><a href="PlutusTx.Compiler.Names.html#compileVarFresh"
	><span class="hs-identifier hs-var"
	  >compileVarFresh</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679526091"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526082"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-646"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- See Note [Occurrences of recursive names]</span
      ><span
      >
</span
      ><span id="line-647"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
-&gt; Set LexName
-&gt; m ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; TermDefWithStrictness uni fun ann -&gt; Set key -&gt; m ()
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#defineTerm"
	><span class="hs-identifier hs-var"
	  >PIR.defineTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-648"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
</span
	><a href="#local-6989586621679526087"
	><span class="hs-identifier hs-var"
	  >lexName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-649"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
-&gt; (PIRTerm DefaultUni DefaultFun, Strictness)
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
forall var val. var -&gt; val -&gt; Def var val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#Def"
	><span class="hs-identifier hs-var"
	  >PIR.Def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
</span
	><a href="#local-6989586621679526108"
	><span class="hs-identifier hs-var"
	  >var'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann -&gt; PIRTerm DefaultUni DefaultFun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
VarDecl tyname name uni ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkVar"
	><span class="hs-identifier hs-var"
	  >PIR.mkVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
</span
	><a href="#local-6989586621679526108"
	><span class="hs-identifier hs-var"
	  >var'</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Strict"
	><span class="hs-identifier hs-var"
	  >PIR.Strict</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-650"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Set LexName
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-651"
      ></span
      ><span
      >
</span
      ><span id="line-652"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679526114"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm DefaultUni DefaultFun
</span
	  ><a href="#local-6989586621679526114"
	  ><span class="hs-identifier hs-var"
	    >t'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
-&gt; VarDecl TyName Name DefaultUni Ann
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; m (PIRTerm DefaultUni DefaultFun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Id -&gt; PLCVar uni -&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#maybeProfileRhs"
	><span class="hs-identifier hs-var"
	  >maybeProfileRhs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526082"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
</span
	><a href="#local-6989586621679526108"
	><span class="hs-identifier hs-var"
	  >var'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm DefaultUni DefaultFun
 -&gt; m (PIRTerm DefaultUni DefaultFun))
-&gt; m (PIRTerm DefaultUni DefaultFun)
-&gt; m (PIRTerm DefaultUni DefaultFun)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3D%3C%3C"
	><span class="hs-operator hs-var"
	  >=&lt;&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (PIRTerm DefaultUni DefaultFun)
-&gt; m (PIRTerm DefaultUni DefaultFun)
</span
	><a href="#local-6989586621679526099"
	><span class="hs-identifier hs-var"
	  >addSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm DefaultUni DefaultFun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526083"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-653"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- See Note [Non-strict let-bindings]</span
      ><span
      >
</span
      ><span id="line-654"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
-&gt; (TermDefWithStrictness DefaultUni DefaultFun Ann
    -&gt; TermDefWithStrictness DefaultUni DefaultFun Ann)
-&gt; m ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key
-&gt; (TermDefWithStrictness uni fun ann
    -&gt; TermDefWithStrictness uni fun ann)
-&gt; m ()
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#modifyTermDef"
	><span class="hs-identifier hs-var"
	  >PIR.modifyTermDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
</span
	><a href="#local-6989586621679526087"
	><span class="hs-identifier hs-var"
	  >lexName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TermDefWithStrictness DefaultUni DefaultFun Ann
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
forall a b. a -&gt; b -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#const"
	><span class="hs-identifier hs-var"
	  >const</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TermDefWithStrictness DefaultUni DefaultFun Ann
 -&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
 -&gt; TermDefWithStrictness DefaultUni DefaultFun Ann)
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
-&gt; (PIRTerm DefaultUni DefaultFun, Strictness)
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
forall var val. var -&gt; val -&gt; Def var val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#Def"
	><span class="hs-identifier hs-var"
	  >PIR.Def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
</span
	><a href="#local-6989586621679526108"
	><span class="hs-identifier hs-var"
	  >var'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679526114"
	><span class="hs-identifier hs-var"
	  >t'</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#NonStrict"
	><span class="hs-identifier hs-var"
	  >PIR.NonStrict</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-655"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann -&gt; PIRTerm uni fun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
VarDecl tyname name uni ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkVar"
	><span class="hs-identifier hs-var"
	  >PIR.mkVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
</span
	><a href="#local-6989586621679526108"
	><span class="hs-identifier hs-var"
	  >var'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-656"
      ></span
      ><span
      >
</span
      ><span id="line-657"
      ></span
      ><span class="hs-comment"
      >-- 'GHC.Var' in argument is only for extracting srcspan and accurate name.</span
      ><span
      >
</span
      ><span id="line-658"
      ></span
      ><span id="local-6989586621679525121"
      ><span id="local-6989586621679525122"
	><span id="local-6989586621679525123"
	  ><span id="local-6989586621679525124"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#maybeProfileRhs"
		><span class="hs-identifier hs-type"
		  >maybeProfileRhs</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-659"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525121"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525122"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525123"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525124"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-660"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Var"
		><span class="hs-identifier hs-type"
		  >GHC.Var</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-661"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusTx.PLCTypes.html#PLCVar"
		><span class="hs-identifier hs-type"
		  >PLCVar</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525121"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-662"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525121"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525122"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-663"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525123"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525121"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525122"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-664"
      ></span
      ><span id="maybeProfileRhs"
      ><span class="annot"
	><span class="annottext"
	  >maybeProfileRhs :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Id -&gt; PLCVar uni -&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#maybeProfileRhs"
	  ><span class="hs-identifier hs-var hs-var"
	    >maybeProfileRhs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526153"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679526153"
	  ><span class="hs-identifier hs-var"
	    >ghcVar</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526154"
      ><span class="annot"
	><span class="annottext"
	  >PLCVar uni
</span
	  ><a href="#local-6989586621679526154"
	  ><span class="hs-identifier hs-var"
	    >var</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526155"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679526155"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-665"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Types.html#CompileContext"
	><span class="hs-identifier hs-type"
	  >CompileContext</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>ccOpts :: forall (uni :: * -&gt; *) fun.
CompileContext uni fun -&gt; CompileOptions
</span
	><a href="PlutusTx.Compiler.Types.html#ccOpts"
	><span class="hs-identifier hs-var"
	  >ccOpts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679526158"
      ><span class="annot"
	><span class="annottext"
	  >CompileOptions
</span
	  ><a href="#local-6989586621679526158"
	  ><span class="hs-identifier hs-var"
	    >compileOpts</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (CompileContext DefaultUni DefaultFun)
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#ask"
	><span class="hs-identifier hs-var"
	  >ask</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-666"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-667"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679526159"
      ><span class="annot"
	><span class="annottext"
	  >nameStr :: String
</span
	  ><a href="#local-6989586621679526159"
	  ><span class="hs-identifier hs-var hs-var"
	    >nameStr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>OccName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.Occurrence.html#occNameString"
	><span class="hs-identifier hs-var"
	  >GHC.occNameString</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(OccName -&gt; String) -&gt; OccName -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; OccName
forall name. HasOccName name =&gt; name -&gt; OccName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.Occurrence.html#occName"
	><span class="hs-identifier hs-var"
	  >GHC.occName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; OccName) -&gt; Name -&gt; OccName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#varName"
	><span class="hs-identifier hs-var"
	  >GHC.varName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; Name) -&gt; Id -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526153"
	><span class="hs-identifier hs-var"
	  >ghcVar</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-668"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679526162"
      ><span class="annot"
	><span class="annottext"
	  >displayName :: Text
</span
	  ><a href="#local-6989586621679526162"
	  ><span class="hs-identifier hs-var hs-var"
	    >displayName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >T.pack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-669"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Maybe RealSrcSpan
</span
	><a href="PlutusTx.Compiler.Expr.html#getVarSourceSpan"
	><span class="hs-identifier hs-var"
	  >getVarSourceSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526153"
	><span class="hs-identifier hs-var"
	  >ghcVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-670"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- When module is not compiled and GHC is using cached build from previous build, it will</span
      ><span
      >
</span
      ><span id="line-671"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- lack source span. There's nothing much we can do about this here since this is GHC</span
      ><span
      >
</span
      ><span id="line-672"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- behavior. Issue #7203</span
      ><span
      >
</span
      ><span id="line-673"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe RealSrcSpan
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679526159"
	><span class="hs-identifier hs-var"
	  >nameStr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-674"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526163"
      ><span class="annot"
	><span class="annottext"
	  >RealSrcSpan
</span
	  ><a href="#local-6989586621679526163"
	  ><span class="hs-identifier hs-var"
	    >src</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679526159"
	><span class="hs-identifier hs-var"
	  >nameStr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot; (&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679526163"
	><span class="hs-identifier hs-var"
	  >src</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Getting SrcSpan RealSrcSpan SrcSpan -&gt; SrcSpan
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting SrcSpan RealSrcSpan SrcSpan
Iso' RealSrcSpan SrcSpan
</span
	><a href="PlutusTx.Compiler.Expr.html#srcSpanIso"
	><span class="hs-identifier hs-var"
	  >srcSpanIso</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;)&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-675"
      ></span
      ><span
      >
</span
      ><span id="line-676"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679526164"
      ><span class="annot"
	><span class="annottext"
	  >ty :: Type TyName uni Ann
</span
	  ><a href="#local-6989586621679526164"
	  ><span class="hs-identifier hs-var hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCVar uni -&gt; Type TyName uni Ann
forall tyname name (uni :: * -&gt; *) ann.
VarDecl tyname name uni ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#_varDeclType"
	><span class="hs-identifier hs-var"
	  >PLC._varDeclType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCVar uni
</span
	><a href="#local-6989586621679526154"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-677"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679526166"
      ><span class="annot"
	><span class="annottext"
	  >isFunctionOrAbstraction :: Bool
</span
	  ><a href="#local-6989586621679526166"
	  ><span class="hs-identifier hs-var hs-var"
	    >isFunctionOrAbstraction</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni Ann
</span
	><a href="#local-6989586621679526164"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-type"
	  >PLC.TyFun</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span class="hs-special"
      >;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyForall"
	><span class="hs-identifier hs-type"
	  >PLC.TyForall</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span class="hs-special"
      >;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni Ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-678"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Trace only if profiling is on *and* the thing being defined is a function</span
      ><span
      >
</span
      ><span id="line-679"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileOptions -&gt; ProfileOpts
</span
	><a href="PlutusTx.Compiler.Types.html#coProfile"
	><span class="hs-identifier hs-var"
	  >coProfile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileOptions
</span
	><a href="#local-6989586621679526158"
	><span class="hs-identifier hs-var"
	  >compileOpts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ProfileOpts -&gt; ProfileOpts -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ProfileOpts
</span
	><a href="PlutusTx.Compiler.Types.html#All"
	><span class="hs-identifier hs-var"
	  >All</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679526166"
	><span class="hs-identifier hs-var"
	  >isFunctionOrAbstraction</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-680"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-681"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679526171"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526171"
	  ><span class="hs-identifier hs-var"
	    >thunk</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; m Name
forall (m :: * -&gt; *). MonadQuote m =&gt; Text -&gt; m Name
</span
	><a href="../../plutus-core/src/PlutusCore.Quote.html#freshName"
	><span class="hs-identifier hs-var"
	  >PLC.freshName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;thunk&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-682"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni DefaultFun -&gt; m (PIRTerm DefaultUni DefaultFun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm DefaultUni DefaultFun
 -&gt; m (PIRTerm DefaultUni DefaultFun))
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; m (PIRTerm DefaultUni DefaultFun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
-&gt; Text
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
</span
	><a href="PlutusTx.Compiler.Expr.html#entryExitTracingInside"
	><span class="hs-identifier hs-var"
	  >entryExitTracingInside</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526171"
	><span class="hs-identifier hs-var"
	  >thunk</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679526162"
	><span class="hs-identifier hs-var"
	  >displayName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679526155"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni Ann
PLCType DefaultUni
</span
	><a href="#local-6989586621679526164"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-683"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679526155"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-684"
      ></span
      ><span
      >
</span
      ><span id="line-685"
      ></span
      ><span id="local-6989586621679525152"
      ><span class="annot"
	><a href="PlutusTx.Compiler.Expr.html#mkTrace"
	  ><span class="hs-identifier hs-type"
	    >mkTrace</span
	    ></a
	  ></span
	><span
	>
</span
	><span id="line-686"
	></span
	><span
	>  </span
	><span class="hs-glyph"
	>::</span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="annot"
	><a href="#local-6989586621679525152"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#HasTermLevel"
	  ><span class="hs-operator hs-type"
	    >`PLC.HasTermLevel`</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	  ><span class="hs-identifier hs-type"
	    >T.Text</span
	    ></a
	  ></span
	><span class="hs-special"
	>)</span
	><span
	>
</span
	><span id="line-687"
	></span
	><span
	>  </span
	><span class="hs-glyph"
	>=&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	  ><span class="hs-identifier hs-type"
	    >PLC.Type</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	  ><span class="hs-identifier hs-type"
	    >PLC.TyName</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679525152"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#Ann"
	  ><span class="hs-identifier hs-type"
	    >Ann</span
	    ></a
	  ></span
	><span
	>
</span
	><span id="line-688"
	></span
	><span
	>  </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	  ><span class="hs-identifier hs-type"
	    >T.Text</span
	    ></a
	  ></span
	><span
	>
</span
	><span id="line-689"
	></span
	><span
	>  </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="PlutusTx.PIRTypes.html#PIRTerm"
	  ><span class="hs-identifier hs-type"
	    >PIRTerm</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679525152"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	  ><span class="hs-identifier hs-type"
	    >PLC.DefaultFun</span
	    ></a
	  ></span
	><span
	>
</span
	><span id="line-690"
	></span
	><span
	>  </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="PlutusTx.PIRTypes.html#PIRTerm"
	  ><span class="hs-identifier hs-type"
	    >PIRTerm</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679525152"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	  ><span class="hs-identifier hs-type"
	    >PLC.DefaultFun</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-691"
      ></span
      ><span id="mkTrace"
      ><span class="annot"
	><span class="annottext"
	  >mkTrace :: forall (uni :: * -&gt; *).
HasTermLevel uni Text =&gt;
Type TyName uni Ann
-&gt; Text -&gt; PIRTerm uni DefaultFun -&gt; PIRTerm uni DefaultFun
</span
	  ><a href="PlutusTx.Compiler.Expr.html#mkTrace"
	  ><span class="hs-identifier hs-var hs-var"
	    >mkTrace</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526185"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni Ann
</span
	  ><a href="#local-6989586621679526185"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526186"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679526186"
	  ><span class="hs-identifier hs-var"
	    >str</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526187"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni DefaultFun
</span
	  ><a href="#local-6989586621679526187"
	  ><span class="hs-identifier hs-var"
	    >v</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-692"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni DefaultFun
-&gt; [(Ann, PIRTerm uni DefaultFun)] -&gt; PIRTerm uni DefaultFun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
term ann -&gt; [(ann, term ann)] -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterApp"
	><span class="hs-identifier hs-var"
	  >PLC.mkIterApp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-693"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; PIRTerm uni DefaultFun
-&gt; Type TyName uni Ann
-&gt; PIRTerm uni DefaultFun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Term tyname name uni fun a
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TyInst"
	><span class="hs-identifier hs-var"
	  >PIR.TyInst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; DefaultFun -&gt; PIRTerm uni DefaultFun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; fun -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Builtin"
	><span class="hs-identifier hs-var"
	  >PIR.Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefaultFun
</span
	><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#Trace"
	><span class="hs-identifier hs-var"
	  >PLC.Trace</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni Ann
</span
	><a href="#local-6989586621679526185"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-694"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni DefaultFun -&gt; (Ann, PIRTerm uni DefaultFun))
-&gt; [PIRTerm uni DefaultFun] -&gt; [(Ann, PIRTerm uni DefaultFun)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Text -&gt; PIRTerm uni DefaultFun
forall a (uni :: * -&gt; *) fun (term :: * -&gt; *) tyname name ann.
(TermLike term tyname name uni fun, HasTermLevel uni a) =&gt;
ann -&gt; a -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkConstant"
	><span class="hs-identifier hs-var"
	  >PLC.mkConstant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679526186"
	><span class="hs-identifier hs-var"
	  >str</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni DefaultFun
</span
	><a href="#local-6989586621679526187"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-695"
      ></span
      ><span
      >
</span
      ><span id="line-696"
      ></span
      ><span class="hs-comment"
      >-- `mkLazyTrace ty str v` builds the term `force (trace str (delay v))` if `v` has type `ty`</span
      ><span
      >
</span
      ><span id="line-697"
      ></span
      ><span id="local-6989586621679525165"
      ><span id="local-6989586621679525166"
	><span id="local-6989586621679525167"
	  ><span id="local-6989586621679525168"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#mkLazyTrace"
		><span class="hs-identifier hs-type"
		  >mkLazyTrace</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-698"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525165"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525166"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525167"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525168"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-699"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
		><span class="hs-identifier hs-type"
		  >PLC.Type</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		><span class="hs-identifier hs-type"
		  >PLC.TyName</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525165"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="../../plutus-core/src/PlutusCore.Annotation.html#Ann"
		><span class="hs-identifier hs-type"
		  >Ann</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-700"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
		><span class="hs-identifier hs-type"
		  >T.Text</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-701"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525165"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
		><span class="hs-identifier hs-type"
		  >PLC.DefaultFun</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-702"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525167"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525165"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525166"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-703"
      ></span
      ><span id="mkLazyTrace"
      ><span class="annot"
	><span class="annottext"
	  >mkLazyTrace :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type TyName uni Ann
-&gt; Text -&gt; PIRTerm uni DefaultFun -&gt; m (PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#mkLazyTrace"
	  ><span class="hs-identifier hs-var hs-var"
	    >mkLazyTrace</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526226"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni Ann
</span
	  ><a href="#local-6989586621679526226"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526227"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679526227"
	  ><span class="hs-identifier hs-var"
	    >str</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526228"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni DefaultFun
</span
	  ><a href="#local-6989586621679526228"
	  ><span class="hs-identifier hs-var"
	    >v</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-704"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526229"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni DefaultFun
</span
	  ><a href="#local-6989586621679526229"
	  ><span class="hs-identifier hs-var"
	    >delayedBody</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni DefaultFun -&gt; m (PIRTerm uni DefaultFun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Laziness.html#delay"
	><span class="hs-identifier hs-var"
	  >delay</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni DefaultFun
</span
	><a href="#local-6989586621679526228"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-705"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526230"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni Ann
</span
	  ><a href="#local-6989586621679526230"
	  ><span class="hs-identifier hs-var"
	    >delayedType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni Ann -&gt; m (Type TyName uni Ann)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
PIRType uni -&gt; m (PIRType uni)
</span
	><a href="PlutusTx.Compiler.Laziness.html#delayType"
	><span class="hs-identifier hs-var"
	  >delayType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni Ann
</span
	><a href="#local-6989586621679526226"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-706"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Laziness.html#force"
	><span class="hs-identifier hs-var"
	  >force</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni Ann
-&gt; Text -&gt; PIRTerm uni DefaultFun -&gt; PIRTerm uni DefaultFun
forall (uni :: * -&gt; *).
HasTermLevel uni Text =&gt;
Type TyName uni Ann
-&gt; Text -&gt; PIRTerm uni DefaultFun -&gt; PIRTerm uni DefaultFun
</span
	><a href="PlutusTx.Compiler.Expr.html#mkTrace"
	><span class="hs-identifier hs-var"
	  >mkTrace</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni Ann
</span
	><a href="#local-6989586621679526230"
	><span class="hs-identifier hs-var"
	  >delayedType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679526227"
	><span class="hs-identifier hs-var"
	  >str</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni DefaultFun
</span
	><a href="#local-6989586621679526229"
	><span class="hs-identifier hs-var"
	  >delayedBody</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-707"
      ></span
      ><span
      >
</span
      ><span id="line-708"
      ></span
      ><span class="hs-comment"
      >{- Note [Profiling polymorphic functions]
In order to profile polymorphic functions, we have to go under the type abstractions.
But we also need the type of the final inner term in order to construct the correct
invocations of 'trace'. At the moment we get this from the *type* of the term.

But this goes wrong as soon as there are type variables involved!

id :: forall a . a -&gt; a
id = /\a . \(x :: a) -&gt; x -- The 'a' here is not the same as the 'a' in the type signature!

The type of the term needs to use the type variables bound by the type abstractions,
not the ones bound by the foralls in the type signature.

We sort this out in a hacky way by continuing to use the type of the overall term, but
constructing a substitution from the type-bound variables to the term-bound variables,
and then applying that at the end. Not pleasant, but it works.

Note that creating a substitution with a map relies on globally unique names in types.
But that's okay, because these are all types we've been creating just now in Quote, so
we should have globally unique names
-}</span
      ><span
      >
</span
      ><span id="line-729"
      ></span
      ><span
      >
</span
      ><span id="line-730"
      ></span
      ><span class="hs-comment"
      >{- Note [Term/type argument mismatches]
Given a term t and its type ty we can process them in parallel popping off arguments/function types.

But we can end up with a mismatch:
- We run out of arguments at the term level e.g. because we see something like `(\x -&gt; \y -&gt; y) 1`,
which is of function type but isn't a lambda until you reduce.
- We run out of arguments at the type level e.g. because we see something like `(\a -&gt; (a -&gt; a)) b`,
which is a function type but isn't a function type until you reduce.

It's usually okay to stop at this point, since the remaining things usually aren't &quot;proper&quot; arguments.
In the term case, it's a lambda computed by an application, which won't occur from a &quot;proper&quot; argument.
In the type case, we only generate type lambdas for newtypes, which will block &quot;proper&quot; arguments anyway,
i.e. it comes from something like this:

f :: Identity (a -&gt; a)
f = Identity (\x -&gt; x)
-}</span
      ><span
      >
</span
      ><span id="line-747"
      ></span
      ><span
      >
</span
      ><span id="line-748"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| Add entry/exit tracing inside a term's leading arguments, both term and type arguments.
@(/\a -&gt; \b -&gt; body)@ into @/\a -&gt; \b -&gt; entryExitTracing body@.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-751"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#entryExitTracingInside"
	><span class="hs-identifier hs-type"
	  >entryExitTracingInside</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-752"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >PIR.Name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-753"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-754"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
	><span class="hs-identifier hs-type"
	  >PIRTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-755"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PLCTypes.html#PLCType"
	><span class="hs-identifier hs-type"
	  >PLCType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-756"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
	><span class="hs-identifier hs-type"
	  >PIRTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-757"
      ></span
      ><span id="entryExitTracingInside"
      ><span class="annot"
	><span class="annottext"
	  >entryExitTracingInside :: Name
-&gt; Text
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
</span
	  ><a href="PlutusTx.Compiler.Expr.html#entryExitTracingInside"
	  ><span class="hs-identifier hs-var hs-var"
	    >entryExitTracingInside</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526233"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526233"
	  ><span class="hs-identifier hs-var"
	    >lamName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526234"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679526234"
	  ><span class="hs-identifier hs-var"
	    >displayName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map TyName (PLCType DefaultUni)
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679526235"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map TyName (PLCType DefaultUni)
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-758"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-759"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679526235"
	><span class="hs-identifier hs-type"
	  >go</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-760"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#Map"
	><span class="hs-identifier hs-type"
	  >Map.Map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >PLC.TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.PLCTypes.html#PLCType"
	><span class="hs-identifier hs-type"
	  >PLCType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-761"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
	><span class="hs-identifier hs-type"
	  >PIRTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-762"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PLCTypes.html#PLCType"
	><span class="hs-identifier hs-type"
	  >PLCType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-763"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
	><span class="hs-identifier hs-type"
	  >PIRTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-764"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526235"
      ><span class="annot"
	><span class="annottext"
	  >go :: Map TyName (PLCType DefaultUni)
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
</span
	  ><a href="#local-6989586621679526235"
	  ><span class="hs-identifier hs-var hs-var"
	    >go</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526236"
      ><span class="annot"
	><span class="annottext"
	  >Map TyName (PLCType DefaultUni)
</span
	  ><a href="#local-6989586621679526236"
	  ><span class="hs-identifier hs-var"
	    >subst</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-type"
	  >LamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526238"
      ><span class="annot"
	><span class="annottext"
	  >Ann
</span
	  ><a href="#local-6989586621679526238"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526239"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526239"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526240"
      ><span class="annot"
	><span class="annottext"
	  >PLCType DefaultUni
</span
	  ><a href="#local-6989586621679526240"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526241"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm DefaultUni DefaultFun
</span
	  ><a href="#local-6989586621679526241"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-type"
	  >PLC.TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526242"
      ><span class="annot"
	><span class="annottext"
	  >PLCType DefaultUni
</span
	  ><a href="#local-6989586621679526242"
	  ><span class="hs-identifier hs-var"
	    >_dom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526243"
      ><span class="annot"
	><span class="annottext"
	  >PLCType DefaultUni
</span
	  ><a href="#local-6989586621679526243"
	  ><span class="hs-identifier hs-var"
	    >cod</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-765"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- when t = \x -&gt; body, =&gt; \x -&gt; entryExitTracingInside body</span
      ><span
      >
</span
      ><span id="line-766"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Name
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PIRTerm DefaultUni DefaultFun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; name
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-var"
	  >LamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679526238"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526239"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
</span
	><a href="#local-6989586621679526240"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun)
-&gt; PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map TyName (PLCType DefaultUni)
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679526235"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map TyName (PLCType DefaultUni)
</span
	><a href="#local-6989586621679526236"
	><span class="hs-identifier hs-var"
	  >subst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679526241"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
</span
	><a href="#local-6989586621679526243"
	><span class="hs-identifier hs-var"
	  >cod</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-767"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679526235"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526244"
      ><span class="annot"
	><span class="annottext"
	  >Map TyName (PLCType DefaultUni)
</span
	  ><a href="#local-6989586621679526244"
	  ><span class="hs-identifier hs-var"
	    >subst</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TyAbs"
	><span class="hs-identifier hs-type"
	  >TyAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526246"
      ><span class="annot"
	><span class="annottext"
	  >Ann
</span
	  ><a href="#local-6989586621679526246"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526247"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621679526247"
	  ><span class="hs-identifier hs-var"
	    >tn1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526248"
      ><span class="annot"
	><span class="annottext"
	  >Kind Ann
</span
	  ><a href="#local-6989586621679526248"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526249"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm DefaultUni DefaultFun
</span
	  ><a href="#local-6989586621679526249"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyForall"
	><span class="hs-identifier hs-type"
	  >PLC.TyForall</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526250"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621679526250"
	  ><span class="hs-identifier hs-var"
	    >tn2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526251"
      ><span class="annot"
	><span class="annottext"
	  >Kind Ann
</span
	  ><a href="#local-6989586621679526251"
	  ><span class="hs-identifier hs-var"
	    >_k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526252"
      ><span class="annot"
	><span class="annottext"
	  >PLCType DefaultUni
</span
	  ><a href="#local-6989586621679526252"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-768"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- when t = /\x -&gt; body, =&gt; /\x -&gt; entryExitTracingInside body</span
      ><span
      >
</span
      ><span id="line-769"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Profiling polymorphic functions]</span
      ><span
      >
</span
      ><span id="line-770"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679526253"
      ><span class="annot"
	><span class="annottext"
	  >subst' :: Map TyName (PLCType DefaultUni)
</span
	  ><a href="#local-6989586621679526253"
	  ><span class="hs-identifier hs-var hs-var"
	    >subst'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
-&gt; PLCType DefaultUni
-&gt; Map TyName (PLCType DefaultUni)
-&gt; Map TyName (PLCType DefaultUni)
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Map.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621679526250"
	><span class="hs-identifier hs-var"
	  >tn2</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; TyName -&gt; PLCType DefaultUni
forall tyname (uni :: * -&gt; *) ann.
ann -&gt; tyname -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyVar"
	><span class="hs-identifier hs-var"
	  >PLC.TyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621679526247"
	><span class="hs-identifier hs-var"
	  >tn1</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map TyName (PLCType DefaultUni)
</span
	><a href="#local-6989586621679526244"
	><span class="hs-identifier hs-var"
	  >subst</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-771"
      ></span
      ><span
      >     </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; TyName
-&gt; Kind Ann
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PIRTerm DefaultUni DefaultFun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; tyname
-&gt; Kind a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TyAbs"
	><span class="hs-identifier hs-var"
	  >TyAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679526246"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621679526247"
	><span class="hs-identifier hs-var"
	  >tn1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind Ann
</span
	><a href="#local-6989586621679526248"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun)
-&gt; PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map TyName (PLCType DefaultUni)
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679526235"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map TyName (PLCType DefaultUni)
</span
	><a href="#local-6989586621679526253"
	><span class="hs-identifier hs-var"
	  >subst'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679526249"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
</span
	><a href="#local-6989586621679526252"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-772"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- See Note [Term/type argument mismatches]</span
      ><span
      >
</span
      ><span id="line-773"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Even if there still look like there are arguments on the term or the type level, because we've hit</span
      ><span
      >
</span
      ><span id="line-774"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- a mismatch we go ahead and insert our profiling traces here.</span
      ><span
      >
</span
      ><span id="line-775"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679526235"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526256"
      ><span class="annot"
	><span class="annottext"
	  >Map TyName (PLCType DefaultUni)
</span
	  ><a href="#local-6989586621679526256"
	  ><span class="hs-identifier hs-var"
	    >subst</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526257"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm DefaultUni DefaultFun
</span
	  ><a href="#local-6989586621679526257"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526258"
      ><span class="annot"
	><span class="annottext"
	  >PLCType DefaultUni
</span
	  ><a href="#local-6989586621679526258"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-776"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Profiling polymorphic functions]</span
      ><span
      >
</span
      ><span id="line-777"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679526259"
      ><span class="annot"
	><span class="annottext"
	  >ty' :: PLCType DefaultUni
</span
	  ><a href="#local-6989586621679526259"
	  ><span class="hs-identifier hs-var hs-var"
	    >ty'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TyName -&gt; Maybe (PLCType DefaultUni))
-&gt; PLCType DefaultUni -&gt; PLCType DefaultUni
forall tyname (uni :: * -&gt; *) ann.
(tyname -&gt; Maybe (Type tyname uni ann))
-&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Subst.html#typeSubstTyNames"
	><span class="hs-identifier hs-var"
	  >PLC.typeSubstTyNames</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679526261"
      ><span class="annot"
	><span class="annottext"
	  >TyName
</span
	  ><a href="#local-6989586621679526261"
	  ><span class="hs-identifier hs-var"
	    >tn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
-&gt; Map TyName (PLCType DefaultUni) -&gt; Maybe (PLCType DefaultUni)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#lookup"
	><span class="hs-identifier hs-var"
	  >Map.lookup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyName
</span
	><a href="#local-6989586621679526261"
	><span class="hs-identifier hs-var"
	  >tn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map TyName (PLCType DefaultUni)
</span
	><a href="#local-6989586621679526256"
	><span class="hs-identifier hs-var"
	  >subst</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
</span
	><a href="#local-6989586621679526258"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-778"
      ></span
      ><span
      >     </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
-&gt; Text
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
</span
	><a href="PlutusTx.Compiler.Expr.html#entryExitTracing"
	><span class="hs-identifier hs-var"
	  >entryExitTracing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526233"
	><span class="hs-identifier hs-var"
	  >lamName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679526234"
	><span class="hs-identifier hs-var"
	  >displayName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679526257"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
</span
	><a href="#local-6989586621679526259"
	><span class="hs-identifier hs-var"
	  >ty'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-779"
      ></span
      ><span
      >
</span
      ><span id="line-780"
      ></span
      ><span class="hs-comment"
      >{- Note [Profiling Markers]
   The @profile-all@ will insert trarces when entering and exciting functions. These
   traces have a string marker to indicate that a given traces message is for enter/exit
   marking. Markers are just simple strings: &quot;-&gt;&quot; and &quot;&lt;-&quot;. So for any reason in the
   future this marker needs to be changed, all of utilities that uses this marker will
   need to be updated.

   This list will track of all of the utilities that uses this marker:
   - plutus-core:traceToStacks
   - @UntypedPlutusCore.Evaluation.Machine.Cek.EmitterMode.logWithCallTraceEmitter@
-}</span
      ><span
      >
</span
      ><span id="line-791"
      ></span
      ><span
      >
</span
      ><span id="line-792"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Add tracing before entering and after exiting a term.</span
	></span
      ><span
      >
</span
      ><span id="line-793"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#entryExitTracing"
	><span class="hs-identifier hs-type"
	  >entryExitTracing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-794"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >PLC.Name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-795"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-796"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
	><span class="hs-identifier hs-type"
	  >PIRTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-797"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >PLC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >PLC.TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Annotation.html#Ann"
	><span class="hs-identifier hs-type"
	  >Ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-798"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
	><span class="hs-identifier hs-type"
	  >PIRTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#DefaultFun"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultFun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-799"
      ></span
      ><span id="entryExitTracing"
      ><span class="annot"
	><span class="annottext"
	  >entryExitTracing :: Name
-&gt; Text
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
</span
	  ><a href="PlutusTx.Compiler.Expr.html#entryExitTracing"
	  ><span class="hs-identifier hs-var hs-var"
	    >entryExitTracing</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526264"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526264"
	  ><span class="hs-identifier hs-var"
	    >lamName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526265"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621679526265"
	  ><span class="hs-identifier hs-var"
	    >displayName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526266"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm DefaultUni DefaultFun
</span
	  ><a href="#local-6989586621679526266"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526267"
      ><span class="annot"
	><span class="annottext"
	  >PLCType DefaultUni
</span
	  ><a href="#local-6989586621679526267"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-800"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679526269"
      ><span class="annot"
	><span class="annottext"
	  >defaultUnitTy :: Type tyname DefaultUni Ann
</span
	  ><a href="#local-6989586621679526269"
	  ><span class="hs-identifier hs-var hs-var"
	    >defaultUnitTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; SomeTypeIn DefaultUni -&gt; Type tyname DefaultUni Ann
forall tyname (uni :: * -&gt; *) ann.
ann -&gt; SomeTypeIn uni -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyBuiltin"
	><span class="hs-identifier hs-var"
	  >PLC.TyBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefaultUni (Esc ()) -&gt; SomeTypeIn DefaultUni
forall (uni :: * -&gt; *) k (a :: k). uni (Esc a) -&gt; SomeTypeIn uni
</span
	><a href="../../plutus-core/src/Universe.Core.html#SomeTypeIn"
	><span class="hs-identifier hs-var"
	  >PLC.SomeTypeIn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefaultUni (Esc ())
</span
	><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUniUnit"
	><span class="hs-identifier hs-var"
	  >PLC.DefaultUniUnit</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-801"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679526274"
      ><span class="annot"
	><span class="annottext"
	  >defaultUnit :: Term tyname name DefaultUni fun Ann
</span
	  ><a href="#local-6989586621679526274"
	  ><span class="hs-identifier hs-var hs-var"
	    >defaultUnit</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Some (ValueOf DefaultUni) -&gt; Term tyname name DefaultUni fun Ann
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-var"
	  >PIR.Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefaultUni (Esc ()) -&gt; () -&gt; Some (ValueOf DefaultUni)
forall a (uni :: * -&gt; *). uni (Esc a) -&gt; a -&gt; Some (ValueOf uni)
</span
	><a href="../../plutus-core/src/Universe.Core.html#someValueOf"
	><span class="hs-identifier hs-var"
	  >PLC.someValueOf</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefaultUni (Esc ())
</span
	><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUniUnit"
	><span class="hs-identifier hs-var"
	  >PLC.DefaultUniUnit</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-802"
      ></span
      ><span
      >   </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- (trace @(() -&gt; c) &quot;entering f&quot; (\() -&gt; trace @c &quot;exiting f&quot; body) ())</span
      ><span
      >
</span
      ><span id="line-803"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PIRTerm DefaultUni DefaultFun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Apply"
	><span class="hs-identifier hs-var"
	  >PIR.Apply</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-804"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-805"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
-&gt; Text
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PIRTerm DefaultUni DefaultFun
forall (uni :: * -&gt; *).
HasTermLevel uni Text =&gt;
Type TyName uni Ann
-&gt; Text -&gt; PIRTerm uni DefaultFun -&gt; PIRTerm uni DefaultFun
</span
	><a href="PlutusTx.Compiler.Expr.html#mkTrace"
	><span class="hs-identifier hs-var"
	  >mkTrace</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-806"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; PLCType DefaultUni -&gt; PLCType DefaultUni -&gt; PLCType DefaultUni
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyFun"
	><span class="hs-identifier hs-var"
	  >PLC.TyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
forall {tyname}. Type tyname DefaultUni Ann
</span
	><a href="#local-6989586621679526269"
	><span class="hs-identifier hs-var"
	  >defaultUnitTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
</span
	><a href="#local-6989586621679526267"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- ()-&gt; ty</span
      ><span
      >
</span
      ><span id="line-807"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- See Note [Profiling Marker]</span
      ><span
      >
</span
      ><span id="line-808"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;-&gt; &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679526265"
	><span class="hs-identifier hs-var"
	  >displayName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-809"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- \() -&gt; trace @c &quot;exiting f&quot; e</span
      ><span
      >
</span
      ><span id="line-810"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Name
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PIRTerm DefaultUni DefaultFun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; name
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-var"
	  >LamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526264"
	><span class="hs-identifier hs-var"
	  >lamName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
forall {tyname}. Type tyname DefaultUni Ann
</span
	><a href="#local-6989586621679526269"
	><span class="hs-identifier hs-var"
	  >defaultUnitTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
-&gt; Text
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PIRTerm DefaultUni DefaultFun
forall (uni :: * -&gt; *).
HasTermLevel uni Text =&gt;
Type TyName uni Ann
-&gt; Text -&gt; PIRTerm uni DefaultFun -&gt; PIRTerm uni DefaultFun
</span
	><a href="PlutusTx.Compiler.Expr.html#mkTrace"
	><span class="hs-identifier hs-var"
	  >mkTrace</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
</span
	><a href="#local-6989586621679526267"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;&lt;- &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621679526265"
	><span class="hs-identifier hs-var"
	  >displayName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679526266"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-811"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-812"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni DefaultFun
forall {tyname} {name} {fun}. Term tyname name DefaultUni fun Ann
</span
	><a href="#local-6989586621679526274"
	><span class="hs-identifier hs-var"
	  >defaultUnit</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-813"
      ></span
      ><span
      >
</span
      ><span id="line-814"
      ></span
      ><span class="hs-comment"
      >-- Expressions</span
      ><span
      >
</span
      ><span id="line-815"
      ></span
      ><span
      >
</span
      ><span id="line-816"
      ></span
      ><span class="hs-comment"
      >{- Note [Tracking coverage and lazyness]
   When we insert a coverage annotation `a` that is meant to be collected when we execute
   `a` we would like do something like `trace (show a) body`. However, we can't do this
   because `body` may throw an exception and that would in turn cause `show a` never to be logged.
   To get around this we instead generate the code `force (trace (show a) (delay body))` to
   guarantee that the annotation `a` is logged before we execute `body`.
-}</span
      ><span
      >
</span
      ><span id="line-823"
      ></span
      ><span
      >
</span
      ><span id="line-824"
      ></span
      ><span class="hs-comment"
      >{- Note [Boolean coverage]
   During testing it is useful (sometimes even critical) to know which boolean
   expressions have evaluated to true and false respectively. To track this we
   introduce `traceBool &quot;&lt;expr evaluated to True&gt;&quot; &quot;&lt;expr evaluated to False&gt;&quot; expr`
   around every non-constructor boolean typed expression `expr` with a known source location
   when boolean coverage is turned on.

   The annotation `&lt;expr evaluated to True&gt;` is implemented by adding a `CoverBool location True`
   coverage annotation with the head function in `expr` as metadata. This means that in an
   expression like: `foo x &lt; bar y &amp;&amp; all isGood xs`

   We will get annotations for `&amp;&amp;`, `&lt;`, `all`, and `isGood` (given that `isGood` is defined in a
   module with coverage turned on).
-}</span
      ><span
      >
</span
      ><span id="line-838"
      ></span
      ><span
      >
</span
      ><span id="line-839"
      ></span
      ><span class="hs-comment"
      >{- Note [GHC.Magic.noinline]
   For some functions we have two conflicting desires:
   - We want to have the unfolding available for the plugin.
   - We don't want the function to *actually* get inlined before the plugin runs, since we rely
   on being able to see the original function for some reason.

   'INLINABLE' achieves the first, but may cause the function to be inlined too soon.

   We can solve this at specific call sites by using the 'noinline' magic function from
   GHC. This stops GHC from inlining it. As a bonus, it also won't be inlined if
   that function is compiled later into the body of another function.

   We do therefore need to handle 'noinline' in the plugin, as it itself does not have
   an unfolding.
-}</span
      ><span
      >
</span
      ><span id="line-854"
      ></span
      ><span
      >
</span
      ><span id="line-855"
      ></span
      ><span id="local-6989586621679524984"
      ><span id="local-6989586621679524985"
	><span id="local-6989586621679524986"
	  ><span id="local-6989586621679524987"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#compileExpr"
		><span class="hs-identifier hs-type"
		  >compileExpr</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524984"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524985"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524986"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524987"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
		><span class="hs-identifier hs-type"
		  >GHC.CoreExpr</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524986"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524984"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679524985"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-856"
      ></span
      ><span id="compileExpr"
      ><span class="annot"
	><span class="annottext"
	  >compileExpr :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileExpr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679526942"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679526942"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; SDoc -&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) e a.
(MonadReader (CompileContext uni fun) m, MonadState CompileState m,
 MonadError (WithContext Text e) m) =&gt;
Int -&gt; SDoc -&gt; m a -&gt; m a
</span
	><a href="PlutusTx.Compiler.Trace.html#traceCompilation"
	><span class="hs-identifier hs-var"
	  >traceCompilation</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>2</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Compiling expr:&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526942"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-857"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- See Note [Scopes]</span
      ><span
      >
</span
      ><span id="line-858"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Types.html#CompileContext"
	><span class="hs-identifier hs-type"
	  >CompileContext</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-859"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ccScope :: forall (uni :: * -&gt; *) fun. CompileContext uni fun -&gt; Scope uni fun
</span
	><a href="PlutusTx.Compiler.Types.html#ccScope"
	><span class="hs-identifier hs-var"
	  >ccScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679526944"
      ><span class="annot"
	><span class="annottext"
	  >Scope uni fun
</span
	  ><a href="#local-6989586621679526944"
	  ><span class="hs-identifier hs-var"
	    >scope</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-860"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ccModBreaks :: forall (uni :: * -&gt; *) fun.
CompileContext uni fun -&gt; Maybe ModBreaks
</span
	><a href="PlutusTx.Compiler.Types.html#ccModBreaks"
	><span class="hs-identifier hs-var"
	  >ccModBreaks</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679526946"
      ><span class="annot"
	><span class="annottext"
	  >Maybe ModBreaks
</span
	  ><a href="#local-6989586621679526946"
	  ><span class="hs-identifier hs-var"
	    >maybeModBreaks</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-861"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ccBuiltinsInfo :: forall (uni :: * -&gt; *) fun.
CompileContext uni fun -&gt; BuiltinsInfo uni fun
</span
	><a href="PlutusTx.Compiler.Types.html#ccBuiltinsInfo"
	><span class="hs-identifier hs-var"
	  >ccBuiltinsInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679526948"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinsInfo uni fun
</span
	  ><a href="#local-6989586621679526948"
	  ><span class="hs-identifier hs-var"
	    >binfo</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-862"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ccSafeToInline :: forall (uni :: * -&gt; *) fun. CompileContext uni fun -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Types.html#ccSafeToInline"
	><span class="hs-identifier hs-var"
	  >ccSafeToInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679526950"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679526950"
	  ><span class="hs-identifier hs-var"
	    >safeToInline</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-863"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      >
</span
      ><span id="line-864"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>m (CompileContext uni fun)
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#ask"
	><span class="hs-identifier hs-var"
	  >ask</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-865"
      ></span
      ><span
      >
</span
      ><span id="line-866"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- TODO: Maybe share this to avoid repeated lookups. Probably cheap, though.</span
      ><span
      >
</span
      ><span id="line-867"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526951"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679526951"
	  ><span class="hs-identifier hs-var"
	    >builtinIntegerTyCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m TyCon
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m TyCon
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcTyCon"
	><span class="hs-identifier hs-var"
	  >lookupGhcTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >BI.BuiltinInteger</span
      ><span
      >
</span
      ><span id="line-868"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526953"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679526953"
	  ><span class="hs-identifier hs-var"
	    >builtinBoolTyCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m TyCon
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m TyCon
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcTyCon"
	><span class="hs-identifier hs-var"
	  >lookupGhcTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >BI.BuiltinBool</span
      ><span
      >
</span
      ><span id="line-869"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526954"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679526954"
	  ><span class="hs-identifier hs-var"
	    >builtinDataTyCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m TyCon
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m TyCon
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcTyCon"
	><span class="hs-identifier hs-var"
	  >lookupGhcTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >Builtins.BuiltinData</span
      ><span
      >
</span
      ><span id="line-870"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526955"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679526955"
	  ><span class="hs-identifier hs-var"
	    >builtinPairTyCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m TyCon
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m TyCon
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcTyCon"
	><span class="hs-identifier hs-var"
	  >lookupGhcTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >BI.BuiltinPair</span
      ><span
      >
</span
      ><span id="line-871"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526956"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526956"
	  ><span class="hs-identifier hs-var"
	    >stringTyName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >Builtins.BuiltinString</span
      ><span
      >
</span
      ><span id="line-872"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526957"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526957"
	  ><span class="hs-identifier hs-var"
	    >stringToBuiltinStringName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >Builtins.stringToBuiltinString</span
      ><span
      >
</span
      ><span id="line-873"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526958"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526958"
	  ><span class="hs-identifier hs-var"
	    >builtinByteStringTyName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >Builtins.BuiltinByteString</span
      ><span
      >
</span
      ><span id="line-874"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526959"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526959"
	  ><span class="hs-identifier hs-var"
	    >stringToBuiltinByteStringName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >Builtins.stringToBuiltinByteString</span
      ><span
      >
</span
      ><span id="line-875"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526960"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526960"
	  ><span class="hs-identifier hs-var"
	    >builtinByteStringHexTyName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >Builtins.BuiltinByteStringHex</span
      ><span
      >
</span
      ><span id="line-876"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526961"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526961"
	  ><span class="hs-identifier hs-var"
	    >builtinByteStringUtf8TyName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >Builtins.BuiltinByteStringUtf8</span
      ><span
      >
</span
      ><span id="line-877"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526962"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526962"
	  ><span class="hs-identifier hs-var"
	    >stringToBuiltinByteStringUtf8Name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >Builtins.stringToBuiltinByteStringUtf8</span
      ><span
      >
</span
      ><span id="line-878"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526963"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526963"
	  ><span class="hs-identifier hs-var"
	    >stringToBuiltinByteStringHexName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >Builtins.stringToBuiltinByteStringHex</span
      ><span
      >
</span
      ><span id="line-879"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526964"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526964"
	  ><span class="hs-identifier hs-var"
	    >useToOpaqueName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >Builtins.useToOpaque</span
      ><span
      >
</span
      ><span id="line-880"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526965"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526965"
	  ><span class="hs-identifier hs-var"
	    >useFromOpaqueName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >Builtins.useFromOpaque</span
      ><span
      >
</span
      ><span id="line-881"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526966"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526966"
	  ><span class="hs-identifier hs-var"
	    >mkNilOpaqueName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >Builtins.mkNilOpaque</span
      ><span
      >
</span
      ><span id="line-882"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526967"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526967"
	  ><span class="hs-identifier hs-var"
	    >boolOperatorOr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-special"
      >(</span
      ><span class="hs-operator"
      >PlutusTx.Bool.||</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-883"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526968"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526968"
	  ><span class="hs-identifier hs-var"
	    >boolOperatorAnd</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-special"
      >(</span
      ><span class="hs-operator"
      >PlutusTx.Bool.&amp;&amp;</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-884"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679526969"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679526969"
	  ><span class="hs-identifier hs-var"
	    >inlineName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >PlutusTx.Optimize.Inline.inline</span
      ><span
      >
</span
      ><span id="line-885"
      ></span
      ><span
      >
</span
      ><span id="line-886"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526942"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-887"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >{- Note [Lazy boolean operators]
      (||) and (&amp;&amp;) have a special treatment: we want them lazy in the second argument,
      as this is the behavior in Haskell and other PLs.
      Covered by this spec: plutus-tx-plugin/test/ShortCircuit/Spec.hs
    -}</span
      ><span
      >
</span
      ><span id="line-892"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Lazy ||</span
      ><span
      >
</span
      ><span id="line-893"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-identifier hs-type"
	  >GHC.App</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-identifier hs-type"
	  >GHC.App</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526970"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679526970"
	  ><span class="hs-identifier hs-var"
	    >var</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679526971"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679526971"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679526972"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679526972"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-894"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526970"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526967"
	><span class="hs-identifier hs-var"
	  >boolOperatorOr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-895"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CoreExpr -&gt; m (PIRTerm uni fun))
-&gt; CoreExpr -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr -&gt; CoreExpr -&gt; CoreExpr
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Make.html#mkIfThenElse"
	><span class="hs-identifier hs-var"
	  >GHC.mkIfThenElse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526971"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; CoreExpr
forall b. Id -&gt; Expr b
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-var"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#trueDataConId"
	><span class="hs-identifier hs-var"
	  >GHC.trueDataConId</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526972"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-896"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Lazy &amp;&amp;</span
      ><span
      >
</span
      ><span id="line-897"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-identifier hs-type"
	  >GHC.App</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-identifier hs-type"
	  >GHC.App</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526975"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679526975"
	  ><span class="hs-identifier hs-var"
	    >var</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679526976"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679526976"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679526977"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679526977"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-898"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526975"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526968"
	><span class="hs-identifier hs-var"
	  >boolOperatorAnd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-899"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CoreExpr -&gt; m (PIRTerm uni fun))
-&gt; CoreExpr -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr -&gt; CoreExpr -&gt; CoreExpr
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Make.html#mkIfThenElse"
	><span class="hs-identifier hs-var"
	  >GHC.mkIfThenElse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526976"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526977"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; CoreExpr
forall b. Id -&gt; Expr b
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-var"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#falseDataConId"
	><span class="hs-identifier hs-var"
	  >GHC.falseDataConId</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-900"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- `inline f` or `inline (f x  ... xn)`</span
      ><span
      >
</span
      ><span id="line-901"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-identifier hs-type"
	  >GHC.App</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-identifier hs-type"
	  >GHC.App</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526979"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679526979"
	  ><span class="hs-identifier hs-var"
	    >var</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526980"
      ><span class="annot"
	><span class="annottext"
	  >Type
</span
	  ><a href="#local-6989586621679526980"
	  ><span class="hs-identifier hs-var"
	    >_aTy</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679526981"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679526981"
	  ><span class="hs-identifier hs-var"
	    >e'</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-902"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526979"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526969"
	><span class="hs-identifier hs-var"
	  >inlineName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526979"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#inlineIdName"
	><span class="hs-identifier hs-var"
	  >GHC.inlineIdName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-903"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; (CoreExpr, [CoreExpr])
forall b. Expr b -&gt; (Expr b, [Expr b])
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#collectArgs"
	><span class="hs-identifier hs-var"
	  >GHC.collectArgs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526981"
	><span class="hs-identifier hs-var"
	  >e'</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-904"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526984"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679526984"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679526985"
      ><span class="annot"
	><span class="annottext"
	  >[CoreExpr]
</span
	  ><a href="#local-6989586621679526985"
	  ><span class="hs-identifier hs-var"
	    >args</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-905"
      ></span
      ><span
      >              </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Unfolding -&gt; Maybe CoreExpr
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#maybeUnfoldingTemplate"
	><span class="hs-identifier hs-var"
	  >GHC.maybeUnfoldingTemplate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Unfolding
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.html#realIdUnfolding"
	><span class="hs-identifier hs-var"
	  >GHC.realIdUnfolding</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526984"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-906"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe CoreExpr
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-907"
      ></span
      ><span
      >                  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Scope uni fun
-&gt; Name -&gt; Maybe (PLCVar uni, Maybe (PIRTerm uni fun))
forall (uni :: * -&gt; *) fun.
Scope uni fun
-&gt; Name -&gt; Maybe (PLCVar uni, Maybe (PIRTerm uni fun))
</span
	><a href="PlutusTx.Compiler.Names.html#lookupName"
	><span class="hs-identifier hs-var"
	  >lookupName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Scope uni fun
</span
	><a href="#local-6989586621679526944"
	><span class="hs-identifier hs-var"
	  >scope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526984"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-908"
      ></span
      ><span
      >                    </span
      ><span class="hs-comment"
      >-- If `f` is locally bound, and its definition has already been compiled,</span
      ><span
      >
</span
      ><span id="line-909"
      ></span
      ><span
      >                    </span
      ><span class="hs-comment"
      >-- we use it directly.</span
      ><span
      >
</span
      ><span id="line-910"
      ></span
      ><span
      >                    </span
      ><span class="hs-comment"
      >-- This only supports `inline f`, not `inline (f x1 ... xn)`.</span
      ><span
      >
</span
      ><span id="line-911"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679526987"
      ><span class="annot"
	><span class="annottext"
	  >PLCVar uni
</span
	  ><a href="#local-6989586621679526987"
	  ><span class="hs-identifier hs-var"
	    >_var</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526988"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679526988"
	  ><span class="hs-identifier hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreExpr] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#null"
	><span class="hs-identifier hs-var"
	  >null</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreExpr]
</span
	><a href="#local-6989586621679526985"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679526988"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-912"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (PLCVar uni, Maybe (PIRTerm uni fun))
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >                                 </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526981"
	><span class="hs-identifier hs-var"
	  >e'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-913"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526990"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679526990"
	  ><span class="hs-identifier hs-var"
	    >unfolding</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-914"
      ></span
      ><span
      >                  </span
      ><span class="hs-comment"
      >-- `f` is recursive. We do not inline recursive bindings.</span
      ><span
      >
</span
      ><span id="line-915"
      ></span
      ><span
      >                  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; Bool) -&gt; [Id] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#any"
	><span class="hs-identifier hs-var"
	  >any</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Id -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679526984"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; [Id]
forall from to. Biplate from to =&gt; from -&gt; [to]
</span
	><a href="https://hackage.haskell.org/package/uniplate-1.6.13/docs/src/Data.Generics.Uniplate.Operations.html#universeBi"
	><span class="hs-identifier hs-var"
	  >universeBi</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526990"
	><span class="hs-identifier hs-var"
	  >unfolding</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526981"
	><span class="hs-identifier hs-var"
	  >e'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-916"
      ></span
      ><span
      >                  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#otherwise"
	><span class="hs-identifier hs-var"
	  >otherwise</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; [CoreExpr] -&gt; CoreExpr
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Make.html#mkCoreApps"
	><span class="hs-identifier hs-var"
	  >GHC.mkCoreApps</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526990"
	><span class="hs-identifier hs-var"
	  >unfolding</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreExpr]
</span
	><a href="#local-6989586621679526985"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-917"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>(CoreExpr, [CoreExpr])
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526981"
	><span class="hs-identifier hs-var"
	  >e'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-918"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [String literals]</span
      ><span
      >
</span
      ><span id="line-919"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [IsString instances and UTF-8 encoded string literals]</span
      ><span
      >
</span
      ><span id="line-920"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- IsString has only one method, so it's enough to know that it's an IsString method</span
      ><span
      >
</span
      ><span id="line-921"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- to know we're looking at fromString.</span
      ><span
      >
</span
      ><span id="line-922"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- We can safely commit to this match as soon as we've seen fromString -</span
      ><span
      >
</span
      ><span id="line-923"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- we won't accept any applications of fromString that aren't creating literals of</span
      ><span
      >
</span
      ><span id="line-924"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- the types we support.</span
      ><span
      >
</span
      ><span id="line-925"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; IdDetails
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#idDetails"
	><span class="hs-identifier hs-var"
	  >GHC.idDetails</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Info.html#ClassOpId"
	><span class="hs-identifier hs-type"
	  >GHC.ClassOpId</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526994"
      ><span class="annot"
	><span class="annottext"
	  >Class
</span
	  ><a href="#local-6989586621679526994"
	  ><span class="hs-identifier hs-var"
	    >cls</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-926"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526995"
      ><span class="annot"
	><span class="annottext"
	  >Type
</span
	  ><a href="#local-6989586621679526995"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-927"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679526996"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679526996"
	  ><span class="hs-identifier hs-var"
	    >_dict</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-928"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span id="local-6989586621679526997"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679526997"
	  ><span class="hs-identifier hs-var"
	    >content</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-929"
      ></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Class -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Class
</span
	><a href="#local-6989586621679526994"
	><span class="hs-identifier hs-var"
	  >cls</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#isStringClassName"
	><span class="hs-identifier hs-var"
	  >GHC.isStringClassName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-930"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679526999"
      ><span class="annot"
	><span class="annottext"
	  >throwUnsupported :: m (PIRTerm uni fun)
</span
	  ><a href="#local-6989586621679526999"
	  ><span class="hs-identifier hs-var hs-var"
	    >throwUnsupported</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-931"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error DefaultUni DefaultFun ann)
-&gt; SDoc -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
(MonadError (CompileError uni fun ann) m,
 MonadReader (CompileContext uni fun) m) =&gt;
(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m a
</span
	><a href="PlutusTx.Compiler.Utils.html#throwSd"
	><span class="hs-identifier hs-var"
	  >throwSd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SDoc -&gt; m (PIRTerm uni fun)) -&gt; SDoc -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-932"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-933"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%24%24"
	><span class="hs-operator hs-var"
	  >GHC.$$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Use of fromString is only supported for the following types:&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-934"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%24%24"
	><span class="hs-operator hs-var"
	  >GHC.$$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;-&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-935"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526956"
	><span class="hs-identifier hs-var"
	  >stringTyName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-936"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%24%24"
	><span class="hs-operator hs-var"
	  >GHC.$$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;-&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-937"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526958"
	><span class="hs-identifier hs-var"
	  >builtinByteStringTyName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-938"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%24%24"
	><span class="hs-operator hs-var"
	  >GHC.$$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;-&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-939"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526960"
	><span class="hs-identifier hs-var"
	  >builtinByteStringHexTyName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-940"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%24%24"
	><span class="hs-operator hs-var"
	  >GHC.$$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;-&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-941"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526961"
	><span class="hs-identifier hs-var"
	  >builtinByteStringUtf8TyName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-942"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%24%24"
	><span class="hs-operator hs-var"
	  >GHC.$$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-943"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%24%24"
	><span class="hs-operator hs-var"
	  >GHC.$$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Using fromString for&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-944"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679526995"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-945"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;is not supported.&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-946"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; Maybe TyCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Type.html#tyConAppTyCon_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.tyConAppTyCon_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679526995"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- extract Type constructor without arguments</span
      ><span
      >
</span
      ><span id="line-947"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- BuiltinByteString</span
      ><span
      >
</span
      ><span id="line-948"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527001"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679527001"
	  ><span class="hs-identifier hs-var"
	    >tyCtor</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527001"
	><span class="hs-identifier hs-var"
	  >tyCtor</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526958"
	><span class="hs-identifier hs-var"
	  >builtinByteStringTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-949"
      ></span
      ><span
      >                </span
      ><span id="local-6989586621679527002"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679527002"
	  ><span class="hs-identifier hs-var"
	    >bytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; CoreExpr -&gt; m ByteString
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >stringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526958"
	><span class="hs-identifier hs-var"
	  >builtinByteStringTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526997"
	><span class="hs-identifier hs-var"
	  >content</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-950"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Some (ValueOf uni) -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-var"
	  >PIR.Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Some (ValueOf uni) -&gt; PIRTerm uni fun)
-&gt; (ByteString -&gt; Some (ValueOf uni))
-&gt; ByteString
-&gt; PIRTerm uni fun
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Some (ValueOf uni)
forall a (uni :: * -&gt; *). Contains uni a =&gt; a -&gt; Some (ValueOf uni)
</span
	><a href="../../plutus-core/src/Universe.Core.html#someValue"
	><span class="hs-identifier hs-var"
	  >PLC.someValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ByteString -&gt; PIRTerm uni fun)
-&gt; m ByteString -&gt; m (PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; m ByteString
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
ByteString -&gt; m ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#utf8CodePointsAsBytes"
	><span class="hs-identifier hs-var"
	  >utf8CodePointsAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679527002"
	><span class="hs-identifier hs-var"
	  >bytes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-951"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- BuiltinByteStringUtf8</span
      ><span
      >
</span
      ><span id="line-952"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527004"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679527004"
	  ><span class="hs-identifier hs-var"
	    >tyCtor</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-953"
      ></span
      ><span
      >                </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527004"
	><span class="hs-identifier hs-var"
	  >tyCtor</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526961"
	><span class="hs-identifier hs-var"
	  >builtinByteStringUtf8TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-954"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Some (ValueOf uni) -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-var"
	  >PIR.Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Some (ValueOf uni) -&gt; PIRTerm uni fun)
-&gt; (ByteString -&gt; Some (ValueOf uni))
-&gt; ByteString
-&gt; PIRTerm uni fun
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Some (ValueOf uni)
forall a (uni :: * -&gt; *). Contains uni a =&gt; a -&gt; Some (ValueOf uni)
</span
	><a href="../../plutus-core/src/Universe.Core.html#someValue"
	><span class="hs-identifier hs-var"
	  >PLC.someValue</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-955"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>(ByteString -&gt; PIRTerm uni fun)
-&gt; m ByteString -&gt; m (PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; CoreExpr -&gt; m ByteString
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >stringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526961"
	><span class="hs-identifier hs-var"
	  >builtinByteStringUtf8TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526997"
	><span class="hs-identifier hs-var"
	  >content</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-956"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- BuiltinByteStringHex</span
      ><span
      >
</span
      ><span id="line-957"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527005"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679527005"
	  ><span class="hs-identifier hs-var"
	    >tyCtor</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527005"
	><span class="hs-identifier hs-var"
	  >tyCtor</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526960"
	><span class="hs-identifier hs-var"
	  >builtinByteStringHexTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-958"
      ></span
      ><span
      >                </span
      ><span id="local-6989586621679527006"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679527006"
	  ><span class="hs-identifier hs-var"
	    >hexBytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; CoreExpr -&gt; m ByteString
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >stringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526960"
	><span class="hs-identifier hs-var"
	  >builtinByteStringHexTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526997"
	><span class="hs-identifier hs-var"
	  >content</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-959"
      ></span
      ><span
      >                </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Either String ByteString
</span
	><span class="hs-identifier hs-var"
	>Base16.decode</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679527006"
	><span class="hs-identifier hs-var"
	  >hexBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-960"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527008"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679527008"
	  ><span class="hs-identifier hs-var"
	    >err</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error DefaultUni DefaultFun ann)
-&gt; SDoc -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
(MonadError (CompileError uni fun ann) m,
 MonadReader (CompileContext uni fun) m) =&gt;
(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m a
</span
	><a href="PlutusTx.Compiler.Utils.html#throwSd"
	><span class="hs-identifier hs-var"
	  >throwSd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SDoc -&gt; m (PIRTerm uni fun)) -&gt; SDoc -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Invalid hex encoding:&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#text"
	><span class="hs-identifier hs-var"
	  >GHC.text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679527008"
	><span class="hs-identifier hs-var"
	  >err</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-961"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527009"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679527009"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Some (ValueOf uni) -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-var"
	  >PIR.Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Some (ValueOf uni) -&gt; PIRTerm uni fun)
-&gt; Some (ValueOf uni) -&gt; PIRTerm uni fun
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Some (ValueOf uni)
forall a (uni :: * -&gt; *). Contains uni a =&gt; a -&gt; Some (ValueOf uni)
</span
	><a href="../../plutus-core/src/Universe.Core.html#someValue"
	><span class="hs-identifier hs-var"
	  >PLC.someValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679527009"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-962"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- BuiltinString</span
      ><span
      >
</span
      ><span id="line-963"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527010"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679527010"
	  ><span class="hs-identifier hs-var"
	    >tyCtor</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-964"
      ></span
      ><span
      >                </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527010"
	><span class="hs-identifier hs-var"
	  >tyCtor</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526956"
	><span class="hs-identifier hs-var"
	  >stringTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-965"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Some (ValueOf uni) -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-var"
	  >PIR.Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Some (ValueOf uni) -&gt; PIRTerm uni fun)
-&gt; (Text -&gt; Some (ValueOf uni)) -&gt; Text -&gt; PIRTerm uni fun
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Some (ValueOf uni)
forall a (uni :: * -&gt; *). Contains uni a =&gt; a -&gt; Some (ValueOf uni)
</span
	><a href="../../plutus-core/src/Universe.Core.html#someValue"
	><span class="hs-identifier hs-var"
	  >PLC.someValue</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-966"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; PIRTerm uni fun) -&gt; m Text -&gt; m (PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; CoreExpr -&gt; m Text
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m Text
</span
	><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsText"
	><span class="hs-identifier hs-var"
	  >stringLiteralAsText</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526956"
	><span class="hs-identifier hs-var"
	  >stringTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679526997"
	><span class="hs-identifier hs-var"
	  >content</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-967"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- For other unsupported types we have to fail compilation here,</span
      ><span
      >
</span
      ><span id="line-968"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- because it won't succeed anyway:</span
      ><span
      >
</span
      ><span id="line-969"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- 'fromString' function contains 'Data.Char' type in its definition</span
      ><span
      >
</span
      ><span id="line-970"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- and plugin can't compile it.</span
      ><span
      >
</span
      ><span id="line-971"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe TyCon
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (PIRTerm uni fun)
</span
	><a href="#local-6989586621679526999"
	><span class="hs-identifier hs-var"
	  >throwUnsupported</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-972"
      ></span
      ><span
      >
</span
      ><span id="line-973"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- 'stringToBuiltinByteString' invocation</span
      ><span
      >
</span
      ><span id="line-974"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527011"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527011"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span id="local-6989586621679527012"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527012"
	  ><span class="hs-identifier hs-var"
	    >content</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-975"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527011"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526959"
	><span class="hs-identifier hs-var"
	  >stringToBuiltinByteStringName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-976"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527013"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679527013"
	  ><span class="hs-identifier hs-var"
	    >bytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; CoreExpr -&gt; m ByteString
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >stringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526958"
	><span class="hs-identifier hs-var"
	  >builtinByteStringTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527012"
	><span class="hs-identifier hs-var"
	  >content</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-977"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Some (ValueOf uni) -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-var"
	  >PIR.Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Some (ValueOf uni) -&gt; PIRTerm uni fun)
-&gt; (ByteString -&gt; Some (ValueOf uni))
-&gt; ByteString
-&gt; PIRTerm uni fun
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Some (ValueOf uni)
forall a (uni :: * -&gt; *). Contains uni a =&gt; a -&gt; Some (ValueOf uni)
</span
	><a href="../../plutus-core/src/Universe.Core.html#someValue"
	><span class="hs-identifier hs-var"
	  >PLC.someValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ByteString -&gt; PIRTerm uni fun)
-&gt; m ByteString -&gt; m (PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; m ByteString
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
ByteString -&gt; m ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#utf8CodePointsAsBytes"
	><span class="hs-identifier hs-var"
	  >utf8CodePointsAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679527013"
	><span class="hs-identifier hs-var"
	  >bytes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-978"
      ></span
      ><span
      >
</span
      ><span id="line-979"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- 'stringToBuiltinByteStringUtf8' invocation</span
      ><span
      >
</span
      ><span id="line-980"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527014"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527014"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span id="local-6989586621679527015"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527015"
	  ><span class="hs-identifier hs-var"
	    >content</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-981"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527014"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526962"
	><span class="hs-identifier hs-var"
	  >stringToBuiltinByteStringUtf8Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-982"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Some (ValueOf uni) -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-var"
	  >PIR.Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Some (ValueOf uni) -&gt; PIRTerm uni fun)
-&gt; (ByteString -&gt; Some (ValueOf uni))
-&gt; ByteString
-&gt; PIRTerm uni fun
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Some (ValueOf uni)
forall a (uni :: * -&gt; *). Contains uni a =&gt; a -&gt; Some (ValueOf uni)
</span
	><a href="../../plutus-core/src/Universe.Core.html#someValue"
	><span class="hs-identifier hs-var"
	  >PLC.someValue</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-983"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>(ByteString -&gt; PIRTerm uni fun)
-&gt; m ByteString -&gt; m (PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; CoreExpr -&gt; m ByteString
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >stringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526958"
	><span class="hs-identifier hs-var"
	  >builtinByteStringTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527015"
	><span class="hs-identifier hs-var"
	  >content</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-984"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- 'stringToBuiltinByteStringHex' invocation</span
      ><span
      >
</span
      ><span id="line-985"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527016"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527016"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span id="local-6989586621679527017"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527017"
	  ><span class="hs-identifier hs-var"
	    >content</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-986"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527016"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526963"
	><span class="hs-identifier hs-var"
	  >stringToBuiltinByteStringHexName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-987"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527018"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679527018"
	  ><span class="hs-identifier hs-var"
	    >hexBytes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; CoreExpr -&gt; m ByteString
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m ByteString
</span
	><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsBytes"
	><span class="hs-identifier hs-var"
	  >stringLiteralAsBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526960"
	><span class="hs-identifier hs-var"
	  >builtinByteStringHexTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527017"
	><span class="hs-identifier hs-var"
	  >content</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-988"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Either String ByteString
</span
	><span class="hs-identifier hs-var"
	>Base16.decode</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679527018"
	><span class="hs-identifier hs-var"
	  >hexBytes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-989"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527019"
      ><span class="annot"
	><span class="annottext"
	  >String
</span
	  ><a href="#local-6989586621679527019"
	  ><span class="hs-identifier hs-var"
	    >err</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error DefaultUni DefaultFun ann)
-&gt; SDoc -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
(MonadError (CompileError uni fun ann) m,
 MonadReader (CompileContext uni fun) m) =&gt;
(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m a
</span
	><a href="PlutusTx.Compiler.Utils.html#throwSd"
	><span class="hs-identifier hs-var"
	  >throwSd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SDoc -&gt; m (PIRTerm uni fun)) -&gt; SDoc -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Invalid hex encoding:&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#text"
	><span class="hs-identifier hs-var"
	  >GHC.text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><a href="#local-6989586621679527019"
	><span class="hs-identifier hs-var"
	  >err</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-990"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527020"
      ><span class="annot"
	><span class="annottext"
	  >ByteString
</span
	  ><a href="#local-6989586621679527020"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Some (ValueOf uni) -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-var"
	  >PIR.Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Some (ValueOf uni) -&gt; PIRTerm uni fun)
-&gt; Some (ValueOf uni) -&gt; PIRTerm uni fun
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString -&gt; Some (ValueOf uni)
forall a (uni :: * -&gt; *). Contains uni a =&gt; a -&gt; Some (ValueOf uni)
</span
	><a href="../../plutus-core/src/Universe.Core.html#someValue"
	><span class="hs-identifier hs-var"
	  >PLC.someValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ByteString
</span
	><a href="#local-6989586621679527020"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-991"
      ></span
      ><span
      >
</span
      ><span id="line-992"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- 'stringToBuiltinString' invocation</span
      ><span
      >
</span
      ><span id="line-993"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527021"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527021"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span id="local-6989586621679527022"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527022"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-994"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527021"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526957"
	><span class="hs-identifier hs-var"
	  >stringToBuiltinStringName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-995"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Some (ValueOf uni) -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-var"
	  >PIR.Constant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Some (ValueOf uni) -&gt; PIRTerm uni fun)
-&gt; (Text -&gt; Some (ValueOf uni)) -&gt; Text -&gt; PIRTerm uni fun
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Some (ValueOf uni)
forall a (uni :: * -&gt; *). Contains uni a =&gt; a -&gt; Some (ValueOf uni)
</span
	><a href="../../plutus-core/src/Universe.Core.html#someValue"
	><span class="hs-identifier hs-var"
	  >PLC.someValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; PIRTerm uni fun) -&gt; m Text -&gt; m (PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; CoreExpr -&gt; m Text
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; CoreExpr -&gt; m Text
</span
	><a href="PlutusTx.Compiler.Expr.html#stringLiteralAsText"
	><span class="hs-identifier hs-var"
	  >stringLiteralAsText</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526956"
	><span class="hs-identifier hs-var"
	  >stringTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527022"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-996"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Literals]</span
      ><span
      >
</span
      ><span id="line-997"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lit"
	><span class="hs-identifier hs-type"
	  >GHC.Lit</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527023"
      ><span class="annot"
	><span class="annottext"
	  >Literal
</span
	  ><a href="#local-6989586621679527023"
	  ><span class="hs-identifier hs-var"
	    >lit</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Literal -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Literal -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileLiteral"
	><span class="hs-identifier hs-var"
	  >compileLiteral</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Literal
</span
	><a href="#local-6989586621679527023"
	><span class="hs-identifier hs-var"
	  >lit</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-998"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- These are all wrappers around string and char literals, but keeping them allows us to give better errors</span
      ><span
      >
</span
      ><span id="line-999"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- unpackCString# is just a wrapper around a literal</span
      ><span
      >
</span
      ><span id="line-1000"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527024"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527024"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527025"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527025"
	  ><span class="hs-identifier hs-var"
	    >expr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527024"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#unpackCStringName"
	><span class="hs-identifier hs-var"
	  >GHC.unpackCStringName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527025"
	><span class="hs-identifier hs-var"
	  >expr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1001"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [unpackFoldrCString#]</span
      ><span
      >
</span
      ><span id="line-1002"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527026"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527026"
	  ><span class="hs-identifier hs-var"
	    >build</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lam"
	><span class="hs-identifier hs-type"
	  >GHC.Lam</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527027"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527027"
	  ><span class="hs-identifier hs-var"
	    >unpack</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527028"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527028"
	  ><span class="hs-identifier hs-var"
	    >expr</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1003"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527026"
	><span class="hs-identifier hs-var"
	  >build</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#buildName"
	><span class="hs-identifier hs-var"
	  >GHC.buildName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527027"
	><span class="hs-identifier hs-var"
	  >unpack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#unpackCStringFoldrName"
	><span class="hs-identifier hs-var"
	  >GHC.unpackCStringFoldrName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1004"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527028"
	><span class="hs-identifier hs-var"
	  >expr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1005"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- C# is just a wrapper around a literal</span
      ><span
      >
</span
      ><span id="line-1006"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; IdDetails
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#idDetails"
	><span class="hs-identifier hs-var"
	  >GHC.idDetails</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Info.html#DataConWorkId"
	><span class="hs-identifier hs-type"
	  >GHC.DataConWorkId</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527030"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679527030"
	  ><span class="hs-identifier hs-var"
	    >dc</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527031"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527031"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527030"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; DataCon -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#charDataCon"
	><span class="hs-identifier hs-var"
	  >GHC.charDataCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527031"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1007"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Handle constructors of 'Integer'</span
      ><span
      >
</span
      ><span id="line-1008"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; IdDetails
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#idDetails"
	><span class="hs-identifier hs-var"
	  >GHC.idDetails</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Info.html#DataConWorkId"
	><span class="hs-identifier hs-type"
	  >GHC.DataConWorkId</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527032"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679527032"
	  ><span class="hs-identifier hs-var"
	    >dc</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527033"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527033"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; TyCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.DataCon.html#dataConTyCon"
	><span class="hs-identifier hs-var"
	  >GHC.dataConTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527032"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; TyCon -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#integerTyCon"
	><span class="hs-identifier hs-var"
	  >GHC.integerTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1009"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527035"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527035"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527033"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1010"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- IN is a negative integer!</span
      ><span
      >
</span
      ><span id="line-1011"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.DataCon.html#dataConName"
	><span class="hs-identifier hs-var"
	  >GHC.dataConName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527032"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#integerINDataConName"
	><span class="hs-identifier hs-var"
	  >GHC.integerINDataConName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1012"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1013"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527038"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527038"
	  ><span class="hs-identifier hs-var"
	    >negateTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#lookupIntegerNegate"
	><span class="hs-identifier hs-var"
	  >lookupIntegerNegate</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1014"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; [(Ann, PIRTerm uni fun)] -&gt; PIRTerm uni fun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
term ann -&gt; [(ann, term ann)] -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterApp"
	><span class="hs-identifier hs-var"
	  >PIR.mkIterApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527038"
	><span class="hs-identifier hs-var"
	  >negateTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527035"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-1015"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527035"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1016"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Unboxed unit, (##).</span
      ><span
      >
</span
      ><span id="line-1017"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; IdDetails
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#idDetails"
	><span class="hs-identifier hs-var"
	  >GHC.idDetails</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Info.html#DataConWorkId"
	><span class="hs-identifier hs-type"
	  >GHC.DataConWorkId</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527040"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679527040"
	  ><span class="hs-identifier hs-var"
	    >dc</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527040"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; DataCon -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#unboxedUnitDataCon"
	><span class="hs-identifier hs-var"
	  >GHC.unboxedUnitDataCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; () -&gt; PIRTerm uni fun
forall a (uni :: * -&gt; *) fun (term :: * -&gt; *) tyname name ann.
(TermLike term tyname name uni fun, HasTermLevel uni a) =&gt;
ann -&gt; a -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkConstant"
	><span class="hs-identifier hs-var"
	  >PIR.mkConstant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1018"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Ignore the magic 'noinline' function, it's the identity but has no unfolding.</span
      ><span
      >
</span
      ><span id="line-1019"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [GHC.Magic.noinline]</span
      ><span
      >
</span
      ><span id="line-1020"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527042"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527042"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527043"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527043"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527042"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Make.html#noinlineIdName"
	><span class="hs-identifier hs-var"
	  >GHC.noinlineIdName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527043"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1021"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [GHC runtime errors]</span
      ><span
      >
</span
      ><span id="line-1022"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- &lt;error func&gt; &lt;runtime rep&gt; &lt;overall type&gt; &lt;call stack&gt; &lt;message&gt;</span
      ><span
      >
</span
      ><span id="line-1023"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Expr.html#isErrorId"
	><span class="hs-identifier hs-var"
	  >isErrorId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527044"
      ><span class="annot"
	><span class="annottext"
	  >Type
</span
	  ><a href="#local-6989586621679527044"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1024"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; PIRTerm uni fun -&gt; Type TyName uni Ann -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Term tyname name uni fun a
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TyInst"
	><span class="hs-identifier hs-var"
	  >PIR.TyInst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; Type TyName uni Ann -&gt; PIRTerm uni fun)
-&gt; m (PIRTerm uni fun)
-&gt; m (Type TyName uni Ann -&gt; PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Builtins.html#errorFunc"
	><span class="hs-identifier hs-var"
	  >errorFunc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (Type TyName uni Ann -&gt; PIRTerm uni fun)
-&gt; m (Type TyName uni Ann) -&gt; m (PIRTerm uni fun)
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; m (Type TyName uni Ann)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type -&gt; m (PIRType uni)
</span
	><a href="PlutusTx.Compiler.Type.html#compileTypeNorm"
	><span class="hs-identifier hs-var"
	  >compileTypeNorm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527044"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1025"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- &lt;error func&gt; &lt;runtime rep&gt; &lt;overall type&gt; &lt;message&gt;</span
      ><span
      >
</span
      ><span id="line-1026"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Expr.html#isErrorId"
	><span class="hs-identifier hs-var"
	  >isErrorId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527046"
      ><span class="annot"
	><span class="annottext"
	  >Type
</span
	  ><a href="#local-6989586621679527046"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1027"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; PIRTerm uni fun -&gt; Type TyName uni Ann -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Term tyname name uni fun a
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TyInst"
	><span class="hs-identifier hs-var"
	  >PIR.TyInst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; Type TyName uni Ann -&gt; PIRTerm uni fun)
-&gt; m (PIRTerm uni fun)
-&gt; m (Type TyName uni Ann -&gt; PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Builtins.html#errorFunc"
	><span class="hs-identifier hs-var"
	  >errorFunc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (Type TyName uni Ann -&gt; PIRTerm uni fun)
-&gt; m (Type TyName uni Ann) -&gt; m (PIRTerm uni fun)
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; m (Type TyName uni Ann)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type -&gt; m (PIRType uni)
</span
	><a href="PlutusTx.Compiler.Type.html#compileTypeNorm"
	><span class="hs-identifier hs-var"
	  >compileTypeNorm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527046"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1028"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- &lt;error func&gt; &lt;overall type&gt; &lt;message&gt;</span
      ><span
      >
</span
      ><span id="line-1029"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Expr.html#isErrorId"
	><span class="hs-identifier hs-var"
	  >isErrorId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527047"
      ><span class="annot"
	><span class="annottext"
	  >Type
</span
	  ><a href="#local-6989586621679527047"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1030"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; PIRTerm uni fun -&gt; Type TyName uni Ann -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Term tyname name uni fun a
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TyInst"
	><span class="hs-identifier hs-var"
	  >PIR.TyInst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; Type TyName uni Ann -&gt; PIRTerm uni fun)
-&gt; m (PIRTerm uni fun)
-&gt; m (Type TyName uni Ann -&gt; PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Builtins.html#errorFunc"
	><span class="hs-identifier hs-var"
	  >errorFunc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (Type TyName uni Ann -&gt; PIRTerm uni fun)
-&gt; m (Type TyName uni Ann) -&gt; m (PIRTerm uni fun)
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; m (Type TyName uni Ann)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type -&gt; m (PIRType uni)
</span
	><a href="PlutusTx.Compiler.Type.html#compileTypeNorm"
	><span class="hs-identifier hs-var"
	  >compileTypeNorm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527047"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1031"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527048"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527048"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527049"
      ><span class="annot"
	><span class="annottext"
	  >Type
</span
	  ><a href="#local-6989586621679527049"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1032"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527048"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526966"
	><span class="hs-identifier hs-var"
	  >mkNilOpaqueName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527049"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1033"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html#TyConApp"
	><span class="hs-identifier hs-type"
	  >GHC.TyConApp</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527050"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679527050"
	  ><span class="hs-identifier hs-var"
	    >tyCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-1034"
      ></span
      ><span
      >            </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527050"
	><span class="hs-identifier hs-var"
	  >tyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; TyCon -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.html#integerTyCon"
	><span class="hs-identifier hs-var"
	  >GHC.integerTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527050"
	><span class="hs-identifier hs-var"
	  >tyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; TyCon -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679526951"
	><span class="hs-identifier hs-var"
	  >builtinIntegerTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1035"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; [Integer] -&gt; PIRTerm uni fun
forall a (uni :: * -&gt; *) fun (term :: * -&gt; *) tyname name ann.
(TermLike term tyname name uni fun, HasTermLevel uni a) =&gt;
ann -&gt; a -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkConstant"
	><span class="hs-identifier hs-var"
	  >PLC.mkConstant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-bignum-1.3/docs/src/GHC.Num.Integer.html#Integer"
	><span class="hs-identifier hs-type"
	  >Integer</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1036"
      ></span
      ><span
      >            </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527050"
	><span class="hs-identifier hs-var"
	  >tyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; TyCon -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679526953"
	><span class="hs-identifier hs-var"
	  >builtinBoolTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; [Bool] -&gt; PIRTerm uni fun
forall a (uni :: * -&gt; *) fun (term :: * -&gt; *) tyname name ann.
(TermLike term tyname name uni fun, HasTermLevel uni a) =&gt;
ann -&gt; a -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkConstant"
	><span class="hs-identifier hs-var"
	  >PLC.mkConstant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1037"
      ></span
      ><span
      >            </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527050"
	><span class="hs-identifier hs-var"
	  >tyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; TyCon -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679526954"
	><span class="hs-identifier hs-var"
	  >builtinDataTyCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; [Data] -&gt; PIRTerm uni fun
forall a (uni :: * -&gt; *) fun (term :: * -&gt; *) tyname name ann.
(TermLike term tyname name uni fun, HasTermLevel uni a) =&gt;
ann -&gt; a -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkConstant"
	><span class="hs-identifier hs-var"
	  >PLC.mkConstant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Data.html#Data"
	><span class="hs-identifier hs-type"
	  >PLC.Data</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1038"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html#TyConApp"
	><span class="hs-identifier hs-type"
	  >GHC.TyConApp</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527051"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679527051"
	  ><span class="hs-identifier hs-var"
	    >tyCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html#TyConApp"
	><span class="hs-identifier hs-type"
	  >GHC.TyConApp</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527052"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679527052"
	  ><span class="hs-identifier hs-var"
	    >tyArg1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html#TyConApp"
	><span class="hs-identifier hs-type"
	  >GHC.TyConApp</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527053"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679527053"
	  ><span class="hs-identifier hs-var"
	    >tyArg2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-1039"
      ></span
      ><span
      >            </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527051"
	><span class="hs-identifier hs-var"
	  >tyCon</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527052"
	><span class="hs-identifier hs-var"
	  >tyArg1</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527053"
	><span class="hs-identifier hs-var"
	  >tyArg2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TyCon, TyCon, TyCon) -&gt; (TyCon, TyCon, TyCon) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679526955"
	><span class="hs-identifier hs-var"
	  >builtinPairTyCon</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679526954"
	><span class="hs-identifier hs-var"
	  >builtinDataTyCon</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679526954"
	><span class="hs-identifier hs-var"
	  >builtinDataTyCon</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1040"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; [(Data, Data)] -&gt; PIRTerm uni fun
forall a (uni :: * -&gt; *) fun (term :: * -&gt; *) tyname name ann.
(TermLike term tyname name uni fun, HasTermLevel uni a) =&gt;
ann -&gt; a -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkConstant"
	><span class="hs-identifier hs-var"
	  >PLC.mkConstant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Data.html#Data"
	><span class="hs-identifier hs-type"
	  >PLC.Data</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Data.html#Data"
	><span class="hs-identifier hs-type"
	  >PLC.Data</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1041"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#CompilationError"
	><span class="hs-identifier hs-var"
	  >CompilationError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;'mkNil' applied to an unknown type&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1042"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527054"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527054"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1043"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527054"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526964"
	><span class="hs-identifier hs-var"
	  >useToOpaqueName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1044"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1045"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;It is no longer possible to use 'toBuiltin' with a script, use 'toOpaque' instead&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1046"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527055"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527055"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1047"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527055"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679526965"
	><span class="hs-identifier hs-var"
	  >useFromOpaqueName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1048"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1049"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1050"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;It is no longer possible to use 'fromBuiltin' with a script, use 'fromOpaque' instead&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1051"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Uses of Eq]</span
      ><span
      >
</span
      ><span id="line-1052"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527056"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527056"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1053"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527056"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#eqName"
	><span class="hs-identifier hs-var"
	  >GHC.eqName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1054"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Use of == from the Haskell Eq typeclass&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1055"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527058"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527058"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1056"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Expr.html#isProbablyIntegerEq"
	><span class="hs-identifier hs-var"
	  >isProbablyIntegerEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527058"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1057"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Id
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Id
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcId"
	><span class="hs-identifier hs-var"
	  >lookupGhcId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >Builtins.equalsInteger</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m Id -&gt; (Id -&gt; m (PIRTerm uni fun)) -&gt; m (PIRTerm uni fun)
forall a b. m a -&gt; (a -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3E%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CoreExpr -&gt; m (PIRTerm uni fun))
-&gt; (Id -&gt; CoreExpr) -&gt; Id -&gt; m (PIRTerm uni fun)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; CoreExpr
forall b. Id -&gt; Expr b
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-var"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1058"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527060"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527060"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1059"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Expr.html#isProbablyBytestringEq"
	><span class="hs-identifier hs-var"
	  >isProbablyBytestringEq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527060"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1060"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1061"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Use of Haskell ByteString equality, possibly via the Haskell Eq typeclass&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1062"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527061"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527061"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1063"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- Try to produce a sensible error message if a range like [1..9] is encountered.  This works</span
      ><span
      >
</span
      ><span id="line-1064"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- by looking for occurrences of GHC.Enum.enumFromTo and similar functions; the same error</span
      ><span
      >
</span
      ><span id="line-1065"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- occurs if these functions are used explicitly.</span
      ><span
      >
</span
      ><span id="line-1066"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Expr.html#isProbablyBoundedRange"
	><span class="hs-identifier hs-var"
	  >isProbablyBoundedRange</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527061"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1067"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1068"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error DefaultUni DefaultFun ann)
-&gt; Text -&gt; Error DefaultUni DefaultFun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1069"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >T.pack</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1070"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Use of enumFromTo or enumFromThenTo, possibly via range syntax. &quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1071"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Please use PlutusTx.Enum.enumFromTo or PlutusTx.Enum.enumFromThenTo instead.&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1072"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1073"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Throw an error if we find an infinite range like [1..]</span
      ><span
      >
</span
      ><span id="line-1074"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527062"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527062"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1075"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Expr.html#isProbablyUnboundedRange"
	><span class="hs-identifier hs-var"
	  >isProbablyUnboundedRange</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527062"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1076"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1077"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error DefaultUni DefaultFun ann)
-&gt; Text -&gt; Error DefaultUni DefaultFun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1078"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >T.pack</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1079"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Use of enumFrom or enumFromThen, possibly via range syntax. &quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1080"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Unbounded ranges are not supported.&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1081"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1082"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- locally bound vars</span
      ><span
      >
</span
      ><span id="line-1083"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Scope uni fun
-&gt; Name -&gt; Maybe (PLCVar uni, Maybe (PIRTerm uni fun))
forall (uni :: * -&gt; *) fun.
Scope uni fun
-&gt; Name -&gt; Maybe (PLCVar uni, Maybe (PIRTerm uni fun))
</span
	><a href="PlutusTx.Compiler.Names.html#lookupName"
	><span class="hs-identifier hs-var"
	  >lookupName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Scope uni fun
</span
	><a href="#local-6989586621679526944"
	><span class="hs-identifier hs-var"
	  >scope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; Maybe (PLCVar uni, Maybe (PIRTerm uni fun)))
-&gt; (Id -&gt; Name)
-&gt; Id
-&gt; Maybe (PLCVar uni, Maybe (PIRTerm uni fun))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679527063"
      ><span class="annot"
	><span class="annottext"
	  >PLCVar uni
</span
	  ><a href="#local-6989586621679527063"
	  ><span class="hs-identifier hs-var"
	    >var</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679527064"
      ><span class="annot"
	><span class="annottext"
	  >Maybe (PIRTerm uni fun)
</span
	  ><a href="#local-6989586621679527064"
	  ><span class="hs-identifier hs-var"
	    >_def</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCVar uni -&gt; PIRTerm uni fun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
VarDecl tyname name uni ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkVar"
	><span class="hs-identifier hs-var"
	  >PIR.mkVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCVar uni
</span
	><a href="#local-6989586621679527063"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1084"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Special kinds of id</span
      ><span
      >
</span
      ><span id="line-1085"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; IdDetails
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#idDetails"
	><span class="hs-identifier hs-var"
	  >GHC.idDetails</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Info.html#DataConWorkId"
	><span class="hs-identifier hs-type"
	  >GHC.DataConWorkId</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527065"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679527065"
	  ><span class="hs-identifier hs-var"
	    >dc</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
DataCon -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileDataConRef"
	><span class="hs-identifier hs-var"
	  >compileDataConRef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527065"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1086"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Class ops don't have unfoldings in general (although they do if they're for one-method classes, so we</span
      ><span
      >
</span
      ><span id="line-1087"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- want to check the unfoldings case first), see GHC:Note [ClassOp/DFun selection] for why. That</span
      ><span
      >
</span
      ><span id="line-1088"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- means we have to reconstruct the RHS ourselves, though, which is a pain.</span
      ><span
      >
</span
      ><span id="line-1089"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527066"
      ><span class="annot"
	><span class="annottext"
	  >n :: Id
</span
	  ><a href="#local-6989586621679527066"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; IdDetails
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#idDetails"
	><span class="hs-identifier hs-var"
	  >GHC.idDetails</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Info.html#ClassOpId"
	><span class="hs-identifier hs-type"
	  >GHC.ClassOpId</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527067"
      ><span class="annot"
	><span class="annottext"
	  >Class
</span
	  ><a href="#local-6989586621679527067"
	  ><span class="hs-identifier hs-var"
	    >cls</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1090"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- This code (mostly) lifted from MkId.mkDictSelId, which makes unfoldings for those dictionary</span
      ><span
      >
</span
      ><span id="line-1091"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- selectors that do have them</span
      ><span
      >
</span
      ><span id="line-1092"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527068"
      ><span class="annot"
	><span class="annottext"
	  >sel_names :: [Name]
</span
	  ><a href="#local-6989586621679527068"
	  ><span class="hs-identifier hs-var hs-var"
	    >sel_names</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; Name) -&gt; [Id] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Class -&gt; [Id]
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Class.html#classAllSelIds"
	><span class="hs-identifier hs-var"
	  >GHC.classAllSelIds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Class
</span
	><a href="#local-6989586621679527067"
	><span class="hs-identifier hs-var"
	  >cls</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1093"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527070"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621679527070"
	  ><span class="hs-identifier hs-var"
	    >val_index</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; [Name] -&gt; Maybe Int
forall a. Eq a =&gt; a -&gt; [a] -&gt; Maybe Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#elemIndex"
	><span class="hs-identifier hs-var"
	  >elemIndex</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527066"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Name]
</span
	><a href="#local-6989586621679527068"
	><span class="hs-identifier hs-var"
	  >sel_names</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1094"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527071"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621679527071"
	  ><span class="hs-identifier hs-var"
	    >i</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; m Int
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679527071"
	><span class="hs-identifier hs-var"
	  >i</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1095"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error DefaultUni DefaultFun ann) -&gt; SDoc -&gt; m Int
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
(MonadError (CompileError uni fun ann) m,
 MonadReader (CompileContext uni fun) m) =&gt;
(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m a
</span
	><a href="PlutusTx.Compiler.Utils.html#throwSd"
	><span class="hs-identifier hs-var"
	  >throwSd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#CompilationError"
	><span class="hs-identifier hs-var"
	  >CompilationError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SDoc -&gt; m Int) -&gt; SDoc -&gt; m Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Id not in class method list:&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527066"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1096"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527072"
      ><span class="annot"
	><span class="annottext"
	  >rhs :: CoreExpr
</span
	  ><a href="#local-6989586621679527072"
	  ><span class="hs-identifier hs-var hs-var"
	    >rhs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Class -&gt; Int -&gt; CoreExpr
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Make.html#mkDictSelRhs"
	><span class="hs-identifier hs-var"
	  >GHC.mkDictSelRhs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Class
</span
	><a href="#local-6989586621679527067"
	><span class="hs-identifier hs-var"
	  >cls</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679527070"
	><span class="hs-identifier hs-var"
	  >val_index</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1097"
      ></span
      ><span
      >
</span
      ><span id="line-1098"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Id -&gt; CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#hoistExpr"
	><span class="hs-identifier hs-var"
	  >hoistExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527066"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527072"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1099"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527074"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527074"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1100"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- Defined names, including builtin names</span
      ><span
      >
</span
      ><span id="line-1101"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527075"
      ><span class="annot"
	><span class="annottext"
	  >lexName :: LexName
</span
	  ><a href="#local-6989586621679527075"
	  ><span class="hs-identifier hs-var hs-var"
	    >lexName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; LexName
</span
	><a href="PlutusTx.Compiler.Types.html#LexName"
	><span class="hs-identifier hs-var"
	  >LexName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; LexName) -&gt; Name -&gt; LexName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527074"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1102"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(Set LexName -&gt; Set LexName) -&gt; m ()
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
(Set LexName -&gt; Set LexName) -&gt; m ()
</span
	><a href="PlutusTx.Compiler.Types.html#modifyCurDeps"
	><span class="hs-identifier hs-var"
	  >modifyCurDeps</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679527076"
      ><span class="annot"
	><span class="annottext"
	  >Set LexName
</span
	  ><a href="#local-6989586621679527076"
	  ><span class="hs-identifier hs-var"
	    >d</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LexName -&gt; Set LexName -&gt; Set LexName
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Set.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
</span
	><a href="#local-6989586621679527075"
	><span class="hs-identifier hs-var"
	  >lexName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set LexName
</span
	><a href="#local-6989586621679527076"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1103"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527077"
      ><span class="annot"
	><span class="annottext"
	  >Maybe (PIRTerm uni fun)
</span
	  ><a href="#local-6989586621679527077"
	  ><span class="hs-identifier hs-var"
	    >maybeDef</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LexName -&gt; m (Maybe (PIRTerm uni fun))
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; m (Maybe (Term TyName Name uni fun ann))
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#lookupTerm"
	><span class="hs-identifier hs-var"
	  >PIR.lookupTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
</span
	><a href="#local-6989586621679527075"
	><span class="hs-identifier hs-var"
	  >lexName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1104"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (PIRTerm uni fun)
</span
	><a href="#local-6989586621679527077"
	><span class="hs-identifier hs-var"
	  >maybeDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1105"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527078"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527078"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527078"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1106"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (PIRTerm uni fun)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1107"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- No other cases apply; compile the unfolding of the var</span
      ><span
      >
</span
      ><span id="line-1108"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Unfolding -&gt; Maybe CoreExpr
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#maybeUnfoldingTemplate"
	><span class="hs-identifier hs-var"
	  >GHC.maybeUnfoldingTemplate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Unfolding
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.html#realIdUnfolding"
	><span class="hs-identifier hs-var"
	  >GHC.realIdUnfolding</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527074"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1109"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- See Note [Unfoldings]</span
      ><span
      >
</span
      ><span id="line-1110"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- The &quot;unfolding template&quot; includes things with normal unfoldings and also dictionary functions</span
      ><span
      >
</span
      ><span id="line-1111"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527079"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527079"
	  ><span class="hs-identifier hs-var"
	    >unfolding</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Id -&gt; CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#hoistExpr"
	><span class="hs-identifier hs-var"
	  >hoistExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527074"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527079"
	><span class="hs-identifier hs-var"
	  >unfolding</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1112"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe CoreExpr
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1113"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error DefaultUni DefaultFun ann)
-&gt; SDoc -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
(MonadError (CompileError uni fun ann) m,
 MonadReader (CompileContext uni fun) m) =&gt;
(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m a
</span
	><a href="PlutusTx.Compiler.Utils.html#throwSd"
	><span class="hs-identifier hs-var"
	  >throwSd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#FreeVariableError"
	><span class="hs-identifier hs-var"
	  >FreeVariableError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SDoc -&gt; m (PIRTerm uni fun)) -&gt; SDoc -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1114"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Variable&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1115"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527074"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1116"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%24%2B%24"
	><span class="hs-operator hs-var"
	  >GHC.$+$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>IdDetails -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(IdDetails -&gt; SDoc) -&gt; IdDetails -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; IdDetails
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#idDetails"
	><span class="hs-identifier hs-var"
	  >GHC.idDetails</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527074"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1117"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%24%2B%24"
	><span class="hs-operator hs-var"
	  >GHC.$+$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Unfolding -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Unfolding -&gt; SDoc) -&gt; Unfolding -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Unfolding
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.html#realIdUnfolding"
	><span class="hs-identifier hs-var"
	  >GHC.realIdUnfolding</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527074"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1118"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- arg can be a type here, in which case it's a type instantiation</span
      ><span
      >
</span
      ><span id="line-1119"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679527082"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527082"
	  ><span class="hs-identifier hs-var"
	    >l</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527083"
      ><span class="annot"
	><span class="annottext"
	  >Type
</span
	  ><a href="#local-6989586621679527083"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1120"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527084"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527084"
	  ><span class="hs-identifier hs-var"
	    >l'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527082"
	><span class="hs-identifier hs-var"
	  >l</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1121"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; PIRTerm uni fun)
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1122"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- If the head of the application is an `AsData` matcher, propagate the</span
      ><span
      >
</span
      ><span id="line-1123"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- `annIsAsDataMatcher` annotation to the whole application.</span
      ><span
      >
</span
      ><span id="line-1124"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- See Note [Compiling AsData Matchers and Their Invocations]</span
      ><span
      >
</span
      ><span id="line-1125"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Bool
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annIsAsDataMatcher"
	><span class="hs-identifier hs-var"
	  >annIsAsDataMatcher</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; Ann
forall tyname name (uni :: * -&gt; *) fun a.
Term tyname name uni fun a -&gt; a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#termAnn"
	><span class="hs-identifier hs-var"
	  >PIR.termAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527084"
	><span class="hs-identifier hs-var"
	  >l'</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1126"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Ann -&gt; Ann) -&gt; PIRTerm uni fun -&gt; PIRTerm uni fun
forall a b.
(a -&gt; b)
-&gt; Term TyName Name uni fun a -&gt; Term TyName Name uni fun b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679527086"
      ><span class="annot"
	><span class="annottext"
	  >Ann
</span
	  ><a href="#local-6989586621679527086"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527086"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Annotation.html#annIsAsDataMatcher"
	><span class="hs-identifier hs-var"
	  >annIsAsDataMatcher</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-type"
	  >True</span
	  ></a
	></span
      ><span class="hs-special"
      >}</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1127"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; PIRTerm uni fun
forall a. a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#id"
	><span class="hs-identifier hs-var"
	  >id</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1128"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1129"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- Ignore applications to types of 'RuntimeRep' kind, see Note [Runtime reps]</span
      ><span
      >
</span
      ><span id="line-1130"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Type.html#isRuntimeRepKindedTy"
	><span class="hs-identifier hs-var"
	  >GHC.isRuntimeRepKindedTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527083"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1131"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527084"
	><span class="hs-identifier hs-var"
	  >l'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1132"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; PIRTerm uni fun -&gt; Type TyName uni Ann -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Term tyname name uni fun a
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TyInst"
	><span class="hs-identifier hs-var"
	  >PIR.TyInst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; Type TyName uni Ann -&gt; PIRTerm uni fun)
-&gt; m (PIRTerm uni fun)
-&gt; m (Type TyName uni Ann -&gt; PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527084"
	><span class="hs-identifier hs-var"
	  >l'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (Type TyName uni Ann -&gt; PIRTerm uni fun)
-&gt; m (Type TyName uni Ann) -&gt; m (PIRTerm uni fun)
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; m (Type TyName uni Ann)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type -&gt; m (PIRType uni)
</span
	><a href="PlutusTx.Compiler.Type.html#compileTypeNorm"
	><span class="hs-identifier hs-var"
	  >compileTypeNorm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527083"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1133"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1134"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- otherwise it's a normal application</span
      ><span
      >
</span
      ><span id="line-1135"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679527088"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527088"
	  ><span class="hs-identifier hs-var"
	    >l</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-operator hs-type"
	  >`GHC.App`</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527089"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527089"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1136"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527090"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527090"
	  ><span class="hs-identifier hs-var"
	    >l'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527088"
	><span class="hs-identifier hs-var"
	  >l</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1137"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527091"
      ><span class="annot"
	><span class="annottext"
	  >isAsDataMatcher :: Bool
</span
	  ><a href="#local-6989586621679527091"
	  ><span class="hs-identifier hs-var hs-var"
	    >isAsDataMatcher</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Bool
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annIsAsDataMatcher"
	><span class="hs-identifier hs-var"
	  >annIsAsDataMatcher</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; Ann
forall tyname name (uni :: * -&gt; *) fun a.
Term tyname name uni fun a -&gt; a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#termAnn"
	><span class="hs-identifier hs-var"
	  >PIR.termAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527090"
	><span class="hs-identifier hs-var"
	  >l'</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1138"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; PIRTerm uni fun)
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1139"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- If the head of the application is an `AsData` matcher, propagate the</span
      ><span
      >
</span
      ><span id="line-1140"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- `annIsAsDataMatcher` annotation to the whole application.</span
      ><span
      >
</span
      ><span id="line-1141"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- See Note [Compiling AsData Matchers and Their Invocations]</span
      ><span
      >
</span
      ><span id="line-1142"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679527091"
	><span class="hs-identifier hs-var"
	  >isAsDataMatcher</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1143"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Ann -&gt; Ann) -&gt; PIRTerm uni fun -&gt; PIRTerm uni fun
forall a b.
(a -&gt; b)
-&gt; Term TyName Name uni fun a -&gt; Term TyName Name uni fun b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679527092"
      ><span class="annot"
	><span class="annottext"
	  >Ann
</span
	  ><a href="#local-6989586621679527092"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527092"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Annotation.html#annIsAsDataMatcher"
	><span class="hs-identifier hs-var"
	  >annIsAsDataMatcher</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-type"
	  >True</span
	  ></a
	></span
      ><span class="hs-special"
      >}</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1144"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; PIRTerm uni fun
forall a. a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#id"
	><span class="hs-identifier hs-var"
	  >id</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1145"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1146"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- If the head of the application is an `AsData` matcher, set `safeToInline`</span
      ><span
      >
</span
      ><span id="line-1147"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- to True and continue.</span
      ><span
      >
</span
      ><span id="line-1148"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679527091"
	><span class="hs-identifier hs-var"
	  >isAsDataMatcher</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CompileContext DefaultUni DefaultFun
 -&gt; CompileContext DefaultUni DefaultFun)
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall a.
(CompileContext DefaultUni DefaultFun
 -&gt; CompileContext DefaultUni DefaultFun)
-&gt; m a -&gt; m a
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; r) -&gt; m a -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#local"
	><span class="hs-identifier hs-var"
	  >local</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679527093"
      ><span class="annot"
	><span class="annottext"
	  >CompileContext DefaultUni DefaultFun
</span
	  ><a href="#local-6989586621679527093"
	  ><span class="hs-identifier hs-var"
	    >c</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileContext DefaultUni DefaultFun
</span
	><a href="#local-6989586621679527093"
	><span class="hs-identifier hs-var"
	  >c</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Types.html#ccSafeToInline"
	><span class="hs-identifier hs-var"
	  >ccSafeToInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-type"
	  >True</span
	  ></a
	></span
      ><span class="hs-special"
      >}</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall a. a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#id"
	><span class="hs-identifier hs-var"
	  >id</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1149"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; PIRTerm uni fun -&gt; PIRTerm uni fun -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Apply"
	><span class="hs-identifier hs-var"
	  >PIR.Apply</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; PIRTerm uni fun -&gt; PIRTerm uni fun)
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun -&gt; PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527090"
	><span class="hs-identifier hs-var"
	  >l'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (PIRTerm uni fun -&gt; PIRTerm uni fun)
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall a b. m (a -&gt; b) -&gt; m a -&gt; m b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527089"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1150"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1151"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- if we're biding a type variable it's a type abstraction</span
      ><span
      >
</span
      ><span id="line-1152"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lam"
	><span class="hs-identifier hs-type"
	  >GHC.Lam</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527094"
      ><span class="annot"
	><span class="annottext"
	  >b :: Id
</span
	  ><a href="#local-6989586621679527094"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#isTyVar"
	><span class="hs-identifier hs-var"
	  >GHC.isTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679527096"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527096"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1153"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- Ignore type binders for runtime rep variables, see Note [Runtime reps]</span
      ><span
      >
</span
      ><span id="line-1154"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Type.html#isRuntimeRepTy"
	><span class="hs-identifier hs-var"
	  >GHC.isRuntimeRepTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type -&gt; Bool) -&gt; Type -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Type
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#varType"
	><span class="hs-identifier hs-var"
	  >GHC.varType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527094"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1155"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527096"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1156"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Id -&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Binders.html#mkTyAbsScoped"
	><span class="hs-identifier hs-var"
	  >mkTyAbsScoped</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527094"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527096"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1157"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- otherwise it's a normal lambda</span
      ><span
      >
</span
      ><span id="line-1158"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lam"
	><span class="hs-identifier hs-type"
	  >GHC.Lam</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527100"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527100"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527101"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527101"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1159"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527102"
      ><span class="annot"
	><span class="annottext"
	  >ann :: Ann
</span
	  ><a href="#local-6989586621679527102"
	  ><span class="hs-identifier hs-var hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679526950"
	><span class="hs-identifier hs-var"
	  >safeToInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annSafeToInline"
	><span class="hs-identifier hs-var"
	  >annSafeToInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1160"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Id -&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Ann -&gt; Id -&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Binders.html#mkLamAbsScoped"
	><span class="hs-identifier hs-var"
	  >mkLamAbsScoped</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527102"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527100"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527101"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1161"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Let"
	><span class="hs-identifier hs-type"
	  >GHC.Let</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#NonRec"
	><span class="hs-identifier hs-type"
	  >GHC.NonRec</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527107"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527107"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527108"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527108"
	  ><span class="hs-identifier hs-var"
	    >rhs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679527109"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527109"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1162"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- the binding is in scope for the body, but not for the arg</span
      ><span
      >
</span
      ><span id="line-1163"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527110"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm DefaultUni fun
</span
	  ><a href="#local-6989586621679527110"
	  ><span class="hs-identifier hs-var"
	    >rhs'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm DefaultUni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527108"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1164"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527111"
      ><span class="annot"
	><span class="annottext"
	  >PLCType DefaultUni
</span
	  ><a href="#local-6989586621679527111"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527108"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1165"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lit"
	><span class="hs-identifier hs-type"
	  >GHC.Lit</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Literal.html#LitNumber"
	><span class="hs-identifier hs-type"
	  >GHC.LitNumber</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1166"
      ></span
      ><span
      >          </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; Type -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Compare.html#eqType"
	><span class="hs-identifier hs-var"
	  >GHC.eqType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Type
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#varType"
	><span class="hs-identifier hs-var"
	  >GHC.varType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527107"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Types.Prim.html#byteArrayPrimTy"
	><span class="hs-identifier hs-var"
	  >GHC.byteArrayPrimTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1167"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- Handle the following case:</span
      ><span
      >
</span
      ><span id="line-1168"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-1169"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- ```PlutusTx</span
      ><span
      >
</span
      ><span id="line-1170"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- let !x = 12345678901234567890</span
      ><span
      >
</span
      ><span id="line-1171"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- in PlutusTx.equalsInteger x y</span
      ><span
      >
</span
      ><span id="line-1172"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- ```</span
      ><span
      >
</span
      ><span id="line-1173"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-1174"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- ```GHC Core</span
      ><span
      >
</span
      ><span id="line-1175"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- let {</span
      ><span
      >
</span
      ><span id="line-1176"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >--   x_sfhW :: ByteArray#</span
      ><span
      >
</span
      ><span id="line-1177"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >--   x_sfhW = 12345678901234567890 } in</span
      ><span
      >
</span
      ><span id="line-1178"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- equalsInteger (IP x_sfhW) y_X0</span
      ><span
      >
</span
      ><span id="line-1179"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- ```</span
      ><span
      >
</span
      ><span id="line-1180"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-1181"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- What we do here is ignoring the `ByteArray#`, and pretending that</span
      ><span
      >
</span
      ><span id="line-1182"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- `12345678901234567890` is an Integer.</span
      ><span
      >
</span
      ><span id="line-1183"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni -&gt; m (PLCType DefaultUni)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PLCType DefaultUni -&gt; m (PLCType DefaultUni))
-&gt; PLCType DefaultUni -&gt; m (PLCType DefaultUni)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall a (x :: a) (uni :: * -&gt; *) ann tyname.
HasTypeLevel uni x =&gt;
ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Builtin.KnownTypeAst.html#mkTyBuiltin"
	><span class="hs-identifier hs-var"
	  >PIR.mkTyBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-bignum-1.3/docs/src/GHC.Num.Integer.html#Integer"
	><span class="hs-identifier hs-type"
	  >Integer</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1184"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; m (PLCType DefaultUni)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type -&gt; m (PIRType uni)
</span
	><a href="PlutusTx.Compiler.Type.html#compileTypeNorm"
	><span class="hs-identifier hs-var"
	  >compileTypeNorm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type -&gt; m (PLCType DefaultUni)) -&gt; Type -&gt; m (PLCType DefaultUni)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Type
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#varType"
	><span class="hs-identifier hs-var"
	  >GHC.varType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527107"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1185"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- See Note [Non-strict let-bindings]</span
      ><span
      >
</span
      ><span id="line-1186"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Id
-&gt; PLCType DefaultUni
-&gt; (VarDecl TyName Name DefaultUni Ann -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann a.
CompilingDefault uni fun m ann =&gt;
Id -&gt; PIRType uni -&gt; (VarDecl TyName Name uni Ann -&gt; m a) -&gt; m a
</span
	><a href="PlutusTx.Compiler.Binders.html#withVarTyScoped"
	><span class="hs-identifier hs-var"
	  >withVarTyScoped</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527107"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCType DefaultUni
</span
	><a href="#local-6989586621679527111"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((VarDecl TyName Name DefaultUni Ann -&gt; m (PIRTerm uni fun))
 -&gt; m (PIRTerm uni fun))
-&gt; (VarDecl TyName Name DefaultUni Ann -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679527116"
      ><span class="annot"
	><span class="annottext"
	  >VarDecl TyName Name DefaultUni Ann
</span
	  ><a href="#local-6989586621679527116"
	  ><span class="hs-identifier hs-var"
	    >v</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1187"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527117"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm DefaultUni fun
</span
	  ><a href="#local-6989586621679527117"
	  ><span class="hs-identifier hs-var"
	    >rhs''</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
-&gt; VarDecl TyName Name DefaultUni Ann
-&gt; PIRTerm DefaultUni fun
-&gt; m (PIRTerm DefaultUni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Id -&gt; PLCVar uni -&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#maybeProfileRhs"
	><span class="hs-identifier hs-var"
	  >maybeProfileRhs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527107"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
</span
	><a href="#local-6989586621679527116"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni fun
</span
	><a href="#local-6989586621679527110"
	><span class="hs-identifier hs-var"
	  >rhs'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1188"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527118"
      ><span class="annot"
	><span class="annottext"
	  >binds :: NonEmpty (Binding TyName Name DefaultUni fun Ann)
</span
	  ><a href="#local-6989586621679527118"
	  ><span class="hs-identifier hs-var hs-var"
	    >binds</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Binding TyName Name DefaultUni fun Ann
-&gt; NonEmpty (Binding TyName Name DefaultUni fun Ann)
forall a. a -&gt; NonEmpty a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Binding TyName Name DefaultUni fun Ann
 -&gt; NonEmpty (Binding TyName Name DefaultUni fun Ann))
-&gt; Binding TyName Name DefaultUni fun Ann
-&gt; NonEmpty (Binding TyName Name DefaultUni fun Ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Strictness
-&gt; VarDecl TyName Name DefaultUni Ann
-&gt; PIRTerm DefaultUni fun
-&gt; Binding TyName Name DefaultUni fun Ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Strictness
-&gt; VarDecl tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; Binding tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TermBind"
	><span class="hs-identifier hs-var"
	  >PIR.TermBind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#NonStrict"
	><span class="hs-identifier hs-var"
	  >PIR.NonStrict</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
</span
	><a href="#local-6989586621679527116"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni fun
</span
	><a href="#local-6989586621679527117"
	><span class="hs-identifier hs-var"
	  >rhs''</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1189"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527120"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527120"
	  ><span class="hs-identifier hs-var"
	    >body'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527109"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1190"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Recursivity
-&gt; NonEmpty (Binding TyName Name uni fun Ann)
-&gt; PIRTerm uni fun
-&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Recursivity
-&gt; NonEmpty (Binding tyname name uni fun a)
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-var"
	  >PIR.Let</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#NonRec"
	><span class="hs-identifier hs-var"
	  >PIR.NonRec</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (Binding TyName Name uni fun Ann)
NonEmpty (Binding TyName Name DefaultUni fun Ann)
</span
	><a href="#local-6989586621679527118"
	><span class="hs-identifier hs-var"
	  >binds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527120"
	><span class="hs-identifier hs-var"
	  >body'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1191"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Let"
	><span class="hs-identifier hs-type"
	  >GHC.Let</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Rec"
	><span class="hs-identifier hs-type"
	  >GHC.Rec</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527124"
      ><span class="annot"
	><span class="annottext"
	  >[(Id, CoreExpr)]
</span
	  ><a href="#local-6989586621679527124"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679527125"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527125"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1192"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>[(Id, Maybe (PIRTerm uni DefaultFun))]
-&gt; ([PLCVar uni] -&gt; m (PIRTerm uni fun)) -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann a.
CompilingDefault uni fun m ann =&gt;
[(Id, Maybe (PIRTerm uni fun))]
-&gt; ([VarDecl TyName Name uni Ann] -&gt; m a) -&gt; m a
</span
	><a href="PlutusTx.Compiler.Binders.html#withVarsScoped"
	><span class="hs-identifier hs-var"
	  >withVarsScoped</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>((Id, CoreExpr) -&gt; (Id, Maybe (PIRTerm uni DefaultFun)))
-&gt; [(Id, CoreExpr)] -&gt; [(Id, Maybe (PIRTerm uni DefaultFun))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(CoreExpr -&gt; Maybe (PIRTerm uni DefaultFun))
-&gt; (Id, CoreExpr) -&gt; (Id, Maybe (PIRTerm uni DefaultFun))
forall b b' a. (b -&gt; b') -&gt; (a, b) -&gt; (a, b')
</span
	><a href="https://hackage.haskell.org/package/extra-1.8/docs/src/Data.Tuple.Extra.html#second"
	><span class="hs-identifier hs-var"
	  >second</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (PIRTerm uni DefaultFun)
-&gt; CoreExpr -&gt; Maybe (PIRTerm uni DefaultFun)
forall a b. a -&gt; b -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#const"
	><span class="hs-identifier hs-var"
	  >const</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (PIRTerm uni DefaultFun)
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Id, CoreExpr)]
</span
	><a href="#local-6989586621679527124"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(([PLCVar uni] -&gt; m (PIRTerm uni fun)) -&gt; m (PIRTerm uni fun))
-&gt; ([PLCVar uni] -&gt; m (PIRTerm uni fun)) -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679527127"
      ><span class="annot"
	><span class="annottext"
	  >[PLCVar uni]
</span
	  ><a href="#local-6989586621679527127"
	  ><span class="hs-identifier hs-var"
	    >vars</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1193"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- the bindings are scope in both the body and the args</span
      ><span
      >
</span
      ><span id="line-1194"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- TODO: this is a bit inelegant matching the vars back up</span
      ><span
      >
</span
      ><span id="line-1195"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527128"
      ><span class="annot"
	><span class="annottext"
	  >[Binding TyName Name uni fun Ann]
</span
	  ><a href="#local-6989586621679527128"
	  ><span class="hs-identifier hs-var"
	    >binds</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(PLCVar uni, (Id, CoreExpr))]
-&gt; ((PLCVar uni, (Id, CoreExpr))
    -&gt; m (Binding TyName Name uni fun Ann))
-&gt; m [Binding TyName Name uni fun Ann]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#for"
	><span class="hs-identifier hs-var"
	  >for</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[PLCVar uni] -&gt; [(Id, CoreExpr)] -&gt; [(PLCVar uni, (Id, CoreExpr))]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#zip"
	><span class="hs-identifier hs-var"
	  >zip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[PLCVar uni]
</span
	><a href="#local-6989586621679527127"
	><span class="hs-identifier hs-var"
	  >vars</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Id, CoreExpr)]
</span
	><a href="#local-6989586621679527124"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(((PLCVar uni, (Id, CoreExpr))
  -&gt; m (Binding TyName Name uni fun Ann))
 -&gt; m [Binding TyName Name uni fun Ann])
-&gt; ((PLCVar uni, (Id, CoreExpr))
    -&gt; m (Binding TyName Name uni fun Ann))
-&gt; m [Binding TyName Name uni fun Ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679527129"
      ><span class="annot"
	><span class="annottext"
	  >PLCVar uni
</span
	  ><a href="#local-6989586621679527129"
	  ><span class="hs-identifier hs-var"
	    >v</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679527130"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527130"
	  ><span class="hs-identifier hs-var"
	    >ghcVar</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679527131"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527131"
	  ><span class="hs-identifier hs-var"
	    >rhs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1196"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527132"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527132"
	  ><span class="hs-identifier hs-var"
	    >rhs'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; PLCVar uni -&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Id -&gt; PLCVar uni -&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#maybeProfileRhs"
	><span class="hs-identifier hs-var"
	  >maybeProfileRhs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527130"
	><span class="hs-identifier hs-var"
	  >ghcVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCVar uni
</span
	><a href="#local-6989586621679527129"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3D%3C%3C"
	><span class="hs-operator hs-var"
	  >=&lt;&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527131"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1197"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- See Note [Non-strict let-bindings]</span
      ><span
      >
</span
      ><span id="line-1198"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Binding TyName Name uni fun Ann
-&gt; m (Binding TyName Name uni fun Ann)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Binding TyName Name uni fun Ann
 -&gt; m (Binding TyName Name uni fun Ann))
-&gt; Binding TyName Name uni fun Ann
-&gt; m (Binding TyName Name uni fun Ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Strictness
-&gt; PLCVar uni
-&gt; PIRTerm uni fun
-&gt; Binding TyName Name uni fun Ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Strictness
-&gt; VarDecl tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; Binding tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TermBind"
	><span class="hs-identifier hs-var"
	  >PIR.TermBind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#NonStrict"
	><span class="hs-identifier hs-var"
	  >PIR.NonStrict</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PLCVar uni
</span
	><a href="#local-6989586621679527129"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527132"
	><span class="hs-identifier hs-var"
	  >rhs'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1199"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527133"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527133"
	  ><span class="hs-identifier hs-var"
	    >body'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527125"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1200"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Recursivity
-&gt; [Binding TyName Name uni fun Ann]
-&gt; PIRTerm uni fun
-&gt; PIRTerm uni fun
forall a tyname name (uni :: * -&gt; *) fun.
a
-&gt; Recursivity
-&gt; [Binding tyname name uni fun a]
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.MkPir.html#mkLet"
	><span class="hs-identifier hs-var"
	  >PIR.mkLet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Rec"
	><span class="hs-identifier hs-var"
	  >PIR.Rec</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Binding TyName Name uni fun Ann]
</span
	><a href="#local-6989586621679527128"
	><span class="hs-identifier hs-var"
	  >binds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527133"
	><span class="hs-identifier hs-var"
	  >body'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1201"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Case"
	><span class="hs-identifier hs-type"
	  >GHC.Case</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527137"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527137"
	  ><span class="hs-identifier hs-var"
	    >scrutinee</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527138"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527138"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527139"
      ><span class="annot"
	><span class="annottext"
	  >Type
</span
	  ><a href="#local-6989586621679527139"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527140"
      ><span class="annot"
	><span class="annottext"
	  >[CoreAlt]
</span
	  ><a href="#local-6989586621679527140"
	  ><span class="hs-identifier hs-var"
	    >alts</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1202"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; CoreExpr -&gt; Bool)
-&gt; Bool
-&gt; BuiltinsInfo uni fun
-&gt; CoreExpr
-&gt; Id
-&gt; Type
-&gt; [CoreAlt]
-&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
(Id -&gt; CoreExpr -&gt; Bool)
-&gt; Bool
-&gt; BuiltinsInfo uni fun
-&gt; CoreExpr
-&gt; Id
-&gt; Type
-&gt; [CoreAlt]
-&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileCase"
	><span class="hs-identifier hs-var"
	  >compileCase</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; CoreExpr -&gt; Bool
forall a b. a -&gt; b -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#const"
	><span class="hs-identifier hs-var"
	  >const</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; CoreExpr -&gt; Bool)
-&gt; (Id -&gt; Bool) -&gt; Id -&gt; CoreExpr -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>OccInfo -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Basic.html#isDeadOcc"
	><span class="hs-identifier hs-var"
	  >GHC.isDeadOcc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(OccInfo -&gt; Bool) -&gt; (Id -&gt; OccInfo) -&gt; Id -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>IdInfo -&gt; OccInfo
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Info.html#occInfo"
	><span class="hs-identifier hs-var"
	  >GHC.occInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(IdInfo -&gt; OccInfo) -&gt; (Id -&gt; IdInfo) -&gt; Id -&gt; OccInfo
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(() :: Constraint) =&gt; Id -&gt; IdInfo
Id -&gt; IdInfo
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#idInfo"
	><span class="hs-identifier hs-var"
	  >GHC.idInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
</span
	><a href="#local-6989586621679526948"
	><span class="hs-identifier hs-var"
	  >binfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527137"
	><span class="hs-identifier hs-var"
	  >scrutinee</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527138"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527139"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreAlt]
</span
	><a href="#local-6989586621679527140"
	><span class="hs-identifier hs-var"
	  >alts</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1203"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- we can use source notes to get a better context for the inner expression</span
      ><span
      >
</span
      ><span id="line-1204"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- these are put in when you compile with -g</span
      ><span
      >
</span
      ><span id="line-1205"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [What source locations to cover]</span
      ><span
      >
</span
      ><span id="line-1206"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Tick"
	><span class="hs-identifier hs-type"
	  >GHC.Tick</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527145"
      ><span class="annot"
	><span class="annottext"
	  >CoreTickish
</span
	  ><a href="#local-6989586621679527145"
	  ><span class="hs-identifier hs-var"
	    >tick</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527146"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527146"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527147"
      ><span class="annot"
	><span class="annottext"
	  >RealSrcSpan
</span
	  ><a href="#local-6989586621679527147"
	  ><span class="hs-identifier hs-var"
	    >src</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ModBreaks -&gt; CoreTickish -&gt; Maybe RealSrcSpan
forall {pass :: TickishPass}.
Maybe ModBreaks -&gt; GenTickish pass -&gt; Maybe RealSrcSpan
</span
	><a href="PlutusTx.Compiler.Expr.html#getSourceSpan"
	><span class="hs-identifier hs-var"
	  >getSourceSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ModBreaks
</span
	><a href="#local-6989586621679526946"
	><span class="hs-identifier hs-var"
	  >maybeModBreaks</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreTickish
</span
	><a href="#local-6989586621679527145"
	><span class="hs-identifier hs-var"
	  >tick</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1207"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; SDoc -&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) e a.
(MonadReader (CompileContext uni fun) m, MonadState CompileState m,
 MonadError (WithContext Text e) m) =&gt;
Int -&gt; SDoc -&gt; m a -&gt; m a
</span
	><a href="PlutusTx.Compiler.Trace.html#traceCompilation"
	><span class="hs-identifier hs-var"
	  >traceCompilation</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Compiling expr at:&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527147"
	><span class="hs-identifier hs-var"
	  >src</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1208"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Types.html#CompileContext"
	><span class="hs-identifier hs-type"
	  >CompileContext</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>ccOpts :: forall (uni :: * -&gt; *) fun.
CompileContext uni fun -&gt; CompileOptions
</span
	><a href="PlutusTx.Compiler.Types.html#ccOpts"
	><span class="hs-identifier hs-var"
	  >ccOpts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679527149"
      ><span class="annot"
	><span class="annottext"
	  >CompileOptions
</span
	  ><a href="#local-6989586621679527149"
	  ><span class="hs-identifier hs-var"
	    >coverageOpts</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (CompileContext DefaultUni DefaultFun)
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#ask"
	><span class="hs-identifier hs-var"
	  >ask</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1209"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- See Note [Coverage annotations]</span
      ><span
      >
</span
      ><span id="line-1210"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527150"
      ><span class="annot"
	><span class="annottext"
	  >anns :: [CoverageType]
</span
	  ><a href="#local-6989586621679527150"
	  ><span class="hs-identifier hs-var hs-var"
	    >anns</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set CoverageType -&gt; [CoverageType]
forall a. Set a -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#toList"
	><span class="hs-identifier hs-var"
	  >Set.toList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Set CoverageType -&gt; [CoverageType])
-&gt; Set CoverageType -&gt; [CoverageType]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileOptions -&gt; Set CoverageType
</span
	><a href="PlutusTx.Compiler.Types.html#activeCoverageTypes"
	><span class="hs-identifier hs-var"
	  >activeCoverageTypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileOptions
</span
	><a href="#local-6989586621679527149"
	><span class="hs-identifier hs-var"
	  >coverageOpts</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1211"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527153"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527153"
	  ><span class="hs-identifier hs-var"
	    >compiledBody</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Ann -&gt; Ann) -&gt; PIRTerm uni fun -&gt; PIRTerm uni fun
forall a b.
(a -&gt; b)
-&gt; Term TyName Name uni fun a -&gt; Term TyName Name uni fun b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; Ann -&gt; Ann
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#addSrcSpan"
	><span class="hs-identifier hs-var"
	  >addSrcSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SrcSpan -&gt; Ann -&gt; Ann) -&gt; SrcSpan -&gt; Ann -&gt; Ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527147"
	><span class="hs-identifier hs-var"
	  >src</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Getting SrcSpan RealSrcSpan SrcSpan -&gt; SrcSpan
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting SrcSpan RealSrcSpan SrcSpan
Iso' RealSrcSpan SrcSpan
</span
	><a href="PlutusTx.Compiler.Expr.html#srcSpanIso"
	><span class="hs-identifier hs-var"
	  >srcSpanIso</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; PIRTerm uni fun)
-&gt; m (PIRTerm uni fun) -&gt; m (PIRTerm uni fun)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527146"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1212"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; CoverageType -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; [CoverageType] -&gt; m (PIRTerm uni fun)
forall (t :: * -&gt; *) (m :: * -&gt; *) b a.
(Foldable t, Monad m) =&gt;
(b -&gt; a -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html#foldM"
	><span class="hs-identifier hs-var"
	  >foldM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
-&gt; Type
-&gt; RealSrcSpan
-&gt; PIRTerm uni fun
-&gt; CoverageType
-&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr
-&gt; Type
-&gt; RealSrcSpan
-&gt; PIRTerm uni fun
-&gt; CoverageType
-&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#coverageCompile"
	><span class="hs-identifier hs-var"
	  >coverageCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527146"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(() :: Constraint) =&gt; CoreExpr -&gt; Type
CoreExpr -&gt; Type
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Utils.html#exprType"
	><span class="hs-identifier hs-var"
	  >GHC.exprType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527146"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527147"
	><span class="hs-identifier hs-var"
	  >src</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527153"
	><span class="hs-identifier hs-var"
	  >compiledBody</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoverageType]
</span
	><a href="#local-6989586621679527150"
	><span class="hs-identifier hs-var"
	  >anns</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1213"
      ></span
      ><span
      >
</span
      ><span id="line-1214"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- ignore other annotations</span
      ><span
      >
</span
      ><span id="line-1215"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Tick"
	><span class="hs-identifier hs-type"
	  >GHC.Tick</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreTickish
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527157"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527157"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527157"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1216"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Coercions and newtypes]</span
      ><span
      >
</span
      ><span id="line-1217"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Cast"
	><span class="hs-identifier hs-type"
	  >GHC.Cast</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527159"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527159"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoercionR
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527159"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1218"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Type"
	><span class="hs-identifier hs-type"
	  >GHC.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Types as standalone expressions&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1219"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Coercion"
	><span class="hs-identifier hs-type"
	  >GHC.Coercion</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoercionR
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun))
-&gt; Error DefaultUni DefaultFun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Coercions as expressions&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1220"
      ></span
      ><span
      >
</span
      ><span id="line-1221"
      ></span
      ><span id="local-6989586621679525303"
      ><span id="local-6989586621679525304"
	><span id="local-6989586621679525305"
	  ><span id="local-6989586621679525306"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#compileCase"
		><span class="hs-identifier hs-type"
		  >compileCase</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1222"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525303"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525304"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525305"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525306"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-1223"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Var"
		><span class="hs-identifier hs-type"
		  >GHC.Var</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
		><span class="hs-identifier hs-type"
		  >GHC.CoreExpr</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		><span class="hs-identifier hs-type"
		  >Bool</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-1224"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ Whether the variable is dead in the expr</span
		></span
	      ><span
	      >
</span
	      ><span id="line-1225"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		><span class="hs-identifier hs-type"
		  >Bool</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1226"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ Whether we should try to rewrite unnecessary constructor applications</span
		></span
	      ><span
	      >
</span
	      ><span id="line-1227"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="../../plutus-core/src/PlutusIR.Analysis.Builtins.html#BuiltinsInfo"
		><span class="hs-identifier hs-type"
		  >BuiltinsInfo</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525303"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525304"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1228"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
		><span class="hs-identifier hs-type"
		  >GHC.CoreExpr</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1229"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Var"
		><span class="hs-identifier hs-type"
		  >GHC.Var</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1230"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html#Type"
		><span class="hs-identifier hs-type"
		  >GHC.Type</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1231"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >[</span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreAlt"
		><span class="hs-identifier hs-type"
		  >GHC.CoreAlt</span
		  ></a
		></span
	      ><span class="hs-special"
	      >]</span
	      ><span
	      >
</span
	      ><span id="line-1232"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525305"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525303"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525304"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1233"
      ></span
      ><span id="compileCase"
      ><span class="annot"
	><span class="annottext"
	  >compileCase :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
(Id -&gt; CoreExpr -&gt; Bool)
-&gt; Bool
-&gt; BuiltinsInfo uni fun
-&gt; CoreExpr
-&gt; Id
-&gt; Type
-&gt; [CoreAlt]
-&gt; m (PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#compileCase"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileCase</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527326"
      ><span class="annot"
	><span class="annottext"
	  >Id -&gt; CoreExpr -&gt; Bool
</span
	  ><a href="#local-6989586621679527326"
	  ><span class="hs-identifier hs-var"
	    >isDead</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527327"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679527327"
	  ><span class="hs-identifier hs-var"
	    >rewriteConApps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527328"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinsInfo uni fun
</span
	  ><a href="#local-6989586621679527328"
	  ><span class="hs-identifier hs-var"
	    >binfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527329"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527329"
	  ><span class="hs-identifier hs-var"
	    >scrutinee</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527330"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527330"
	  ><span class="hs-identifier hs-var"
	    >binder</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527331"
      ><span class="annot"
	><span class="annottext"
	  >Type
</span
	  ><a href="#local-6989586621679527331"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527332"
      ><span class="annot"
	><span class="annottext"
	  >[CoreAlt]
</span
	  ><a href="#local-6989586621679527332"
	  ><span class="hs-identifier hs-var"
	    >alts</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1234"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527333"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679527333"
	  ><span class="hs-identifier hs-var"
	    >wrapTailName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >PlutusTx.AsData.Internal.wrapTail</span
      ><span
      >
</span
      ><span id="line-1235"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-1236"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Compiling AsData Matchers and Their Invocations]</span
      ><span
      >
</span
      ><span id="line-1237"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679527334"
      ><span class="annot"
	><span class="annottext"
	  >isWrapTailApp :: Bool
</span
	  ><a href="#local-6989586621679527334"
	  ><span class="hs-identifier hs-var hs-var"
	    >isWrapTailApp</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1238"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; (CoreExpr, [CoreExpr])
forall b. Expr b -&gt; (Expr b, [Expr b])
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#collectArgs"
	><span class="hs-identifier hs-var"
	  >GHC.collectArgs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527329"
	><span class="hs-identifier hs-var"
	  >scrutinee</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1239"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="PlutusTx.Compiler.Expr.html#strip"
	><span class="hs-identifier hs-var"
	  >strip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527335"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527335"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679527336"
      ><span class="annot"
	><span class="annottext"
	  >[CoreExpr]
</span
	  ><a href="#local-6989586621679527336"
	  ><span class="hs-identifier hs-var"
	    >_args</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527335"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679527333"
	><span class="hs-identifier hs-var"
	  >wrapTailName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1240"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>(CoreExpr, [CoreExpr])
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >                           </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1241"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679527337"
      ><span class="annot"
	><span class="annottext"
	  >binderAnn :: Ann
</span
	  ><a href="#local-6989586621679527337"
	  ><span class="hs-identifier hs-var hs-var"
	    >binderAnn</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1242"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Expr.html#hasAlwaysInlinePragma"
	><span class="hs-identifier hs-var"
	  >hasAlwaysInlinePragma</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527330"
	><span class="hs-identifier hs-var"
	  >binder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annAlwaysInline"
	><span class="hs-identifier hs-var"
	  >annAlwaysInline</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1243"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679527334"
	><span class="hs-identifier hs-var"
	  >isWrapTailApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annSafeToInline"
	><span class="hs-identifier hs-var"
	  >annSafeToInline</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1244"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#otherwise"
	><span class="hs-identifier hs-var"
	  >otherwise</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1245"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreAlt]
</span
	><a href="#local-6989586621679527332"
	><span class="hs-identifier hs-var"
	  >alts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1246"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Alt"
	><span class="hs-identifier hs-type"
	  >GHC.Alt</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527338"
      ><span class="annot"
	><span class="annottext"
	  >AltCon
</span
	  ><a href="#local-6989586621679527338"
	  ><span class="hs-identifier hs-var"
	    >con</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527339"
      ><span class="annot"
	><span class="annottext"
	  >[Id]
</span
	  ><a href="#local-6989586621679527339"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527340"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527340"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-1247"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- See Note [Evaluation-only cases]</span
      ><span
      >
</span
      ><span id="line-1248"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; Bool) -&gt; [Id] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#all"
	><span class="hs-identifier hs-var"
	  >all</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; CoreExpr -&gt; Bool
</span
	><a href="#local-6989586621679527326"
	><span class="hs-operator hs-var"
	  >`isDead`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527340"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Id]
</span
	><a href="#local-6989586621679527339"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1249"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- See Note [At patterns]</span
      ><span
      >
</span
      ><span id="line-1250"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527342"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527342"
	  ><span class="hs-identifier hs-var"
	    >scrutinee'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527329"
	><span class="hs-identifier hs-var"
	  >scrutinee</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1251"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Id
-&gt; Ann
-&gt; Maybe (PIRTerm uni fun)
-&gt; (VarDecl TyName Name uni Ann -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann a.
CompilingDefault uni fun m ann =&gt;
Id
-&gt; Ann
-&gt; Maybe (PIRTerm uni fun)
-&gt; (VarDecl TyName Name uni Ann -&gt; m a)
-&gt; m a
</span
	><a href="PlutusTx.Compiler.Binders.html#withVarScoped"
	><span class="hs-identifier hs-var"
	  >withVarScoped</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527330"
	><span class="hs-identifier hs-var"
	  >binder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527337"
	><span class="hs-identifier hs-var"
	  >binderAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; Maybe (PIRTerm uni fun)
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527342"
	><span class="hs-identifier hs-var"
	  >scrutinee'</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((VarDecl TyName Name uni Ann -&gt; m (PIRTerm uni fun))
 -&gt; m (PIRTerm uni fun))
-&gt; (VarDecl TyName Name uni Ann -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679527344"
      ><span class="annot"
	><span class="annottext"
	  >VarDecl TyName Name uni Ann
</span
	  ><a href="#local-6989586621679527344"
	  ><span class="hs-identifier hs-var"
	    >v</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1252"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679527345"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527345"
	  ><span class="hs-identifier hs-var"
	    >body'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527340"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1253"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- See Note [At patterns]</span
      ><span
      >
</span
      ><span id="line-1254"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527346"
      ><span class="annot"
	><span class="annottext"
	  >binds :: [Binding TyName Name uni fun Ann]
</span
	  ><a href="#local-6989586621679527346"
	  ><span class="hs-identifier hs-var hs-var"
	    >binds</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Strictness
-&gt; VarDecl TyName Name uni Ann
-&gt; PIRTerm uni fun
-&gt; Binding TyName Name uni fun Ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Strictness
-&gt; VarDecl tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; Binding tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TermBind"
	><span class="hs-identifier hs-var"
	  >PIR.TermBind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Strict"
	><span class="hs-identifier hs-var"
	  >PIR.Strict</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name uni Ann
</span
	><a href="#local-6989586621679527344"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527342"
	><span class="hs-identifier hs-var"
	  >scrutinee'</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-1255"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Recursivity
-&gt; [Binding TyName Name uni fun Ann]
-&gt; PIRTerm uni fun
-&gt; PIRTerm uni fun
forall a tyname name (uni :: * -&gt; *) fun.
a
-&gt; Recursivity
-&gt; [Binding tyname name uni fun a]
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.MkPir.html#mkLet"
	><span class="hs-identifier hs-var"
	  >PIR.mkLet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#NonRec"
	><span class="hs-identifier hs-var"
	  >PIR.NonRec</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Binding TyName Name uni fun Ann]
</span
	><a href="#local-6989586621679527346"
	><span class="hs-identifier hs-var"
	  >binds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527345"
	><span class="hs-identifier hs-var"
	  >body'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1256"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679527327"
	><span class="hs-identifier hs-var"
	  >rewriteConApps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1257"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#DataAlt"
	><span class="hs-identifier hs-type"
	  >GHC.DataAlt</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527347"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679527347"
	  ><span class="hs-identifier hs-var"
	    >dataCon</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AltCon
</span
	><a href="#local-6989586621679527338"
	><span class="hs-identifier hs-var"
	  >con</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1258"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- Attempt to rewrite constructor applications, since sometimes they cannot be</span
      ><span
      >
</span
      ><span id="line-1259"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- compiled (e.g., opaque constructors).</span
      ><span
      >
</span
      ><span id="line-1260"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- For example, this rewrites</span
      ><span
      >
</span
      ><span id="line-1261"
      ></span
      ><span
      >
</span
      ><span id="line-1262"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- ```</span
      ><span
      >
</span
      ><span id="line-1263"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- case scrut of b {BuiltinList xs} -&gt; ...BuiltinList @BuiltinData xs...</span
      ><span
      >
</span
      ><span id="line-1264"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- ```</span
      ><span
      >
</span
      ><span id="line-1265"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-1266"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- into</span
      ><span
      >
</span
      ><span id="line-1267"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-1268"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- ```</span
      ><span
      >
</span
      ><span id="line-1269"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- case scrut of b {BuiltinList xs} -&gt; ...b...</span
      ><span
      >
</span
      ><span id="line-1270"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- ```</span
      ><span
      >
</span
      ><span id="line-1271"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-1272"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- after which `xs` is hopefully dead, and we can then compile it using the</span
      ><span
      >
</span
      ><span id="line-1273"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- `all (`isDead` body) bs` branch of `compileCase`.</span
      ><span
      >
</span
      ><span id="line-1274"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527348"
      ><span class="annot"
	><span class="annottext"
	  >f :: CoreExpr -&gt; CoreExpr
</span
	  ><a href="#local-6989586621679527348"
	  ><span class="hs-identifier hs-var hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; (CoreExpr, [CoreExpr])
forall b. Expr b -&gt; (Expr b, [Expr b])
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#collectArgs"
	><span class="hs-identifier hs-var"
	  >GHC.collectArgs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Maybe DataCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.html#isDataConId_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.isDataConId_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527349"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679527349"
	  ><span class="hs-identifier hs-var"
	    >dataCon'</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679527350"
      ><span class="annot"
	><span class="annottext"
	  >[CoreExpr]
</span
	  ><a href="#local-6989586621679527350"
	  ><span class="hs-identifier hs-var"
	    >args0</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1275"
      ></span
      ><span
      >                </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527347"
	><span class="hs-identifier hs-var"
	  >dataCon</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; DataCon -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527349"
	><span class="hs-identifier hs-var"
	  >dataCon'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1276"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- Discard type arguments</span
      ><span
      >
</span
      ><span id="line-1277"
      ></span
      ><span
      >                  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527351"
      ><span class="annot"
	><span class="annottext"
	  >args :: [Id]
</span
	  ><a href="#local-6989586621679527351"
	  ><span class="hs-identifier hs-var hs-var"
	    >args</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CoreExpr -&gt; Maybe Id) -&gt; [CoreExpr] -&gt; [Id]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Maybe.html#mapMaybe"
	><span class="hs-identifier hs-var"
	  >mapMaybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527352"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527352"
	  ><span class="hs-identifier hs-var"
	    >v</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Maybe Id
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527352"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span class="hs-special"
      >;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Id
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreExpr]
</span
	><a href="#local-6989586621679527350"
	><span class="hs-identifier hs-var"
	  >args0</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1278"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Id] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Id]
</span
	><a href="#local-6989586621679527339"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Id] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Id]
</span
	><a href="#local-6989586621679527351"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1279"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Bool] -&gt; Bool
forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#and"
	><span class="hs-identifier hs-var"
	  >and</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; Id -&gt; Bool) -&gt; [Id] -&gt; [Id] -&gt; [Bool]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#zipWith"
	><span class="hs-identifier hs-var"
	  >zipWith</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Id -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >(==)</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Id]
</span
	><a href="#local-6989586621679527339"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Id]
</span
	><a href="#local-6989586621679527351"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1280"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; CoreExpr
forall b. Id -&gt; Expr b
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-var"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527330"
	><span class="hs-identifier hs-var"
	  >binder</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1281"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="#local-6989586621679527348"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527354"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527354"
	  ><span class="hs-identifier hs-var"
	    >other</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527354"
	><span class="hs-identifier hs-var"
	  >other</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1282"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- This time we can no longer use `GHC.isDeadOcc`. Instead we check manually.</span
      ><span
      >
</span
      ><span id="line-1283"
      ></span
      ><span
      >              </span
      ><span id="local-6989586621679527369"
      ><span class="annot"
	><span class="annottext"
	  >isDead' :: a -&gt; a -&gt; Bool
</span
	  ><a href="#local-6989586621679527369"
	  ><span class="hs-identifier hs-var hs-var"
	    >isDead'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527370"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679527370"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#not"
	><span class="hs-identifier hs-var"
	  >not</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; Bool) -&gt; (a -&gt; Bool) -&gt; a -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; Bool) -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#any"
	><span class="hs-identifier hs-var"
	  >any</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679527370"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([a] -&gt; Bool) -&gt; (a -&gt; [a]) -&gt; a -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; [a]
forall from to. Biplate from to =&gt; from -&gt; [to]
</span
	><a href="https://hackage.haskell.org/package/uniplate-1.6.13/docs/src/Data.Generics.Uniplate.Operations.html#universeBi"
	><span class="hs-identifier hs-var"
	  >universeBi</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1284"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- If some binders are still alive, we have to give up (rather than trying to rewrite</span
      ><span
      >
</span
      ><span id="line-1285"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- constructor applications again, which will loop), hence `False`.</span
      ><span
      >
</span
      ><span id="line-1286"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; CoreExpr -&gt; Bool)
-&gt; Bool
-&gt; BuiltinsInfo uni fun
-&gt; CoreExpr
-&gt; Id
-&gt; Type
-&gt; [CoreAlt]
-&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
(Id -&gt; CoreExpr -&gt; Bool)
-&gt; Bool
-&gt; BuiltinsInfo uni fun
-&gt; CoreExpr
-&gt; Id
-&gt; Type
-&gt; [CoreAlt]
-&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileCase"
	><span class="hs-identifier hs-var"
	  >compileCase</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; CoreExpr -&gt; Bool
forall {a} {a}. (Eq a, Data a, Data a) =&gt; a -&gt; a -&gt; Bool
</span
	><a href="#local-6989586621679527369"
	><span class="hs-identifier hs-var"
	  >isDead'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
</span
	><a href="#local-6989586621679527328"
	><span class="hs-identifier hs-var"
	  >binfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527329"
	><span class="hs-identifier hs-var"
	  >scrutinee</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527330"
	><span class="hs-identifier hs-var"
	  >binder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527331"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>AltCon -&gt; [Id] -&gt; CoreExpr -&gt; CoreAlt
forall b. AltCon -&gt; [b] -&gt; Expr b -&gt; Alt b
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Alt"
	><span class="hs-identifier hs-var"
	  >GHC.Alt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AltCon
</span
	><a href="#local-6989586621679527338"
	><span class="hs-identifier hs-var"
	  >con</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Id]
</span
	><a href="#local-6989586621679527339"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(CoreExpr -&gt; CoreExpr) -&gt; CoreExpr -&gt; CoreExpr
forall on. Uniplate on =&gt; (on -&gt; on) -&gt; on -&gt; on
</span
	><a href="https://hackage.haskell.org/package/uniplate-1.6.13/docs/src/Data.Generics.Uniplate.Operations.html#transform"
	><span class="hs-identifier hs-var"
	  >transform</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; CoreExpr
</span
	><a href="#local-6989586621679527348"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527340"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-1287"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreAlt]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1288"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- See Note [At patterns]</span
      ><span
      >
</span
      ><span id="line-1289"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527372"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527372"
	  ><span class="hs-identifier hs-var"
	    >scrutinee'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527329"
	><span class="hs-identifier hs-var"
	  >scrutinee</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1290"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527373"
      ><span class="annot"
	><span class="annottext"
	  >scrutineeType :: Type
</span
	  ><a href="#local-6989586621679527373"
	  ><span class="hs-identifier hs-var hs-var"
	    >scrutineeType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Type
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#varType"
	><span class="hs-identifier hs-var"
	  >GHC.varType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527330"
	><span class="hs-identifier hs-var"
	  >binder</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1291"
      ></span
      ><span
      >
</span
      ><span id="line-1292"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- the variable for the scrutinee is bound inside the cases, but not in the scrutinee expression itself</span
      ><span
      >
</span
      ><span id="line-1293"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Id
-&gt; Ann
-&gt; Maybe (PIRTerm uni fun)
-&gt; (VarDecl TyName Name uni Ann -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann a.
CompilingDefault uni fun m ann =&gt;
Id
-&gt; Ann
-&gt; Maybe (PIRTerm uni fun)
-&gt; (VarDecl TyName Name uni Ann -&gt; m a)
-&gt; m a
</span
	><a href="PlutusTx.Compiler.Binders.html#withVarScoped"
	><span class="hs-identifier hs-var"
	  >withVarScoped</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527330"
	><span class="hs-identifier hs-var"
	  >binder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527337"
	><span class="hs-identifier hs-var"
	  >binderAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; Maybe (PIRTerm uni fun)
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527372"
	><span class="hs-identifier hs-var"
	  >scrutinee'</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((VarDecl TyName Name uni Ann -&gt; m (PIRTerm uni fun))
 -&gt; m (PIRTerm uni fun))
-&gt; (VarDecl TyName Name uni Ann -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679527374"
      ><span class="annot"
	><span class="annottext"
	  >VarDecl TyName Name uni Ann
</span
	  ><a href="#local-6989586621679527374"
	  ><span class="hs-identifier hs-var"
	    >v</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1294"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679527375"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679527375"
	  ><span class="hs-identifier hs-var"
	    >tc</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679527376"
      ><span class="annot"
	><span class="annottext"
	  >[Type]
</span
	  ><a href="#local-6989586621679527376"
	  ><span class="hs-identifier hs-var"
	    >argTys</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(() :: Constraint) =&gt; Type -&gt; Maybe (TyCon, [Type])
Type -&gt; Maybe (TyCon, [Type])
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Type.html#splitTyConApp_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.splitTyConApp_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527373"
	><span class="hs-identifier hs-var"
	  >scrutineeType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1295"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679527378"
      ><span class="annot"
	><span class="annottext"
	  >TyCon
</span
	  ><a href="#local-6989586621679527378"
	  ><span class="hs-identifier hs-var"
	    >tc</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679527379"
      ><span class="annot"
	><span class="annottext"
	  >[Type]
</span
	  ><a href="#local-6989586621679527379"
	  ><span class="hs-identifier hs-var"
	    >argTys</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TyCon, [Type]) -&gt; m (TyCon, [Type])
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527378"
	><span class="hs-identifier hs-var"
	  >tc</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type]
</span
	><a href="#local-6989586621679527379"
	><span class="hs-identifier hs-var"
	  >argTys</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1296"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (TyCon, [Type])
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1297"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error DefaultUni DefaultFun ann)
-&gt; SDoc -&gt; m (TyCon, [Type])
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
(MonadError (CompileError uni fun ann) m,
 MonadReader (CompileContext uni fun) m) =&gt;
(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m a
</span
	><a href="PlutusTx.Compiler.Utils.html#throwSd"
	><span class="hs-identifier hs-var"
	  >throwSd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#UnsupportedError"
	><span class="hs-identifier hs-var"
	  >UnsupportedError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SDoc -&gt; m (TyCon, [Type])) -&gt; SDoc -&gt; m (TyCon, [Type])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1298"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;Cannot case on a value of type:&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527373"
	><span class="hs-identifier hs-var"
	  >scrutineeType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1299"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527380"
      ><span class="annot"
	><span class="annottext"
	  >[DataCon]
</span
	  ><a href="#local-6989586621679527380"
	  ><span class="hs-identifier hs-var"
	    >dcs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; m [DataCon]
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
TyCon -&gt; m [DataCon]
</span
	><a href="PlutusTx.Compiler.Type.html#getDataCons"
	><span class="hs-identifier hs-var"
	  >getDataCons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon
</span
	><a href="#local-6989586621679527375"
	><span class="hs-identifier hs-var"
	  >tc</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1300"
      ></span
      ><span
      >
</span
      ><span id="line-1301"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- it's important to instantiate the match before alts compilation</span
      ><span
      >
</span
      ><span id="line-1302"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527381"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527381"
	  ><span class="hs-identifier hs-var"
	    >match</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Type.html#getMatchInstantiated"
	><span class="hs-identifier hs-var"
	  >getMatchInstantiated</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527373"
	><span class="hs-identifier hs-var"
	  >scrutineeType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1303"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527383"
      ><span class="annot"
	><span class="annottext"
	  >matched :: PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527383"
	  ><span class="hs-identifier hs-var hs-var"
	    >matched</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; PIRTerm uni fun -&gt; PIRTerm uni fun -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Apply"
	><span class="hs-identifier hs-var"
	  >PIR.Apply</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527381"
	><span class="hs-identifier hs-var"
	  >match</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527372"
	><span class="hs-identifier hs-var"
	  >scrutinee'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1304"
      ></span
      ><span
      >
</span
      ><span id="line-1305"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679527384"
      ><span class="annot"
	><span class="annottext"
	  >[CoreAlt]
</span
	  ><a href="#local-6989586621679527384"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679527385"
      ><span class="annot"
	><span class="annottext"
	  >Maybe CoreExpr
</span
	  ><a href="#local-6989586621679527385"
	  ><span class="hs-identifier hs-var"
	    >mdef</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreAlt] -&gt; ([CoreAlt], Maybe CoreExpr)
forall b. [Alt b] -&gt; ([Alt b], Maybe (Expr b))
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Utils.html#findDefault"
	><span class="hs-identifier hs-var"
	  >GHC.findDefault</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreAlt]
</span
	><a href="#local-6989586621679527332"
	><span class="hs-identifier hs-var"
	  >alts</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1306"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- This does two things:</span
      ><span
      >
</span
      ><span id="line-1307"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- 1. Ensure that every set of alternatives has a DEFAULT alt (See Note [We always need DEFAULT])</span
      ><span
      >
</span
      ><span id="line-1308"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- 2. Compile the body of the DEFAULT alt ahead of time so it can be shared (See Note [Sharing DEFAULT bodies])</span
      ><span
      >
</span
      ><span id="line-1309"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679527387"
      ><span class="annot"
	><span class="annottext"
	  >[CoreAlt]
</span
	  ><a href="#local-6989586621679527387"
	  ><span class="hs-identifier hs-var"
	    >alts'</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679527388"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527388"
	  ><span class="hs-identifier hs-var"
	    >defCompiled</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe CoreExpr
</span
	><a href="#local-6989586621679527385"
	><span class="hs-identifier hs-var"
	  >mdef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1310"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527389"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527389"
	  ><span class="hs-identifier hs-var"
	    >d</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1311"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679527390"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527390"
	  ><span class="hs-identifier hs-var"
	    >defCompiled</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527389"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1312"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>([CoreAlt], PIRTerm uni fun) -&gt; m ([CoreAlt], PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[CoreAlt] -&gt; Maybe CoreExpr -&gt; [CoreAlt]
forall b. [Alt b] -&gt; Maybe (Expr b) -&gt; [Alt b]
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Utils.html#addDefault"
	><span class="hs-identifier hs-var"
	  >GHC.addDefault</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreAlt]
</span
	><a href="#local-6989586621679527384"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe CoreExpr
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527389"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527390"
	><span class="hs-identifier hs-var"
	  >defCompiled</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1313"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe CoreExpr
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1314"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527392"
      ><span class="annot"
	><span class="annottext"
	  >d :: CoreExpr
</span
	  ><a href="#local-6989586621679527392"
	  ><span class="hs-identifier hs-var hs-var"
	    >d</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; String -&gt; CoreExpr
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Make.html#mkImpossibleExpr"
	><span class="hs-identifier hs-var"
	  >GHC.mkImpossibleExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527331"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;unreachable alternative&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1315"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679527394"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527394"
	  ><span class="hs-identifier hs-var"
	    >defCompiled</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527392"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1316"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>([CoreAlt], PIRTerm uni fun) -&gt; m ([CoreAlt], PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[CoreAlt] -&gt; Maybe CoreExpr -&gt; [CoreAlt]
forall b. [Alt b] -&gt; Maybe (Expr b) -&gt; [Alt b]
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Utils.html#addDefault"
	><span class="hs-identifier hs-var"
	  >GHC.addDefault</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreAlt]
</span
	><a href="#local-6989586621679527332"
	><span class="hs-identifier hs-var"
	  >alts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe CoreExpr
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527392"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527394"
	><span class="hs-identifier hs-var"
	  >defCompiled</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1317"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527395"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679527395"
	  ><span class="hs-identifier hs-var"
	    >defName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; m Name
forall (m :: * -&gt; *). MonadQuote m =&gt; Text -&gt; m Name
</span
	><a href="../../plutus-core/src/PlutusCore.Quote.html#freshName"
	><span class="hs-identifier hs-var"
	  >PLC.freshName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;defaultBody&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1318"
      ></span
      ><span
      >
</span
      ><span id="line-1319"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- See Note [Case expressions and laziness]</span
      ><span
      >
</span
      ><span id="line-1320"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527396"
      ><span class="annot"
	><span class="annottext"
	  >[(PIRTerm uni fun, PIRTerm uni fun)]
</span
	  ><a href="#local-6989586621679527396"
	  ><span class="hs-identifier hs-var"
	    >compiledAlts</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[DataCon]
-&gt; (DataCon -&gt; m (PIRTerm uni fun, PIRTerm uni fun))
-&gt; m [(PIRTerm uni fun, PIRTerm uni fun)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#forM"
	><span class="hs-identifier hs-var"
	  >forM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[DataCon]
</span
	><a href="#local-6989586621679527380"
	><span class="hs-identifier hs-var"
	  >dcs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DataCon -&gt; m (PIRTerm uni fun, PIRTerm uni fun))
 -&gt; m [(PIRTerm uni fun, PIRTerm uni fun)])
-&gt; (DataCon -&gt; m (PIRTerm uni fun, PIRTerm uni fun))
-&gt; m [(PIRTerm uni fun, PIRTerm uni fun)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679527397"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679527397"
	  ><span class="hs-identifier hs-var"
	    >dc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1321"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527398"
      ><span class="annot"
	><span class="annottext"
	  >alt :: Maybe CoreAlt
</span
	  ><a href="#local-6989586621679527398"
	  ><span class="hs-identifier hs-var hs-var"
	    >alt</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AltCon -&gt; [CoreAlt] -&gt; Maybe CoreAlt
forall b. AltCon -&gt; [Alt b] -&gt; Maybe (Alt b)
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Utils.html#findAlt"
	><span class="hs-identifier hs-var"
	  >GHC.findAlt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; AltCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#DataAlt"
	><span class="hs-identifier hs-var"
	  >GHC.DataAlt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527397"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CoreAlt]
</span
	><a href="#local-6989586621679527387"
	><span class="hs-identifier hs-var"
	  >alts'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1322"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- these are the instantiated type arguments, e.g. for the data constructor Just when</span
      ><span
      >
</span
      ><span id="line-1323"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- matching on Maybe Int it is [Int] (crucially, not [a])</span
      ><span
      >
</span
      ><span id="line-1324"
      ></span
      ><span
      >              </span
      ><span id="local-6989586621679527400"
      ><span class="annot"
	><span class="annottext"
	  >instArgTys :: [Type]
</span
	  ><a href="#local-6989586621679527400"
	  ><span class="hs-identifier hs-var hs-var"
	    >instArgTys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Scaled Type -&gt; Type
forall a. Scaled a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html#scaledThing"
	><span class="hs-identifier hs-var"
	  >GHC.scaledThing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Scaled Type -&gt; Type) -&gt; [Scaled Type] -&gt; [Type]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; [Type] -&gt; [Scaled Type]
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.DataCon.html#dataConInstOrigArgTys"
	><span class="hs-identifier hs-var"
	  >GHC.dataConInstOrigArgTys</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527397"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type]
</span
	><a href="#local-6989586621679527376"
	><span class="hs-identifier hs-var"
	  >argTys</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1325"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe CoreAlt
</span
	><a href="#local-6989586621679527398"
	><span class="hs-identifier hs-var"
	  >alt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1326"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527403"
      ><span class="annot"
	><span class="annottext"
	  >CoreAlt
</span
	  ><a href="#local-6989586621679527403"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1327"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- pass in the body to use for default alternatives, see Note [Sharing DEFAULT bodies]</span
      ><span
      >
</span
      ><span id="line-1328"
      ></span
      ><span
      >              </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679527404"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527404"
	  ><span class="hs-identifier hs-var"
	    >nonDelayedAlt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679527405"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527405"
	  ><span class="hs-identifier hs-var"
	    >delayedAlt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreAlt
-&gt; [Type]
-&gt; PIRTerm uni fun
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreAlt
-&gt; [Type]
-&gt; PIRTerm uni fun
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileAlt"
	><span class="hs-identifier hs-var"
	  >compileAlt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreAlt
</span
	><a href="#local-6989586621679527403"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type]
</span
	><a href="#local-6989586621679527400"
	><span class="hs-identifier hs-var"
	  >instArgTys</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Name -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; name -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Var"
	><span class="hs-identifier hs-var"
	  >PIR.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679527395"
	><span class="hs-identifier hs-var"
	  >defName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1329"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun, PIRTerm uni fun)
-&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#return"
	><span class="hs-identifier hs-var"
	  >return</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527404"
	><span class="hs-identifier hs-var"
	  >nonDelayedAlt</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527405"
	><span class="hs-identifier hs-var"
	  >delayedAlt</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1330"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe CoreAlt
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Text -&gt; Error DefaultUni DefaultFun ann)
-&gt; SDoc -&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
(MonadError (CompileError uni fun ann) m,
 MonadReader (CompileContext uni fun) m) =&gt;
(Text -&gt; Error uni fun ann) -&gt; SDoc -&gt; m a
</span
	><a href="PlutusTx.Compiler.Utils.html#throwSd"
	><span class="hs-identifier hs-var"
	  >throwSd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error DefaultUni DefaultFun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#CompilationError"
	><span class="hs-identifier hs-var"
	  >CompilationError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SDoc -&gt; m (PIRTerm uni fun, PIRTerm uni fun))
-&gt; SDoc -&gt; m (PIRTerm uni fun, PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc
</span
	><span class="hs-string"
	>&quot;No alternative for:&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >GHC.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Utils.Outputable.html#ppr"
	><span class="hs-identifier hs-var"
	  >GHC.ppr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527397"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1331"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-1332"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527407"
      ><span class="annot"
	><span class="annottext"
	  >isPureAlt :: [Bool]
</span
	  ><a href="#local-6989586621679527407"
	  ><span class="hs-identifier hs-var hs-var"
	    >isPureAlt</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(PIRTerm uni fun, PIRTerm uni fun)]
</span
	><a href="#local-6989586621679527396"
	><span class="hs-identifier hs-var"
	  >compiledAlts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(PIRTerm uni fun, PIRTerm uni fun)]
-&gt; ((PIRTerm uni fun, PIRTerm uni fun) -&gt; Bool) -&gt; [Bool]
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%26%3E"
	><span class="hs-operator hs-var"
	  >&lt;&amp;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679527409"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527409"
	  ><span class="hs-identifier hs-var"
	    >nonDelayed</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
-&gt; VarsInfo TyName Name uni Ann -&gt; PIRTerm uni fun -&gt; Bool
forall (uni :: * -&gt; *) fun name tyname a.
(ToBuiltinMeaning uni fun, HasUnique name TermUnique) =&gt;
BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni a -&gt; Term tyname name uni fun a -&gt; Bool
</span
	><a href="../../plutus-core/src/PlutusIR.Purity.html#isPure"
	><span class="hs-identifier hs-var"
	  >PIR.isPure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
</span
	><a href="#local-6989586621679527328"
	><span class="hs-identifier hs-var"
	  >binfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarsInfo TyName Name uni Ann
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527409"
	><span class="hs-identifier hs-var"
	  >nonDelayed</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1333"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527411"
      ><span class="annot"
	><span class="annottext"
	  >lazyCase :: Bool
</span
	  ><a href="#local-6989586621679527411"
	  ><span class="hs-identifier hs-var hs-var"
	    >lazyCase</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#not"
	><span class="hs-identifier hs-var"
	  >not</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[Bool] -&gt; Bool
forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#and"
	><span class="hs-identifier hs-var"
	  >and</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Bool]
</span
	><a href="#local-6989586621679527407"
	><span class="hs-identifier hs-var"
	  >isPureAlt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[DataCon] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[DataCon]
</span
	><a href="#local-6989586621679527380"
	><span class="hs-identifier hs-var"
	  >dcs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1334"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527412"
      ><span class="annot"
	><span class="annottext"
	  >branches :: [PIRTerm uni fun]
</span
	  ><a href="#local-6989586621679527412"
	  ><span class="hs-identifier hs-var hs-var"
	    >branches</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1335"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>[(PIRTerm uni fun, PIRTerm uni fun)]
</span
	><a href="#local-6989586621679527396"
	><span class="hs-identifier hs-var"
	  >compiledAlts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(PIRTerm uni fun, PIRTerm uni fun)]
-&gt; ((PIRTerm uni fun, PIRTerm uni fun) -&gt; PIRTerm uni fun)
-&gt; [PIRTerm uni fun]
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%26%3E"
	><span class="hs-operator hs-var"
	  >&lt;&amp;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679527413"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527413"
	  ><span class="hs-identifier hs-var"
	    >nonDelayedAlt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679527414"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527414"
	  ><span class="hs-identifier hs-var"
	    >delayedAlt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1336"
      ></span
      ><span
      >              </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679527411"
	><span class="hs-identifier hs-var"
	  >lazyCase</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527414"
	><span class="hs-identifier hs-var"
	  >delayedAlt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527413"
	><span class="hs-identifier hs-var"
	  >nonDelayedAlt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1337"
      ></span
      ><span
      >
</span
      ><span id="line-1338"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- See Note [Scott encoding of datatypes]</span
      ><span
      >
</span
      ><span id="line-1339"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- we need this for the default case body</span
      ><span
      >
</span
      ><span id="line-1340"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527415"
      ><span class="annot"
	><span class="annottext"
	  >PIRType uni
</span
	  ><a href="#local-6989586621679527415"
	  ><span class="hs-identifier hs-var"
	    >originalResultType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; m (PIRType uni)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type -&gt; m (PIRType uni)
</span
	><a href="PlutusTx.Compiler.Type.html#compileTypeNorm"
	><span class="hs-identifier hs-var"
	  >compileTypeNorm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527331"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1341"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- See Note [Scott encoding of datatypes]</span
      ><span
      >
</span
      ><span id="line-1342"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- we're going to delay the body, so the matcher needs to be instantiated at the delayed type</span
      ><span
      >
</span
      ><span id="line-1343"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527416"
      ><span class="annot"
	><span class="annottext"
	  >PIRType uni
</span
	  ><a href="#local-6989586621679527416"
	  ><span class="hs-identifier hs-var"
	    >resultType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; PIRType uni -&gt; m (PIRType uni)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Bool -&gt; PIRType uni -&gt; m (PIRType uni)
</span
	><a href="PlutusTx.Compiler.Laziness.html#maybeDelayType"
	><span class="hs-identifier hs-var"
	  >maybeDelayType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679527411"
	><span class="hs-identifier hs-var"
	  >lazyCase</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRType uni
</span
	><a href="#local-6989586621679527415"
	><span class="hs-identifier hs-var"
	  >originalResultType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1344"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527418"
      ><span class="annot"
	><span class="annottext"
	  >instantiated :: PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527418"
	  ><span class="hs-identifier hs-var hs-var"
	    >instantiated</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; PIRTerm uni fun -&gt; PIRType uni -&gt; PIRTerm uni fun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Term tyname name uni fun a
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TyInst"
	><span class="hs-identifier hs-var"
	  >PIR.TyInst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527383"
	><span class="hs-identifier hs-var"
	  >matched</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRType uni
</span
	><a href="#local-6989586621679527416"
	><span class="hs-identifier hs-var"
	  >resultType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1345"
      ></span
      ><span
      >
</span
      ><span id="line-1346"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527419"
      ><span class="annot"
	><span class="annottext"
	  >applied :: PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527419"
	  ><span class="hs-identifier hs-var hs-var"
	    >applied</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; [(Ann, PIRTerm uni fun)] -&gt; PIRTerm uni fun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
term ann -&gt; [(ann, term ann)] -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterApp"
	><span class="hs-identifier hs-var"
	  >PIR.mkIterApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527418"
	><span class="hs-identifier hs-var"
	  >instantiated</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([(Ann, PIRTerm uni fun)] -&gt; PIRTerm uni fun)
-&gt; [(Ann, PIRTerm uni fun)] -&gt; PIRTerm uni fun
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; (Ann, PIRTerm uni fun))
-&gt; [PIRTerm uni fun] -&gt; [(Ann, PIRTerm uni fun)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[PIRTerm uni fun]
</span
	><a href="#local-6989586621679527412"
	><span class="hs-identifier hs-var"
	  >branches</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1347"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- See Note [Case expressions and laziness]</span
      ><span
      >
</span
      ><span id="line-1348"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679527420"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527420"
	  ><span class="hs-identifier hs-var"
	    >mainCase</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Bool -&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Laziness.html#maybeForce"
	><span class="hs-identifier hs-var"
	  >maybeForce</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679527411"
	><span class="hs-identifier hs-var"
	  >lazyCase</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527419"
	><span class="hs-identifier hs-var"
	  >applied</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1349"
      ></span
      ><span
      >
</span
      ><span id="line-1350"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527422"
      ><span class="annot"
	><span class="annottext"
	  >binds :: [Binding TyName Name uni fun Ann]
</span
	  ><a href="#local-6989586621679527422"
	  ><span class="hs-identifier hs-var hs-var"
	    >binds</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1351"
      ></span
      ><span
      >              </span
      ><span class="hs-special"
      >[</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- See Note [At patterns]</span
      ><span
      >
</span
      ><span id="line-1352"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Strictness
-&gt; VarDecl TyName Name uni Ann
-&gt; PIRTerm uni fun
-&gt; Binding TyName Name uni fun Ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Strictness
-&gt; VarDecl tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; Binding tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TermBind"
	><span class="hs-identifier hs-var"
	  >PIR.TermBind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#NonStrict"
	><span class="hs-identifier hs-var"
	  >PIR.NonStrict</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name uni Ann
</span
	><a href="#local-6989586621679527374"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527372"
	><span class="hs-identifier hs-var"
	  >scrutinee'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1353"
      ></span
      ><span
      >              </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- Bind the default body, see Note [Sharing DEFAULT bodies]</span
      ><span
      >
</span
      ><span id="line-1354"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Strictness
-&gt; VarDecl TyName Name uni Ann
-&gt; PIRTerm uni fun
-&gt; Binding TyName Name uni fun Ann
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Strictness
-&gt; VarDecl tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; Binding tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#TermBind"
	><span class="hs-identifier hs-var"
	  >PIR.TermBind</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1355"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1356"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#NonStrict"
	><span class="hs-identifier hs-var"
	  >PIR.NonStrict</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1357"
      ></span
      ><span
      >                  </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Name -&gt; PIRType uni -&gt; VarDecl TyName Name uni Ann
forall tyname name (uni :: * -&gt; *) ann.
ann -&gt; name -&gt; Type tyname uni ann -&gt; VarDecl tyname name uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#VarDecl"
	><span class="hs-identifier hs-var"
	  >PIR.VarDecl</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679527395"
	><span class="hs-identifier hs-var"
	  >defName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRType uni
</span
	><a href="#local-6989586621679527415"
	><span class="hs-identifier hs-var"
	  >originalResultType</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1358"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527388"
	><span class="hs-identifier hs-var"
	  >defCompiled</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1359"
      ></span
      ><span
      >              </span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-1360"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Recursivity
-&gt; [Binding TyName Name uni fun Ann]
-&gt; PIRTerm uni fun
-&gt; PIRTerm uni fun
forall a tyname name (uni :: * -&gt; *) fun.
a
-&gt; Recursivity
-&gt; [Binding tyname name uni fun a]
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.MkPir.html#mkLet"
	><span class="hs-identifier hs-var"
	  >PIR.mkLet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#NonRec"
	><span class="hs-identifier hs-var"
	  >PIR.NonRec</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Binding TyName Name uni fun Ann]
</span
	><a href="#local-6989586621679527422"
	><span class="hs-identifier hs-var"
	  >binds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527420"
	><span class="hs-identifier hs-var"
	  >mainCase</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1361"
      ></span
      ><span
      >
</span
      ><span id="line-1362"
      ></span
      ><span class="hs-comment"
      >{- Note [What source locations to cover]
   We try to get as much coverage information as we can out of GHC. This means that
   anything we find in the GHC Core code that hints at a source location will be
   included as a coverage annotation. This has both advantages and disadvantages.
   On the one hand &quot;trying as hard as we can&quot; gives us as much coverage information as
   possible. On the other hand GHC can sometimes do tricky things like tick floating
   that will degrade the quality of the coverage information we get. However, we have
   yet to find any evidence that GHC treats different ticks differently with regards
   to tick floating.
-}</span
      ><span
      >
</span
      ><span id="line-1372"
      ></span
      ><span
      >
</span
      ><span id="line-1373"
      ></span
      ><span class="hs-comment"
      >{- Note [Partial type signature for getSourceSpan]
Why is there a partial type signature here? The answer is that we sometimes compile with a patched
GHC provided from haskell.nix that has a slightly busted patch applied to it. That patch changes
the type of the 'Tickish' part of 'Tick'.

Obviously we would eventually like to not have this problem (should be when we go to 9.2), but in
the mean time we'd like things to compile on both the patched and non-patched GHC.

A partial type signature provides a simple solution: GHC will infer different types for the hole
in each case, but since we operate on them in the same way, there's no problem.
-}</span
      ><span
      >
</span
      ><span id="line-1384"
      ></span
      ><span
      >
</span
      ><span id="line-1385"
      ></span
      ><span class="hs-comment"
      >-- See Note [What source locations to cover]</span
      ><span
      >
</span
      ><span id="line-1386"
      ></span
      ><span class="hs-comment"
      >-- See Note [Partial type signature for getSourceSpan]</span
      ><span
      >
</span
      ><span id="line-1387"
      ></span
      ><span
      >
</span
      ><span id="line-1388"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Do your best to try to extract a source span from a tick</span
	></span
      ><span
      >
</span
      ><span id="line-1389"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#getSourceSpan"
	><span class="hs-identifier hs-type"
	  >getSourceSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.ByteCode.Types.html#ModBreaks"
	><span class="hs-identifier hs-type"
	  >GHC.ModBreaks</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#RealSrcSpan"
	><span class="hs-identifier hs-type"
	  >GHC.RealSrcSpan</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1390"
      ></span
      ><span id="getSourceSpan"
      ><span class="annot"
	><span class="annottext"
	  >getSourceSpan :: Maybe ModBreaks -&gt; GenTickish pass -&gt; Maybe RealSrcSpan
</span
	  ><a href="PlutusTx.Compiler.Expr.html#getSourceSpan"
	  ><span class="hs-identifier hs-var hs-var"
	    >getSourceSpan</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ModBreaks
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Tickish.html#SourceNote"
	><span class="hs-identifier hs-type"
	  >GHC.SourceNote</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>sourceSpan :: forall (pass :: TickishPass). GenTickish pass -&gt; RealSrcSpan
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Tickish.html#sourceSpan"
	><span class="hs-identifier hs-var"
	  >GHC.sourceSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679527434"
      ><span class="annot"
	><span class="annottext"
	  >RealSrcSpan
</span
	  ><a href="#local-6989586621679527434"
	  ><span class="hs-identifier hs-var"
	    >src</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Maybe RealSrcSpan
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527434"
	><span class="hs-identifier hs-var"
	  >src</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1391"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#getSourceSpan"
	><span class="hs-identifier hs-var"
	  >getSourceSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ModBreaks
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Tickish.html#ProfNote"
	><span class="hs-identifier hs-type"
	  >GHC.ProfNote</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>profNoteCC :: forall (pass :: TickishPass). GenTickish pass -&gt; CostCentre
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Tickish.html#profNoteCC"
	><span class="hs-identifier hs-var"
	  >GHC.profNoteCC</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679527437"
      ><span class="annot"
	><span class="annottext"
	  >CostCentre
</span
	  ><a href="#local-6989586621679527437"
	  ><span class="hs-identifier hs-var"
	    >cc</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1392"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostCentre
</span
	><a href="#local-6989586621679527437"
	><span class="hs-identifier hs-var"
	  >cc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1393"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.CostCentre.html#NormalCC"
	><span class="hs-identifier hs-type"
	  >GHC.NormalCC</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CCFlavour
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CcName
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Module
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#RealSrcSpan"
	><span class="hs-identifier hs-type"
	  >GHC.RealSrcSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527440"
      ><span class="annot"
	><span class="annottext"
	  >RealSrcSpan
</span
	  ><a href="#local-6989586621679527440"
	  ><span class="hs-identifier hs-var"
	    >sp</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe BufSpan
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Maybe RealSrcSpan
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527440"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1394"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.CostCentre.html#AllCafsCC"
	><span class="hs-identifier hs-type"
	  >GHC.AllCafsCC</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Module
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#RealSrcSpan"
	><span class="hs-identifier hs-type"
	  >GHC.RealSrcSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527442"
      ><span class="annot"
	><span class="annottext"
	  >RealSrcSpan
</span
	  ><a href="#local-6989586621679527442"
	  ><span class="hs-identifier hs-var"
	    >sp</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe BufSpan
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Maybe RealSrcSpan
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527442"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1395"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CostCentre
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >                                         </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe RealSrcSpan
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1396"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#getSourceSpan"
	><span class="hs-identifier hs-var"
	  >getSourceSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527443"
      ><span class="annot"
	><span class="annottext"
	  >Maybe ModBreaks
</span
	  ><a href="#local-6989586621679527443"
	  ><span class="hs-identifier hs-var"
	    >mmb</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Tickish.html#HpcTick"
	><span class="hs-identifier hs-type"
	  >GHC.HpcTick</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>tickId :: forall (pass :: TickishPass). GenTickish pass -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Tickish.html#tickId"
	><span class="hs-identifier hs-var"
	  >GHC.tickId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679527446"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621679527446"
	  ><span class="hs-identifier hs-var"
	    >tid</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1397"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527447"
      ><span class="annot"
	><span class="annottext"
	  >ModBreaks
</span
	  ><a href="#local-6989586621679527447"
	  ><span class="hs-identifier hs-var"
	    >mb</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ModBreaks
</span
	><a href="#local-6989586621679527443"
	><span class="hs-identifier hs-var"
	  >mmb</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1398"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527448"
      ><span class="annot"
	><span class="annottext"
	  >arr :: Array Int SrcSpan
</span
	  ><a href="#local-6989586621679527448"
	  ><span class="hs-identifier hs-var hs-var"
	    >arr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ModBreaks -&gt; Array Int SrcSpan
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.ByteCode.Types.html#modBreaks_locs"
	><span class="hs-identifier hs-var"
	  >GHC.modBreaks_locs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ModBreaks
</span
	><a href="#local-6989586621679527447"
	><span class="hs-identifier hs-var"
	  >mb</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1399"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527450"
      ><span class="annot"
	><span class="annottext"
	  >range :: (Int, Int)
</span
	  ><a href="#local-6989586621679527450"
	  ><span class="hs-identifier hs-var hs-var"
	    >range</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Array Int SrcSpan -&gt; (Int, Int)
forall i e. Array i e -&gt; (i, i)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Arr.html#bounds"
	><span class="hs-identifier hs-var"
	  >Array.bounds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Array Int SrcSpan
</span
	><a href="#local-6989586621679527448"
	><span class="hs-identifier hs-var"
	  >arr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1400"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#RealSrcSpan"
	><span class="hs-identifier hs-type"
	  >GHC.RealSrcSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527452"
      ><span class="annot"
	><span class="annottext"
	  >RealSrcSpan
</span
	  ><a href="#local-6989586621679527452"
	  ><span class="hs-identifier hs-var"
	    >sp</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe BufSpan
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int, Int) -&gt; Int -&gt; Bool
forall a. Ix a =&gt; (a, a) -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Ix.html#inRange"
	><span class="hs-identifier hs-var"
	  >Array.inRange</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int, Int)
</span
	><a href="#local-6989586621679527450"
	><span class="hs-identifier hs-var"
	  >range</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679527446"
	><span class="hs-identifier hs-var"
	  >tid</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; Maybe SrcSpan
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SrcSpan -&gt; Maybe SrcSpan) -&gt; SrcSpan -&gt; Maybe SrcSpan
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Array Int SrcSpan
</span
	><a href="#local-6989586621679527448"
	><span class="hs-identifier hs-var"
	  >arr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Array Int SrcSpan -&gt; Int -&gt; SrcSpan
forall i e. Ix i =&gt; Array i e -&gt; i -&gt; e
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Arr.html#%21"
	><span class="hs-operator hs-var"
	  >Array.!</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679527446"
	><span class="hs-identifier hs-var"
	  >tid</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe SrcSpan
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1401"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Maybe RealSrcSpan
forall a. a -&gt; Maybe a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#return"
	><span class="hs-identifier hs-var"
	  >return</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527452"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1402"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#getSourceSpan"
	><span class="hs-identifier hs-var"
	  >getSourceSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe ModBreaks
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>GenTickish pass
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe RealSrcSpan
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1403"
      ></span
      ><span
      >
</span
      ><span id="line-1404"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#getVarSourceSpan"
	><span class="hs-identifier hs-type"
	  >getVarSourceSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#RealSrcSpan"
	><span class="hs-identifier hs-type"
	  >GHC.RealSrcSpan</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1405"
      ></span
      ><span id="getVarSourceSpan"
      ><span class="annot"
	><span class="annottext"
	  >getVarSourceSpan :: Id -&gt; Maybe RealSrcSpan
</span
	  ><a href="PlutusTx.Compiler.Expr.html#getVarSourceSpan"
	  ><span class="hs-identifier hs-var hs-var"
	    >getVarSourceSpan</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; Maybe RealSrcSpan
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanToRealSrcSpan"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanToRealSrcSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SrcSpan -&gt; Maybe RealSrcSpan)
-&gt; (Id -&gt; SrcSpan) -&gt; Id -&gt; Maybe RealSrcSpan
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; SrcSpan
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#nameSrcSpan"
	><span class="hs-identifier hs-var"
	  >GHC.nameSrcSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; SrcSpan) -&gt; (Id -&gt; Name) -&gt; Id -&gt; SrcSpan
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#varName"
	><span class="hs-identifier hs-var"
	  >GHC.varName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1406"
      ></span
      ><span
      >
</span
      ><span id="line-1407"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#srcSpanIso"
	><span class="hs-identifier hs-type"
	  >srcSpanIso</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Iso'</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#RealSrcSpan"
	><span class="hs-identifier hs-type"
	  >GHC.RealSrcSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Annotation.html#SrcSpan"
	><span class="hs-identifier hs-type"
	  >SrcSpan</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1408"
      ></span
      ><span id="srcSpanIso"
      ><span class="annot"
	><span class="annottext"
	  >srcSpanIso :: Iso' RealSrcSpan SrcSpan
</span
	  ><a href="PlutusTx.Compiler.Expr.html#srcSpanIso"
	  ><span class="hs-identifier hs-var hs-var"
	    >srcSpanIso</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(RealSrcSpan -&gt; SrcSpan)
-&gt; (SrcSpan -&gt; RealSrcSpan) -&gt; Iso' RealSrcSpan SrcSpan
forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span
	><span class="hs-identifier hs-var"
	>iso</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; SrcSpan
</span
	><a href="#local-6989586621679527462"
	><span class="hs-identifier hs-var"
	  >fromGHC</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; RealSrcSpan
</span
	><a href="#local-6989586621679527463"
	><span class="hs-identifier hs-var"
	  >toGHC</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1409"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-1410"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527462"
      ><span class="annot"
	><span class="annottext"
	  >fromGHC :: RealSrcSpan -&gt; SrcSpan
</span
	  ><a href="#local-6989586621679527462"
	  ><span class="hs-identifier hs-var hs-var"
	    >fromGHC</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527464"
      ><span class="annot"
	><span class="annottext"
	  >RealSrcSpan
</span
	  ><a href="#local-6989586621679527464"
	  ><span class="hs-identifier hs-var"
	    >sp</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1411"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Annotation.html#SrcSpan"
	><span class="hs-identifier hs-type"
	  >SrcSpan</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1412"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>srcSpanFile :: String
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#srcSpanFile"
	><span class="hs-identifier hs-var"
	  >srcSpanFile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CcName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Data.FastString.html#unpackFS"
	><span class="hs-identifier hs-var"
	  >GHC.unpackFS</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; CcName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanFile"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanFile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527464"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1413"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>srcSpanSLine :: Int
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#srcSpanSLine"
	><span class="hs-identifier hs-var"
	  >srcSpanSLine</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanStartLine"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanStartLine</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527464"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1414"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>srcSpanSCol :: Int
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#srcSpanSCol"
	><span class="hs-identifier hs-var"
	  >srcSpanSCol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanStartCol"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanStartCol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527464"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1415"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>srcSpanELine :: Int
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#srcSpanELine"
	><span class="hs-identifier hs-var"
	  >srcSpanELine</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanEndLine"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanEndLine</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527464"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1416"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>srcSpanECol :: Int
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#srcSpanECol"
	><span class="hs-identifier hs-var"
	  >srcSpanECol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanEndCol"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanEndCol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527464"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1417"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-1418"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527463"
      ><span class="annot"
	><span class="annottext"
	  >toGHC :: SrcSpan -&gt; RealSrcSpan
</span
	  ><a href="#local-6989586621679527463"
	  ><span class="hs-identifier hs-var hs-var"
	    >toGHC</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527477"
      ><span class="annot"
	><span class="annottext"
	  >SrcSpan
</span
	  ><a href="#local-6989586621679527477"
	  ><span class="hs-identifier hs-var"
	    >sp</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1419"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcLoc -&gt; RealSrcLoc -&gt; RealSrcSpan
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#mkRealSrcSpan"
	><span class="hs-identifier hs-var"
	  >GHC.mkRealSrcSpan</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1420"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CcName -&gt; Int -&gt; Int -&gt; RealSrcLoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#mkRealSrcLoc"
	><span class="hs-identifier hs-var"
	  >GHC.mkRealSrcLoc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; CcName
</span
	><a href="#local-6989586621679527480"
	><span class="hs-identifier hs-var"
	  >fileNameFs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan
</span
	><a href="#local-6989586621679527477"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; Int
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#srcSpanSLine"
	><span class="hs-identifier hs-var"
	  >srcSpanSLine</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan
</span
	><a href="#local-6989586621679527477"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; Int
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#srcSpanSCol"
	><span class="hs-identifier hs-var"
	  >srcSpanSCol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan
</span
	><a href="#local-6989586621679527477"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1421"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CcName -&gt; Int -&gt; Int -&gt; RealSrcLoc
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#mkRealSrcLoc"
	><span class="hs-identifier hs-var"
	  >GHC.mkRealSrcLoc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; CcName
</span
	><a href="#local-6989586621679527480"
	><span class="hs-identifier hs-var"
	  >fileNameFs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan
</span
	><a href="#local-6989586621679527477"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; Int
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#srcSpanELine"
	><span class="hs-identifier hs-var"
	  >srcSpanELine</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan
</span
	><a href="#local-6989586621679527477"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; Int
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#srcSpanECol"
	><span class="hs-identifier hs-var"
	  >srcSpanECol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan
</span
	><a href="#local-6989586621679527477"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1422"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527480"
      ><span class="annot"
	><span class="annottext"
	  >fileNameFs :: SrcSpan -&gt; CcName
</span
	  ><a href="#local-6989586621679527480"
	  ><span class="hs-identifier hs-var hs-var"
	    >fileNameFs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; CcName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Data.FastString.html#fsLit"
	><span class="hs-identifier hs-var"
	  >GHC.fsLit</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; CcName) -&gt; (SrcSpan -&gt; String) -&gt; SrcSpan -&gt; CcName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SrcSpan -&gt; String
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#srcSpanFile"
	><span class="hs-identifier hs-var"
	  >srcSpanFile</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1423"
      ></span
      ><span
      >
</span
      ><span id="line-1424"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Obviously this function computes a GHC.RealSrcSpan from a CovLoc</span
	></span
      ><span
      >
</span
      ><span id="line-1425"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#toCovLoc"
	><span class="hs-identifier hs-type"
	  >toCovLoc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#RealSrcSpan"
	><span class="hs-identifier hs-type"
	  >GHC.RealSrcSpan</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-tx/src/PlutusTx.Coverage.html#CovLoc"
	><span class="hs-identifier hs-type"
	  >CovLoc</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1426"
      ></span
      ><span id="toCovLoc"
      ><span class="annot"
	><span class="annottext"
	  >toCovLoc :: RealSrcSpan -&gt; CovLoc
</span
	  ><a href="PlutusTx.Compiler.Expr.html#toCovLoc"
	  ><span class="hs-identifier hs-var hs-var"
	    >toCovLoc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527483"
      ><span class="annot"
	><span class="annottext"
	  >RealSrcSpan
</span
	  ><a href="#local-6989586621679527483"
	  ><span class="hs-identifier hs-var"
	    >sp</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1427"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Int -&gt; Int -&gt; Int -&gt; Int -&gt; CovLoc
</span
	><a href="../../plutus-tx/src/PlutusTx.Coverage.html#CovLoc"
	><span class="hs-identifier hs-var"
	  >CovLoc</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1428"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CcName -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Data.FastString.html#unpackFS"
	><span class="hs-identifier hs-var"
	  >GHC.unpackFS</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CcName -&gt; String) -&gt; CcName -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; CcName
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanFile"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanFile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527483"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1429"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanStartLine"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanStartLine</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527483"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1430"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanEndLine"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanEndLine</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527483"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1431"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanStartCol"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanStartCol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527483"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1432"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#srcSpanEndCol"
	><span class="hs-identifier hs-var"
	  >GHC.srcSpanEndCol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527483"
	><span class="hs-identifier hs-var"
	  >sp</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1433"
      ></span
      ><span
      >
</span
      ><span id="line-1434"
      ></span
      ><span class="hs-comment"
      >-- Here be dragons:</span
      ><span
      >
</span
      ><span id="line-1435"
      ></span
      ><span class="hs-comment"
      >-- See Note [Tracking coverage and lazyness]</span
      ><span
      >
</span
      ><span id="line-1436"
      ></span
      ><span class="hs-comment"
      >-- See Note [Coverage order]</span
      ><span
      >
</span
      ><span id="line-1437"
      ></span
      ><span
      >
</span
      ><span id="line-1438"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Annotate a term for coverage</span
	></span
      ><span
      >
</span
      ><span id="line-1439"
      ></span
      ><span id="local-6989586621679525318"
      ><span id="local-6989586621679525319"
	><span id="local-6989586621679525320"
	  ><span id="local-6989586621679525321"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#coverageCompile"
		><span class="hs-identifier hs-type"
		  >coverageCompile</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1440"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525318"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525319"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525320"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525321"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-1441"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
		><span class="hs-identifier hs-type"
		  >GHC.CoreExpr</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1442"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ The original expression</span
		></span
	      ><span
	      >
</span
	      ><span id="line-1443"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.TyCo.Rep.html#Type"
		><span class="hs-identifier hs-type"
		  >GHC.Type</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1444"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ The type of the expression</span
		></span
	      ><span
	      >
</span
	      ><span id="line-1445"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.SrcLoc.html#RealSrcSpan"
		><span class="hs-identifier hs-type"
		  >GHC.RealSrcSpan</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1446"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ The source location of this expression</span
		></span
	      ><span
	      >
</span
	      ><span id="line-1447"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525318"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525319"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1448"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ The current term (this is what we add coverage tracking to)</span
		></span
	      ><span
	      >
</span
	      ><span id="line-1449"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CoverageType"
		><span class="hs-identifier hs-type"
		  >CoverageType</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1450"
	      ></span
	      ><span
	      >  </span
	      ><span class="annot"
	      ><span class="hs-comment"
		>-- ^ The type of coverage to do next</span
		></span
	      ><span
	      >
</span
	      ><span id="line-1451"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525320"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525318"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525319"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1452"
      ></span
      ><span id="coverageCompile"
      ><span class="annot"
	><span class="annottext"
	  >coverageCompile :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr
-&gt; Type
-&gt; RealSrcSpan
-&gt; PIRTerm uni fun
-&gt; CoverageType
-&gt; m (PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#coverageCompile"
	  ><span class="hs-identifier hs-var hs-var"
	    >coverageCompile</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527573"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527573"
	  ><span class="hs-identifier hs-var"
	    >originalExpr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527574"
      ><span class="annot"
	><span class="annottext"
	  >Type
</span
	  ><a href="#local-6989586621679527574"
	  ><span class="hs-identifier hs-var"
	    >exprType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527575"
      ><span class="annot"
	><span class="annottext"
	  >RealSrcSpan
</span
	  ><a href="#local-6989586621679527575"
	  ><span class="hs-identifier hs-var"
	    >src</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527576"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527576"
	  ><span class="hs-identifier hs-var"
	    >compiledTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527577"
      ><span class="annot"
	><span class="annottext"
	  >CoverageType
</span
	  ><a href="#local-6989586621679527577"
	  ><span class="hs-identifier hs-var"
	    >covT</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1453"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoverageType
</span
	><a href="#local-6989586621679527577"
	><span class="hs-identifier hs-var"
	  >covT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1454"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Add a location coverage annotation to tell us &quot;we've executed this piece of code&quot;</span
      ><span
      >
</span
      ><span id="line-1455"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CoverageType
</span
	><a href="PlutusTx.Compiler.Types.html#LocationCoverage"
	><span class="hs-identifier hs-var"
	  >LocationCoverage</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1456"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527579"
      ><span class="annot"
	><span class="annottext"
	  >CoverageAnnotation
</span
	  ><a href="#local-6989586621679527579"
	  ><span class="hs-identifier hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CovLoc -&gt; m CoverageAnnotation
forall (m :: * -&gt; *).
MonadWriter CoverageIndex m =&gt;
CovLoc -&gt; m CoverageAnnotation
</span
	><a href="../../plutus-tx/src/PlutusTx.Coverage.html#addLocationToCoverageIndex"
	><span class="hs-identifier hs-var"
	  >addLocationToCoverageIndex</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; CovLoc
</span
	><a href="PlutusTx.Compiler.Expr.html#toCovLoc"
	><span class="hs-identifier hs-var"
	  >toCovLoc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527575"
	><span class="hs-identifier hs-var"
	  >src</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1457"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527581"
      ><span class="annot"
	><span class="annottext"
	  >PIRType uni
</span
	  ><a href="#local-6989586621679527581"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; m (PIRType uni)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type -&gt; m (PIRType uni)
</span
	><a href="PlutusTx.Compiler.Type.html#compileTypeNorm"
	><span class="hs-identifier hs-var"
	  >compileTypeNorm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527574"
	><span class="hs-identifier hs-var"
	  >exprType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1458"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>PIRType uni
-&gt; Text -&gt; PIRTerm uni DefaultFun -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Type TyName uni Ann
-&gt; Text -&gt; PIRTerm uni DefaultFun -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#mkLazyTrace"
	><span class="hs-identifier hs-var"
	  >mkLazyTrace</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRType uni
</span
	><a href="#local-6989586621679527581"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >T.pack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Text)
-&gt; (CoverageAnnotation -&gt; String) -&gt; CoverageAnnotation -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoverageAnnotation -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CoverageAnnotation -&gt; Text) -&gt; CoverageAnnotation -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoverageAnnotation
</span
	><a href="#local-6989586621679527579"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
PIRTerm uni DefaultFun
</span
	><a href="#local-6989586621679527576"
	><span class="hs-identifier hs-var"
	  >compiledTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1459"
      ></span
      ><span
      >
</span
      ><span id="line-1460"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Add two boolean coverage annotations to tell us &quot;this boolean has been True/False respectively&quot;</span
      ><span
      >
</span
      ><span id="line-1461"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- see Note [Boolean coverage]</span
      ><span
      >
</span
      ><span id="line-1462"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>CoverageType
</span
	><a href="PlutusTx.Compiler.Types.html#BooleanCoverage"
	><span class="hs-identifier hs-var"
	  >BooleanCoverage</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1463"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- Check if the thing we are compiling is a boolean</span
      ><span
      >
</span
      ><span id="line-1464"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527583"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679527583"
	  ><span class="hs-identifier hs-var"
	    >boolName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >Bool</span
      ><span
      >
</span
      ><span id="line-1465"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527584"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679527584"
	  ><span class="hs-identifier hs-var"
	    >trueName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >True</span
      ><span
      >
</span
      ><span id="line-1466"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679527585"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679527585"
	  ><span class="hs-identifier hs-var"
	    >falseName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >False</span
      ><span
      >
</span
      ><span id="line-1467"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527586"
      ><span class="annot"
	><span class="annottext"
	  >tyHeadName :: Maybe Name
</span
	  ><a href="#local-6989586621679527586"
	  ><span class="hs-identifier hs-var hs-var"
	    >tyHeadName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TyCon -&gt; Name) -&gt; Maybe TyCon -&gt; Maybe Name
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type -&gt; Maybe TyCon
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.Type.html#tyConAppTyCon_maybe"
	><span class="hs-identifier hs-var"
	  >GHC.tyConAppTyCon_maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type
</span
	><a href="#local-6989586621679527574"
	><span class="hs-identifier hs-var"
	  >exprType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1468"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527587"
      ><span class="annot"
	><span class="annottext"
	  >headSymName :: Maybe Name
</span
	  ><a href="#local-6989586621679527587"
	  ><span class="hs-identifier hs-var hs-var"
	    >headSymName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; Name) -&gt; Maybe Id -&gt; Maybe Name
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe Id
</span
	><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527573"
	><span class="hs-identifier hs-var"
	  >originalExpr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1469"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527589"
      ><span class="annot"
	><span class="annottext"
	  >isTrueOrFalse :: Bool
</span
	  ><a href="#local-6989586621679527589"
	  ><span class="hs-identifier hs-var hs-var"
	    >isTrueOrFalse</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527573"
	><span class="hs-identifier hs-var"
	  >originalExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-1470"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527590"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527590"
	  ><span class="hs-identifier hs-var"
	    >v</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1471"
      ></span
      ><span
      >              </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.Info.html#DataConWorkId"
	><span class="hs-identifier hs-type"
	  >GHC.DataConWorkId</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527591"
      ><span class="annot"
	><span class="annottext"
	  >DataCon
</span
	  ><a href="#local-6989586621679527591"
	  ><span class="hs-identifier hs-var"
	    >dc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; IdDetails
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#idDetails"
	><span class="hs-identifier hs-var"
	  >GHC.idDetails</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527590"
	><span class="hs-identifier hs-var"
	  >v</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1472"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DataCon
</span
	><a href="#local-6989586621679527591"
	><span class="hs-identifier hs-var"
	  >dc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; [Name] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#elem"
	><span class="hs-operator hs-var"
	  >`elem`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679527584"
	><span class="hs-identifier hs-var"
	  >trueName</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679527585"
	><span class="hs-identifier hs-var"
	  >falseName</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-1473"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1474"
      ></span
      ><span
      >
</span
      ><span id="line-1475"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Name
</span
	><a href="#local-6989586621679527586"
	><span class="hs-identifier hs-var"
	  >tyHeadName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Name -&gt; Maybe Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%2F%3D"
	><span class="hs-operator hs-var"
	  >/=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679527583"
	><span class="hs-identifier hs-var"
	  >boolName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679527589"
	><span class="hs-identifier hs-var"
	  >isTrueOrFalse</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1476"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#return"
	><span class="hs-identifier hs-var"
	  >return</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527576"
	><span class="hs-identifier hs-var"
	  >compiledTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1477"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1478"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- Generate the code:</span
      ><span
      >
</span
      ><span id="line-1479"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- ```</span
      ><span
      >
</span
      ><span id="line-1480"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- traceBool &quot;&lt;compiledTerm was true&gt;&quot; &quot;&lt;compiledTerm was false&gt;&quot; compiledTerm</span
      ><span
      >
</span
      ><span id="line-1481"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- ```</span
      ><span
      >
</span
      ><span id="line-1482"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527593"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527593"
	  ><span class="hs-identifier hs-var"
	    >traceBoolCompiled</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CoreExpr -&gt; m (PIRTerm uni fun))
-&gt; (Id -&gt; CoreExpr) -&gt; Id -&gt; m (PIRTerm uni fun)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; CoreExpr
forall b. Id -&gt; Expr b
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-var"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Id -&gt; m (PIRTerm uni fun)) -&gt; m Id -&gt; m (PIRTerm uni fun)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3D%3C%3C"
	><span class="hs-operator hs-var"
	  >=&lt;&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Id
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Id
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcId"
	><span class="hs-identifier hs-var"
	  >lookupGhcId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >traceBool</span
      ><span
      >
</span
      ><span id="line-1483"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527601"
      ><span class="annot"
	><span class="annottext"
	  >mkMetadata :: Maybe Name -&gt; CoverageMetadata
</span
	  ><a href="#local-6989586621679527601"
	  ><span class="hs-identifier hs-var hs-var"
	    >mkMetadata</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1484"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Set Metadata -&gt; CoverageMetadata
</span
	><a href="../../plutus-tx/src/PlutusTx.Coverage.html#CoverageMetadata"
	><span class="hs-identifier hs-var"
	  >CoverageMetadata</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1485"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>(Set Metadata -&gt; CoverageMetadata)
-&gt; (Maybe Name -&gt; Set Metadata) -&gt; Maybe Name -&gt; CoverageMetadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; Set Metadata) -&gt; Maybe Name -&gt; Set Metadata
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Maybe a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#foldMap"
	><span class="hs-identifier hs-var"
	  >foldMap</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1486"
      ></span
      ><span
      >                    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Metadata -&gt; Set Metadata
forall a. a -&gt; Set a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#singleton"
	><span class="hs-identifier hs-var"
	  >Set.singleton</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Metadata -&gt; Set Metadata)
-&gt; (Name -&gt; Metadata) -&gt; Name -&gt; Set Metadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Metadata
</span
	><a href="../../plutus-tx/src/PlutusTx.Coverage.html#ApplicationHeadSymbol"
	><span class="hs-identifier hs-var"
	  >ApplicationHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Metadata) -&gt; (Name -&gt; String) -&gt; Name -&gt; Metadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; String
forall a. NamedThing a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getOccString"
	><span class="hs-identifier hs-var"
	  >GHC.getOccString</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1487"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527607"
      ><span class="annot"
	><span class="annottext"
	  >CoverageAnnotation
</span
	  ><a href="#local-6989586621679527607"
	  ><span class="hs-identifier hs-var"
	    >fc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CovLoc -&gt; Bool -&gt; CoverageMetadata -&gt; m CoverageAnnotation
forall (m :: * -&gt; *).
MonadWriter CoverageIndex m =&gt;
CovLoc -&gt; Bool -&gt; CoverageMetadata -&gt; m CoverageAnnotation
</span
	><a href="../../plutus-tx/src/PlutusTx.Coverage.html#addBoolCaseToCoverageIndex"
	><span class="hs-identifier hs-var"
	  >addBoolCaseToCoverageIndex</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; CovLoc
</span
	><a href="PlutusTx.Compiler.Expr.html#toCovLoc"
	><span class="hs-identifier hs-var"
	  >toCovLoc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527575"
	><span class="hs-identifier hs-var"
	  >src</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Name -&gt; CoverageMetadata
</span
	><a href="#local-6989586621679527601"
	><span class="hs-identifier hs-var"
	  >mkMetadata</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Name
</span
	><a href="#local-6989586621679527587"
	><span class="hs-identifier hs-var"
	  >headSymName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1488"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621679527609"
      ><span class="annot"
	><span class="annottext"
	  >CoverageAnnotation
</span
	  ><a href="#local-6989586621679527609"
	  ><span class="hs-identifier hs-var"
	    >tc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CovLoc -&gt; Bool -&gt; CoverageMetadata -&gt; m CoverageAnnotation
forall (m :: * -&gt; *).
MonadWriter CoverageIndex m =&gt;
CovLoc -&gt; Bool -&gt; CoverageMetadata -&gt; m CoverageAnnotation
</span
	><a href="../../plutus-tx/src/PlutusTx.Coverage.html#addBoolCaseToCoverageIndex"
	><span class="hs-identifier hs-var"
	  >addBoolCaseToCoverageIndex</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan -&gt; CovLoc
</span
	><a href="PlutusTx.Compiler.Expr.html#toCovLoc"
	><span class="hs-identifier hs-var"
	  >toCovLoc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RealSrcSpan
</span
	><a href="#local-6989586621679527575"
	><span class="hs-identifier hs-var"
	  >src</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Name -&gt; CoverageMetadata
</span
	><a href="#local-6989586621679527601"
	><span class="hs-identifier hs-var"
	  >mkMetadata</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Name
</span
	><a href="#local-6989586621679527587"
	><span class="hs-identifier hs-var"
	  >headSymName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1489"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; m (PIRTerm uni fun))
-&gt; ([(Ann, PIRTerm uni fun)] -&gt; PIRTerm uni fun)
-&gt; [(Ann, PIRTerm uni fun)]
-&gt; m (PIRTerm uni fun)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; [(Ann, PIRTerm uni fun)] -&gt; PIRTerm uni fun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
term ann -&gt; [(ann, term ann)] -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterApp"
	><span class="hs-identifier hs-var"
	  >PLC.mkIterApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527593"
	><span class="hs-identifier hs-var"
	  >traceBoolCompiled</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([(Ann, PIRTerm uni fun)] -&gt; m (PIRTerm uni fun))
-&gt; [(Ann, PIRTerm uni fun)] -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1490"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1491"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm uni fun -&gt; (Ann, PIRTerm uni fun))
-&gt; [PIRTerm uni fun] -&gt; [(Ann, PIRTerm uni fun)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Text -&gt; PIRTerm uni fun
forall a (uni :: * -&gt; *) fun (term :: * -&gt; *) tyname name ann.
(TermLike term tyname name uni fun, HasTermLevel uni a) =&gt;
ann -&gt; a -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkConstant"
	><span class="hs-identifier hs-var"
	  >PLC.mkConstant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >T.pack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Text)
-&gt; (CoverageAnnotation -&gt; String) -&gt; CoverageAnnotation -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoverageAnnotation -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CoverageAnnotation -&gt; Text) -&gt; CoverageAnnotation -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoverageAnnotation
</span
	><a href="#local-6989586621679527609"
	><span class="hs-identifier hs-var"
	  >tc</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1492"
      ></span
      ><span
      >                  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Text -&gt; PIRTerm uni fun
forall a (uni :: * -&gt; *) fun (term :: * -&gt; *) tyname name ann.
(TermLike term tyname name uni fun, HasTermLevel uni a) =&gt;
ann -&gt; a -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkConstant"
	><span class="hs-identifier hs-var"
	  >PLC.mkConstant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >T.pack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Text)
-&gt; (CoverageAnnotation -&gt; String) -&gt; CoverageAnnotation -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoverageAnnotation -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CoverageAnnotation -&gt; Text) -&gt; CoverageAnnotation -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoverageAnnotation
</span
	><a href="#local-6989586621679527607"
	><span class="hs-identifier hs-var"
	  >fc</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1493"
      ></span
      ><span
      >                  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527576"
	><span class="hs-identifier hs-var"
	  >compiledTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1494"
      ></span
      ><span
      >                  </span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-1495"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-1496"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-type"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
	><span class="hs-identifier hs-type"
	  >GHC.CoreExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Id"
	><span class="hs-identifier hs-type"
	  >GHC.Id</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1497"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527588"
      ><span class="annot"
	><span class="annottext"
	  >findHeadSymbol :: CoreExpr -&gt; Maybe Id
</span
	  ><a href="#local-6989586621679527588"
	  ><span class="hs-identifier hs-var hs-var"
	    >findHeadSymbol</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527610"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527610"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Maybe Id
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527610"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1498"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#App"
	><span class="hs-identifier hs-type"
	  >GHC.App</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527611"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527611"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe Id
</span
	><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527611"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1499"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Lam"
	><span class="hs-identifier hs-type"
	  >GHC.Lam</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527612"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527612"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe Id
</span
	><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527612"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1500"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Tick"
	><span class="hs-identifier hs-type"
	  >GHC.Tick</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreTickish
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527613"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527613"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe Id
</span
	><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527613"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1501"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Let"
	><span class="hs-identifier hs-type"
	  >GHC.Let</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bind Id
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527614"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527614"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe Id
</span
	><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527614"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1502"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#Cast"
	><span class="hs-identifier hs-type"
	  >GHC.Cast</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527615"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527615"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoercionR
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; Maybe Id
</span
	><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527615"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1503"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679527588"
	><span class="hs-identifier hs-var"
	  >findHeadSymbol</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >              </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Id
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1504"
      ></span
      ><span
      >
</span
      ><span id="line-1505"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Compiler.Expr.html#hasAlwaysInlinePragma"
	><span class="hs-identifier hs-type"
	  >hasAlwaysInlinePragma</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Var.html#Var"
	><span class="hs-identifier hs-type"
	  >GHC.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1506"
      ></span
      ><span id="hasAlwaysInlinePragma"
      ><span class="annot"
	><span class="annottext"
	  >hasAlwaysInlinePragma :: Id -&gt; Bool
</span
	  ><a href="PlutusTx.Compiler.Expr.html#hasAlwaysInlinePragma"
	  ><span class="hs-identifier hs-var hs-var"
	    >hasAlwaysInlinePragma</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinePragma -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Basic.html#isInlinePragma"
	><span class="hs-identifier hs-var"
	  >GHC.isInlinePragma</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(InlinePragma -&gt; Bool) -&gt; (Id -&gt; InlinePragma) -&gt; Id -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; InlinePragma
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Id.html#idInlinePragma"
	><span class="hs-identifier hs-var"
	  >GHC.idInlinePragma</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1507"
      ></span
      ><span
      >
</span
      ><span id="line-1508"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| We cannot compile the unfolding of `GHC.Num.Integer.integerNegate`, which is
important because GHC inserts calls to it when it sees negations, even negations
of literals (unless NegativeLiterals is on, which it usually isn't). So we directly
define a PIR term for it: @integerNegate = \x -&gt; 0 - x@.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-1513"
      ></span
      ><span id="local-6989586621679525414"
      ><span id="local-6989586621679525415"
	><span id="local-6989586621679525416"
	  ><span class="annot"
	    ><a href="PlutusTx.Compiler.Expr.html#defineIntegerNegate"
	      ><span class="hs-identifier hs-type"
		>defineIntegerNegate</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
	      ><span class="hs-identifier hs-type"
		>CompilingDefault</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	      ><span class="hs-identifier hs-type"
		>PLC.DefaultUni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679525414"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679525415"
	      ><span class="hs-identifier hs-type"
		>m</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679525416"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >=&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679525415"
	      ><span class="hs-identifier hs-type"
		>m</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="hs-special"
	    >)</span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1514"
      ></span
      ><span id="defineIntegerNegate"
      ><span class="annot"
	><span class="annottext"
	  >defineIntegerNegate :: forall fun (m :: * -&gt; *) ann.
CompilingDefault DefaultUni fun m ann =&gt;
m ()
</span
	  ><a href="PlutusTx.Compiler.Expr.html#defineIntegerNegate"
	  ><span class="hs-identifier hs-var hs-var"
	    >defineIntegerNegate</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1515"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527658"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527658"
	  ><span class="hs-identifier hs-var"
	    >ghcId</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Id
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Id
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcId"
	><span class="hs-identifier hs-var"
	  >lookupGhcId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >GHC.Num.Integer.integerNegate</span
      ><span
      >
</span
      ><span id="line-1516"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Always inline `integerNegate`.</span
      ><span
      >
</span
      ><span id="line-1517"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- `let integerNegate = \x -&gt; 0 - x in integerNegate 1 + integerNegate 2`</span
      ><span
      >
</span
      ><span id="line-1518"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- is much more expensive than `(-1) + (-2)`. The inliner cannot currently</span
      ><span
      >
</span
      ><span id="line-1519"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- make this transformation without `annAlwaysInline`, because it is not aware</span
      ><span
      >
</span
      ><span id="line-1520"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- of constant folding.</span
      ><span
      >
</span
      ><span id="line-1521"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527659"
      ><span class="annot"
	><span class="annottext"
	  >VarDecl TyName Name DefaultUni Ann
</span
	  ><a href="#local-6989586621679527659"
	  ><span class="hs-identifier hs-var"
	    >var</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Id -&gt; m (VarDecl TyName Name DefaultUni Ann)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Ann -&gt; Id -&gt; m (PLCVar uni)
</span
	><a href="PlutusTx.Compiler.Names.html#compileVarFresh"
	><span class="hs-identifier hs-var"
	  >compileVarFresh</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annAlwaysInline"
	><span class="hs-identifier hs-var"
	  >annAlwaysInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527658"
	><span class="hs-identifier hs-var"
	  >ghcId</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1522"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527661"
      ><span class="annot"
	><span class="annottext"
	  >ann :: Ann
</span
	  ><a href="#local-6989586621679527661"
	  ><span class="hs-identifier hs-var hs-var"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1523"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527662"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679527662"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; m Name
forall (m :: * -&gt; *). MonadQuote m =&gt; Text -&gt; m Name
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Names.html#safeFreshName"
	><span class="hs-identifier hs-var"
	  >safeFreshName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;x&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1524"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-1525"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- body = 0 - x</span
      ><span
      >
</span
      ><span id="line-1526"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679527663"
      ><span class="annot"
	><span class="annottext"
	  >body :: PIRTerm DefaultUni DefaultFun
</span
	  ><a href="#local-6989586621679527663"
	  ><span class="hs-identifier hs-var hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-1527"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Name
-&gt; PLCType DefaultUni
-&gt; PIRTerm DefaultUni DefaultFun
-&gt; PIRTerm DefaultUni DefaultFun
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; name
-&gt; Type tyname uni a
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-var"
	  >PIR.LamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527661"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679527662"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>forall a (x :: a) (uni :: * -&gt; *) ann tyname.
HasTypeLevel uni x =&gt;
ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Builtin.KnownTypeAst.html#mkTyBuiltin"
	><span class="hs-identifier hs-var"
	  >PIR.mkTyBuiltin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-bignum-1.3/docs/src/GHC.Num.Integer.html#Integer"
	><span class="hs-identifier hs-type"
	  >Integer</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527661"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun)
-&gt; PIRTerm DefaultUni DefaultFun -&gt; PIRTerm DefaultUni DefaultFun
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1528"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni DefaultFun
-&gt; [(Ann, PIRTerm DefaultUni DefaultFun)]
-&gt; PIRTerm DefaultUni DefaultFun
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
term ann -&gt; [(ann, term ann)] -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterApp"
	><span class="hs-identifier hs-var"
	  >PIR.mkIterApp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1529"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; DefaultFun -&gt; PIRTerm DefaultUni DefaultFun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; fun -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Builtin"
	><span class="hs-identifier hs-var"
	  >PIR.Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527661"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefaultFun
</span
	><a href="../../plutus-core/src/PlutusCore.Default.Builtins.html#SubtractInteger"
	><span class="hs-identifier hs-var"
	  >PLC.SubtractInteger</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1530"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >[</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527661"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall a (uni :: * -&gt; *) fun (term :: * -&gt; *) tyname name ann.
(TermLike term tyname name uni fun, HasTermLevel uni a) =&gt;
ann -&gt; a -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkConstant"
	><span class="hs-identifier hs-var"
	  >PIR.mkConstant</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-bignum-1.3/docs/src/GHC.Num.Integer.html#Integer"
	><span class="hs-identifier hs-type"
	  >Integer</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527661"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Integer
</span
	><span class="hs-number"
	>0</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1531"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527661"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Name -&gt; PIRTerm DefaultUni DefaultFun
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; name -&gt; Term tyname name uni fun a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Var"
	><span class="hs-identifier hs-var"
	  >PIR.Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
</span
	><a href="#local-6989586621679527661"
	><span class="hs-identifier hs-var"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679527662"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1532"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-1533"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679527665"
      ><span class="annot"
	><span class="annottext"
	  >def :: TermDefWithStrictness DefaultUni DefaultFun Ann
</span
	  ><a href="#local-6989586621679527665"
	  ><span class="hs-identifier hs-var hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
-&gt; (PIRTerm DefaultUni DefaultFun, Strictness)
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
forall var val. var -&gt; val -&gt; Def var val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#Def"
	><span class="hs-identifier hs-var"
	  >PIR.Def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
</span
	><a href="#local-6989586621679527659"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679527663"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Strict"
	><span class="hs-identifier hs-var"
	  >PIR.Strict</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1534"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
-&gt; Set LexName
-&gt; m ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; TermDefWithStrictness uni fun ann -&gt; Set key -&gt; m ()
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#defineTerm"
	><span class="hs-identifier hs-var"
	  >PIR.defineTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; LexName
</span
	><a href="PlutusTx.Compiler.Types.html#LexName"
	><span class="hs-identifier hs-var"
	  >LexName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Builtin.Names.html#integerNegateName"
	><span class="hs-identifier hs-var"
	  >GHC.integerNegateName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TermDefWithStrictness DefaultUni DefaultFun Ann
</span
	><a href="#local-6989586621679527665"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set LexName
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1535"
      ></span
      ><span
      >
</span
      ><span id="line-1536"
      ></span
      ><span id="local-6989586621679527667"
      ><span id="local-6989586621679527668"
	><span id="local-6989586621679527669"
	  ><span class="annot"
	    ><a href="PlutusTx.Compiler.Expr.html#defineFix"
	      ><span class="hs-identifier hs-type"
		>defineFix</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
	      ><span class="hs-identifier hs-type"
		>CompilingDefault</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	      ><span class="hs-identifier hs-type"
		>PLC.DefaultUni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679527667"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679527668"
	      ><span class="hs-identifier hs-type"
		>m</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679527669"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >=&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679527668"
	      ><span class="hs-identifier hs-type"
		>m</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="hs-special"
	    >)</span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1537"
      ></span
      ><span id="defineFix"
      ><span class="annot"
	><span class="annottext"
	  >defineFix :: forall fun (m :: * -&gt; *) ann.
CompilingDefault DefaultUni fun m ann =&gt;
m ()
</span
	  ><a href="PlutusTx.Compiler.Expr.html#defineFix"
	  ><span class="hs-identifier hs-var hs-var"
	    >defineFix</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1538"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527704"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679527704"
	  ><span class="hs-identifier hs-var"
	    >inlineFix</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CompileContext DefaultUni DefaultFun -&gt; Bool) -&gt; m Bool
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#asks"
	><span class="hs-identifier hs-var"
	  >asks</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CompileOptions -&gt; Bool
</span
	><a href="PlutusTx.Compiler.Types.html#coInlineFix"
	><span class="hs-identifier hs-var"
	  >coInlineFix</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CompileOptions -&gt; Bool)
-&gt; (CompileContext DefaultUni DefaultFun -&gt; CompileOptions)
-&gt; CompileContext DefaultUni DefaultFun
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileContext DefaultUni DefaultFun -&gt; CompileOptions
forall (uni :: * -&gt; *) fun.
CompileContext uni fun -&gt; CompileOptions
</span
	><a href="PlutusTx.Compiler.Types.html#ccOpts"
	><span class="hs-identifier hs-var"
	  >ccOpts</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1539"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527706"
      ><span class="annot"
	><span class="annottext"
	  >Id
</span
	  ><a href="#local-6989586621679527706"
	  ><span class="hs-identifier hs-var"
	    >ghcId</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Id
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Id
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcId"
	><span class="hs-identifier hs-var"
	  >lookupGhcId</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >PlutusTx.Function.fix</span
      ><span
      >
</span
      ><span id="line-1540"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527707"
      ><span class="annot"
	><span class="annottext"
	  >VarDecl TyName Name DefaultUni Ann
</span
	  ><a href="#local-6989586621679527707"
	  ><span class="hs-identifier hs-var"
	    >var</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann -&gt; Id -&gt; m (VarDecl TyName Name DefaultUni Ann)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
Ann -&gt; Id -&gt; m (PLCVar uni)
</span
	><a href="PlutusTx.Compiler.Names.html#compileVarFresh"
	><span class="hs-identifier hs-var"
	  >compileVarFresh</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679527704"
	><span class="hs-identifier hs-var"
	  >inlineFix</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annAlwaysInline"
	><span class="hs-identifier hs-var"
	  >annAlwaysInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527706"
	><span class="hs-identifier hs-var"
	  >ghcId</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1541"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527711"
      ><span class="annot"
	><span class="annottext"
	  >rhs :: PIRTerm DefaultUni DefaultFun
</span
	  ><a href="#local-6989586621679527711"
	  ><span class="hs-identifier hs-var hs-var"
	    >rhs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
forall a. AnnInline a =&gt; a
</span
	><a href="../../plutus-core/src/PlutusCore.Annotation.html#annMayInline"
	><span class="hs-identifier hs-var"
	  >annMayInline</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Ann
-&gt; Term TyName Name DefaultUni DefaultFun ()
-&gt; PIRTerm DefaultUni DefaultFun
forall a b.
a
-&gt; Term TyName Name DefaultUni DefaultFun b
-&gt; Term TyName Name DefaultUni DefaultFun a
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%24"
	><span class="hs-operator hs-var"
	  >&lt;$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name DefaultUni DefaultFun ()
forall (term :: * -&gt; *) (uni :: * -&gt; *) fun.
TermLike term TyName Name uni fun =&gt;
term ()
</span
	><a href="../../plutus-core/src/PlutusCore.StdLib.Data.Function.html#fix"
	><span class="hs-identifier hs-var"
	  >PlutusCore.StdLib.Data.Function.fix</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1542"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679527714"
      ><span class="annot"
	><span class="annottext"
	  >def :: TermDefWithStrictness DefaultUni DefaultFun Ann
</span
	  ><a href="#local-6989586621679527714"
	  ><span class="hs-identifier hs-var hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
-&gt; (PIRTerm DefaultUni DefaultFun, Strictness)
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
forall var val. var -&gt; val -&gt; Def var val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#Def"
	><span class="hs-identifier hs-var"
	  >PIR.Def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name DefaultUni Ann
</span
	><a href="#local-6989586621679527707"
	><span class="hs-identifier hs-var"
	  >var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm DefaultUni DefaultFun
</span
	><a href="#local-6989586621679527711"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Strict"
	><span class="hs-identifier hs-var"
	  >PIR.Strict</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-1543"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>LexName
-&gt; TermDefWithStrictness DefaultUni DefaultFun Ann
-&gt; Set LexName
-&gt; m ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; TermDefWithStrictness uni fun ann -&gt; Set key -&gt; m ()
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#defineTerm"
	><span class="hs-identifier hs-var"
	  >PIR.defineTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; LexName
</span
	><a href="PlutusTx.Compiler.Types.html#LexName"
	><span class="hs-identifier hs-var"
	  >LexName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Types.Name.html#getName"
	><span class="hs-identifier hs-var"
	  >GHC.getName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Id
</span
	><a href="#local-6989586621679527706"
	><span class="hs-identifier hs-var"
	  >ghcId</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TermDefWithStrictness DefaultUni DefaultFun Ann
</span
	><a href="#local-6989586621679527714"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set LexName
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1544"
      ></span
      ><span
      >
</span
      ><span id="line-1545"
      ></span
      ><span id="local-6989586621679525246"
      ><span id="local-6989586621679525247"
	><span id="local-6989586621679525248"
	  ><span id="local-6989586621679525249"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#lookupIntegerNegate"
		><span class="hs-identifier hs-type"
		  >lookupIntegerNegate</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#Compiling"
		><span class="hs-identifier hs-type"
		  >Compiling</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525246"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525247"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525248"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525249"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      > </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525248"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525246"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679525247"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1546"
      ></span
      ><span id="lookupIntegerNegate"
      ><span class="annot"
	><span class="annottext"
	  >lookupIntegerNegate :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
m (PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#lookupIntegerNegate"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupIntegerNegate</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1547"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679527734"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679527734"
	  ><span class="hs-identifier hs-var"
	    >ghcName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; m Name
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
Compiling uni fun m ann =&gt;
Name -&gt; m Name
</span
	><a href="PlutusTx.Compiler.Utils.html#lookupGhcName"
	><span class="hs-identifier hs-var"
	  >lookupGhcName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >GHC.Num.Integer.integerNegate</span
      ><span
      >
</span
      ><span id="line-1548"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>LexName -&gt; m (Maybe (PIRTerm uni fun))
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; m (Maybe (Term TyName Name uni fun ann))
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#lookupTerm"
	><span class="hs-identifier hs-var"
	  >PIR.lookupTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; LexName
</span
	><a href="PlutusTx.Compiler.Types.html#LexName"
	><span class="hs-identifier hs-var"
	  >LexName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679527734"
	><span class="hs-identifier hs-var"
	  >ghcName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (Maybe (PIRTerm uni fun))
-&gt; (Maybe (PIRTerm uni fun) -&gt; m (PIRTerm uni fun))
-&gt; m (PIRTerm uni fun)
forall a b. m a -&gt; (a -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3E%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-1549"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679527735"
      ><span class="annot"
	><span class="annottext"
	  >PIRTerm uni fun
</span
	  ><a href="#local-6989586621679527735"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun -&gt; m (PIRTerm uni fun)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>PIRTerm uni fun
</span
	><a href="#local-6989586621679527735"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1550"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (PIRTerm uni fun)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-1551"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Error uni fun ann -&gt; m (PIRTerm uni fun)
forall c e (m :: * -&gt; *) a.
MonadError (WithContext c e) m =&gt;
e -&gt; m a
</span
	><a href="PlutusTx.Compiler.Error.html#throwPlain"
	><span class="hs-identifier hs-var"
	  >throwPlain</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Error uni fun ann -&gt; m (PIRTerm uni fun))
-&gt; Error uni fun ann -&gt; m (PIRTerm uni fun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1552"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Error uni fun ann
forall (uni :: * -&gt; *) fun a. Text -&gt; Error uni fun a
</span
	><a href="PlutusTx.Compiler.Error.html#CompilationError"
	><span class="hs-identifier hs-var"
	  >CompilationError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Cannot find the definition of integerNegate. Please file a bug report.&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-1553"
      ></span
      ><span
      >
</span
      ><span id="line-1554"
      ></span
      ><span id="local-6989586621679527736"
      ><span id="local-6989586621679527737"
	><span id="local-6989586621679527738"
	  ><span id="local-6989586621679527739"
	    ><span class="annot"
	      ><a href="PlutusTx.Compiler.Expr.html#compileExprWithDefs"
		><span class="hs-identifier hs-type"
		  >compileExprWithDefs</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1555"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >::</span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.Compiler.Types.html#CompilingDefault"
		><span class="hs-identifier hs-type"
		  >CompilingDefault</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679527736"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679527737"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679527738"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679527739"
		><span class="hs-identifier hs-type"
		  >ann</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ><span
	      >
</span
	      ><span id="line-1556"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >=&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/ghc-9.6.7/docs/src/GHC.Core.html#CoreExpr"
		><span class="hs-identifier hs-type"
		  >GHC.CoreExpr</span
		  ></a
		></span
	      ><span
	      >
</span
	      ><span id="line-1557"
	      ></span
	      ><span
	      >  </span
	      ><span class="hs-glyph"
	      >-&gt;</span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679527738"
		><span class="hs-identifier hs-type"
		  >m</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="hs-special"
	      >(</span
	      ><span class="annot"
	      ><a href="PlutusTx.PIRTypes.html#PIRTerm"
		><span class="hs-identifier hs-type"
		  >PIRTerm</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679527736"
		><span class="hs-identifier hs-type"
		  >uni</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679527737"
		><span class="hs-identifier hs-type"
		  >fun</span
		  ></a
		></span
	      ><span class="hs-special"
	      >)</span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-1558"
      ></span
      ><span id="compileExprWithDefs"
      ><span class="annot"
	><span class="annottext"
	  >compileExprWithDefs :: forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	  ><a href="PlutusTx.Compiler.Expr.html#compileExprWithDefs"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileExprWithDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679527784"
      ><span class="annot"
	><span class="annottext"
	  >CoreExpr
</span
	  ><a href="#local-6989586621679527784"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-1559"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>m ()
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
m ()
</span
	><a href="PlutusTx.Compiler.Builtins.html#defineBuiltinTypes"
	><span class="hs-identifier hs-var"
	  >defineBuiltinTypes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1560"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>m ()
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
m ()
</span
	><a href="PlutusTx.Compiler.Builtins.html#defineBuiltinTerms"
	><span class="hs-identifier hs-var"
	  >defineBuiltinTerms</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1561"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>m ()
forall fun (m :: * -&gt; *) ann.
CompilingDefault DefaultUni fun m ann =&gt;
m ()
</span
	><a href="PlutusTx.Compiler.Expr.html#defineIntegerNegate"
	><span class="hs-identifier hs-var"
	  >defineIntegerNegate</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1562"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>m ()
forall fun (m :: * -&gt; *) ann.
CompilingDefault DefaultUni fun m ann =&gt;
m ()
</span
	><a href="PlutusTx.Compiler.Expr.html#defineFix"
	><span class="hs-identifier hs-var"
	  >defineFix</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1563"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr -&gt; m (PIRTerm uni fun)
forall (uni :: * -&gt; *) fun (m :: * -&gt; *) ann.
CompilingDefault uni fun m ann =&gt;
CoreExpr -&gt; m (PIRTerm uni fun)
</span
	><a href="PlutusTx.Compiler.Expr.html#compileExpr"
	><span class="hs-identifier hs-var"
	  >compileExpr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CoreExpr
</span
	><a href="#local-6989586621679527784"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-1564"
      ></span
      ><span
      >
</span
      ><span id="line-1565"
      ></span
      ><span class="hs-comment"
      >{- Note [We always need DEFAULT]
GHC can be clever and omit case alternatives sometimes, typically when the typechecker says a case
is impossible due to GADT cleverness or similar.
We can't do this: we always need to put in all the case alternatives. In particular, that means
we always want a DEFAULT case to fall back on if GHC doesn't provide a specific alternative for
a data constructor.
The easiest way to ensure that we always have a DEFAULT case is just to put one in if it's missing.
-}</span
      ><span
      >
</span
      ><span id="line-1573"
      ></span
      ><span
      >
</span
      ><span id="line-1574"
      ></span
      ><span class="hs-comment"
      >{- Note [Sharing DEFAULT bodies]
Consider the following program:
```
data A = B | C | D
f a = case a of
  B -&gt; 1
  _ -&gt; 2
```
How many times will the literal 2 appear in the resulting PIR program? Naively... twice!
We need to make all the cases explicit, so that means we actually need to *duplicate*
the default case for every alternative that needs it, i.e. we end up with something more like
```
f a = case a of
  B -&gt; 1
  C -&gt; 2
  D -&gt; 2
```
This should set of alarm bells: any time we duplicate things we can end up with exponential
programs if the construct is nested. And that can happen - one example is that usage of
pattern synonyms tends to generate code like:
```
f a = case pattern_synonym_func1 of
  pat1 -&gt; ...
  _ -&gt; case pattern_synonym_func2 of
    pat2 -&gt; ...
    _ -&gt; case ...
```
So a case expression with 8 pattern synonyms would generate 2^8 copies of the final default
case - pretty bad!
The solution is straightforward: share the default case. That means we produce a program more
like:
```
f a = let defaultBody = 2 in case a of
  B -&gt; 1
  C -&gt; defaultBody
  D -&gt; defaultBody
```
Then the inliner can inline it as appropriate.
-}</span
      ><span
      >
</span
      ><span id="line-1613"
      ></span
      ></pre
    ></body
  ></html
>

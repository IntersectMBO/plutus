<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-comment"
      >-- editorconfig-checker-disable-file</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE CPP                   #-}</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ConstraintKinds       #-}</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE DefaultSignatures     #-}</span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE DeriveAnyClass        #-}</span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE DerivingStrategies    #-}</span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleContexts      #-}</span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleInstances     #-}</span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE LambdaCase            #-}</span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE MultiParamTypeClasses #-}</span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE OverloadedStrings     #-}</span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE PolyKinds             #-}</span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE RankNTypes            #-}</span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ScopedTypeVariables   #-}</span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TemplateHaskell       #-}</span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeApplications      #-}</span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ViewPatterns          #-}</span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span class="hs-comment"
      >-- It is complex to mix TH with polymorphisms. Core lint can sometimes catch problems</span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span class="hs-comment"
      >-- caused by using polymorphisms the wrong way, e.g., accidentally using impredicative types.</span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span class="hs-pragma"
      >{-# OPTIONS_GHC -dcore-lint #-}</span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >PlutusTx.Lift.TH</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#makeTypeable"
	><span class="hs-identifier"
	  >makeTypeable</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#makeLift"
	><span class="hs-identifier"
	  >makeLift</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#LiftError"
	><span class="hs-identifier"
	  >LiftError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.Class.html"
	><span class="hs-identifier"
	  >PlutusTx.Lift.Class</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.THUtils.html"
	><span class="hs-identifier"
	  >PlutusTx.Lift.THUtils</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.html"
	><span class="hs-identifier"
	  >PlutusIR</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html"
	><span class="hs-identifier"
	  >PlutusIR.Compiler.Definitions</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Compiler.Names.html"
	><span class="hs-identifier"
	  >PlutusIR.Compiler.Names</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.MkPir.html"
	><span class="hs-identifier"
	  >PlutusIR.MkPir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >hiding</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.MkPlc.html#constr"
	><span class="hs-identifier"
	  >constr</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.html"
	><span class="hs-identifier"
	  >PlutusCore.Default</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-37"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.MkPlc.html"
	><span class="hs-identifier"
	  >PlutusCore.MkPlc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html"
	><span class="hs-identifier"
	  >Control.Monad</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html#%3C%3D%3C"
	><span class="hs-operator"
	  >(&lt;=&lt;)</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Except.html"
	><span class="hs-identifier"
	  >Control.Monad.Except</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Except.html#ExceptT"
	><span class="hs-identifier"
	  >ExceptT</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Except.html#runExceptT"
	><span class="hs-identifier"
	  >runExceptT</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier"
	  >throwError</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.html"
	><span class="hs-identifier"
	  >Control.Monad.Reader</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#MonadReader"
	><span class="hs-identifier"
	  >MonadReader</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#ReaderT"
	><span class="hs-identifier"
	  >ReaderT</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#ask"
	><span class="hs-identifier"
	  >ask</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#asks"
	><span class="hs-identifier"
	  >asks</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#local"
	><span class="hs-identifier"
	  >local</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#runReaderT"
	><span class="hs-identifier"
	  >runReaderT</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.html"
	><span class="hs-identifier"
	  >Control.Monad.State</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.State.Lazy.html#StateT"
	><span class="hs-identifier"
	  >StateT</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#gets"
	><span class="hs-identifier"
	  >gets</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier"
	  >modify</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.State.Lazy.html#runStateT"
	><span class="hs-identifier"
	  >runStateT</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Trans.html"
	><span class="hs-identifier"
	  >Control.Monad.Trans</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Trans</span
	></span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.html"
	><span class="hs-identifier"
	  >Language.Haskell.TH</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>TH</span
	></span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html"
	><span class="hs-identifier"
	  >Language.Haskell.TH.Datatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>TH</span
	></span
      ><span
      >
</span
      ><span id="line-47"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html"
	><span class="hs-identifier"
	  >Language.Haskell.TH.Syntax</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>TH</span
	></span
      ><span
      >
</span
      ><span id="line-48"
      ></span
      ><span
      >
</span
      ><span id="line-49"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.html"
	><span class="hs-identifier"
	  >Data.Map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Map</span
	></span
      ><span
      >
</span
      ><span id="line-50"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.html"
	><span class="hs-identifier"
	  >Data.Set</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Set</span
	></span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Exception.html"
	><span class="hs-identifier"
	  >Control.Exception</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Prelude.html"
	><span class="hs-identifier"
	  >Prelude</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Exception.Type.html#Exception"
	><span class="hs-identifier"
	  >Exception</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Exception.html#throw"
	><span class="hs-identifier"
	  >throw</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html"
	><span class="hs-identifier"
	  >Data.Foldable</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.List.html"
	><span class="hs-identifier"
	  >Data.List</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#sortBy"
	><span class="hs-identifier"
	  >sortBy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-55"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Maybe.html"
	><span class="hs-identifier"
	  >Data.Maybe</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-56"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Proxy.html"
	><span class="hs-identifier"
	  >Data.Proxy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-57"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.html"
	><span class="hs-identifier"
	  >Data.Text</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>T</span
	></span
      ><span
      >
</span
      ><span id="line-58"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html"
	><span class="hs-identifier"
	  >Data.Traversable</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-59"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.html"
	><span class="hs-identifier"
	  >Prettyprinter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PP</span
	></span
      ><span
      >
</span
      ><span id="line-60"
      ></span
      ><span
      >
</span
      ><span id="line-61"
      ></span
      ><span class="hs-comment"
      >-- We do not use qualified import because the whole module contains off-chain code</span
      ><span
      >
</span
      ><span id="line-62"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Prelude.html"
	><span class="hs-identifier"
	  >Prelude</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Haskell</span
	></span
      ><span
      >
</span
      ><span id="line-63"
      ></span
      ><span
      >
</span
      ><span id="line-64"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="RTCompileScope"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	  ><span class="hs-identifier hs-var"
	    >RTCompileScope</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036142"
      ><span class="annot"
	><a href="#local-6989586621680036142"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036143"
      ><span class="annot"
	><a href="#local-6989586621680036143"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#ReaderT"
	><span class="hs-identifier hs-type"
	  >ReaderT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#LocalVars"
	><span class="hs-identifier hs-type"
	  >LocalVars</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036142"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.Class.html#RTCompile"
	><span class="hs-identifier hs-type"
	  >RTCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036142"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036143"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-65"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="THCompile"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#THCompile"
	  ><span class="hs-identifier hs-var"
	    >THCompile</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.State.Lazy.html#StateT"
	><span class="hs-identifier hs-type"
	  >StateT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#Deps"
	><span class="hs-identifier hs-type"
	  >Deps</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#ReaderT"
	><span class="hs-identifier hs-type"
	  >ReaderT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THLocalVars"
	><span class="hs-identifier hs-type"
	  >THLocalVars</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Except.html#ExceptT"
	><span class="hs-identifier hs-type"
	  >ExceptT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#LiftError"
	><span class="hs-identifier hs-type"
	  >LiftError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Q"
	><span class="hs-identifier hs-type"
	  >TH.Q</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-66"
      ></span
      ><span
      >
</span
      ><span id="line-67"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="LiftError"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#LiftError"
	  ><span class="hs-identifier hs-var"
	    >LiftError</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-68"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="UnsupportedLiftKind"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#UnsupportedLiftKind"
	  ><span class="hs-identifier hs-var"
	    >UnsupportedLiftKind</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Kind"
	><span class="hs-identifier hs-type"
	  >TH.Kind</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-69"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="UnsupportedLiftType"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#UnsupportedLiftType"
	  ><span class="hs-identifier hs-var"
	    >UnsupportedLiftType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-70"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="UserLiftError"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#UserLiftError"
	  ><span class="hs-identifier hs-var"
	    >UserLiftError</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#Text"
	><span class="hs-identifier hs-type"
	  >T.Text</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-71"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="LiftMissingDataCons"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#LiftMissingDataCons"
	  ><span class="hs-identifier hs-var"
	    >LiftMissingDataCons</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-72"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="LiftMissingVar"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#LiftMissingVar"
	  ><span class="hs-identifier hs-var"
	    >LiftMissingVar</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >!</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-73"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >deriving</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-keyword"
	>anyclass</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621680036155"
      ><span id="local-6989586621680036159"
	><span id="local-6989586621680036162"
	  ><span class="annot"
	    ><span class="annottext"
	      >Show LiftError
Typeable LiftError
(Typeable LiftError, Show LiftError) =&gt;
(LiftError -&gt; SomeException)
-&gt; (SomeException -&gt; Maybe LiftError)
-&gt; (LiftError -&gt; String)
-&gt; Exception LiftError
SomeException -&gt; Maybe LiftError
LiftError -&gt; String
LiftError -&gt; SomeException
forall e.
(Typeable e, Show e) =&gt;
(e -&gt; SomeException)
-&gt; (SomeException -&gt; Maybe e) -&gt; (e -&gt; String) -&gt; Exception e
$ctoException :: LiftError -&gt; SomeException
toException :: LiftError -&gt; SomeException
$cfromException :: SomeException -&gt; Maybe LiftError
fromException :: SomeException -&gt; Maybe LiftError
$cdisplayException :: LiftError -&gt; String
displayException :: LiftError -&gt; String
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Exception.Type.html#Exception"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Prelude.Exception</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-74"
      ></span
      ><span
      >
</span
      ><span id="line-75"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621680036167"
      ><span class="annot"
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#Pretty"
	  ><span class="hs-identifier hs-type"
	    >PP.Pretty</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="PlutusTx.Lift.TH.html#LiftError"
	  ><span class="hs-identifier hs-type"
	    >LiftError</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-76"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036184"
      ><span class="annot"
	><span class="annottext"
	  >pretty :: forall ann. LiftError -&gt; Doc ann
</span
	  ><a href="#local-6989586621680036184"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >pretty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#UnsupportedLiftType"
	><span class="hs-identifier hs-type"
	  >UnsupportedLiftType</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036186"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036186"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;Unsupported lift type: &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >PP.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Doc ann
forall a ann. Show a =&gt; a -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#viaShow"
	><span class="hs-identifier hs-var"
	  >PP.viaShow</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036186"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-77"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#UnsupportedLiftKind"
	><span class="hs-identifier hs-type"
	  >UnsupportedLiftKind</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036189"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036189"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;Unsupported lift kind: &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >PP.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Doc ann
forall a ann. Show a =&gt; a -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#viaShow"
	><span class="hs-identifier hs-var"
	  >PP.viaShow</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036189"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-78"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#UserLiftError"
	><span class="hs-identifier hs-type"
	  >UserLiftError</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036190"
      ><span class="annot"
	><span class="annottext"
	  >Text
</span
	  ><a href="#local-6989586621680036190"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >       </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; Doc ann
forall ann. Text -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >PP.pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><a href="#local-6989586621680036190"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-79"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#LiftMissingDataCons"
	><span class="hs-identifier hs-type"
	  >LiftMissingDataCons</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036191"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036191"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;Constructors not created for type: &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >PP.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Doc ann
forall a ann. Show a =&gt; a -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#viaShow"
	><span class="hs-identifier hs-var"
	  >PP.viaShow</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036191"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-80"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#LiftMissingVar"
	><span class="hs-identifier hs-type"
	  >LiftMissingVar</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036192"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036192"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >      </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;Unknown local variable: &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >PP.&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Doc ann
forall a ann. Show a =&gt; a -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#viaShow"
	><span class="hs-identifier hs-var"
	  >PP.viaShow</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036192"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-81"
      ></span
      ><span
      >
</span
      ><span id="line-82"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621680036194"
      ><span id="local-6989586621680036198"
	><span class="annot"
	  ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#Show"
	    ><span class="hs-identifier hs-type"
	      >Show</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="PlutusTx.Lift.TH.html#LiftError"
	    ><span class="hs-identifier hs-type"
	      >LiftError</span
	      ></a
	    ></span
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-83"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036204"
      ><span class="annot"
	><span class="annottext"
	  >show :: LiftError -&gt; String
</span
	  ><a href="#local-6989586621680036204"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >show</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc Any -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Doc Any -&gt; String)
-&gt; (LiftError -&gt; Doc Any) -&gt; LiftError -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LiftError -&gt; Doc Any
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. LiftError -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >PP.pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-comment"
      >-- for Control.Exception</span
      ><span
      >
</span
      ><span id="line-84"
      ></span
      ><span
      >
</span
      ><span id="line-85"
      ></span
      ><span class="hs-comment"
      >{- Note [Impredicative function universe wrappers]
We are completely independent of the function universe. We generate constants (so we care about the type universe),
but we never generate builtin functions.

This is indicated in the fact that e.g. 'typeRep' has type 'forall fun . ...'. Note what this says: the
\*caller* of 'typeRep` can decide on 'fun'.

So how do we deal with this? A wrong way is to parameterize our (TH) functions by 'fun'. This is wrong, because
this 'fun' is a type variable at TH-generation time, and we want a type variable in the generated code.
Sometimes this will even appear to work, and I don't know what kind of awful magic is going on in trying to persist
type variables into the quote, but I'm pretty sure it's wrong.

We could use 'InstanceSigs', bind 'fun', and then pass it down and use it in our signatures. But you can't splice
types into signatures in typed TH, you need to go to untyped TH and 'unsafeCoerceTExp' back again, which is pretty ugly.

Alternatively, we can *generate* functions which are parameterized over 'fun', and instantiate them at the top-level.
This is totally fine... except that the representation of expressions in typed TH has a type parameter for the type of
the expression, so we would need to write 'TExp (forall fun . ...)'... which is an impredicative type.

The usual solution is to make a datatype that wraps up the quantification, so you write 'newtype X = X (forall a . ...)',
and then you can write 'TExp X' just fine.

We do this, but annoyingly due to the fact that 'fun' appears inside the *value* of our monadic types (e.g. when we compile
to a term we need to have 'fun' in there) we can't do this generically, and instead we end up with a set of repetitive wrappers
for different variants of this impredicative type. Which is annoying, but does work.
-}</span
      ><span
      >
</span
      ><span id="line-111"
      ></span
      ><span
      >
</span
      ><span id="line-112"
      ></span
      ><span class="hs-comment"
      >-- See Note [Impredicative function universe wrappers]</span
      ><span
      >
</span
      ><span id="line-113"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="CompileTerm"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#CompileTerm"
	  ><span class="hs-identifier hs-var"
	    >CompileTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="CompileTerm"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#CompileTerm"
	  ><span class="hs-identifier hs-var"
	    >CompileTerm</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-114"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="unCompileTerm"
      ><span class="annot"
	><span class="annottext"
	  >CompileTerm
-&gt; forall fun.
   RTCompile DefaultUni fun (Term TyName Name DefaultUni fun ())
</span
	  ><a href="PlutusTx.Lift.TH.html#unCompileTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >unCompileTerm</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-115"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621680035369"
      ><span class="annot"
	><a href="#local-6989586621680035369"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-116"
      ></span
      ><span
      >       </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.Class.html#RTCompile"
	><span class="hs-identifier hs-type"
	  >RTCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680035369"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680035369"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-117"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-118"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="CompileType"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#CompileType"
	  ><span class="hs-identifier hs-var"
	    >CompileType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="CompileType"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#CompileType"
	  ><span class="hs-identifier hs-var"
	    >CompileType</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-119"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="unCompileType"
      ><span class="annot"
	><span class="annottext"
	  >CompileType
-&gt; forall fun. RTCompile DefaultUni fun (Type TyName DefaultUni ())
</span
	  ><a href="PlutusTx.Lift.TH.html#unCompileType"
	  ><span class="hs-identifier hs-var hs-var"
	    >unCompileType</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-120"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621680035376"
      ><span class="annot"
	><a href="#local-6989586621680035376"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-121"
      ></span
      ><span
      >       </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.Class.html#RTCompile"
	><span class="hs-identifier hs-type"
	  >RTCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680035376"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-122"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-123"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="CompileTypeScope"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#CompileTypeScope"
	  ><span class="hs-identifier hs-var"
	    >CompileTypeScope</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="CompileTypeScope"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#CompileTypeScope"
	  ><span class="hs-identifier hs-var"
	    >CompileTypeScope</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-124"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="unCompileTypeScope"
      ><span class="annot"
	><span class="annottext"
	  >CompileTypeScope
-&gt; forall fun.
   RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	  ><a href="PlutusTx.Lift.TH.html#unCompileTypeScope"
	  ><span class="hs-identifier hs-var hs-var"
	    >unCompileTypeScope</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-125"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621680035380"
      ><span class="annot"
	><a href="#local-6989586621680035380"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-126"
      ></span
      ><span
      >       </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	><span class="hs-identifier hs-type"
	  >RTCompileScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680035380"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-127"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-128"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="CompileDeclFun"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#CompileDeclFun"
	  ><span class="hs-identifier hs-var"
	    >CompileDeclFun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="CompileDeclFun"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#CompileDeclFun"
	  ><span class="hs-identifier hs-var"
	    >CompileDeclFun</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-129"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="unCompileDeclFun"
      ><span class="annot"
	><span class="annottext"
	  >CompileDeclFun
-&gt; forall fun.
   Type TyName DefaultUni ()
   -&gt; RTCompileScope
        DefaultUni fun (VarDecl TyName Name DefaultUni ())
</span
	  ><a href="PlutusTx.Lift.TH.html#unCompileDeclFun"
	  ><span class="hs-identifier hs-var hs-var"
	    >unCompileDeclFun</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-130"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621680035384"
      ><span class="annot"
	><a href="#local-6989586621680035384"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-131"
      ></span
      ><span
      >       </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-132"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	><span class="hs-identifier hs-type"
	  >RTCompileScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680035384"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#VarDecl"
	><span class="hs-identifier hs-type"
	  >VarDecl</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-133"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-134"
      ></span
      ><span
      >
</span
      ><span id="line-135"
      ></span
      ><span class="hs-comment"
      >{- Note [Type variables]
We handle types in almost exactly the same way when we are constructing Typeable
instances and when we are constructing Lift instances. However, there is one key difference
in how we handle type variables.

In the Typeable case, the type variables we see will be the type variables of the
datatype, which we want to map into the variable declarations that we construct. This requires
us to do some mapping between them at *runtime*, and keep a scope around to map between the TH names
and the PLC types.

In the Lift case, type variables will be free type variables in the instance, and should be handled
by appropriate Typeable constraints for those variables. We get the PLC types by just calling
typeRep.

However, for simplicity we always act as though we have a local scope, and fall back to Typeable,
but in the Lift case we will never populate the local scope.
-}</span
      ><span
      >
</span
      ><span id="line-152"
      ></span
      ><span
      >
</span
      ><span id="line-153"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | A scope for type variables. See Note [Type variables].</span
	></span
      ><span
      >
</span
      ><span id="line-154"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="LocalVars"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#LocalVars"
	  ><span class="hs-identifier hs-var"
	    >LocalVars</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036215"
      ><span class="annot"
	><a href="#local-6989586621680036215"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#Map"
	><span class="hs-identifier hs-type"
	  >Map.Map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036215"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-155"
      ></span
      ><span
      >
</span
      ><span id="line-156"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="THLocalVars"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#THLocalVars"
	  ><span class="hs-identifier hs-var"
	    >THLocalVars</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
	><span class="hs-identifier hs-type"
	  >Set.Set</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-157"
      ></span
      ><span
      >
</span
      ><span id="line-158"
      ></span
      ><span class="hs-comment"
      >{- Note [Lifting newtypes]
Newtypes are handled differently in the compiler, in that we identify them with their underlying type.
See Note [Coercions and newtypes] for details.

So we need to do the same here. This means two things:
- For Typeable, we look for the unique field of the unique constructor, and then make a type lambda
  binding the type variables whose body is that type.
- For Lift, we assert that all constructors must have precisely one argument (as newtypes do), and we
  simply call lift on that.

Since we don't &quot;compile&quot; all the way, rather relying on the typeclass system, lifting recursive
newtypes will hang a runtime. Don't do that. (This is worse than what we do in the compiler, see
Note [Occurrences of recursive names])
-}</span
      ><span
      >
</span
      ><span id="line-172"
      ></span
      ><span
      >
</span
      ><span id="line-173"
      ></span
      ><span class="hs-comment"
      >-- Dependencies at TH time</span
      ><span
      >
</span
      ><span id="line-174"
      ></span
      ><span
      >
</span
      ><span id="line-175"
      ></span
      ><span class="hs-comment"
      >{- Note [Tracking dependencies]
While running at TH time, we track the requirements that we need in order to be able to compile
the given type/term, which are things like &quot;must be able to type the constructor argument types&quot;.

These are then cashed out into constraints on the instance.
-}</span
      ><span
      >
</span
      ><span id="line-181"
      ></span
      ><span
      >
</span
      ><span id="line-182"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="Dep"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#Dep"
	  ><span class="hs-identifier hs-var"
	    >Dep</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="TypeableDep"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#TypeableDep"
	  ><span class="hs-identifier hs-var"
	    >TypeableDep</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="LiftDep"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#LiftDep"
	  ><span class="hs-identifier hs-var"
	    >LiftDep</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >deriving</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-keyword"
	>stock</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621680036219"
      ><span id="local-6989586621680036226"
	><span id="local-6989586621680036230"
	  ><span class="annot"
	    ><span class="annottext"
	      >Int -&gt; Dep -&gt; ShowS
[Dep] -&gt; ShowS
Dep -&gt; String
(Int -&gt; Dep -&gt; ShowS)
-&gt; (Dep -&gt; String) -&gt; ([Dep] -&gt; ShowS) -&gt; Show Dep
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Dep -&gt; ShowS
showsPrec :: Int -&gt; Dep -&gt; ShowS
$cshow :: Dep -&gt; String
show :: Dep -&gt; String
$cshowList :: [Dep] -&gt; ShowS
showList :: [Dep] -&gt; ShowS
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#Show"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Show</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621680036233"
      ><span id="local-6989586621680036238"
	><span class="annot"
	  ><span class="annottext"
	    >Dep -&gt; Dep -&gt; Bool
(Dep -&gt; Dep -&gt; Bool) -&gt; (Dep -&gt; Dep -&gt; Bool) -&gt; Eq Dep
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Dep -&gt; Dep -&gt; Bool
== :: Dep -&gt; Dep -&gt; Bool
$c/= :: Dep -&gt; Dep -&gt; Bool
/= :: Dep -&gt; Dep -&gt; Bool
</span
	    ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Eq"
	    ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var"
	      >Eq</span
	      ></a
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621680036245"
      ><span id="local-6989586621680036250"
	><span id="local-6989586621680036254"
	  ><span id="local-6989586621680036257"
	    ><span id="local-6989586621680036260"
	      ><span id="local-6989586621680036263"
		><span id="local-6989586621680036266"
		  ><span class="annot"
		    ><span class="annottext"
		      >Eq Dep
Eq Dep =&gt;
(Dep -&gt; Dep -&gt; Ordering)
-&gt; (Dep -&gt; Dep -&gt; Bool)
-&gt; (Dep -&gt; Dep -&gt; Bool)
-&gt; (Dep -&gt; Dep -&gt; Bool)
-&gt; (Dep -&gt; Dep -&gt; Bool)
-&gt; (Dep -&gt; Dep -&gt; Dep)
-&gt; (Dep -&gt; Dep -&gt; Dep)
-&gt; Ord Dep
Dep -&gt; Dep -&gt; Bool
Dep -&gt; Dep -&gt; Ordering
Dep -&gt; Dep -&gt; Dep
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Dep -&gt; Dep -&gt; Ordering
compare :: Dep -&gt; Dep -&gt; Ordering
$c&lt; :: Dep -&gt; Dep -&gt; Bool
&lt; :: Dep -&gt; Dep -&gt; Bool
$c&lt;= :: Dep -&gt; Dep -&gt; Bool
&lt;= :: Dep -&gt; Dep -&gt; Bool
$c&gt; :: Dep -&gt; Dep -&gt; Bool
&gt; :: Dep -&gt; Dep -&gt; Bool
$c&gt;= :: Dep -&gt; Dep -&gt; Bool
&gt;= :: Dep -&gt; Dep -&gt; Bool
$cmax :: Dep -&gt; Dep -&gt; Dep
max :: Dep -&gt; Dep -&gt; Dep
$cmin :: Dep -&gt; Dep -&gt; Dep
min :: Dep -&gt; Dep -&gt; Dep
</span
		      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Ord"
		      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
			>Ord</span
			></a
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-183"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="Deps"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#Deps"
	  ><span class="hs-identifier hs-var"
	    >Deps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
	><span class="hs-identifier hs-type"
	  >Set.Set</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#Dep"
	><span class="hs-identifier hs-type"
	  >Dep</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-184"
      ></span
      ><span
      >
</span
      ><span id="line-185"
      ></span
      ><span id="local-6989586621680035389"
      ><span id="local-6989586621680035391"
	><span id="local-6989586621680035393"
	  ><span class="annot"
	    ><a href="PlutusTx.Lift.TH.html#withTyVars"
	      ><span class="hs-identifier hs-type"
		>withTyVars</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#MonadReader"
	      ><span class="hs-identifier hs-type"
		>MonadReader</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="PlutusTx.Lift.TH.html#LocalVars"
	      ><span class="hs-identifier hs-type"
		>LocalVars</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621680035389"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621680035391"
	      ><span class="hs-identifier hs-type"
		>m</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >=&gt;</span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >[</span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	      ><span class="hs-identifier hs-type"
		>TH.Name</span
		></a
	      ></span
	    ><span class="hs-special"
	    >,</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyVarDecl"
	      ><span class="hs-identifier hs-type"
		>TyVarDecl</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	      ><span class="hs-identifier hs-type"
		>TyName</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="hs-special"
	    >)</span
	    ><span class="hs-special"
	    >)</span
	    ><span class="hs-special"
	    >]</span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621680035391"
	      ><span class="hs-identifier hs-type"
		>m</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621680035393"
	      ><span class="hs-identifier hs-type"
		>a</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621680035391"
	      ><span class="hs-identifier hs-type"
		>m</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621680035393"
	      ><span class="hs-identifier hs-type"
		>a</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-186"
      ></span
      ><span id="withTyVars"
      ><span class="annot"
	><span class="annottext"
	  >withTyVars :: forall (uni :: * -&gt; *) (m :: * -&gt; *) a.
MonadReader (LocalVars uni) m =&gt;
[(Name, TyVarDecl TyName ())] -&gt; m a -&gt; m a
</span
	  ><a href="PlutusTx.Lift.TH.html#withTyVars"
	  ><span class="hs-identifier hs-var hs-var"
	    >withTyVars</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036274"
      ><span class="annot"
	><span class="annottext"
	  >[(Name, TyVarDecl TyName ())]
</span
	  ><a href="#local-6989586621680036274"
	  ><span class="hs-identifier hs-var"
	    >mappings</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(LocalVars uni -&gt; LocalVars uni) -&gt; m a -&gt; m a
forall a. (LocalVars uni -&gt; LocalVars uni) -&gt; m a -&gt; m a
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; r) -&gt; m a -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#local"
	><span class="hs-identifier hs-var"
	  >local</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621680036275"
      ><span class="annot"
	><span class="annottext"
	  >LocalVars uni
</span
	  ><a href="#local-6989586621680036275"
	  ><span class="hs-identifier hs-var"
	    >scope</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(LocalVars uni -&gt; (Name, TyVarDecl TyName ()) -&gt; LocalVars uni)
-&gt; LocalVars uni -&gt; [(Name, TyVarDecl TyName ())] -&gt; LocalVars uni
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#foldl%27"
	><span class="hs-identifier hs-var"
	  >foldl'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621680036277"
      ><span class="annot"
	><span class="annottext"
	  >LocalVars uni
</span
	  ><a href="#local-6989586621680036277"
	  ><span class="hs-identifier hs-var"
	    >acc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621680036278"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036278"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621680036279"
      ><span class="annot"
	><span class="annottext"
	  >TyVarDecl TyName ()
</span
	  ><a href="#local-6989586621680036279"
	  ><span class="hs-identifier hs-var"
	    >tvd</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Type TyName uni () -&gt; LocalVars uni -&gt; LocalVars uni
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Map.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036278"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; TyVarDecl TyName () -&gt; Type TyName uni ()
forall ann tyname (uni :: * -&gt; *).
ann -&gt; TyVarDecl tyname ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkTyVar"
	><span class="hs-identifier hs-var"
	  >mkTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName ()
</span
	><a href="#local-6989586621680036279"
	><span class="hs-identifier hs-var"
	  >tvd</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LocalVars uni
</span
	><a href="#local-6989586621680036277"
	><span class="hs-identifier hs-var"
	  >acc</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LocalVars uni
</span
	><a href="#local-6989586621680036275"
	><span class="hs-identifier hs-var"
	  >scope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Name, TyVarDecl TyName ())]
</span
	><a href="#local-6989586621680036274"
	><span class="hs-identifier hs-var"
	  >mappings</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-187"
      ></span
      ><span
      >
</span
      ><span id="line-188"
      ></span
      ><span id="local-6989586621680035409"
      ><span id="local-6989586621680035410"
	><span class="annot"
	  ><a href="PlutusTx.Lift.TH.html#thWithTyVars"
	    ><span class="hs-identifier hs-type"
	      >thWithTyVars</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="hs-glyph"
	  >::</span
	  ><span
	  > </span
	  ><span class="hs-special"
	  >(</span
	  ><span class="annot"
	  ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#MonadReader"
	    ><span class="hs-identifier hs-type"
	      >MonadReader</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="PlutusTx.Lift.TH.html#THLocalVars"
	    ><span class="hs-identifier hs-type"
	      >THLocalVars</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="#local-6989586621680035409"
	    ><span class="hs-identifier hs-type"
	      >m</span
	      ></a
	    ></span
	  ><span class="hs-special"
	  >)</span
	  ><span
	  > </span
	  ><span class="hs-glyph"
	  >=&gt;</span
	  ><span
	  > </span
	  ><span class="hs-special"
	  >[</span
	  ><span class="annot"
	  ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	    ><span class="hs-identifier hs-type"
	      >TH.Name</span
	      ></a
	    ></span
	  ><span class="hs-special"
	  >]</span
	  ><span
	  > </span
	  ><span class="hs-glyph"
	  >-&gt;</span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="#local-6989586621680035409"
	    ><span class="hs-identifier hs-type"
	      >m</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="#local-6989586621680035410"
	    ><span class="hs-identifier hs-type"
	      >a</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="hs-glyph"
	  >-&gt;</span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="#local-6989586621680035409"
	    ><span class="hs-identifier hs-type"
	      >m</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="#local-6989586621680035410"
	    ><span class="hs-identifier hs-type"
	      >a</span
	      ></a
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-189"
      ></span
      ><span id="thWithTyVars"
      ><span class="annot"
	><span class="annottext"
	  >thWithTyVars :: forall (m :: * -&gt; *) a.
MonadReader THLocalVars m =&gt;
[Name] -&gt; m a -&gt; m a
</span
	  ><a href="PlutusTx.Lift.TH.html#thWithTyVars"
	  ><span class="hs-identifier hs-var hs-var"
	    >thWithTyVars</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036287"
      ><span class="annot"
	><span class="annottext"
	  >[Name]
</span
	  ><a href="#local-6989586621680036287"
	  ><span class="hs-identifier hs-var"
	    >names</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(THLocalVars -&gt; THLocalVars) -&gt; m a -&gt; m a
forall a. (THLocalVars -&gt; THLocalVars) -&gt; m a -&gt; m a
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; r) -&gt; m a -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#local"
	><span class="hs-identifier hs-var"
	  >local</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621680036288"
      ><span class="annot"
	><span class="annottext"
	  >THLocalVars
</span
	  ><a href="#local-6989586621680036288"
	  ><span class="hs-identifier hs-var"
	    >scope</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; THLocalVars -&gt; THLocalVars)
-&gt; THLocalVars -&gt; [Name] -&gt; THLocalVars
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#foldr"
	><span class="hs-identifier hs-var"
	  >foldr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; THLocalVars -&gt; THLocalVars
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Set.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>THLocalVars
</span
	><a href="#local-6989586621680036288"
	><span class="hs-identifier hs-var"
	  >scope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Name]
</span
	><a href="#local-6989586621680036287"
	><span class="hs-identifier hs-var"
	  >names</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-190"
      ></span
      ><span
      >
</span
      ><span id="line-191"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| Get all the named types which we depend on to define the current type.
Note that this relies on dependencies having been added with type synonyms
resolved!
-}</span
	></span
      ><span
      >
</span
      ><span id="line-195"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#getTyConDeps"
	><span class="hs-identifier hs-type"
	  >getTyConDeps</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#Deps"
	><span class="hs-identifier hs-type"
	  >Deps</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
	><span class="hs-identifier hs-type"
	  >Set.Set</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-196"
      ></span
      ><span id="getTyConDeps"
      ><span class="annot"
	><span class="annottext"
	  >getTyConDeps :: Deps -&gt; THLocalVars
</span
	  ><a href="PlutusTx.Lift.TH.html#getTyConDeps"
	  ><span class="hs-identifier hs-var hs-var"
	    >getTyConDeps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036292"
      ><span class="annot"
	><span class="annottext"
	  >Deps
</span
	  ><a href="#local-6989586621680036292"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Name] -&gt; THLocalVars
forall a. Ord a =&gt; [a] -&gt; Set a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#fromList"
	><span class="hs-identifier hs-var"
	  >Set.fromList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Name] -&gt; THLocalVars) -&gt; [Name] -&gt; THLocalVars
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Dep -&gt; Maybe Name) -&gt; [Dep] -&gt; [Name]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Maybe.html#mapMaybe"
	><span class="hs-identifier hs-var"
	  >mapMaybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dep -&gt; Maybe Name
</span
	><a href="#local-6989586621680036295"
	><span class="hs-identifier hs-var"
	  >typeableDep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Dep] -&gt; [Name]) -&gt; [Dep] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Deps -&gt; [Dep]
forall a. Set a -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#toList"
	><span class="hs-identifier hs-var"
	  >Set.toList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Deps
</span
	><a href="#local-6989586621680036292"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-197"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-198"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036295"
      ><span class="annot"
	><span class="annottext"
	  >typeableDep :: Dep -&gt; Maybe Name
</span
	  ><a href="#local-6989586621680036295"
	  ><span class="hs-identifier hs-var hs-var"
	    >typeableDep</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#TypeableDep"
	><span class="hs-identifier hs-type"
	  >TypeableDep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#ConT"
	><span class="hs-identifier hs-type"
	  >TH.ConT</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036298"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036298"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036298"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-199"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621680036295"
	><span class="hs-identifier hs-var"
	  >typeableDep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dep
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >                         </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Name
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-200"
      ></span
      ><span
      >
</span
      ><span id="line-201"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#addTypeableDep"
	><span class="hs-identifier hs-type"
	  >addTypeableDep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-202"
      ></span
      ><span id="addTypeableDep"
      ><span class="annot"
	><span class="annottext"
	  >addTypeableDep :: Pred -&gt; THCompile ()
</span
	  ><a href="PlutusTx.Lift.TH.html#addTypeableDep"
	  ><span class="hs-identifier hs-var hs-var"
	    >addTypeableDep</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036300"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036300"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-203"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036301"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036301"
	  ><span class="hs-identifier hs-var"
	    >ty'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile Pred
</span
	><a href="PlutusTx.Lift.TH.html#normalizeAndResolve"
	><span class="hs-identifier hs-var"
	  >normalizeAndResolve</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036300"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-204"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>(Deps -&gt; Deps) -&gt; THCompile ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Deps -&gt; Deps) -&gt; THCompile ()) -&gt; (Deps -&gt; Deps) -&gt; THCompile ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dep -&gt; Deps -&gt; Deps
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Set.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Dep -&gt; Deps -&gt; Deps) -&gt; Dep -&gt; Deps -&gt; Deps
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Dep
</span
	><a href="PlutusTx.Lift.TH.html#TypeableDep"
	><span class="hs-identifier hs-var"
	  >TypeableDep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036301"
	><span class="hs-identifier hs-var"
	  >ty'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-205"
      ></span
      ><span
      >
</span
      ><span id="line-206"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#addLiftDep"
	><span class="hs-identifier hs-type"
	  >addLiftDep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-207"
      ></span
      ><span id="addLiftDep"
      ><span class="annot"
	><span class="annottext"
	  >addLiftDep :: Pred -&gt; THCompile ()
</span
	  ><a href="PlutusTx.Lift.TH.html#addLiftDep"
	  ><span class="hs-identifier hs-var hs-var"
	    >addLiftDep</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036304"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036304"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-208"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036305"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036305"
	  ><span class="hs-identifier hs-var"
	    >ty'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile Pred
</span
	><a href="PlutusTx.Lift.TH.html#normalizeAndResolve"
	><span class="hs-identifier hs-var"
	  >normalizeAndResolve</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036304"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-209"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>(Deps -&gt; Deps) -&gt; THCompile ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Deps -&gt; Deps) -&gt; THCompile ()) -&gt; (Deps -&gt; Deps) -&gt; THCompile ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dep -&gt; Deps -&gt; Deps
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Set.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Dep -&gt; Deps -&gt; Deps) -&gt; Dep -&gt; Deps -&gt; Deps
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Dep
</span
	><a href="PlutusTx.Lift.TH.html#LiftDep"
	><span class="hs-identifier hs-var"
	  >LiftDep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036305"
	><span class="hs-identifier hs-var"
	  >ty'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-210"
      ></span
      ><span
      >
</span
      ><span id="line-211"
      ></span
      ><span class="hs-comment"
      >-- Constraints</span
      ><span
      >
</span
      ><span id="line-212"
      ></span
      ><span
      >
</span
      ><span id="line-213"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Make a 'Typeable' constraint.</span
	></span
      ><span
      >
</span
      ><span id="line-214"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#typeablePir"
	><span class="hs-identifier hs-type"
	  >typeablePir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-215"
      ></span
      ><span id="typeablePir"
      ><span class="annot"
	><span class="annottext"
	  >typeablePir :: Pred -&gt; Pred -&gt; Pred
</span
	  ><a href="PlutusTx.Lift.TH.html#typeablePir"
	  ><span class="hs-identifier hs-var hs-var"
	    >typeablePir</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036308"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036308"
	  ><span class="hs-identifier hs-var"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036309"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036309"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; [Pred] -&gt; Pred
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#classPred"
	><span class="hs-identifier hs-var"
	  >TH.classPred</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >Typeable</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036308"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036309"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-216"
      ></span
      ><span
      >
</span
      ><span id="line-217"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Make a 'Lift' constraint.</span
	></span
      ><span
      >
</span
      ><span id="line-218"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#liftPir"
	><span class="hs-identifier hs-type"
	  >liftPir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-219"
      ></span
      ><span id="liftPir"
      ><span class="annot"
	><span class="annottext"
	  >liftPir :: Pred -&gt; Pred -&gt; Pred
</span
	  ><a href="PlutusTx.Lift.TH.html#liftPir"
	  ><span class="hs-identifier hs-var hs-var"
	    >liftPir</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036313"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036313"
	  ><span class="hs-identifier hs-var"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036314"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036314"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; [Pred] -&gt; Pred
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#classPred"
	><span class="hs-identifier hs-var"
	  >TH.classPred</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >Lift</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036313"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036314"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-220"
      ></span
      ><span
      >
</span
      ><span id="line-221"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#toConstraint"
	><span class="hs-identifier hs-type"
	  >toConstraint</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#Dep"
	><span class="hs-identifier hs-type"
	  >Dep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Pred"
	><span class="hs-identifier hs-type"
	  >TH.Pred</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-222"
      ></span
      ><span id="toConstraint"
      ><span class="annot"
	><span class="annottext"
	  >toConstraint :: Pred -&gt; Dep -&gt; Pred
</span
	  ><a href="PlutusTx.Lift.TH.html#toConstraint"
	  ><span class="hs-identifier hs-var hs-var"
	    >toConstraint</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036316"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036316"
	  ><span class="hs-identifier hs-var"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-223"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#TypeableDep"
	><span class="hs-identifier hs-type"
	  >TypeableDep</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036317"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036317"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Pred -&gt; Pred
</span
	><a href="PlutusTx.Lift.TH.html#typeablePir"
	><span class="hs-identifier hs-var"
	  >typeablePir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036316"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036317"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-224"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#LiftDep"
	><span class="hs-identifier hs-type"
	  >LiftDep</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036318"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036318"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Pred -&gt; Pred
</span
	><a href="PlutusTx.Lift.TH.html#liftPir"
	><span class="hs-identifier hs-var"
	  >liftPir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036316"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036318"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-225"
      ></span
      ><span
      >
</span
      ><span id="line-226"
      ></span
      ><span class="hs-comment"
      >{- Note [Closed constraints]
There is no point adding constraints that are &quot;closed&quot;, i.e. don't mention any of the
instance type variables. These will either be satisfied by other instances in scope
(in which case GHC will complain at you), or be unsatisfied in which case the user will
get a useful error anyway.
-}</span
      ><span
      >
</span
      ><span id="line-232"
      ></span
      ><span
      >
</span
      ><span id="line-233"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#isClosedConstraint"
	><span class="hs-identifier hs-type"
	  >isClosedConstraint</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Pred"
	><span class="hs-identifier hs-type"
	  >TH.Pred</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-234"
      ></span
      ><span id="isClosedConstraint"
      ><span class="annot"
	><span class="annottext"
	  >isClosedConstraint :: Pred -&gt; Bool
</span
	  ><a href="PlutusTx.Lift.TH.html#isClosedConstraint"
	  ><span class="hs-identifier hs-var hs-var"
	    >isClosedConstraint</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Name] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#null"
	><span class="hs-identifier hs-var"
	  >null</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Name] -&gt; Bool) -&gt; (Pred -&gt; [Name]) -&gt; Pred -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; [Name]
forall a. TypeSubstitution a =&gt; a -&gt; [Name]
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#freeVariables"
	><span class="hs-identifier hs-var"
	  >TH.freeVariables</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-235"
      ></span
      ><span
      >
</span
      ><span id="line-236"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Convenience wrapper around 'normalizeType' and 'TH.resolveTypeSynonyms'.</span
	></span
      ><span
      >
</span
      ><span id="line-237"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#normalizeAndResolve"
	><span class="hs-identifier hs-type"
	  >normalizeAndResolve</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-238"
      ></span
      ><span id="normalizeAndResolve"
      ><span class="annot"
	><span class="annottext"
	  >normalizeAndResolve :: Pred -&gt; THCompile Pred
</span
	  ><a href="PlutusTx.Lift.TH.html#normalizeAndResolve"
	  ><span class="hs-identifier hs-var hs-var"
	    >normalizeAndResolve</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036324"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036324"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Pred
</span
	><a href="PlutusTx.Lift.THUtils.html#normalizeType"
	><span class="hs-identifier hs-var"
	  >normalizeType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Pred -&gt; Pred) -&gt; THCompile Pred -&gt; THCompile Pred
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT THLocalVars (ExceptT LiftError Q) Pred -&gt; THCompile Pred
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; StateT Deps m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	><span class="hs-identifier hs-var"
	  >Trans.lift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ReaderT THLocalVars (ExceptT LiftError Q) Pred -&gt; THCompile Pred)
-&gt; ReaderT THLocalVars (ExceptT LiftError Q) Pred -&gt; THCompile Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExceptT LiftError Q Pred
-&gt; ReaderT THLocalVars (ExceptT LiftError Q) Pred
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT THLocalVars m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	><span class="hs-identifier hs-var"
	  >Trans.lift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ExceptT LiftError Q Pred
 -&gt; ReaderT THLocalVars (ExceptT LiftError Q) Pred)
-&gt; ExceptT LiftError Q Pred
-&gt; ReaderT THLocalVars (ExceptT LiftError Q) Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Q Pred -&gt; ExceptT LiftError Q Pred
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT LiftError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	><span class="hs-identifier hs-var"
	  >Trans.lift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Q Pred -&gt; ExceptT LiftError Q Pred)
-&gt; Q Pred -&gt; ExceptT LiftError Q Pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Q Pred
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#resolveTypeSynonyms"
	><span class="hs-identifier hs-var"
	  >TH.resolveTypeSynonyms</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036324"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-239"
      ></span
      ><span
      >
</span
      ><span id="line-240"
      ></span
      ><span class="hs-comment"
      >-- See Note [Ordering of constructors]</span
      ><span
      >
</span
      ><span id="line-241"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#sortedCons"
	><span class="hs-identifier hs-type"
	  >sortedCons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#DatatypeInfo"
	><span class="hs-identifier hs-type"
	  >TH.DatatypeInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#ConstructorInfo"
	><span class="hs-identifier hs-type"
	  >TH.ConstructorInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-242"
      ></span
      ><span id="sortedCons"
      ><span class="annot"
	><span class="annottext"
	  >sortedCons :: DatatypeInfo -&gt; [ConstructorInfo]
</span
	  ><a href="PlutusTx.Lift.TH.html#sortedCons"
	  ><span class="hs-identifier hs-var hs-var"
	    >sortedCons</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#DatatypeInfo"
	><span class="hs-identifier hs-type"
	  >TH.DatatypeInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>datatypeName :: DatatypeInfo -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#datatypeName"
	><span class="hs-identifier hs-var"
	  >TH.datatypeName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621680036330"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036330"
	  ><span class="hs-identifier hs-var"
	    >tyName</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>datatypeCons :: DatatypeInfo -&gt; [ConstructorInfo]
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#datatypeCons"
	><span class="hs-identifier hs-var"
	  >TH.datatypeCons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621680036332"
      ><span class="annot"
	><span class="annottext"
	  >[ConstructorInfo]
</span
	  ><a href="#local-6989586621680036332"
	  ><span class="hs-identifier hs-var"
	    >cons</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-243"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- We need to compare 'TH.Name's on their string name *not* on the unique</span
      ><span
      >
</span
      ><span id="line-244"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036335"
      ><span class="annot"
	><span class="annottext"
	  >sorted :: [ConstructorInfo]
</span
	  ><a href="#local-6989586621680036335"
	  ><span class="hs-identifier hs-var hs-var"
	    >sorted</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-245"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>(ConstructorInfo -&gt; ConstructorInfo -&gt; Ordering)
-&gt; [ConstructorInfo] -&gt; [ConstructorInfo]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#sortBy"
	><span class="hs-identifier hs-var"
	  >sortBy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-246"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ConstructorInfo -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#constructorName"
	><span class="hs-identifier hs-var"
	  >TH.constructorName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036338"
      ><span class="annot"
	><span class="annottext"
	  >OccName
</span
	  ><a href="#local-6989586621680036338"
	  ><span class="hs-identifier hs-var"
	    >o1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NameFlavour
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ConstructorInfo -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#constructorName"
	><span class="hs-identifier hs-var"
	  >TH.constructorName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036339"
      ><span class="annot"
	><span class="annottext"
	  >OccName
</span
	  ><a href="#local-6989586621680036339"
	  ><span class="hs-identifier hs-var"
	    >o2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NameFlavour
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>OccName -&gt; OccName -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#compare"
	><span class="hs-identifier hs-var"
	  >compare</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>OccName
</span
	><a href="#local-6989586621680036338"
	><span class="hs-identifier hs-var"
	  >o1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>OccName
</span
	><a href="#local-6989586621680036339"
	><span class="hs-identifier hs-var"
	  >o2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-247"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>[ConstructorInfo]
</span
	><a href="#local-6989586621680036332"
	><span class="hs-identifier hs-var"
	  >cons</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-248"
      ></span
      ><span
      >   </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036330"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >Bool</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036330"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[ConstructorInfo] -&gt; [ConstructorInfo]
forall a. [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#reverse"
	><span class="hs-identifier hs-var"
	  >reverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[ConstructorInfo]
</span
	><a href="#local-6989586621680036335"
	><span class="hs-identifier hs-var"
	  >sorted</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[ConstructorInfo]
</span
	><a href="#local-6989586621680036335"
	><span class="hs-identifier hs-var"
	  >sorted</span
	  ></a
	></span
      ><span class="hs-cpp"
      >

#if MIN_VERSION_template_haskell(2,17,0)
</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#tvNameAndKind"
	><span class="hs-identifier hs-type"
	  >tvNameAndKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#TyVarBndrUnit"
	><span class="hs-identifier hs-type"
	  >TH.TyVarBndrUnit</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Kind"
	><span class="hs-identifier hs-type"
	  >Kind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-252"
      ></span
      ><span id="tvNameAndKind"
      ><span class="annot"
	><span class="annottext"
	  >tvNameAndKind :: TyVarBndrUnit -&gt; THCompile (Name, Kind ())
</span
	  ><a href="PlutusTx.Lift.TH.html#tvNameAndKind"
	  ><span class="hs-identifier hs-var hs-var"
	    >tvNameAndKind</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-253"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#KindedTV"
	><span class="hs-identifier hs-type"
	  >TH.KindedTV</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036345"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036345"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036346"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036346"
	  ><span class="hs-identifier hs-var"
	    >kind</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-254"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621680036347"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621680036347"
	  ><span class="hs-identifier hs-var"
	    >kind'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile (Kind ())
</span
	><a href="PlutusTx.Lift.TH.html#compileKind"
	><span class="hs-identifier hs-var"
	  >compileKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Pred -&gt; THCompile (Kind ()))
-&gt; (Pred -&gt; THCompile Pred) -&gt; Pred -&gt; THCompile (Kind ())
forall (m :: * -&gt; *) b c a.
Monad m =&gt;
(b -&gt; m c) -&gt; (a -&gt; m b) -&gt; a -&gt; m c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html#%3C%3D%3C"
	><span class="hs-operator hs-var"
	  >&lt;=&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile Pred
</span
	><a href="PlutusTx.Lift.TH.html#normalizeAndResolve"
	><span class="hs-identifier hs-var"
	  >normalizeAndResolve</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036346"
	><span class="hs-identifier hs-var"
	  >kind</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-255"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>(Name, Kind ()) -&gt; THCompile (Name, Kind ())
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036345"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621680036347"
	><span class="hs-identifier hs-var"
	  >kind'</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-256"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- TODO: is this what PlainTV actually means? That it's of kind Type?</span
      ><span
      >
</span
      ><span id="line-257"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#PlainTV"
	><span class="hs-identifier hs-type"
	  >TH.PlainTV</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036350"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036350"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Name, Kind ()) -&gt; THCompile (Name, Kind ())
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036350"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-cpp"
      >
#else
</span
      ><span class="hs-identifier"
      >tvNameAndKind</span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-identifier"
      >TH.TyVarBndr</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-identifier"
      >THCompile</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-identifier"
      >TH.Name</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="hs-identifier"
      >Kind</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-260"
      ></span
      ><span class="hs-identifier"
      >tvNameAndKind</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-261"
      ></span
      ><span
      >    </span
      ><span class="hs-identifier"
      >TH.KindedTV</span
      ><span
      > </span
      ><span class="hs-identifier"
      >name</span
      ><span
      > </span
      ><span class="hs-identifier"
      >kind</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-262"
      ></span
      ><span
      >        </span
      ><span class="hs-identifier"
      >kind'</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-identifier"
      >compileKind</span
      ><span
      > </span
      ><span class="hs-operator"
      >&lt;=&lt;</span
      ><span
      > </span
      ><span class="hs-identifier"
      >normalizeAndResolve</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-identifier"
      >kind</span
      ><span
      >
</span
      ><span id="line-263"
      ></span
      ><span
      >        </span
      ><span class="hs-identifier"
      >pure</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-identifier"
      >name</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="hs-identifier"
      >kind'</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-264"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- TODO: is this what PlainTV actually means? That it's of kind Type?</span
      ><span
      >
</span
      ><span id="line-265"
      ></span
      ><span
      >    </span
      ><span class="hs-identifier"
      >TH.PlainTV</span
      ><span
      > </span
      ><span class="hs-identifier"
      >name</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-identifier"
      >pure</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-identifier"
      >name</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="hs-identifier"
      >Type</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-cpp"
      >
#endif
</span
      ><span
      >
</span
      ><span id="line-268"
      ></span
      ><span class="hs-comment"
      >------------------</span
      ><span
      >
</span
      ><span id="line-269"
      ></span
      ><span class="hs-comment"
      >-- Types and kinds</span
      ><span
      >
</span
      ><span id="line-270"
      ></span
      ><span class="hs-comment"
      >------------------</span
      ><span
      >
</span
      ><span id="line-271"
      ></span
      ><span
      >
</span
      ><span id="line-272"
      ></span
      ><span class="hs-comment"
      >-- Note: we can actually do this entirely at TH-time, which is nice</span
      ><span
      >
</span
      ><span id="line-273"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#compileKind"
	><span class="hs-identifier hs-type"
	  >compileKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Kind"
	><span class="hs-identifier hs-type"
	  >TH.Kind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Kind"
	><span class="hs-identifier hs-type"
	  >Kind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-274"
      ></span
      ><span id="compileKind"
      ><span class="annot"
	><span class="annottext"
	  >compileKind :: Pred -&gt; THCompile (Kind ())
</span
	  ><a href="PlutusTx.Lift.TH.html#compileKind"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileKind</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-275"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#StarT"
	><span class="hs-identifier hs-var"
	  >TH.StarT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind () -&gt; THCompile (Kind ())
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; THCompile (Kind ())) -&gt; Kind () -&gt; THCompile (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-276"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#AppT"
	><span class="hs-identifier hs-type"
	  >TH.AppT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#AppT"
	><span class="hs-identifier hs-type"
	  >TH.AppT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#ArrowT"
	><span class="hs-identifier hs-var"
	  >TH.ArrowT</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036355"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036355"
	  ><span class="hs-identifier hs-var"
	    >k1</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621680036356"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036356"
	  ><span class="hs-identifier hs-var"
	    >k2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind () -&gt; Kind () -&gt; Kind ()
forall ann. ann -&gt; Kind ann -&gt; Kind ann -&gt; Kind ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#KindArrow"
	><span class="hs-identifier hs-var"
	  >KindArrow</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Kind () -&gt; Kind () -&gt; Kind ())
-&gt; THCompile (Kind ())
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (Kind () -&gt; Kind ())
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile (Kind ())
</span
	><a href="PlutusTx.Lift.TH.html#compileKind"
	><span class="hs-identifier hs-var"
	  >compileKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036355"
	><span class="hs-identifier hs-var"
	  >k1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT
  Deps
  (ReaderT THLocalVars (ExceptT LiftError Q))
  (Kind () -&gt; Kind ())
-&gt; THCompile (Kind ()) -&gt; THCompile (Kind ())
forall a b.
StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) (a -&gt; b)
-&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
-&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile (Kind ())
</span
	><a href="PlutusTx.Lift.TH.html#compileKind"
	><span class="hs-identifier hs-var"
	  >compileKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036356"
	><span class="hs-identifier hs-var"
	  >k2</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-277"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036358"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036358"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LiftError -&gt; THCompile (Kind ())
forall a.
LiftError
-&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(LiftError -&gt; THCompile (Kind ()))
-&gt; LiftError -&gt; THCompile (Kind ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; LiftError
</span
	><a href="PlutusTx.Lift.TH.html#UnsupportedLiftKind"
	><span class="hs-identifier hs-var"
	  >UnsupportedLiftKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036358"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-278"
      ></span
      ><span
      >
</span
      ><span id="line-279"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#compileType"
	><span class="hs-identifier hs-type"
	  >compileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#TExpQ"
	><span class="hs-identifier hs-type"
	  >TH.TExpQ</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileTypeScope"
	><span class="hs-identifier hs-type"
	  >CompileTypeScope</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-280"
      ></span
      ><span id="compileType"
      ><span class="annot"
	><span class="annottext"
	  >compileType :: Pred -&gt; THCompile (TExpQ CompileTypeScope)
</span
	  ><a href="PlutusTx.Lift.TH.html#compileType"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-281"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#AppT"
	><span class="hs-identifier hs-type"
	  >TH.AppT</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036360"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036360"
	  ><span class="hs-identifier hs-var"
	    >t1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036361"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036361"
	  ><span class="hs-identifier hs-var"
	    >t2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-282"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621680036362"
      ><span class="annot"
	><span class="annottext"
	  >TExpQ CompileTypeScope
</span
	  ><a href="#local-6989586621680036362"
	  ><span class="hs-identifier hs-var"
	    >t1'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile (TExpQ CompileTypeScope)
</span
	><a href="PlutusTx.Lift.TH.html#compileType"
	><span class="hs-identifier hs-var"
	  >compileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036360"
	><span class="hs-identifier hs-var"
	  >t1</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-283"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621680036363"
      ><span class="annot"
	><span class="annottext"
	  >TExpQ CompileTypeScope
</span
	  ><a href="#local-6989586621680036363"
	  ><span class="hs-identifier hs-var"
	    >t2'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile (TExpQ CompileTypeScope)
</span
	><a href="PlutusTx.Lift.TH.html#compileType"
	><span class="hs-identifier hs-var"
	  >compileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036361"
	><span class="hs-identifier hs-var"
	  >t2</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-284"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope)
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TExpQ CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; (Code Q CompileTypeScope -&gt; TExpQ CompileTypeScope)
-&gt; Code Q CompileTypeScope
-&gt; THCompile (TExpQ CompileTypeScope)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Code Q CompileTypeScope -&gt; TExpQ CompileTypeScope
forall (m :: * -&gt; *) a. Code m a -&gt; m (TExp a)
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#examineCode"
	><span class="hs-identifier hs-var"
	  >TH.examineCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Code Q CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; Code Q CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-285"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >[||</span
      ><span
      >
</span
      ><span id="line-286"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(forall fun.
 RTCompileScope DefaultUni fun (Type TyName DefaultUni ()))
-&gt; CompileTypeScope
</span
	><a href="PlutusTx.Lift.TH.html#CompileTypeScope"
	><span class="hs-identifier hs-var"
	  >CompileTypeScope</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-287"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyApp"
	><span class="hs-identifier hs-var"
	  >TyApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileTypeScope
-&gt; forall fun.
   RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="PlutusTx.Lift.TH.html#unCompileTypeScope"
	><span class="hs-identifier hs-var"
	  >unCompileTypeScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >$$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTypeScope -&gt; Code Q CompileTypeScope
forall a (m :: * -&gt; *). m (TExp a) -&gt; Code m a
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#liftCode"
	><span class="hs-identifier hs-var"
	  >TH.liftCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTypeScope
</span
	><a href="#local-6989586621680036362"
	><span class="hs-identifier hs-var"
	  >t1'</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (a -&gt; b) -&gt; f a -&gt; f b
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileTypeScope
-&gt; forall fun.
   RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="PlutusTx.Lift.TH.html#unCompileTypeScope"
	><span class="hs-identifier hs-var"
	  >unCompileTypeScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >$$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTypeScope -&gt; Code Q CompileTypeScope
forall a (m :: * -&gt; *). m (TExp a) -&gt; Code m a
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#liftCode"
	><span class="hs-identifier hs-var"
	  >TH.liftCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTypeScope
</span
	><a href="#local-6989586621680036363"
	><span class="hs-identifier hs-var"
	  >t2'</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-288"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >||]</span
      ><span
      >
</span
      ><span id="line-289"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036369"
      ><span class="annot"
	><span class="annottext"
	  >t :: Pred
</span
	  ><a href="#local-6989586621680036369"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#ConT"
	><span class="hs-identifier hs-type"
	  >TH.ConT</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036370"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036370"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Name -&gt; THCompile (TExpQ CompileTypeScope)
</span
	><a href="PlutusTx.Lift.TH.html#compileTypeableType"
	><span class="hs-identifier hs-var"
	  >compileTypeableType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036369"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036370"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-290"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- See Note [Type variables]</span
      ><span
      >
</span
      ><span id="line-291"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036372"
      ><span class="annot"
	><span class="annottext"
	  >t :: Pred
</span
	  ><a href="#local-6989586621680036372"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#VarT"
	><span class="hs-identifier hs-type"
	  >TH.VarT</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036374"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036374"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-292"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621680036375"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621680036375"
	  ><span class="hs-identifier hs-var"
	    >isLocal</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(THLocalVars -&gt; Bool)
-&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) Bool
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#asks"
	><span class="hs-identifier hs-var"
	  >asks</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; THLocalVars -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#member"
	><span class="hs-identifier hs-var"
	  >Set.member</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036374"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-293"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621680036375"
	><span class="hs-identifier hs-var"
	  >isLocal</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-294"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >then</span
      ><span
      >
</span
      ><span id="line-295"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope)
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TExpQ CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; (Code Q CompileTypeScope -&gt; TExpQ CompileTypeScope)
-&gt; Code Q CompileTypeScope
-&gt; THCompile (TExpQ CompileTypeScope)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Code Q CompileTypeScope -&gt; TExpQ CompileTypeScope
forall (m :: * -&gt; *) a. Code m a -&gt; m (TExp a)
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#examineCode"
	><span class="hs-identifier hs-var"
	  >TH.examineCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Code Q CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; Code Q CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-296"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >[||</span
      ><span
      >
</span
      ><span id="line-297"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>(forall fun.
 RTCompileScope DefaultUni fun (Type TyName DefaultUni ()))
-&gt; CompileTypeScope
</span
	><a href="PlutusTx.Lift.TH.html#CompileTypeScope"
	><span class="hs-identifier hs-var"
	  >CompileTypeScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-298"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621680036377"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036377"
	  ><span class="hs-identifier hs-var"
	    >vars</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m r
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#ask"
	><span class="hs-identifier hs-var"
	  >ask</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-299"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>k -&gt; Map k a -&gt; Maybe a
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#lookup"
	><span class="hs-identifier hs-var"
	  >Map.lookup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036374"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036377"
	><span class="hs-identifier hs-var"
	  >vars</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-300"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036381"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036381"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; f a
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036381"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-301"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>e -&gt; a
forall a e. Exception e =&gt; e -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Exception.html#throw"
	><span class="hs-identifier hs-var"
	  >Prelude.throw</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; LiftError
</span
	><a href="PlutusTx.Lift.TH.html#LiftMissingVar"
	><span class="hs-identifier hs-var"
	  >LiftMissingVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036374"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-302"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >||]</span
      ><span
      >
</span
      ><span id="line-303"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Name -&gt; THCompile (TExpQ CompileTypeScope)
</span
	><a href="PlutusTx.Lift.TH.html#compileTypeableType"
	><span class="hs-identifier hs-var"
	  >compileTypeableType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036372"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036374"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-304"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036384"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036384"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LiftError -&gt; THCompile (TExpQ CompileTypeScope)
forall a.
LiftError
-&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(LiftError -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; LiftError -&gt; THCompile (TExpQ CompileTypeScope)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; LiftError
</span
	><a href="PlutusTx.Lift.TH.html#UnsupportedLiftType"
	><span class="hs-identifier hs-var"
	  >UnsupportedLiftType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036384"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-305"
      ></span
      ><span
      >
</span
      ><span id="line-306"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Compile a type with the given name using 'typeRep' and incurring a corresponding 'Typeable' dependency.</span
	></span
      ><span
      >
</span
      ><span id="line-307"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#compileTypeableType"
	><span class="hs-identifier hs-type"
	  >compileTypeableType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#TExpQ"
	><span class="hs-identifier hs-type"
	  >TH.TExpQ</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileTypeScope"
	><span class="hs-identifier hs-type"
	  >CompileTypeScope</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-308"
      ></span
      ><span id="compileTypeableType"
      ><span class="annot"
	><span class="annottext"
	  >compileTypeableType :: Pred -&gt; Name -&gt; THCompile (TExpQ CompileTypeScope)
</span
	  ><a href="PlutusTx.Lift.TH.html#compileTypeableType"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileTypeableType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036386"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036386"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036387"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036387"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-309"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile ()
</span
	><a href="PlutusTx.Lift.TH.html#addTypeableDep"
	><span class="hs-identifier hs-var"
	  >addTypeableDep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036386"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-310"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- We need the `unsafeTExpCoerce` since this will necessarily involve</span
      ><span
      >
</span
      ><span id="line-311"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- types we don't know now: the type which this instance is for (which</span
      ><span
      >
</span
      ><span id="line-312"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- appears in the proxy argument). However, since we know the type of</span
      ><span
      >
</span
      ><span id="line-313"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- `typeRep` we can get back into typed land quickly.</span
      ><span
      >
</span
      ><span id="line-314"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036388"
	><span class="hs-identifier hs-type"
	  >trep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#TExpQ"
	><span class="hs-identifier hs-type"
	  >TH.TExpQ</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileType"
	><span class="hs-identifier hs-type"
	  >CompileType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-315"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621680036388"
      ><span class="annot"
	><span class="annottext"
	  >trep :: TExpQ CompileType
</span
	  ><a href="#local-6989586621680036388"
	  ><span class="hs-identifier hs-var hs-var"
	    >trep</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Q Exp -&gt; TExpQ CompileType
forall a (m :: * -&gt; *). Quote m =&gt; m Exp -&gt; m (TExp a)
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#unsafeTExpCoerce"
	><span class="hs-identifier hs-var"
	  >TH.unsafeTExpCoerce</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[|</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileType"
	><span class="hs-identifier hs-type"
	  >CompileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.Class.html#typeRep"
	><span class="hs-identifier hs-type"
	  >typeRep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Proxy.html#Proxy"
	><span class="hs-identifier hs-type"
	  >Proxy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Proxy.html#Proxy"
	><span class="hs-identifier hs-type"
	  >Proxy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Q Pred
forall a. a -&gt; Q a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036386"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >|]</span
      ><span
      >
</span
      ><span id="line-316"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope)
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TExpQ CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; (Code Q CompileTypeScope -&gt; TExpQ CompileTypeScope)
-&gt; Code Q CompileTypeScope
-&gt; THCompile (TExpQ CompileTypeScope)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Code Q CompileTypeScope -&gt; TExpQ CompileTypeScope
forall (m :: * -&gt; *) a. Code m a -&gt; m (TExp a)
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#examineCode"
	><span class="hs-identifier hs-var"
	  >TH.examineCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Code Q CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; Code Q CompileTypeScope -&gt; THCompile (TExpQ CompileTypeScope)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-317"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >[||</span
      ><span
      >
</span
      ><span id="line-318"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036392"
	><span class="hs-identifier hs-type"
	  >trep'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621680036393"
      ><span class="annot"
	><a href="#local-6989586621680036393"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	><span class="hs-identifier hs-type"
	  >RTCompileScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036393"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-319"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621680036392"
      ><span class="annot"
	><span class="annottext"
	  >trep' :: forall fun.
RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	  ><a href="#local-6989586621680036392"
	  ><span class="hs-identifier hs-var hs-var"
	    >trep'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m a -&gt; t m a
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; t m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	><span class="hs-identifier hs-var"
	  >Trans.lift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileType
-&gt; forall fun. RTCompile DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="PlutusTx.Lift.TH.html#unCompileType"
	><span class="hs-identifier hs-var"
	  >unCompileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >$$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileType -&gt; Code Q CompileType
forall a (m :: * -&gt; *). m (TExp a) -&gt; Code m a
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#liftCode"
	><span class="hs-identifier hs-var"
	  >TH.liftCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileType
</span
	><a href="#local-6989586621680036388"
	><span class="hs-identifier hs-var"
	  >trep</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-320"
      ></span
      ><span
      >     </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(forall fun.
 RTCompileScope DefaultUni fun (Type TyName DefaultUni ()))
-&gt; CompileTypeScope
</span
	><a href="PlutusTx.Lift.TH.html#CompileTypeScope"
	><span class="hs-identifier hs-var"
	  >CompileTypeScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-321"
      ></span
      ><span
      >          </span
      ><span id="local-6989586621680036396"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036396"
	  ><span class="hs-identifier hs-var"
	    >maybeType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; key -&gt; m (Maybe (Type TyName uni ann))
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
ann -&gt; key -&gt; m (Maybe (Type TyName uni ann))
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#lookupType"
	><span class="hs-identifier hs-var"
	  >lookupType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036387"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-322"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036396"
	><span class="hs-identifier hs-var"
	  >maybeType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-323"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036399"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621680036399"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; f a
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621680036399"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-324"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- this will need some additional constraints in scope</span
      ><span
      >
</span
      ><span id="line-325"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Type TyName uni ann)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
forall fun.
RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="#local-6989586621680036392"
	><span class="hs-identifier hs-var"
	  >trep'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-326"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >||]</span
      ><span
      >
</span
      ><span id="line-327"
      ></span
      ><span
      >
</span
      ><span id="line-328"
      ></span
      ><span class="hs-comment"
      >-- Just here so we can pin down the type variables without using TypeApplications in the generated code</span
      ><span
      >
</span
      ><span id="line-329"
      ></span
      ><span id="local-6989586621680035530"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#recordAlias%27"
	  ><span class="hs-identifier hs-type"
	    >recordAlias'</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>::</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	  ><span class="hs-identifier hs-type"
	    >TH.Name</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	  ><span class="hs-identifier hs-type"
	    >RTCompileScope</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	  ><span class="hs-identifier hs-type"
	    >PLC.DefaultUni</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621680035530"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="hs-special"
	>)</span
	></span
      ><span
      >
</span
      ><span id="line-330"
      ></span
      ><span id="recordAlias%27"
      ><span class="annot"
	><span class="annottext"
	  >recordAlias' :: forall fun. Name -&gt; RTCompileScope DefaultUni fun ()
</span
	  ><a href="PlutusTx.Lift.TH.html#recordAlias%27"
	  ><span class="hs-identifier hs-var hs-var"
	    >recordAlias'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
-&gt; ReaderT (LocalVars DefaultUni) (RTCompile DefaultUni fun) ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; m ()
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#recordAlias"
	><span class="hs-identifier hs-var"
	  >recordAlias</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-331"
      ></span
      ><span
      >
</span
      ><span id="line-332"
      ></span
      ><span class="hs-comment"
      >-- Just here so we can pin down the type variables without using TypeApplications in the generated code</span
      ><span
      >
</span
      ><span id="line-333"
      ></span
      ><span id="local-6989586621680035553"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#defineDatatype%27"
	  ><span class="hs-identifier hs-type"
	    >defineDatatype'</span
	    ></a
	  ></span
	><span
	>
</span
	><span id="line-334"
	></span
	><span
	>  </span
	><span class="hs-glyph"
	>::</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	  ><span class="hs-identifier hs-type"
	    >TH.Name</span
	    ></a
	  ></span
	><span
	>
</span
	><span id="line-335"
	></span
	><span
	>  </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusIR.MkPir.html#DatatypeDef"
	  ><span class="hs-identifier hs-type"
	    >DatatypeDef</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	  ><span class="hs-identifier hs-type"
	    >TyName</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	  ><span class="hs-identifier hs-type"
	    >Name</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	  ><span class="hs-identifier hs-type"
	    >PLC.DefaultUni</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="hs-special"
	>)</span
	><span
	>
</span
	><span id="line-336"
	></span
	><span
	>  </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
	  ><span class="hs-identifier hs-type"
	    >Set.Set</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	  ><span class="hs-identifier hs-type"
	    >TH.Name</span
	    ></a
	  ></span
	><span
	>
</span
	><span id="line-337"
	></span
	><span
	>  </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	  ><span class="hs-identifier hs-type"
	    >RTCompileScope</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	  ><span class="hs-identifier hs-type"
	    >PLC.DefaultUni</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621680035553"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="hs-special"
	>)</span
	></span
      ><span
      >
</span
      ><span id="line-338"
      ></span
      ><span id="defineDatatype%27"
      ><span class="annot"
	><span class="annottext"
	  >defineDatatype' :: forall fun.
Name
-&gt; DatatypeDef TyName Name DefaultUni ()
-&gt; THLocalVars
-&gt; RTCompileScope DefaultUni fun ()
</span
	  ><a href="PlutusTx.Lift.TH.html#defineDatatype%27"
	  ><span class="hs-identifier hs-var hs-var"
	    >defineDatatype'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
-&gt; DatatypeDef TyName Name DefaultUni ()
-&gt; THLocalVars
-&gt; ReaderT (LocalVars DefaultUni) (RTCompile DefaultUni fun) ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; DatatypeDef TyName Name uni ann -&gt; Set key -&gt; m ()
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#defineDatatype"
	><span class="hs-identifier hs-var"
	  >defineDatatype</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-339"
      ></span
      ><span
      >
</span
      ><span id="line-340"
      ></span
      ><span class="hs-comment"
      >-- TODO: there is an unpleasant amount of duplication between this and the main compiler, but</span
      ><span
      >
</span
      ><span id="line-341"
      ></span
      ><span class="hs-comment"
      >-- I'm not sure how to unify them better</span
      ><span
      >
</span
      ><span id="line-342"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#compileTypeRep"
	><span class="hs-identifier hs-type"
	  >compileTypeRep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#DatatypeInfo"
	><span class="hs-identifier hs-type"
	  >TH.DatatypeInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#TExpQ"
	><span class="hs-identifier hs-type"
	  >TH.TExpQ</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileType"
	><span class="hs-identifier hs-type"
	  >CompileType</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-343"
      ></span
      ><span id="compileTypeRep"
      ><span class="annot"
	><span class="annottext"
	  >compileTypeRep :: DatatypeInfo -&gt; THCompile (TExpQ CompileType)
</span
	  ><a href="PlutusTx.Lift.TH.html#compileTypeRep"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileTypeRep</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036418"
      ><span class="annot"
	><span class="annottext"
	  >dt :: DatatypeInfo
</span
	  ><a href="#local-6989586621680036418"
	  ><span class="hs-identifier hs-var"
	    >dt</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#DatatypeInfo"
	><span class="hs-identifier hs-type"
	  >TH.DatatypeInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>datatypeName :: DatatypeInfo -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#datatypeName"
	><span class="hs-identifier hs-var"
	  >TH.datatypeName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621680036419"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036419"
	  ><span class="hs-identifier hs-var"
	    >tyName</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>datatypeVars :: DatatypeInfo -&gt; [TyVarBndrUnit]
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#datatypeVars"
	><span class="hs-identifier hs-var"
	  >TH.datatypeVars</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621680036421"
      ><span class="annot"
	><span class="annottext"
	  >[TyVarBndrUnit]
</span
	  ><a href="#local-6989586621680036421"
	  ><span class="hs-identifier hs-var"
	    >tvs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-344"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036422"
      ><span class="annot"
	><span class="annottext"
	  >[(Name, Kind ())]
</span
	  ><a href="#local-6989586621680036422"
	  ><span class="hs-identifier hs-var"
	    >tvNamesAndKinds</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TyVarBndrUnit -&gt; THCompile (Name, Kind ()))
-&gt; [TyVarBndrUnit]
-&gt; StateT
     Deps (ReaderT THLocalVars (ExceptT LiftError Q)) [(Name, Kind ())]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarBndrUnit -&gt; THCompile (Name, Kind ())
</span
	><a href="PlutusTx.Lift.TH.html#tvNameAndKind"
	><span class="hs-identifier hs-var"
	  >tvNameAndKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TyVarBndrUnit]
</span
	><a href="#local-6989586621680036421"
	><span class="hs-identifier hs-var"
	  >tvs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-345"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- annoyingly th-abstraction doesn't give us a kind we can compile here</span
      ><span
      >
</span
      ><span id="line-346"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036425"
      ><span class="annot"
	><span class="annottext"
	  >typeKind :: Kind ()
</span
	  ><a href="#local-6989586621680036425"
	  ><span class="hs-identifier hs-var hs-var"
	    >typeKind</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Name, Kind ()) -&gt; Kind () -&gt; Kind ())
-&gt; Kind () -&gt; [(Name, Kind ())] -&gt; Kind ()
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#foldr"
	><span class="hs-identifier hs-var"
	  >foldr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621680036426"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621680036426"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621680036427"
      ><span class="annot"
	><span class="annottext"
	  >Kind ()
</span
	  ><a href="#local-6989586621680036427"
	  ><span class="hs-identifier hs-var"
	    >acc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind () -&gt; Kind () -&gt; Kind ()
forall ann. ann -&gt; Kind ann -&gt; Kind ann -&gt; Kind ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#KindArrow"
	><span class="hs-identifier hs-var"
	  >KindArrow</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621680036426"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621680036427"
	><span class="hs-identifier hs-var"
	  >acc</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>() -&gt; Kind ()
forall ann. ann -&gt; Kind ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-var"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Name, Kind ())]
</span
	><a href="#local-6989586621680036422"
	><span class="hs-identifier hs-var"
	  >tvNamesAndKinds</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-347"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036428"
      ><span class="annot"
	><span class="annottext"
	  >cons :: [ConstructorInfo]
</span
	  ><a href="#local-6989586621680036428"
	  ><span class="hs-identifier hs-var hs-var"
	    >cons</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo -&gt; [ConstructorInfo]
</span
	><a href="PlutusTx.Lift.TH.html#sortedCons"
	><span class="hs-identifier hs-var"
	  >sortedCons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo
</span
	><a href="#local-6989586621680036418"
	><span class="hs-identifier hs-var"
	  >dt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-348"
      ></span
      ><span
      >
</span
      ><span id="line-349"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>[Name]
-&gt; THCompile (TExpQ CompileType) -&gt; THCompile (TExpQ CompileType)
forall (m :: * -&gt; *) a.
MonadReader THLocalVars m =&gt;
[Name] -&gt; m a -&gt; m a
</span
	><a href="PlutusTx.Lift.TH.html#thWithTyVars"
	><span class="hs-identifier hs-var"
	  >thWithTyVars</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>((Name, Kind ()) -&gt; Name) -&gt; [(Name, Kind ())] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Name, Kind ()) -&gt; Name
forall a b. (a, b) -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#fst"
	><span class="hs-identifier hs-var"
	  >fst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Name, Kind ())]
</span
	><a href="#local-6989586621680036422"
	><span class="hs-identifier hs-var"
	  >tvNamesAndKinds</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(THCompile (TExpQ CompileType) -&gt; THCompile (TExpQ CompileType))
-&gt; THCompile (TExpQ CompileType) -&gt; THCompile (TExpQ CompileType)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-350"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo -&gt; Bool
</span
	><a href="PlutusTx.Lift.THUtils.html#isNewtype"
	><span class="hs-identifier hs-var"
	  >isNewtype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo
</span
	><a href="#local-6989586621680036418"
	><span class="hs-identifier hs-var"
	  >dt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-351"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-352"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- Extract the unique field of the unique constructor</span
      ><span
      >
</span
      ><span id="line-353"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621680036431"
      ><span class="annot"
	><span class="annottext"
	  >TExpQ CompileTypeScope
</span
	  ><a href="#local-6989586621680036431"
	  ><span class="hs-identifier hs-var"
	    >argTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[ConstructorInfo]
</span
	><a href="#local-6989586621680036428"
	><span class="hs-identifier hs-var"
	  >cons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-354"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#ConstructorInfo"
	><span class="hs-identifier hs-type"
	  >TH.ConstructorInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>constructorFields :: ConstructorInfo -&gt; [Pred]
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#constructorFields"
	><span class="hs-identifier hs-var"
	  >TH.constructorFields</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span id="local-6989586621680036434"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036434"
	  ><span class="hs-identifier hs-var"
	    >argTy</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >}</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile (TExpQ CompileTypeScope)
</span
	><a href="PlutusTx.Lift.TH.html#compileType"
	><span class="hs-identifier hs-var"
	  >compileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Pred -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; (Pred -&gt; THCompile Pred)
-&gt; Pred
-&gt; THCompile (TExpQ CompileTypeScope)
forall (m :: * -&gt; *) b c a.
Monad m =&gt;
(b -&gt; m c) -&gt; (a -&gt; m b) -&gt; a -&gt; m c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html#%3C%3D%3C"
	><span class="hs-operator hs-var"
	  >&lt;=&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile Pred
</span
	><a href="PlutusTx.Lift.TH.html#normalizeAndResolve"
	><span class="hs-identifier hs-var"
	  >normalizeAndResolve</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036434"
	><span class="hs-identifier hs-var"
	  >argTy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-355"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>[ConstructorInfo]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LiftError -&gt; THCompile (TExpQ CompileTypeScope)
forall a.
LiftError
-&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(LiftError -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; LiftError -&gt; THCompile (TExpQ CompileTypeScope)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; LiftError
</span
	><a href="PlutusTx.Lift.TH.html#UserLiftError"
	><span class="hs-identifier hs-var"
	  >UserLiftError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Newtypes must have a single constructor with a single argument&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-356"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621680036435"
      ><span class="annot"
	><span class="annottext"
	  >THLocalVars
</span
	  ><a href="#local-6989586621680036435"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Deps -&gt; THLocalVars)
-&gt; StateT
     Deps (ReaderT THLocalVars (ExceptT LiftError Q)) THLocalVars
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#gets"
	><span class="hs-identifier hs-var"
	  >gets</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Deps -&gt; THLocalVars
</span
	><a href="PlutusTx.Lift.TH.html#getTyConDeps"
	><span class="hs-identifier hs-var"
	  >getTyConDeps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-357"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileType -&gt; THCompile (TExpQ CompileType)
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TExpQ CompileType -&gt; THCompile (TExpQ CompileType))
-&gt; (Code Q CompileType -&gt; TExpQ CompileType)
-&gt; Code Q CompileType
-&gt; THCompile (TExpQ CompileType)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Code Q CompileType -&gt; TExpQ CompileType
forall (m :: * -&gt; *) a. Code m a -&gt; m (TExp a)
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#examineCode"
	><span class="hs-identifier hs-var"
	  >TH.examineCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Code Q CompileType -&gt; THCompile (TExpQ CompileType))
-&gt; Code Q CompileType -&gt; THCompile (TExpQ CompileType)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-358"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >[||</span
      ><span
      >
</span
      ><span id="line-359"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-360"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="#local-6989586621680036436"
	><span class="hs-identifier hs-type"
	  >argTy'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621680036437"
      ><span class="annot"
	><a href="#local-6989586621680036437"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	><span class="hs-identifier hs-type"
	  >RTCompileScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036437"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-361"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621680036436"
      ><span class="annot"
	><span class="annottext"
	  >argTy' :: forall fun.
RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	  ><a href="#local-6989586621680036436"
	  ><span class="hs-identifier hs-var hs-var"
	    >argTy'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileTypeScope
-&gt; forall fun.
   RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="PlutusTx.Lift.TH.html#unCompileTypeScope"
	><span class="hs-identifier hs-var"
	  >unCompileTypeScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >$$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTypeScope -&gt; Code Q CompileTypeScope
forall a (m :: * -&gt; *). m (TExp a) -&gt; Code m a
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#liftCode"
	><span class="hs-identifier hs-var"
	  >TH.liftCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTypeScope
</span
	><a href="#local-6989586621680036431"
	><span class="hs-identifier hs-var"
	  >argTy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-362"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="#local-6989586621680036438"
	><span class="hs-identifier hs-type"
	  >act</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621680036439"
      ><span class="annot"
	><a href="#local-6989586621680036439"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	><span class="hs-identifier hs-type"
	  >RTCompileScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036439"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-363"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621680036438"
      ><span class="annot"
	><span class="annottext"
	  >act :: forall fun.
RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	  ><a href="#local-6989586621680036438"
	  ><span class="hs-identifier hs-var hs-var"
	    >act</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-364"
      ></span
      ><span
      >              </span
      ><span id="local-6989586621680036440"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036440"
	  ><span class="hs-identifier hs-var"
	    >maybeDefined</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; key -&gt; m (Maybe (Type TyName uni ann))
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
ann -&gt; key -&gt; m (Maybe (Type TyName uni ann))
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#lookupType"
	><span class="hs-identifier hs-var"
	  >lookupType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036419"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-365"
      ></span
      ><span
      >              </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036440"
	><span class="hs-identifier hs-var"
	  >maybeDefined</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-366"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036442"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621680036442"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; f a
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621680036442"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-367"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Type TyName uni ann)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-368"
      ></span
      ><span
      >                  </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621680036444"
      ><span class="annot"
	><span class="annottext"
	  >TyVarDecl TyName ()
</span
	  ><a href="#local-6989586621680036444"
	  ><span class="hs-identifier hs-var"
	    >dtvd</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Kind () -&gt; m (Name, TyVarDecl TyName ())
forall (m :: * -&gt; *).
MonadQuote m =&gt;
Name -&gt; Kind () -&gt; m (Name, TyVarDecl TyName ())
</span
	><a href="PlutusTx.Lift.THUtils.html#mkTyVarDecl"
	><span class="hs-identifier hs-var"
	  >mkTyVarDecl</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036419"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621680036425"
	><span class="hs-identifier hs-var"
	  >typeKind</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-369"
      ></span
      ><span
      >                  </span
      ><span id="local-6989586621680036447"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036447"
	  ><span class="hs-identifier hs-var"
	    >tvds</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#uncurry"
	><span class="hs-identifier hs-var"
	  >uncurry</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Kind () -&gt; m (Name, TyVarDecl TyName ())
forall (m :: * -&gt; *).
MonadQuote m =&gt;
Name -&gt; Kind () -&gt; m (Name, TyVarDecl TyName ())
</span
	><a href="PlutusTx.Lift.THUtils.html#mkTyVarDecl"
	><span class="hs-identifier hs-var"
	  >mkTyVarDecl</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036422"
	><span class="hs-identifier hs-var"
	  >tvNamesAndKinds</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-370"
      ></span
      ><span
      >
</span
      ><span id="line-371"
      ></span
      ><span
      >                  </span
      ><span id="local-6989586621680036452"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036452"
	  ><span class="hs-identifier hs-var"
	    >alias</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Name, TyVarDecl TyName ())] -&gt; m a -&gt; m a
forall (uni :: * -&gt; *) (m :: * -&gt; *) a.
MonadReader (LocalVars uni) m =&gt;
[(Name, TyVarDecl TyName ())] -&gt; m a -&gt; m a
</span
	><a href="PlutusTx.Lift.TH.html#withTyVars"
	><span class="hs-identifier hs-var"
	  >withTyVars</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036447"
	><span class="hs-identifier hs-var"
	  >tvds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TyVarDecl tyname ann]
-&gt; Type tyname uni ann -&gt; Type tyname uni ann
forall tyname ann (uni :: * -&gt; *).
[TyVarDecl tyname ann]
-&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterTyLam"
	><span class="hs-identifier hs-var"
	  >mkIterTyLam</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; f a -&gt; f b
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a, b) -&gt; b
forall a b. (a, b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#snd"
	><span class="hs-identifier hs-var"
	  >snd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036447"
	><span class="hs-identifier hs-var"
	  >tvds</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
forall fun.
RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="#local-6989586621680036436"
	><span class="hs-identifier hs-var"
	  >argTy'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-372"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>key -&gt; TypeDef TyName uni ann -&gt; Set key -&gt; m ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; TypeDef TyName uni ann -&gt; Set key -&gt; m ()
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#defineType"
	><span class="hs-identifier hs-var"
	  >defineType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036419"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>var -&gt; val -&gt; Def var val
forall var val. var -&gt; val -&gt; Def var val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#Def"
	><span class="hs-identifier hs-var"
	  >PLC.Def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName ()
</span
	><a href="#local-6989586621680036444"
	><span class="hs-identifier hs-var"
	  >dtvd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036452"
	><span class="hs-identifier hs-var"
	  >alias</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036435"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-373"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; RTCompileScope DefaultUni fun ()
forall fun. Name -&gt; RTCompileScope DefaultUni fun ()
</span
	><a href="PlutusTx.Lift.TH.html#recordAlias%27"
	><span class="hs-identifier hs-var"
	  >recordAlias'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036419"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-374"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; f a
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036452"
	><span class="hs-identifier hs-var"
	  >alias</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-375"
      ></span
      ><span
      >           </span
      ><span class="hs-keyword"
      >in</span
      ><span
      >
</span
      ><span id="line-376"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>(forall fun. RTCompile DefaultUni fun (Type TyName DefaultUni ()))
-&gt; CompileType
</span
	><a href="PlutusTx.Lift.TH.html#CompileType"
	><span class="hs-identifier hs-var"
	  >CompileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT r m a -&gt; r -&gt; m a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#runReaderT"
	><span class="hs-identifier hs-var"
	  >runReaderT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
forall fun.
RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="#local-6989586621680036438"
	><span class="hs-identifier hs-var"
	  >act</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-377"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >||]</span
      ><span
      >
</span
      ><span id="line-378"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-379"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621680036463"
      ><span class="annot"
	><span class="annottext"
	  >[TExpQ CompileDeclFun]
</span
	  ><a href="#local-6989586621680036463"
	  ><span class="hs-identifier hs-var"
	    >constrExprs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ConstructorInfo
 -&gt; StateT
      Deps
      (ReaderT THLocalVars (ExceptT LiftError Q))
      (TExpQ CompileDeclFun))
-&gt; [ConstructorInfo]
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     [TExpQ CompileDeclFun]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ConstructorInfo
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileDeclFun)
</span
	><a href="PlutusTx.Lift.TH.html#compileConstructorDecl"
	><span class="hs-identifier hs-var"
	  >compileConstructorDecl</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[ConstructorInfo]
</span
	><a href="#local-6989586621680036428"
	><span class="hs-identifier hs-var"
	  >cons</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-380"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621680036465"
      ><span class="annot"
	><span class="annottext"
	  >THLocalVars
</span
	  ><a href="#local-6989586621680036465"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Deps -&gt; THLocalVars)
-&gt; StateT
     Deps (ReaderT THLocalVars (ExceptT LiftError Q)) THLocalVars
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#gets"
	><span class="hs-identifier hs-var"
	  >gets</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Deps -&gt; THLocalVars
</span
	><a href="PlutusTx.Lift.TH.html#getTyConDeps"
	><span class="hs-identifier hs-var"
	  >getTyConDeps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-381"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileType -&gt; THCompile (TExpQ CompileType)
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TExpQ CompileType -&gt; THCompile (TExpQ CompileType))
-&gt; (Code Q CompileType -&gt; TExpQ CompileType)
-&gt; Code Q CompileType
-&gt; THCompile (TExpQ CompileType)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Code Q CompileType -&gt; TExpQ CompileType
forall (m :: * -&gt; *) a. Code m a -&gt; m (TExp a)
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#examineCode"
	><span class="hs-identifier hs-var"
	  >TH.examineCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Code Q CompileType -&gt; THCompile (TExpQ CompileType))
-&gt; Code Q CompileType -&gt; THCompile (TExpQ CompileType)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-382"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >[||</span
      ><span
      >
</span
      ><span id="line-383"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-384"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="#local-6989586621680036466"
	><span class="hs-identifier hs-type"
	  >constrExprs'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileDeclFun"
	><span class="hs-identifier hs-type"
	  >CompileDeclFun</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-385"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621680036466"
      ><span class="annot"
	><span class="annottext"
	  >constrExprs' :: [CompileDeclFun]
</span
	  ><a href="#local-6989586621680036466"
	  ><span class="hs-identifier hs-var hs-var"
	    >constrExprs'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >$$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Q (TExp [CompileDeclFun]) -&gt; Code Q [CompileDeclFun]
forall a (m :: * -&gt; *). m (TExp a) -&gt; Code m a
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#liftCode"
	><span class="hs-identifier hs-var"
	  >TH.liftCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Q (TExp [CompileDeclFun]) -&gt; Code Q [CompileDeclFun])
-&gt; Q (TExp [CompileDeclFun]) -&gt; Code Q [CompileDeclFun]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileDeclFun] -&gt; Q (TExp [CompileDeclFun])
forall a. [TExpQ a] -&gt; TExpQ [a]
</span
	><a href="PlutusTx.Lift.THUtils.html#tyListE"
	><span class="hs-identifier hs-var"
	  >tyListE</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileDeclFun]
</span
	><a href="#local-6989586621680036463"
	><span class="hs-identifier hs-var"
	  >constrExprs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-386"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="#local-6989586621680036468"
	><span class="hs-identifier hs-type"
	  >act</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621680036469"
      ><span class="annot"
	><a href="#local-6989586621680036469"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	><span class="hs-identifier hs-type"
	  >RTCompileScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036469"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-387"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621680036468"
      ><span class="annot"
	><span class="annottext"
	  >act :: forall fun.
RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	  ><a href="#local-6989586621680036468"
	  ><span class="hs-identifier hs-var hs-var"
	    >act</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-388"
      ></span
      ><span
      >              </span
      ><span id="local-6989586621680036470"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036470"
	  ><span class="hs-identifier hs-var"
	    >maybeDefined</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; key -&gt; m (Maybe (Type TyName uni ann))
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
ann -&gt; key -&gt; m (Maybe (Type TyName uni ann))
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#lookupType"
	><span class="hs-identifier hs-var"
	  >lookupType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036419"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-389"
      ></span
      ><span
      >              </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036470"
	><span class="hs-identifier hs-var"
	  >maybeDefined</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-390"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036472"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621680036472"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; f a
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621680036472"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-391"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Type TyName uni ann)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-392"
      ></span
      ><span
      >                  </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621680036474"
      ><span class="annot"
	><span class="annottext"
	  >TyVarDecl TyName ()
</span
	  ><a href="#local-6989586621680036474"
	  ><span class="hs-identifier hs-var"
	    >dtvd</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Kind () -&gt; m (Name, TyVarDecl TyName ())
forall (m :: * -&gt; *).
MonadQuote m =&gt;
Name -&gt; Kind () -&gt; m (Name, TyVarDecl TyName ())
</span
	><a href="PlutusTx.Lift.THUtils.html#mkTyVarDecl"
	><span class="hs-identifier hs-var"
	  >mkTyVarDecl</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036419"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><a href="#local-6989586621680036425"
	><span class="hs-identifier hs-var"
	  >typeKind</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-393"
      ></span
      ><span
      >                  </span
      ><span id="local-6989586621680036476"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036476"
	  ><span class="hs-identifier hs-var"
	    >tvds</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#uncurry"
	><span class="hs-identifier hs-var"
	  >uncurry</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Kind () -&gt; m (Name, TyVarDecl TyName ())
forall (m :: * -&gt; *).
MonadQuote m =&gt;
Name -&gt; Kind () -&gt; m (Name, TyVarDecl TyName ())
</span
	><a href="PlutusTx.Lift.THUtils.html#mkTyVarDecl"
	><span class="hs-identifier hs-var"
	  >mkTyVarDecl</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036422"
	><span class="hs-identifier hs-var"
	  >tvNamesAndKinds</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-394"
      ></span
      ><span
      >
</span
      ><span id="line-395"
      ></span
      ><span
      >                  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036480"
      ><span class="annot"
	><span class="annottext"
	  >resultType :: Type tyname uni ()
</span
	  ><a href="#local-6989586621680036480"
	  ><span class="hs-identifier hs-var hs-var"
	    >resultType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni () -&gt; [Type tyname uni ()] -&gt; Type tyname uni ()
forall tyname (uni :: * -&gt; *).
Type tyname uni () -&gt; [Type tyname uni ()] -&gt; Type tyname uni ()
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterTyAppNoAnn"
	><span class="hs-identifier hs-var"
	  >mkIterTyAppNoAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; TyVarDecl tyname ann -&gt; Type tyname uni ann
forall ann tyname (uni :: * -&gt; *).
ann -&gt; TyVarDecl tyname ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkTyVar"
	><span class="hs-identifier hs-var"
	  >mkTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName ()
</span
	><a href="#local-6989586621680036474"
	><span class="hs-identifier hs-var"
	  >dtvd</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; f a -&gt; f b
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; TyVarDecl tyname ann -&gt; Type tyname uni ann
forall ann tyname (uni :: * -&gt; *).
ann -&gt; TyVarDecl tyname ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkTyVar"
	><span class="hs-identifier hs-var"
	  >mkTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a, b) -&gt; b
forall a b. (a, b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#snd"
	><span class="hs-identifier hs-var"
	  >snd</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036476"
	><span class="hs-identifier hs-var"
	  >tvds</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-396"
      ></span
      ><span
      >                  </span
      ><span id="local-6989586621680036483"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036483"
	  ><span class="hs-identifier hs-var"
	    >matchName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; m Name
forall (m :: * -&gt; *). MonadQuote m =&gt; Text -&gt; m Name
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Names.html#safeFreshName"
	><span class="hs-identifier hs-var"
	  >safeFreshName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Text
</span
	><a href="https://hackage.haskell.org/package/text-2.0.2/docs/src/Data.Text.Internal.html#pack"
	><span class="hs-identifier hs-var"
	  >T.pack</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;match_&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Text
</span
	><a href="PlutusTx.Lift.THUtils.html#showName"
	><span class="hs-identifier hs-var"
	  >showName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036419"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-397"
      ></span
      ><span
      >
</span
      ><span id="line-398"
      ></span
      ><span
      >                  </span
      ><span class="hs-comment"
      >-- See Note [Occurrences of recursive names]</span
      ><span
      >
</span
      ><span id="line-399"
      ></span
      ><span
      >                  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036489"
      ><span class="annot"
	><span class="annottext"
	  >fakeDatatype :: Datatype tyname name uni a
</span
	  ><a href="#local-6989586621680036489"
	  ><span class="hs-identifier hs-var hs-var"
	    >fakeDatatype</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
-&gt; TyVarDecl tyname a
-&gt; [TyVarDecl tyname a]
-&gt; name
-&gt; [VarDecl tyname name uni a]
-&gt; Datatype tyname name uni a
forall tyname name (uni :: * -&gt; *) a.
a
-&gt; TyVarDecl tyname a
-&gt; [TyVarDecl tyname a]
-&gt; name
-&gt; [VarDecl tyname name uni a]
-&gt; Datatype tyname name uni a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Datatype"
	><span class="hs-identifier hs-var"
	  >Datatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName ()
</span
	><a href="#local-6989586621680036474"
	><span class="hs-identifier hs-var"
	  >dtvd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036483"
	><span class="hs-identifier hs-var"
	  >matchName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-400"
      ></span
      ><span
      >
</span
      ><span id="line-401"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>Name
-&gt; DatatypeDef TyName Name DefaultUni ()
-&gt; THLocalVars
-&gt; RTCompileScope DefaultUni fun ()
forall fun.
Name
-&gt; DatatypeDef TyName Name DefaultUni ()
-&gt; THLocalVars
-&gt; RTCompileScope DefaultUni fun ()
</span
	><a href="PlutusTx.Lift.TH.html#defineDatatype%27"
	><span class="hs-identifier hs-var"
	  >defineDatatype'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036419"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>var -&gt; val -&gt; Def var val
forall var val. var -&gt; val -&gt; Def var val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#Def"
	><span class="hs-identifier hs-var"
	  >PLC.Def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName ()
</span
	><a href="#local-6989586621680036474"
	><span class="hs-identifier hs-var"
	  >dtvd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Datatype TyName Name uni ()
forall {uni :: * -&gt; *}. Datatype TyName Name uni ()
</span
	><a href="#local-6989586621680036489"
	><span class="hs-identifier hs-var"
	  >fakeDatatype</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set a
forall a. Set a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#empty"
	><span class="hs-identifier hs-var"
	  >Set.empty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-402"
      ></span
      ><span
      >
</span
      ><span id="line-403"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>[(Name, TyVarDecl TyName ())] -&gt; m a -&gt; m a
forall (uni :: * -&gt; *) (m :: * -&gt; *) a.
MonadReader (LocalVars uni) m =&gt;
[(Name, TyVarDecl TyName ())] -&gt; m a -&gt; m a
</span
	><a href="PlutusTx.Lift.TH.html#withTyVars"
	><span class="hs-identifier hs-var"
	  >withTyVars</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036476"
	><span class="hs-identifier hs-var"
	  >tvds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-404"
      ></span
      ><span
      >                    </span
      ><span class="hs-comment"
      >-- The TH expressions are in fact all functions that take the result type, so</span
      ><span
      >
</span
      ><span id="line-405"
      ></span
      ><span
      >                    </span
      ><span class="hs-comment"
      >-- we need to apply them</span
      ><span
      >
</span
      ><span id="line-406"
      ></span
      ><span
      >                    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036493"
	><span class="hs-identifier hs-type"
	  >constrActs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	><span class="hs-identifier hs-type"
	  >RTCompileScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036469"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#VarDecl"
	><span class="hs-identifier hs-type"
	  >VarDecl</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-407"
      ></span
      ><span
      >                        </span
      ><span id="local-6989586621680036493"
      ><span class="annot"
	><span class="annottext"
	  >constrActs :: RTCompileScope DefaultUni fun [VarDecl TyName Name DefaultUni ()]
</span
	  ><a href="#local-6989586621680036493"
	  ><span class="hs-identifier hs-var hs-var"
	    >constrActs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>t (m a) -&gt; m (t a)
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#sequence"
	><span class="hs-identifier hs-var"
	  >sequence</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; f a -&gt; f b
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621680036498"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036498"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileDeclFun
-&gt; forall fun.
   Type TyName DefaultUni ()
   -&gt; RTCompileScope
        DefaultUni fun (VarDecl TyName Name DefaultUni ())
</span
	><a href="PlutusTx.Lift.TH.html#unCompileDeclFun"
	><span class="hs-identifier hs-var"
	  >unCompileDeclFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036498"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CompileDeclFun]
</span
	><a href="#local-6989586621680036466"
	><span class="hs-identifier hs-var"
	  >constrExprs'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>f (a -&gt; b) -&gt; f a -&gt; f b
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%2A%3E"
	><span class="hs-operator hs-var"
	  >&lt;*&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ()
forall {uni :: * -&gt; *}. Type TyName uni ()
</span
	><a href="#local-6989586621680036480"
	><span class="hs-identifier hs-var"
	  >resultType</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-408"
      ></span
      ><span
      >                    </span
      ><span id="local-6989586621680036500"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036500"
	  ><span class="hs-identifier hs-var"
	    >constrs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RTCompileScope DefaultUni fun [VarDecl TyName Name DefaultUni ()]
</span
	><a href="#local-6989586621680036493"
	><span class="hs-identifier hs-var"
	  >constrActs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-409"
      ></span
      ><span
      >
</span
      ><span id="line-410"
      ></span
      ><span
      >                    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036501"
      ><span class="annot"
	><span class="annottext"
	  >datatype :: Datatype tyname name uni a
</span
	  ><a href="#local-6989586621680036501"
	  ><span class="hs-identifier hs-var hs-var"
	    >datatype</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
-&gt; TyVarDecl tyname a
-&gt; [TyVarDecl tyname a]
-&gt; name
-&gt; [VarDecl tyname name uni a]
-&gt; Datatype tyname name uni a
forall tyname name (uni :: * -&gt; *) a.
a
-&gt; TyVarDecl tyname a
-&gt; [TyVarDecl tyname a]
-&gt; name
-&gt; [VarDecl tyname name uni a]
-&gt; Datatype tyname name uni a
</span
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Datatype"
	><span class="hs-identifier hs-var"
	  >Datatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName ()
</span
	><a href="#local-6989586621680036474"
	><span class="hs-identifier hs-var"
	  >dtvd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; f a -&gt; f b
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a, b) -&gt; b
forall a b. (a, b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#snd"
	><span class="hs-identifier hs-var"
	  >snd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036476"
	><span class="hs-identifier hs-var"
	  >tvds</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036483"
	><span class="hs-identifier hs-var"
	  >matchName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036500"
	><span class="hs-identifier hs-var"
	  >constrs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-411"
      ></span
      ><span
      >
</span
      ><span id="line-412"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>key -&gt; DatatypeDef TyName Name uni ann -&gt; Set key -&gt; m ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; DatatypeDef TyName Name uni ann -&gt; Set key -&gt; m ()
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#defineDatatype"
	><span class="hs-identifier hs-var"
	  >defineDatatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036419"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>var -&gt; val -&gt; Def var val
forall var val. var -&gt; val -&gt; Def var val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#Def"
	><span class="hs-identifier hs-var"
	  >PLC.Def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName ()
</span
	><a href="#local-6989586621680036474"
	><span class="hs-identifier hs-var"
	  >dtvd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Datatype TyName Name DefaultUni ()
</span
	><a href="#local-6989586621680036501"
	><span class="hs-identifier hs-var"
	  >datatype</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036465"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-413"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; f a
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; TyVarDecl tyname ann -&gt; Type tyname uni ann
forall ann tyname (uni :: * -&gt; *).
ann -&gt; TyVarDecl tyname ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkTyVar"
	><span class="hs-identifier hs-var"
	  >mkTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName ()
</span
	><a href="#local-6989586621680036474"
	><span class="hs-identifier hs-var"
	  >dtvd</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-414"
      ></span
      ><span
      >           </span
      ><span class="hs-keyword"
      >in</span
      ><span
      >
</span
      ><span id="line-415"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>(forall fun. RTCompile DefaultUni fun (Type TyName DefaultUni ()))
-&gt; CompileType
</span
	><a href="PlutusTx.Lift.TH.html#CompileType"
	><span class="hs-identifier hs-var"
	  >CompileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT r m a -&gt; r -&gt; m a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#runReaderT"
	><span class="hs-identifier hs-var"
	  >runReaderT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
forall fun.
RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="#local-6989586621680036468"
	><span class="hs-identifier hs-var"
	  >act</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-416"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >||]</span
      ><span
      >
</span
      ><span id="line-417"
      ></span
      ><span
      >
</span
      ><span id="line-418"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#compileConstructorDecl"
	><span class="hs-identifier hs-type"
	  >compileConstructorDecl</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-419"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#ConstructorInfo"
	><span class="hs-identifier hs-type"
	  >TH.ConstructorInfo</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-420"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#TExpQ"
	><span class="hs-identifier hs-type"
	  >TH.TExpQ</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileDeclFun"
	><span class="hs-identifier hs-type"
	  >CompileDeclFun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-421"
      ></span
      ><span id="compileConstructorDecl"
      ><span class="annot"
	><span class="annottext"
	  >compileConstructorDecl :: ConstructorInfo
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileDeclFun)
</span
	  ><a href="PlutusTx.Lift.TH.html#compileConstructorDecl"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileConstructorDecl</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#ConstructorInfo"
	><span class="hs-identifier hs-type"
	  >TH.ConstructorInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>constructorName :: ConstructorInfo -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#constructorName"
	><span class="hs-identifier hs-var"
	  >TH.constructorName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621680036506"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036506"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>constructorFields :: ConstructorInfo -&gt; [Pred]
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#constructorFields"
	><span class="hs-identifier hs-var"
	  >TH.constructorFields</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621680036507"
      ><span class="annot"
	><span class="annottext"
	  >[Pred]
</span
	  ><a href="#local-6989586621680036507"
	  ><span class="hs-identifier hs-var"
	    >argTys</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-422"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036508"
      ><span class="annot"
	><span class="annottext"
	  >[TExpQ CompileTypeScope]
</span
	  ><a href="#local-6989586621680036508"
	  ><span class="hs-identifier hs-var"
	    >tyExprs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Pred -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; [Pred]
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     [TExpQ CompileTypeScope]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile (TExpQ CompileTypeScope)
</span
	><a href="PlutusTx.Lift.TH.html#compileType"
	><span class="hs-identifier hs-var"
	  >compileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Pred -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; (Pred -&gt; THCompile Pred)
-&gt; Pred
-&gt; THCompile (TExpQ CompileTypeScope)
forall (m :: * -&gt; *) b c a.
Monad m =&gt;
(b -&gt; m c) -&gt; (a -&gt; m b) -&gt; a -&gt; m c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.html#%3C%3D%3C"
	><span class="hs-operator hs-var"
	  >&lt;=&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile Pred
</span
	><a href="PlutusTx.Lift.TH.html#normalizeAndResolve"
	><span class="hs-identifier hs-var"
	  >normalizeAndResolve</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Pred]
</span
	><a href="#local-6989586621680036507"
	><span class="hs-identifier hs-var"
	  >argTys</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-423"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileDeclFun
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileDeclFun)
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TExpQ CompileDeclFun
 -&gt; StateT
      Deps
      (ReaderT THLocalVars (ExceptT LiftError Q))
      (TExpQ CompileDeclFun))
-&gt; (Code Q CompileDeclFun -&gt; TExpQ CompileDeclFun)
-&gt; Code Q CompileDeclFun
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileDeclFun)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Code Q CompileDeclFun -&gt; TExpQ CompileDeclFun
forall (m :: * -&gt; *) a. Code m a -&gt; m (TExp a)
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#examineCode"
	><span class="hs-identifier hs-var"
	  >TH.examineCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Code Q CompileDeclFun
 -&gt; StateT
      Deps
      (ReaderT THLocalVars (ExceptT LiftError Q))
      (TExpQ CompileDeclFun))
-&gt; Code Q CompileDeclFun
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileDeclFun)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-424"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >[||</span
      ><span
      >
</span
      ><span id="line-425"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-426"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="#local-6989586621680036509"
	><span class="hs-identifier hs-type"
	  >tyExprs'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621680035772"
      ><span class="annot"
	><a href="#local-6989586621680035772"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	><span class="hs-identifier hs-type"
	  >RTCompileScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680035772"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-427"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621680036509"
      ><span class="annot"
	><span class="annottext"
	  >tyExprs' :: forall fun.
[RTCompileScope DefaultUni fun (Type TyName DefaultUni ())]
</span
	  ><a href="#local-6989586621680036509"
	  ><span class="hs-identifier hs-var hs-var"
	    >tyExprs'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; f a -&gt; f b
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621680036511"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036511"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileTypeScope
-&gt; forall fun.
   RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="PlutusTx.Lift.TH.html#unCompileTypeScope"
	><span class="hs-identifier hs-var"
	  >unCompileTypeScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036511"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >$$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Q (TExp [CompileTypeScope]) -&gt; Code Q [CompileTypeScope]
forall a (m :: * -&gt; *). m (TExp a) -&gt; Code m a
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#liftCode"
	><span class="hs-identifier hs-var"
	  >TH.liftCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Q (TExp [CompileTypeScope]) -&gt; Code Q [CompileTypeScope])
-&gt; Q (TExp [CompileTypeScope]) -&gt; Code Q [CompileTypeScope]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileTypeScope] -&gt; Q (TExp [CompileTypeScope])
forall a. [TExpQ a] -&gt; TExpQ [a]
</span
	><a href="PlutusTx.Lift.THUtils.html#tyListE"
	><span class="hs-identifier hs-var"
	  >tyListE</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileTypeScope]
</span
	><a href="#local-6989586621680036508"
	><span class="hs-identifier hs-var"
	  >tyExprs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-428"
      ></span
      ><span
      >     </span
      ><span class="hs-keyword"
      >in</span
      ><span
      >
</span
      ><span id="line-429"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- we won't know the result type until runtime, so take it as an argument</span
      ><span
      >
</span
      ><span id="line-430"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(forall fun.
 Type TyName DefaultUni ()
 -&gt; RTCompileScope
      DefaultUni fun (VarDecl TyName Name DefaultUni ()))
-&gt; CompileDeclFun
</span
	><a href="PlutusTx.Lift.TH.html#CompileDeclFun"
	><span class="hs-identifier hs-var"
	  >CompileDeclFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621680036512"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName DefaultUni ()
</span
	  ><a href="#local-6989586621680036512"
	  ><span class="hs-identifier hs-var"
	    >resultType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-431"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621680036513"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036513"
	  ><span class="hs-identifier hs-var"
	    >tys'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>t (m a) -&gt; m (t a)
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#sequence"
	><span class="hs-identifier hs-var"
	  >sequence</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[RTCompileScope DefaultUni fun (Type TyName DefaultUni ())]
forall fun.
[RTCompileScope DefaultUni fun (Type TyName DefaultUni ())]
</span
	><a href="#local-6989586621680036509"
	><span class="hs-identifier hs-var"
	  >tyExprs'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-432"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036516"
      ><span class="annot"
	><span class="annottext"
	  >constrTy :: Type tyname uni ann
</span
	  ><a href="#local-6989586621680036516"
	  ><span class="hs-identifier hs-var hs-var"
	    >constrTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; [Type tyname uni ann]
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
forall ann tyname (uni :: * -&gt; *).
ann
-&gt; [Type tyname uni ann]
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterTyFun"
	><span class="hs-identifier hs-var"
	  >mkIterTyFun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036513"
	><span class="hs-identifier hs-var"
	  >tys'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName DefaultUni ()
</span
	><a href="#local-6989586621680036512"
	><span class="hs-identifier hs-var"
	  >resultType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-433"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621680036518"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036518"
	  ><span class="hs-identifier hs-var"
	    >constrName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; m Name
forall (m :: * -&gt; *). MonadQuote m =&gt; Text -&gt; m Name
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Names.html#safeFreshName"
	><span class="hs-identifier hs-var"
	  >safeFreshName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Text
</span
	><a href="PlutusTx.Lift.THUtils.html#showName"
	><span class="hs-identifier hs-var"
	  >showName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036506"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-434"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; f a
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; name -&gt; Type tyname uni ann -&gt; VarDecl tyname name uni ann
forall tyname name (uni :: * -&gt; *) ann.
ann -&gt; name -&gt; Type tyname uni ann -&gt; VarDecl tyname name uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#VarDecl"
	><span class="hs-identifier hs-var"
	  >VarDecl</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036518"
	><span class="hs-identifier hs-var"
	  >constrName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName DefaultUni ()
</span
	><a href="#local-6989586621680036516"
	><span class="hs-identifier hs-var"
	  >constrTy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-435"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >||]</span
      ><span
      >
</span
      ><span id="line-436"
      ></span
      ><span
      >
</span
      ><span id="line-437"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#makeTypeable"
	><span class="hs-identifier hs-type"
	  >makeTypeable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Type"
	><span class="hs-identifier hs-type"
	  >TH.Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Q"
	><span class="hs-identifier hs-type"
	  >TH.Q</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Dec"
	><span class="hs-identifier hs-type"
	  >TH.Dec</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-438"
      ></span
      ><span id="makeTypeable"
      ><span class="annot"
	><span class="annottext"
	  >makeTypeable :: Pred -&gt; Name -&gt; Q [Dec]
</span
	  ><a href="PlutusTx.Lift.TH.html#makeTypeable"
	  ><span class="hs-identifier hs-var hs-var"
	    >makeTypeable</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036522"
      ><span class="annot"
	><span class="annottext"
	  >Pred
</span
	  ><a href="#local-6989586621680036522"
	  ><span class="hs-identifier hs-var"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036523"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036523"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-439"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Extension -&gt; Q ()
</span
	><a href="PlutusTx.Lift.THUtils.html#requireExtension"
	><span class="hs-identifier hs-var"
	  >requireExtension</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Extension
</span
	><a href="https://hackage.haskell.org/package/ghc-boot-th-9.6.7/docs/src/GHC.LanguageExtensions.Type.html#ScopedTypeVariables"
	><span class="hs-identifier hs-var"
	  >TH.ScopedTypeVariables</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-440"
      ></span
      ><span
      >
</span
      ><span id="line-441"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036526"
      ><span class="annot"
	><span class="annottext"
	  >DatatypeInfo
</span
	  ><a href="#local-6989586621680036526"
	  ><span class="hs-identifier hs-var"
	    >info</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Q DatatypeInfo
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#reifyDatatype"
	><span class="hs-identifier hs-var"
	  >TH.reifyDatatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036523"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-442"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621680036528"
      ><span class="annot"
	><span class="annottext"
	  >TExpQ CompileType
</span
	  ><a href="#local-6989586621680036528"
	  ><span class="hs-identifier hs-var"
	    >rhs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621680036529"
      ><span class="annot"
	><span class="annottext"
	  >Deps
</span
	  ><a href="#local-6989586621680036529"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>THCompile (TExpQ CompileType) -&gt; Q (TExpQ CompileType, Deps)
forall a. THCompile a -&gt; Q (a, Deps)
</span
	><a href="PlutusTx.Lift.TH.html#runTHCompile"
	><span class="hs-identifier hs-var"
	  >runTHCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(THCompile (TExpQ CompileType) -&gt; Q (TExpQ CompileType, Deps))
-&gt; THCompile (TExpQ CompileType) -&gt; Q (TExpQ CompileType, Deps)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo -&gt; THCompile (TExpQ CompileType)
</span
	><a href="PlutusTx.Lift.TH.html#compileTypeRep"
	><span class="hs-identifier hs-var"
	  >compileTypeRep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo
</span
	><a href="#local-6989586621680036526"
	><span class="hs-identifier hs-var"
	  >info</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-443"
      ></span
      ><span
      >
</span
      ><span id="line-444"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- See Note [Closed constraints]</span
      ><span
      >
</span
      ><span id="line-445"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036532"
      ><span class="annot"
	><span class="annottext"
	  >constraints :: [Pred]
</span
	  ><a href="#local-6989586621680036532"
	  ><span class="hs-identifier hs-var hs-var"
	    >constraints</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Pred -&gt; Bool) -&gt; [Pred] -&gt; [Pred]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#filter"
	><span class="hs-identifier hs-var"
	  >filter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#not"
	><span class="hs-identifier hs-var"
	  >not</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; Bool) -&gt; (Pred -&gt; Bool) -&gt; Pred -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Bool
</span
	><a href="PlutusTx.Lift.TH.html#isClosedConstraint"
	><span class="hs-identifier hs-var"
	  >isClosedConstraint</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Pred] -&gt; [Pred]) -&gt; [Pred] -&gt; [Pred]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Dep -&gt; Pred
</span
	><a href="PlutusTx.Lift.TH.html#toConstraint"
	><span class="hs-identifier hs-var"
	  >toConstraint</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036522"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Dep -&gt; Pred) -&gt; [Dep] -&gt; [Pred]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Deps -&gt; [Dep]
forall a. Set a -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#toList"
	><span class="hs-identifier hs-var"
	  >Set.toList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Deps
</span
	><a href="#local-6989586621680036529"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-446"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- We need to unwrap the wrapper at the last minute, see Note [Impredicative function universe wrappers]</span
      ><span
      >
</span
      ><span id="line-447"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036537"
      ><span class="annot"
	><span class="annottext"
	  >unwrappedRhs :: Q Exp
</span
	  ><a href="#local-6989586621680036537"
	  ><span class="hs-identifier hs-var hs-var"
	    >unwrappedRhs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >[|</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#unCompileType"
	><span class="hs-identifier hs-var"
	  >unCompileType</span
	  ></a
	></span
      ><span class="hs-special"
      >|]</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Q Exp -&gt; Q Exp -&gt; Q Exp
forall (m :: * -&gt; *). Quote m =&gt; m Exp -&gt; m Exp -&gt; m Exp
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#appE"
	><span class="hs-operator hs-var"
	  >`TH.appE`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileType -&gt; Q Exp
forall a (m :: * -&gt; *). Quote m =&gt; m (TExp a) -&gt; m Exp
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#unTypeQ"
	><span class="hs-identifier hs-var"
	  >TH.unTypeQ</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileType
</span
	><a href="#local-6989586621680036528"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-448"
      ></span
      ><span
      >
</span
      ><span id="line-449"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036539"
      ><span class="annot"
	><span class="annottext"
	  >Dec
</span
	  ><a href="#local-6989586621680036539"
	  ><span class="hs-identifier hs-var"
	    >decl</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; [Q Clause] -&gt; Q Dec
forall (m :: * -&gt; *). Quote m =&gt; Name -&gt; [m Clause] -&gt; m Dec
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#funD"
	><span class="hs-identifier hs-var"
	  >TH.funD</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >typeRep</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>[Q Pat] -&gt; Q Body -&gt; [Q Dec] -&gt; Q Clause
forall (m :: * -&gt; *).
Quote m =&gt;
[m Pat] -&gt; m Body -&gt; [m Dec] -&gt; m Clause
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#clause"
	><span class="hs-identifier hs-var"
	  >TH.clause</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Q Pat
forall (m :: * -&gt; *). Quote m =&gt; m Pat
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#wildP"
	><span class="hs-identifier hs-var"
	  >TH.wildP</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Q Exp -&gt; Q Body
forall (m :: * -&gt; *). Quote m =&gt; m Exp -&gt; m Body
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#normalB"
	><span class="hs-identifier hs-var"
	  >TH.normalB</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Q Exp
</span
	><a href="#local-6989586621680036537"
	><span class="hs-identifier hs-var"
	  >unwrappedRhs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-450"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>[Dec] -&gt; Q [Dec]
forall a. a -&gt; Q a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Overlap -&gt; [Pred] -&gt; Pred -&gt; [Dec] -&gt; Dec
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#InstanceD"
	><span class="hs-identifier hs-var"
	  >TH.InstanceD</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Overlap
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Pred]
</span
	><a href="#local-6989586621680036532"
	><span class="hs-identifier hs-var"
	  >constraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Pred -&gt; Pred
</span
	><a href="PlutusTx.Lift.TH.html#typeablePir"
	><span class="hs-identifier hs-var"
	  >typeablePir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036522"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Pred
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#ConT"
	><span class="hs-identifier hs-var"
	  >TH.ConT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036523"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Dec
</span
	><a href="#local-6989586621680036539"
	><span class="hs-identifier hs-var"
	  >decl</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-451"
      ></span
      ><span
      >
</span
      ><span id="line-452"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#compileLift"
	><span class="hs-identifier hs-type"
	  >compileLift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#DatatypeInfo"
	><span class="hs-identifier hs-type"
	  >TH.DatatypeInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Q"
	><span class="hs-identifier hs-type"
	  >TH.Q</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Clause"
	><span class="hs-identifier hs-type"
	  >TH.Clause</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-453"
      ></span
      ><span id="compileLift"
      ><span class="annot"
	><span class="annottext"
	  >compileLift :: DatatypeInfo -&gt; THCompile [Q Clause]
</span
	  ><a href="PlutusTx.Lift.TH.html#compileLift"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileLift</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036542"
      ><span class="annot"
	><span class="annottext"
	  >DatatypeInfo
</span
	  ><a href="#local-6989586621680036542"
	  ><span class="hs-identifier hs-var"
	    >dt</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Int, ConstructorInfo)
 -&gt; StateT
      Deps (ReaderT THLocalVars (ExceptT LiftError Q)) (Q Clause))
-&gt; [(Int, ConstructorInfo)] -&gt; THCompile [Q Clause]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Int
 -&gt; ConstructorInfo
 -&gt; StateT
      Deps (ReaderT THLocalVars (ExceptT LiftError Q)) (Q Clause))
-&gt; (Int, ConstructorInfo)
-&gt; StateT
     Deps (ReaderT THLocalVars (ExceptT LiftError Q)) (Q Clause)
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#uncurry"
	><span class="hs-identifier hs-var"
	  >uncurry</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo
-&gt; Int
-&gt; ConstructorInfo
-&gt; StateT
     Deps (ReaderT THLocalVars (ExceptT LiftError Q)) (Q Clause)
</span
	><a href="PlutusTx.Lift.TH.html#compileConstructorClause"
	><span class="hs-identifier hs-var"
	  >compileConstructorClause</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo
</span
	><a href="#local-6989586621680036542"
	><span class="hs-identifier hs-var"
	  >dt</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[Int] -&gt; [ConstructorInfo] -&gt; [(Int, ConstructorInfo)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#zip"
	><span class="hs-identifier hs-var"
	  >zip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo -&gt; [ConstructorInfo]
</span
	><a href="PlutusTx.Lift.TH.html#sortedCons"
	><span class="hs-identifier hs-var"
	  >sortedCons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo
</span
	><a href="#local-6989586621680036542"
	><span class="hs-identifier hs-var"
	  >dt</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-454"
      ></span
      ><span
      >
</span
      ><span id="line-455"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#compileConstructorClause"
	><span class="hs-identifier hs-type"
	  >compileConstructorClause</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-456"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#DatatypeInfo"
	><span class="hs-identifier hs-type"
	  >TH.DatatypeInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Int"
	><span class="hs-identifier hs-type"
	  >Int</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#ConstructorInfo"
	><span class="hs-identifier hs-type"
	  >TH.ConstructorInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#THCompile"
	><span class="hs-identifier hs-type"
	  >THCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Q"
	><span class="hs-identifier hs-type"
	  >TH.Q</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Clause"
	><span class="hs-identifier hs-type"
	  >TH.Clause</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-457"
      ></span
      ><span id="compileConstructorClause"
      ><span class="annot"
	><span class="annottext"
	  >compileConstructorClause :: DatatypeInfo
-&gt; Int
-&gt; ConstructorInfo
-&gt; StateT
     Deps (ReaderT THLocalVars (ExceptT LiftError Q)) (Q Clause)
</span
	  ><a href="PlutusTx.Lift.TH.html#compileConstructorClause"
	  ><span class="hs-identifier hs-var hs-var"
	    >compileConstructorClause</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036544"
      ><span class="annot"
	><span class="annottext"
	  >dt :: DatatypeInfo
</span
	  ><a href="#local-6989586621680036544"
	  ><span class="hs-identifier hs-var"
	    >dt</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#DatatypeInfo"
	><span class="hs-identifier hs-type"
	  >TH.DatatypeInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>datatypeName :: DatatypeInfo -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#datatypeName"
	><span class="hs-identifier hs-var"
	  >TH.datatypeName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621680036545"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036545"
	  ><span class="hs-identifier hs-var"
	    >tyName</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>datatypeVars :: DatatypeInfo -&gt; [TyVarBndrUnit]
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#datatypeVars"
	><span class="hs-identifier hs-var"
	  >TH.datatypeVars</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621680036546"
      ><span class="annot"
	><span class="annottext"
	  >[TyVarBndrUnit]
</span
	  ><a href="#local-6989586621680036546"
	  ><span class="hs-identifier hs-var"
	    >tvs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span id="local-6989586621680036547"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621680036547"
	  ><span class="hs-identifier hs-var"
	    >index</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#ConstructorInfo"
	><span class="hs-identifier hs-type"
	  >TH.ConstructorInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>constructorName :: ConstructorInfo -&gt; Name
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#constructorName"
	><span class="hs-identifier hs-var"
	  >TH.constructorName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621680036548"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036548"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>constructorFields :: ConstructorInfo -&gt; [Pred]
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#constructorFields"
	><span class="hs-identifier hs-var"
	  >TH.constructorFields</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621680036549"
      ><span class="annot"
	><span class="annottext"
	  >[Pred]
</span
	  ><a href="#local-6989586621680036549"
	  ><span class="hs-identifier hs-var"
	    >argTys</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-458"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- need to be able to lift the argument types</span
      ><span
      >
</span
      ><span id="line-459"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>(Pred -&gt; THCompile ()) -&gt; [Pred] -&gt; THCompile ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#traverse_"
	><span class="hs-identifier hs-var"
	  >traverse_</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile ()
</span
	><a href="PlutusTx.Lift.TH.html#addLiftDep"
	><span class="hs-identifier hs-var"
	  >addLiftDep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Pred]
</span
	><a href="#local-6989586621680036549"
	><span class="hs-identifier hs-var"
	  >argTys</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-460"
      ></span
      ><span
      >
</span
      ><span id="line-461"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- We need the actual type parameters for the non-newtype case, and we have to do</span
      ><span
      >
</span
      ><span id="line-462"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- it out here, but it will give us redundant constraints in the newtype case,</span
      ><span
      >
</span
      ><span id="line-463"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- so we fudge it.</span
      ><span
      >
</span
      ><span id="line-464"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036551"
      ><span class="annot"
	><span class="annottext"
	  >[TExpQ CompileTypeScope]
</span
	  ><a href="#local-6989586621680036551"
	  ><span class="hs-identifier hs-var"
	    >tyExprs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      >
</span
      ><span id="line-465"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo -&gt; Bool
</span
	><a href="PlutusTx.Lift.THUtils.html#isNewtype"
	><span class="hs-identifier hs-var"
	  >isNewtype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo
</span
	><a href="#local-6989586621680036544"
	><span class="hs-identifier hs-var"
	  >dt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-466"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileTypeScope]
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     [TExpQ CompileTypeScope]
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-467"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TyVarBndrUnit]
-&gt; (TyVarBndrUnit -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     [TExpQ CompileTypeScope]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#for"
	><span class="hs-identifier hs-var"
	  >for</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TyVarBndrUnit]
</span
	><a href="#local-6989586621680036546"
	><span class="hs-identifier hs-var"
	  >tvs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TyVarBndrUnit -&gt; THCompile (TExpQ CompileTypeScope))
 -&gt; StateT
      Deps
      (ReaderT THLocalVars (ExceptT LiftError Q))
      [TExpQ CompileTypeScope])
-&gt; (TyVarBndrUnit -&gt; THCompile (TExpQ CompileTypeScope))
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     [TExpQ CompileTypeScope]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621680036553"
      ><span class="annot"
	><span class="annottext"
	  >TyVarBndrUnit
</span
	  ><a href="#local-6989586621680036553"
	  ><span class="hs-identifier hs-var"
	    >tv</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-468"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621680036554"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036554"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Kind ()
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarBndrUnit -&gt; THCompile (Name, Kind ())
</span
	><a href="PlutusTx.Lift.TH.html#tvNameAndKind"
	><span class="hs-identifier hs-var"
	  >tvNameAndKind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarBndrUnit
</span
	><a href="#local-6989586621680036553"
	><span class="hs-identifier hs-var"
	  >tv</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-469"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; THCompile (TExpQ CompileTypeScope)
</span
	><a href="PlutusTx.Lift.TH.html#compileType"
	><span class="hs-identifier hs-var"
	  >compileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Pred
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#VarT"
	><span class="hs-identifier hs-var"
	  >TH.VarT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036554"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-470"
      ></span
      ><span
      >
</span
      ><span id="line-471"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Build the patter for the clause definition. All the argument will be called &quot;arg&quot;.</span
      ><span
      >
</span
      ><span id="line-472"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036555"
      ><span class="annot"
	><span class="annottext"
	  >[Name]
</span
	  ><a href="#local-6989586621680036555"
	  ><span class="hs-identifier hs-var"
	    >patNames</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT THLocalVars (ExceptT LiftError Q) [Name]
-&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) [Name]
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; StateT Deps m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	><span class="hs-identifier hs-var"
	  >Trans.lift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ReaderT THLocalVars (ExceptT LiftError Q) [Name]
 -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) [Name])
-&gt; ReaderT THLocalVars (ExceptT LiftError Q) [Name]
-&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExceptT LiftError Q [Name]
-&gt; ReaderT THLocalVars (ExceptT LiftError Q) [Name]
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT THLocalVars m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	><span class="hs-identifier hs-var"
	  >Trans.lift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ExceptT LiftError Q [Name]
 -&gt; ReaderT THLocalVars (ExceptT LiftError Q) [Name])
-&gt; ExceptT LiftError Q [Name]
-&gt; ReaderT THLocalVars (ExceptT LiftError Q) [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Q [Name] -&gt; ExceptT LiftError Q [Name]
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ExceptT LiftError m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	><span class="hs-identifier hs-var"
	  >Trans.lift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Q [Name] -&gt; ExceptT LiftError Q [Name])
-&gt; Q [Name] -&gt; ExceptT LiftError Q [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Pred] -&gt; (Pred -&gt; Q Name) -&gt; Q [Name]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#for"
	><span class="hs-identifier hs-var"
	  >for</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Pred]
</span
	><a href="#local-6989586621680036549"
	><span class="hs-identifier hs-var"
	  >argTys</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Pred -&gt; Q Name) -&gt; Q [Name]) -&gt; (Pred -&gt; Q Name) -&gt; Q [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Q Name
forall (m :: * -&gt; *). Quote m =&gt; String -&gt; m Name
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#newName"
	><span class="hs-identifier hs-var"
	  >TH.newName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;arg&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-473"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036562"
      ><span class="annot"
	><span class="annottext"
	  >pat :: Q Pat
</span
	  ><a href="#local-6989586621680036562"
	  ><span class="hs-identifier hs-var hs-var"
	    >pat</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; [Q Pat] -&gt; Q Pat
forall (m :: * -&gt; *). Quote m =&gt; Name -&gt; [m Pat] -&gt; m Pat
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.html#conP"
	><span class="hs-identifier hs-var"
	  >TH.conP</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036548"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; Q Pat) -&gt; [Name] -&gt; [Q Pat]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Q Pat
forall (m :: * -&gt; *). Quote m =&gt; Name -&gt; m Pat
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#varP"
	><span class="hs-identifier hs-var"
	  >TH.varP</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Name]
</span
	><a href="#local-6989586621680036555"
	><span class="hs-identifier hs-var"
	  >patNames</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-474"
      ></span
      ><span
      >
</span
      ><span id="line-475"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- `lift arg` for each arg we bind in the pattern. We need the `unsafeTExpCoerce` since this will</span
      ><span
      >
</span
      ><span id="line-476"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- necessarily involve types we don't know now: the types of each argument. However, since we</span
      ><span
      >
</span
      ><span id="line-477"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- know the type of `lift arg` we can get back into typed land quickly.</span
      ><span
      >
</span
      ><span id="line-478"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036564"
	><span class="hs-identifier hs-type"
	  >liftExprs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#TExpQ"
	><span class="hs-identifier hs-type"
	  >TH.TExpQ</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileTerm"
	><span class="hs-identifier hs-type"
	  >CompileTerm</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-479"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621680036564"
      ><span class="annot"
	><span class="annottext"
	  >liftExprs :: [TExpQ CompileTerm]
</span
	  ><a href="#local-6989586621680036564"
	  ><span class="hs-identifier hs-var hs-var"
	    >liftExprs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-480"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>(Name -&gt; TExpQ CompileTerm) -&gt; [Name] -&gt; [TExpQ CompileTerm]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621680036565"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036565"
	  ><span class="hs-identifier hs-var"
	    >pn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Q Exp -&gt; TExpQ CompileTerm
forall a (m :: * -&gt; *). Quote m =&gt; m Exp -&gt; m (TExp a)
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#unsafeTExpCoerce"
	><span class="hs-identifier hs-var"
	  >TH.unsafeTExpCoerce</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Q Exp -&gt; TExpQ CompileTerm) -&gt; Q Exp -&gt; TExpQ CompileTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[|</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileTerm"
	><span class="hs-identifier hs-type"
	  >CompileTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Q Exp
forall (m :: * -&gt; *). Quote m =&gt; Name -&gt; m Exp
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#varE"
	><span class="hs-identifier hs-var"
	  >TH.varE</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >lift</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Q Exp -&gt; Q Exp -&gt; Q Exp
forall (m :: * -&gt; *). Quote m =&gt; m Exp -&gt; m Exp -&gt; m Exp
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#appE"
	><span class="hs-operator hs-var"
	  >`TH.appE`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Q Exp
forall (m :: * -&gt; *). Quote m =&gt; Name -&gt; m Exp
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#varE"
	><span class="hs-identifier hs-var"
	  >TH.varE</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036565"
	><span class="hs-identifier hs-var"
	  >pn</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >|]</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Name]
</span
	><a href="#local-6989586621680036555"
	><span class="hs-identifier hs-var"
	  >patNames</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-481"
      ></span
      ><span
      >
</span
      ><span id="line-482"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036566"
      ><span class="annot"
	><span class="annottext"
	  >TExpQ CompileTerm
</span
	  ><a href="#local-6989586621680036566"
	  ><span class="hs-identifier hs-var"
	    >rhsExpr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      >
</span
      ><span id="line-483"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo -&gt; Bool
</span
	><a href="PlutusTx.Lift.THUtils.html#isNewtype"
	><span class="hs-identifier hs-var"
	  >isNewtype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo
</span
	><a href="#local-6989586621680036544"
	><span class="hs-identifier hs-var"
	  >dt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-484"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileTerm]
</span
	><a href="#local-6989586621680036564"
	><span class="hs-identifier hs-var"
	  >liftExprs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-485"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >[</span
      ><span id="local-6989586621680036567"
      ><span class="annot"
	><span class="annottext"
	  >TExpQ CompileTerm
</span
	  ><a href="#local-6989586621680036567"
	  ><span class="hs-identifier hs-var"
	    >argExpr</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTerm
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileTerm)
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTerm
</span
	><a href="#local-6989586621680036567"
	><span class="hs-identifier hs-var"
	  >argExpr</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-486"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileTerm]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-487"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>LiftError
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileTerm)
forall a.
LiftError
-&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#throwError"
	><span class="hs-identifier hs-var"
	  >throwError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(LiftError
 -&gt; StateT
      Deps
      (ReaderT THLocalVars (ExceptT LiftError Q))
      (TExpQ CompileTerm))
-&gt; LiftError
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileTerm)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text -&gt; LiftError
</span
	><a href="PlutusTx.Lift.TH.html#UserLiftError"
	><span class="hs-identifier hs-var"
	  >UserLiftError</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Text
</span
	><span class="hs-string"
	>&quot;Newtypes must have a single constructor with a single argument&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-488"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >else</span
      ><span
      >
</span
      ><span id="line-489"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTerm
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileTerm)
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TExpQ CompileTerm
 -&gt; StateT
      Deps
      (ReaderT THLocalVars (ExceptT LiftError Q))
      (TExpQ CompileTerm))
-&gt; (Code Q CompileTerm -&gt; TExpQ CompileTerm)
-&gt; Code Q CompileTerm
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileTerm)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Code Q CompileTerm -&gt; TExpQ CompileTerm
forall (m :: * -&gt; *) a. Code m a -&gt; m (TExp a)
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#examineCode"
	><span class="hs-identifier hs-var"
	  >TH.examineCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Code Q CompileTerm
 -&gt; StateT
      Deps
      (ReaderT THLocalVars (ExceptT LiftError Q))
      (TExpQ CompileTerm))
-&gt; Code Q CompileTerm
-&gt; StateT
     Deps
     (ReaderT THLocalVars (ExceptT LiftError Q))
     (TExpQ CompileTerm)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-490"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >[||</span
      ><span
      >
</span
      ><span id="line-491"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- We bind all the splices with explicit signatures to ensure we</span
      ><span
      >
</span
      ><span id="line-492"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- get type errors as soon as possible, and to aid debugging.</span
      ><span
      >
</span
      ><span id="line-493"
      ></span
      ><span
      >          </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-494"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="#local-6989586621680036568"
	><span class="hs-identifier hs-type"
	  >liftExprs'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileTerm"
	><span class="hs-identifier hs-type"
	  >CompileTerm</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-495"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621680036568"
      ><span class="annot"
	><span class="annottext"
	  >liftExprs' :: [CompileTerm]
</span
	  ><a href="#local-6989586621680036568"
	  ><span class="hs-identifier hs-var hs-var"
	    >liftExprs'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >$$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Q (TExp [CompileTerm]) -&gt; Code Q [CompileTerm]
forall a (m :: * -&gt; *). m (TExp a) -&gt; Code m a
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#liftCode"
	><span class="hs-identifier hs-var"
	  >TH.liftCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Q (TExp [CompileTerm]) -&gt; Code Q [CompileTerm])
-&gt; Q (TExp [CompileTerm]) -&gt; Code Q [CompileTerm]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileTerm] -&gt; Q (TExp [CompileTerm])
forall a. [TExpQ a] -&gt; TExpQ [a]
</span
	><a href="PlutusTx.Lift.THUtils.html#tyListE"
	><span class="hs-identifier hs-var"
	  >tyListE</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileTerm]
</span
	><a href="#local-6989586621680036564"
	><span class="hs-identifier hs-var"
	  >liftExprs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-496"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- We need the `unsafeTExpCoerce` since this will necessarily involve</span
      ><span
      >
</span
      ><span id="line-497"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- types we don't know now: the type which this instance is for (which</span
      ><span
      >
</span
      ><span id="line-498"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- appears in the proxy argument). However, since we know the type of</span
      ><span
      >
</span
      ><span id="line-499"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- `typeRep` we can get back into typed land quickly.</span
      ><span
      >
</span
      ><span id="line-500"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="#local-6989586621680036569"
	><span class="hs-identifier hs-type"
	  >trep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileType"
	><span class="hs-identifier hs-type"
	  >CompileType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-501"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621680036569"
      ><span class="annot"
	><span class="annottext"
	  >trep :: CompileType
</span
	  ><a href="#local-6989586621680036569"
	  ><span class="hs-identifier hs-var hs-var"
	    >trep</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >$$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Q Exp -&gt; Code Q CompileType
forall a (m :: * -&gt; *). Quote m =&gt; m Exp -&gt; Code m a
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#unsafeCodeCoerce"
	><span class="hs-identifier hs-var"
	  >TH.unsafeCodeCoerce</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[|</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#CompileType"
	><span class="hs-identifier hs-type"
	  >CompileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.Class.html#typeRep"
	><span class="hs-identifier hs-type"
	  >typeRep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Proxy.html#Proxy"
	><span class="hs-identifier hs-type"
	  >Proxy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Proxy.html#Proxy"
	><span class="hs-identifier hs-type"
	  >Proxy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Q Pred
forall (m :: * -&gt; *). Quote m =&gt; Name -&gt; m Pred
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#conT"
	><span class="hs-identifier hs-var"
	  >TH.conT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036545"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >|]</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-502"
      ></span
      ><span
      >           </span
      ><span class="hs-keyword"
      >in</span
      ><span
      >
</span
      ><span id="line-503"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>(forall fun.
 RTCompile DefaultUni fun (Term TyName Name DefaultUni fun ()))
-&gt; CompileTerm
</span
	><a href="PlutusTx.Lift.TH.html#CompileTerm"
	><span class="hs-identifier hs-var"
	  >CompileTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-504"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- force creation of datatype</span
      ><span
      >
</span
      ><span id="line-505"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileType
-&gt; forall fun. RTCompile DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="PlutusTx.Lift.TH.html#unCompileType"
	><span class="hs-identifier hs-var"
	  >unCompileType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileType
</span
	><a href="#local-6989586621680036569"
	><span class="hs-identifier hs-var"
	  >trep</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-506"
      ></span
      ><span
      >
</span
      ><span id="line-507"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- get the right constructor</span
      ><span
      >
</span
      ><span id="line-508"
      ></span
      ><span
      >              </span
      ><span id="local-6989586621680036570"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036570"
	  ><span class="hs-identifier hs-var"
	    >maybeConstructors</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key -&gt; m (Maybe [Term TyName Name uni fun ann])
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; m (Maybe [Term TyName Name uni fun ann])
</span
	><a href="../../plutus-core/src/PlutusIR.Compiler.Definitions.html#lookupConstructors"
	><span class="hs-identifier hs-var"
	  >lookupConstructors</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036545"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-509"
      ></span
      ><span
      >              </span
      ><span id="local-6989586621680036573"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036573"
	  ><span class="hs-identifier hs-var"
	    >constrs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036570"
	><span class="hs-identifier hs-var"
	  >maybeConstructors</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-510"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe [Term TyName Name uni fun ann]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>e -&gt; a
forall a e. Exception e =&gt; e -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Exception.html#throw"
	><span class="hs-identifier hs-var"
	  >Prelude.throw</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; LiftError
</span
	><a href="PlutusTx.Lift.TH.html#LiftMissingDataCons"
	><span class="hs-identifier hs-var"
	  >LiftMissingDataCons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036545"
	><span class="hs-identifier hs-var"
	  >tyName</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-511"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036575"
      ><span class="annot"
	><span class="annottext"
	  >[Term TyName Name uni fun ann]
</span
	  ><a href="#local-6989586621680036575"
	  ><span class="hs-identifier hs-var"
	    >cs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; f a
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
</span
	><a href="#local-6989586621680036575"
	><span class="hs-identifier hs-var"
	  >cs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-512"
      ></span
      ><span
      >              </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036577"
      ><span class="annot"
	><span class="annottext"
	  >constr :: a
</span
	  ><a href="#local-6989586621680036577"
	  ><span class="hs-identifier hs-var hs-var"
	    >constr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036573"
	><span class="hs-identifier hs-var"
	  >constrs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a] -&gt; Int -&gt; a
forall a. HasCallStack =&gt; [a] -&gt; Int -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#%21%21"
	><span class="hs-operator hs-var"
	  >!!</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621680036547"
	><span class="hs-identifier hs-var"
	  >index</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-513"
      ></span
      ><span
      >
</span
      ><span id="line-514"
      ></span
      ><span
      >              </span
      ><span id="local-6989586621680036580"
      ><span id="local-6989586621680036581"
	><span class="annot"
	  ><span class="annottext"
	    >[Term TyName Name DefaultUni fun ()]
</span
	    ><a href="#local-6989586621680036581"
	    ><span class="hs-identifier hs-var"
	      >lifts</span
	      ></a
	    ></span
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>::</span
	><span
	> </span
	><span class="hs-special"
	>[</span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusIR.Core.Type.html#Term"
	  ><span class="hs-identifier hs-type"
	    >Term</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	  ><span class="hs-identifier hs-type"
	    >TyName</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	  ><span class="hs-identifier hs-type"
	    >Name</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	  ><span class="hs-identifier hs-type"
	    >PLC.DefaultUni</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621680036580"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="hs-special"
	>)</span
	><span class="hs-special"
	>]</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>t (m a) -&gt; m (t a)
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#sequence"
	><span class="hs-identifier hs-var"
	  >sequence</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; RTCompile DefaultUni fun (Term TyName Name DefaultUni fun ())
CompileTerm
-&gt; forall fun.
   RTCompile DefaultUni fun (Term TyName Name DefaultUni fun ())
</span
	><a href="PlutusTx.Lift.TH.html#unCompileTerm"
	><span class="hs-identifier hs-var"
	  >unCompileTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CompileTerm]
</span
	><a href="#local-6989586621680036568"
	><span class="hs-identifier hs-var"
	  >liftExprs'</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-515"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- The 'fun' that is referenced here is the 'fun' that we bind the line above.</span
      ><span
      >
</span
      ><span id="line-516"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- If it was forall-bound instead, 'typeExprs\'' wouldn't type check,</span
      ><span
      >
</span
      ><span id="line-517"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- because 'Type' does not determine 'fun' (unlike 'Term' in 'liftExprs\''</span
      ><span
      >
</span
      ><span id="line-518"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- above).</span
      ><span
      >
</span
      ><span id="line-519"
      ></span
      ><span
      >              </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036585"
	><span class="hs-identifier hs-type"
	  >tyExprs'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#RTCompileScope"
	><span class="hs-identifier hs-type"
	  >RTCompileScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621680036580"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >PLC.DefaultUni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-520"
      ></span
      ><span
      >                  </span
      ><span id="local-6989586621680036585"
      ><span class="annot"
	><span class="annottext"
	  >tyExprs' :: [RTCompileScope DefaultUni fun (Type TyName DefaultUni ())]
</span
	  ><a href="#local-6989586621680036585"
	  ><span class="hs-identifier hs-var hs-var"
	    >tyExprs'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; f a -&gt; f b
forall a b. (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621680036587"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036587"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CompileTypeScope
-&gt; forall fun.
   RTCompileScope DefaultUni fun (Type TyName DefaultUni ())
</span
	><a href="PlutusTx.Lift.TH.html#unCompileTypeScope"
	><span class="hs-identifier hs-var"
	  >unCompileTypeScope</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036587"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >$$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Q (TExp [CompileTypeScope]) -&gt; Code Q [CompileTypeScope]
forall a (m :: * -&gt; *). m (TExp a) -&gt; Code m a
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#liftCode"
	><span class="hs-identifier hs-var"
	  >TH.liftCode</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Q (TExp [CompileTypeScope]) -&gt; Code Q [CompileTypeScope])
-&gt; Q (TExp [CompileTypeScope]) -&gt; Code Q [CompileTypeScope]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileTypeScope] -&gt; Q (TExp [CompileTypeScope])
forall a. [TExpQ a] -&gt; TExpQ [a]
</span
	><a href="PlutusTx.Lift.THUtils.html#tyListE"
	><span class="hs-identifier hs-var"
	  >tyListE</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TExpQ CompileTypeScope]
</span
	><a href="#local-6989586621680036551"
	><span class="hs-identifier hs-var"
	  >tyExprs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-521"
      ></span
      ><span
      >              </span
      ><span class="hs-comment"
      >-- The types are compiled in an (empty) local scope.</span
      ><span
      >
</span
      ><span id="line-522"
      ></span
      ><span
      >              </span
      ><span id="local-6989586621680036588"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621680036588"
	  ><span class="hs-identifier hs-var"
	    >types</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#flip"
	><span class="hs-identifier hs-var"
	  >flip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT r m a -&gt; r -&gt; m a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#runReaderT"
	><span class="hs-identifier hs-var"
	  >runReaderT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>t (m a) -&gt; m (t a)
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#sequence"
	><span class="hs-identifier hs-var"
	  >sequence</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[RTCompileScope DefaultUni fun (Type TyName DefaultUni ())]
</span
	><a href="#local-6989586621680036585"
	><span class="hs-identifier hs-var"
	  >tyExprs'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-523"
      ></span
      ><span
      >
</span
      ><span id="line-524"
      ></span
      ><span
      >              </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; f a
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; a -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>term () -&gt; [term ()] -&gt; term ()
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun.
TermLike term tyname name uni fun =&gt;
term () -&gt; [term ()] -&gt; term ()
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterAppNoAnn"
	><span class="hs-identifier hs-var"
	  >mkIterAppNoAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>term () -&gt; [Type tyname uni ()] -&gt; term ()
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun.
TermLike term tyname name uni fun =&gt;
term () -&gt; [Type tyname uni ()] -&gt; term ()
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterInstNoAnn"
	><span class="hs-identifier hs-var"
	  >mkIterInstNoAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621680036577"
	><span class="hs-identifier hs-var"
	  >constr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621680036588"
	><span class="hs-identifier hs-var"
	  >types</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name DefaultUni fun ()]
</span
	><a href="#local-6989586621680036581"
	><span class="hs-identifier hs-var"
	  >lifts</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-525"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >||]</span
      ><span
      >
</span
      ><span id="line-526"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Q Clause
-&gt; StateT
     Deps (ReaderT THLocalVars (ExceptT LiftError Q)) (Q Clause)
forall a.
a -&gt; StateT Deps (ReaderT THLocalVars (ExceptT LiftError Q)) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Q Clause
 -&gt; StateT
      Deps (ReaderT THLocalVars (ExceptT LiftError Q)) (Q Clause))
-&gt; Q Clause
-&gt; StateT
     Deps (ReaderT THLocalVars (ExceptT LiftError Q)) (Q Clause)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Q Pat] -&gt; Q Body -&gt; [Q Dec] -&gt; Q Clause
forall (m :: * -&gt; *).
Quote m =&gt;
[m Pat] -&gt; m Body -&gt; [m Dec] -&gt; m Clause
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#clause"
	><span class="hs-identifier hs-var"
	  >TH.clause</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Q Pat
</span
	><a href="#local-6989586621680036562"
	><span class="hs-identifier hs-var"
	  >pat</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Q Exp -&gt; Q Body
forall (m :: * -&gt; *). Quote m =&gt; m Exp -&gt; m Body
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#normalB"
	><span class="hs-identifier hs-var"
	  >TH.normalB</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Q Exp -&gt; Q Body) -&gt; Q Exp -&gt; Q Body
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[|</span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#unCompileTerm"
	><span class="hs-identifier hs-var"
	  >unCompileTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >$</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTerm -&gt; Q Exp
forall a (m :: * -&gt; *). Quote m =&gt; m (TExp a) -&gt; m Exp
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#unTypeQ"
	><span class="hs-identifier hs-var"
	  >TH.unTypeQ</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TExpQ CompileTerm
</span
	><a href="#local-6989586621680036566"
	><span class="hs-identifier hs-var"
	  >rhsExpr</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >|]</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-527"
      ></span
      ><span
      >
</span
      ><span id="line-528"
      ></span
      ><span class="annot"
      ><a href="PlutusTx.Lift.TH.html#makeLift"
	><span class="hs-identifier hs-type"
	  >makeLift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Name"
	><span class="hs-identifier hs-type"
	  >TH.Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Q"
	><span class="hs-identifier hs-type"
	  >TH.Q</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Dec"
	><span class="hs-identifier hs-type"
	  >TH.Dec</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-529"
      ></span
      ><span id="makeLift"
      ><span class="annot"
	><span class="annottext"
	  >makeLift :: Name -&gt; Q [Dec]
</span
	  ><a href="PlutusTx.Lift.TH.html#makeLift"
	  ><span class="hs-identifier hs-var hs-var"
	    >makeLift</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036598"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621680036598"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-530"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Extension -&gt; Q ()
</span
	><a href="PlutusTx.Lift.THUtils.html#requireExtension"
	><span class="hs-identifier hs-var"
	  >requireExtension</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Extension
</span
	><a href="https://hackage.haskell.org/package/ghc-boot-th-9.6.7/docs/src/GHC.LanguageExtensions.Type.html#ScopedTypeVariables"
	><span class="hs-identifier hs-var"
	  >TH.ScopedTypeVariables</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-531"
      ></span
      ><span
      >
</span
      ><span id="line-532"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036599"
      ><span class="annot"
	><span class="annottext"
	  >uni :: Pred
</span
	  ><a href="#local-6989586621680036599"
	  ><span class="hs-identifier hs-var hs-var"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Pred
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#ConT"
	><span class="hs-identifier hs-var"
	  >TH.ConT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >''</span
      ><span class="hs-identifier"
      >PLC.DefaultUni</span
      ><span
      >
</span
      ><span id="line-533"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- we need this too if we're lifting</span
      ><span
      >
</span
      ><span id="line-534"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036600"
      ><span class="annot"
	><span class="annottext"
	  >[Dec]
</span
	  ><a href="#local-6989586621680036600"
	  ><span class="hs-identifier hs-var"
	    >typeableDecs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Name -&gt; Q [Dec]
</span
	><a href="PlutusTx.Lift.TH.html#makeTypeable"
	><span class="hs-identifier hs-var"
	  >makeTypeable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036599"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036598"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-535"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036601"
      ><span class="annot"
	><span class="annottext"
	  >DatatypeInfo
</span
	  ><a href="#local-6989586621680036601"
	  ><span class="hs-identifier hs-var"
	    >info</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; Q DatatypeInfo
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#reifyDatatype"
	><span class="hs-identifier hs-var"
	  >TH.reifyDatatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621680036598"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-536"
      ></span
      ><span
      >
</span
      ><span id="line-537"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036602"
      ><span class="annot"
	><span class="annottext"
	  >datatypeType :: Pred
</span
	  ><a href="#local-6989586621680036602"
	  ><span class="hs-identifier hs-var hs-var"
	    >datatypeType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo -&gt; Pred
</span
	><a href="https://hackage.haskell.org/package/th-abstraction-0.6.0.0/docs/src/Language.Haskell.TH.Datatype.html#datatypeType"
	><span class="hs-identifier hs-var"
	  >TH.datatypeType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo
</span
	><a href="#local-6989586621680036601"
	><span class="hs-identifier hs-var"
	  >info</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-538"
      ></span
      ><span
      >
</span
      ><span id="line-539"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621680036604"
      ><span class="annot"
	><span class="annottext"
	  >[Q Clause]
</span
	  ><a href="#local-6989586621680036604"
	  ><span class="hs-identifier hs-var"
	    >clauses</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621680036605"
      ><span class="annot"
	><span class="annottext"
	  >Deps
</span
	  ><a href="#local-6989586621680036605"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>THCompile [Q Clause] -&gt; Q ([Q Clause], Deps)
forall a. THCompile a -&gt; Q (a, Deps)
</span
	><a href="PlutusTx.Lift.TH.html#runTHCompile"
	><span class="hs-identifier hs-var"
	  >runTHCompile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(THCompile [Q Clause] -&gt; Q ([Q Clause], Deps))
-&gt; THCompile [Q Clause] -&gt; Q ([Q Clause], Deps)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo -&gt; THCompile [Q Clause]
</span
	><a href="PlutusTx.Lift.TH.html#compileLift"
	><span class="hs-identifier hs-var"
	  >compileLift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeInfo
</span
	><a href="#local-6989586621680036601"
	><span class="hs-identifier hs-var"
	  >info</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-540"
      ></span
      ><span
      >
</span
      ><span id="line-541"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >{-
  Here we *do* need to add some constraints, because we're going to generate things like
  `instance Lift a =&gt; Lift (Maybe a)`. We can't just leave these open because they refer to type variables.

  We *could* put in a Typeable constraint for the type itself. This is somewhat more correct,
  but GHC warns us if we do this because we always also define the instance alongside. So we just
  leave it out.

  We also need to remove any Lift constraints we get for the type we're defining. This can happen if
  we're recursive, since we'll probably end up with constructor arguments of the current type.
  We don't want `instance Lift [a] =&gt; Lift [a]`!
  -}</span
      ><span
      >
</span
      ><span id="line-553"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036607"
      ><span class="annot"
	><span class="annottext"
	  >prunedDeps :: Deps
</span
	  ><a href="#local-6989586621680036607"
	  ><span class="hs-identifier hs-var hs-var"
	    >prunedDeps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dep -&gt; Deps -&gt; Deps
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#delete"
	><span class="hs-identifier hs-var"
	  >Set.delete</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Dep
</span
	><a href="PlutusTx.Lift.TH.html#LiftDep"
	><span class="hs-identifier hs-var"
	  >LiftDep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036602"
	><span class="hs-identifier hs-var"
	  >datatypeType</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Deps
</span
	><a href="#local-6989586621680036605"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-554"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- See Note [Closed constraints]</span
      ><span
      >
</span
      ><span id="line-555"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036610"
      ><span class="annot"
	><span class="annottext"
	  >constraints :: [Pred]
</span
	  ><a href="#local-6989586621680036610"
	  ><span class="hs-identifier hs-var hs-var"
	    >constraints</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Pred -&gt; Bool) -&gt; [Pred] -&gt; [Pred]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#filter"
	><span class="hs-identifier hs-var"
	  >filter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#not"
	><span class="hs-identifier hs-var"
	  >not</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; Bool) -&gt; (Pred -&gt; Bool) -&gt; Pred -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Bool
</span
	><a href="PlutusTx.Lift.TH.html#isClosedConstraint"
	><span class="hs-identifier hs-var"
	  >isClosedConstraint</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Pred] -&gt; [Pred]) -&gt; [Pred] -&gt; [Pred]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Dep -&gt; Pred
</span
	><a href="PlutusTx.Lift.TH.html#toConstraint"
	><span class="hs-identifier hs-var"
	  >toConstraint</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036599"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Dep -&gt; Pred) -&gt; [Dep] -&gt; [Pred]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Deps -&gt; [Dep]
forall a. Set a -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#toList"
	><span class="hs-identifier hs-var"
	  >Set.toList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Deps
</span
	><a href="#local-6989586621680036607"
	><span class="hs-identifier hs-var"
	  >prunedDeps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-556"
      ></span
      ><span
      >
</span
      ><span id="line-557"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036611"
      ><span class="annot"
	><span class="annottext"
	  >Dec
</span
	  ><a href="#local-6989586621680036611"
	  ><span class="hs-identifier hs-var"
	    >decl</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name -&gt; [Q Clause] -&gt; Q Dec
forall (m :: * -&gt; *). Quote m =&gt; Name -&gt; [m Clause] -&gt; m Dec
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Lib.Internal.html#funD"
	><span class="hs-identifier hs-var"
	  >TH.funD</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >'</span
      ><span class="hs-identifier"
      >lift</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Q Clause]
</span
	><a href="#local-6989586621680036604"
	><span class="hs-identifier hs-var"
	  >clauses</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-558"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621680036612"
      ><span class="annot"
	><span class="annottext"
	  >liftDecs :: [Dec]
</span
	  ><a href="#local-6989586621680036612"
	  ><span class="hs-identifier hs-var hs-var"
	    >liftDecs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Overlap -&gt; [Pred] -&gt; Pred -&gt; [Dec] -&gt; Dec
</span
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#InstanceD"
	><span class="hs-identifier hs-var"
	  >TH.InstanceD</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Overlap
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Pred]
</span
	><a href="#local-6989586621680036610"
	><span class="hs-identifier hs-var"
	  >constraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Pred -&gt; Pred -&gt; Pred
</span
	><a href="PlutusTx.Lift.TH.html#liftPir"
	><span class="hs-identifier hs-var"
	  >liftPir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036599"
	><span class="hs-identifier hs-var"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Pred
</span
	><a href="#local-6989586621680036602"
	><span class="hs-identifier hs-var"
	  >datatypeType</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Dec
</span
	><a href="#local-6989586621680036611"
	><span class="hs-identifier hs-var"
	  >decl</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-559"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>[Dec] -&gt; Q [Dec]
forall a. a -&gt; Q a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Dec] -&gt; Q [Dec]) -&gt; [Dec] -&gt; Q [Dec]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Dec]
</span
	><a href="#local-6989586621680036600"
	><span class="hs-identifier hs-var"
	  >typeableDecs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Dec] -&gt; [Dec] -&gt; [Dec]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Dec]
</span
	><a href="#local-6989586621680036612"
	><span class="hs-identifier hs-var"
	  >liftDecs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-560"
      ></span
      ><span
      >
</span
      ><span id="line-561"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | In case of exception, it will call `fail` in TemplateHaskell</span
	></span
      ><span
      >
</span
      ><span id="line-562"
      ></span
      ><span id="local-6989586621680035808"
      ><span class="annot"
	><a href="PlutusTx.Lift.TH.html#runTHCompile"
	  ><span class="hs-identifier hs-type"
	    >runTHCompile</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>::</span
	><span
	> </span
	><span class="annot"
	><a href="PlutusTx.Lift.TH.html#THCompile"
	  ><span class="hs-identifier hs-type"
	    >THCompile</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621680035808"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/template-haskell-2.20.0.0/docs/src/Language.Haskell.TH.Syntax.html#Q"
	  ><span class="hs-identifier hs-type"
	    >TH.Q</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="annot"
	><a href="#local-6989586621680035808"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span class="hs-special"
	>,</span
	><span
	> </span
	><span class="annot"
	><a href="PlutusTx.Lift.TH.html#Deps"
	  ><span class="hs-identifier hs-type"
	    >Deps</span
	    ></a
	  ></span
	><span class="hs-special"
	>)</span
	></span
      ><span
      >
</span
      ><span id="line-563"
      ></span
      ><span id="runTHCompile"
      ><span class="annot"
	><span class="annottext"
	  >runTHCompile :: forall a. THCompile a -&gt; Q (a, Deps)
</span
	  ><a href="PlutusTx.Lift.TH.html#runTHCompile"
	  ><span class="hs-identifier hs-var hs-var"
	    >runTHCompile</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621680036625"
      ><span class="annot"
	><span class="annottext"
	  >THCompile a
</span
	  ><a href="#local-6989586621680036625"
	  ><span class="hs-identifier hs-var"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-564"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621680036626"
      ><span class="annot"
	><span class="annottext"
	  >Either LiftError (a, Deps)
</span
	  ><a href="#local-6989586621680036626"
	  ><span class="hs-identifier hs-var"
	    >res</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      >
</span
      ><span id="line-565"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>ExceptT LiftError Q (a, Deps) -&gt; Q (Either LiftError (a, Deps))
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Except.html#runExceptT"
	><span class="hs-identifier hs-var"
	  >runExceptT</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-566"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(ExceptT LiftError Q (a, Deps) -&gt; Q (Either LiftError (a, Deps)))
-&gt; (ReaderT THLocalVars (ExceptT LiftError Q) (a, Deps)
    -&gt; ExceptT LiftError Q (a, Deps))
-&gt; ReaderT THLocalVars (ExceptT LiftError Q) (a, Deps)
-&gt; Q (Either LiftError (a, Deps))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ReaderT THLocalVars (ExceptT LiftError Q) (a, Deps)
 -&gt; THLocalVars -&gt; ExceptT LiftError Q (a, Deps))
-&gt; THLocalVars
-&gt; ReaderT THLocalVars (ExceptT LiftError Q) (a, Deps)
-&gt; ExceptT LiftError Q (a, Deps)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#flip"
	><span class="hs-identifier hs-var"
	  >flip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT THLocalVars (ExceptT LiftError Q) (a, Deps)
-&gt; THLocalVars -&gt; ExceptT LiftError Q (a, Deps)
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#runReaderT"
	><span class="hs-identifier hs-var"
	  >runReaderT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>THLocalVars
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-567"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(ReaderT THLocalVars (ExceptT LiftError Q) (a, Deps)
 -&gt; Q (Either LiftError (a, Deps)))
-&gt; ReaderT THLocalVars (ExceptT LiftError Q) (a, Deps)
-&gt; Q (Either LiftError (a, Deps))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(THCompile a
 -&gt; Deps -&gt; ReaderT THLocalVars (ExceptT LiftError Q) (a, Deps))
-&gt; Deps
-&gt; THCompile a
-&gt; ReaderT THLocalVars (ExceptT LiftError Q) (a, Deps)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#flip"
	><span class="hs-identifier hs-var"
	  >flip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>THCompile a
-&gt; Deps -&gt; ReaderT THLocalVars (ExceptT LiftError Q) (a, Deps)
forall s (m :: * -&gt; *) a. StateT s m a -&gt; s -&gt; m (a, s)
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.State.Lazy.html#runStateT"
	><span class="hs-identifier hs-var"
	  >runStateT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Deps
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>THCompile a
</span
	><a href="#local-6989586621680036625"
	><span class="hs-identifier hs-var"
	  >m</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-568"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Either LiftError (a, Deps)
</span
	><a href="#local-6989586621680036626"
	><span class="hs-identifier hs-var"
	  >res</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-569"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036627"
      ><span class="annot"
	><span class="annottext"
	  >LiftError
</span
	  ><a href="#local-6989586621680036627"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; Q (a, Deps)
forall a. String -&gt; Q a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Control.Monad.Fail.html#fail"
	><span class="hs-identifier hs-var"
	  >fail</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(String -&gt; Q (a, Deps)) -&gt; String -&gt; Q (a, Deps)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String
</span
	><span class="hs-string"
	>&quot;Generating Lift instances: &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc Any -&gt; String
forall a. Show a =&gt; a -&gt; String
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>LiftError -&gt; Doc Any
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. LiftError -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >PP.pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>LiftError
</span
	><a href="#local-6989586621680036627"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-570"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621680036628"
      ><span class="annot"
	><span class="annottext"
	  >(a, Deps)
</span
	  ><a href="#local-6989586621680036628"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a, Deps) -&gt; Q (a, Deps)
forall a. a -&gt; Q a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a, Deps)
</span
	><a href="#local-6989586621680036628"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-571"
      ></span
      ></pre
    ></body
  ></html
>

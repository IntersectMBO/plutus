<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleInstances     #-}</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE GADTs                 #-}</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE LambdaCase            #-}</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE MultiParamTypeClasses #-}</span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE OverloadedStrings     #-}</span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ScopedTypeVariables   #-}</span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeApplications      #-}</span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE UndecidableInstances  #-}</span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE ViewPatterns          #-}</span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >PlutusIR.Purity</span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#isPure"
	><span class="hs-identifier"
	  >isPure</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#isSaturated"
	><span class="hs-identifier"
	  >isSaturated</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#isWorkFree"
	><span class="hs-identifier"
	  >isWorkFree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#unEvalOrder"
	><span class="hs-identifier"
	  >unEvalOrder</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#Purity"
	><span class="hs-identifier"
	  >Purity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#termEvaluationOrder"
	><span class="hs-identifier"
	  >termEvaluationOrder</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Control.Lens</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-operator"
	>(^.)</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/dlist-1.0/docs/src/Data.DList.html"
	><span class="hs-identifier"
	  >Data.DList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>DList</span
	></span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.List.NonEmpty.html"
	><span class="hs-identifier"
	  >Data.List.NonEmpty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>NE</span
	></span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.html"
	><span class="hs-identifier"
	  >PlutusCore.Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#BuiltinMeaning"
	><span class="hs-identifier"
	  >BuiltinMeaning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#ToBuiltinMeaning"
	><span class="hs-identifier"
	  >ToBuiltinMeaning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.TypeScheme.html#TypeScheme"
	><span class="hs-identifier"
	  >TypeScheme</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.Unique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Pretty.html"
	><span class="hs-identifier"
	  >PlutusCore.Pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#Pretty"
	><span class="hs-identifier"
	  >Pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier"
	  >pretty</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#PrettyBy"
	><span class="hs-identifier"
	  >PrettyBy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#prettyBy"
	><span class="hs-identifier"
	  >prettyBy</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.html"
	><span class="hs-identifier"
	  >PlutusIR</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Binding"
	><span class="hs-identifier"
	  >Binding</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#TermBind"
	><span class="hs-identifier"
	  >TermBind</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier"
	  >Name</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Recursivity"
	><span class="hs-identifier"
	  >Recursivity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#NonRec"
	><span class="hs-identifier"
	  >NonRec</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Rec"
	><span class="hs-identifier"
	  >Rec</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span
      >                 </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Strictness"
	><span class="hs-identifier"
	  >Strictness</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#NonStrict"
	><span class="hs-identifier"
	  >NonStrict</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Strict"
	><span class="hs-identifier"
	  >Strict</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier"
	  >TyName</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.Builtins.html"
	><span class="hs-identifier"
	  >PlutusIR.Analysis.Builtins</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.Builtins.html#BuiltinsInfo"
	><span class="hs-identifier"
	  >BuiltinsInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.Builtins.html#biSemanticsVariant"
	><span class="hs-identifier"
	  >biSemanticsVariant</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.Builtins.html#builtinArityInfo"
	><span class="hs-identifier"
	  >builtinArityInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.VarInfo.html"
	><span class="hs-identifier"
	  >PlutusIR.Analysis.VarInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.VarInfo.html#VarInfo"
	><span class="hs-identifier"
	  >VarInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.VarInfo.html#DatatypeConstructor"
	><span class="hs-identifier"
	  >DatatypeConstructor</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.VarInfo.html#VarsInfo"
	><span class="hs-identifier"
	  >VarsInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.VarInfo.html#lookupVarInfo"
	><span class="hs-identifier"
	  >lookupVarInfo</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span
      >                                  </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.VarInfo.html#varInfoStrictness"
	><span class="hs-identifier"
	  >varInfoStrictness</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html"
	><span class="hs-identifier"
	  >PlutusIR.Contexts</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#AppContext"
	><span class="hs-identifier"
	  >AppContext</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#Saturation"
	><span class="hs-identifier"
	  >Saturation</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#Oversaturated"
	><span class="hs-identifier"
	  >Oversaturated</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#Saturated"
	><span class="hs-identifier"
	  >Saturated</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#Undersaturated"
	><span class="hs-identifier"
	  >Undersaturated</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span
      >                          </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#fillAppContext"
	><span class="hs-identifier"
	  >fillAppContext</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#saturates"
	><span class="hs-identifier"
	  >saturates</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#splitApplication"
	><span class="hs-identifier"
	  >splitApplication</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.html"
	><span class="hs-identifier"
	  >Prettyprinter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#vsep"
	><span class="hs-identifier"
	  >vsep</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#%3C%2B%3E"
	><span class="hs-operator"
	  >(&lt;+&gt;)</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span
      >
</span
      ><span id="line-37"
      ></span
      ><span id="local-6989586621679467408"
      ><span id="local-6989586621679467409"
	><span id="local-6989586621679467410"
	  ><span id="local-6989586621679467411"
	    ><span id="local-6989586621679467412"
	      ><span id="local-6989586621679467414"
		><span id="local-6989586621679467415"
		  ><span id="local-6989586621679467416"
		    ><span class="annot"
		      ><a href="PlutusIR.Purity.html#saturatesScheme"
			><span class="hs-identifier hs-type"
			  >saturatesScheme</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="hs-glyph"
		      >::</span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="PlutusIR.Contexts.html#AppContext"
			><span class="hs-identifier hs-type"
			  >AppContext</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="#local-6989586621679467408"
			><span class="hs-identifier hs-type"
			  >tyname</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="#local-6989586621679467409"
			><span class="hs-identifier hs-type"
			  >name</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="#local-6989586621679467410"
			><span class="hs-identifier hs-type"
			  >uni</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="#local-6989586621679467411"
			><span class="hs-identifier hs-type"
			  >fun</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="#local-6989586621679467412"
			><span class="hs-identifier hs-type"
			  >a</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="hs-glyph"
		      >-&gt;</span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="../../plutus-core/src/PlutusCore.Builtin.TypeScheme.html#TypeScheme"
			><span class="hs-identifier hs-type"
			  >TypeScheme</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="#local-6989586621679467414"
			><span class="hs-identifier hs-type"
			  >val</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="#local-6989586621679467415"
			><span class="hs-identifier hs-type"
			  >args</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="#local-6989586621679467416"
			><span class="hs-identifier hs-type"
			  >res</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="hs-glyph"
		      >-&gt;</span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Maybe"
			><span class="hs-identifier hs-type"
			  >Maybe</span
			  ></a
			></span
		      ><span
		      > </span
		      ><span class="annot"
		      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
			><span class="hs-identifier hs-type"
			  >Bool</span
			  ></a
			></span
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span class="hs-comment"
      >-- We've passed enough arguments that the builtin will reduce.</span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span class="hs-comment"
      >-- Note that this also accepts over-applied builtins.</span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span id="saturatesScheme"
      ><span class="annot"
	><span class="annottext"
	  >saturatesScheme :: forall tyname name (uni :: * -&gt; *) fun a val (args :: [*]) res.
AppContext tyname name uni fun a
-&gt; TypeScheme val args res -&gt; Maybe Bool
</span
	  ><a href="PlutusIR.Purity.html#saturatesScheme"
	  ><span class="hs-identifier hs-var hs-var"
	    >saturatesScheme</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.TypeScheme.html#TypeSchemeResult"
	><span class="hs-identifier hs-type"
	  >TypeSchemeResult</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >                            </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span class="hs-comment"
      >-- Consume one argument</span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#saturatesScheme"
	><span class="hs-identifier hs-var"
	  >saturatesScheme</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#TermAppContext"
	><span class="hs-identifier hs-type"
	  >TermAppContext</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467734"
      ><span class="annot"
	><span class="annottext"
	  >AppContext tyname name uni fun a
</span
	  ><a href="#local-6989586621679467734"
	  ><span class="hs-identifier hs-var"
	    >args</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.TypeScheme.html#TypeSchemeArrow"
	><span class="hs-identifier hs-type"
	  >TypeSchemeArrow</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679467741"
      ><span class="annot"
	><span class="annottext"
	  >TypeScheme val args1 res
</span
	  ><a href="#local-6989586621679467741"
	  ><span class="hs-identifier hs-var"
	    >sch</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
-&gt; TypeScheme val args1 res -&gt; Maybe Bool
forall tyname name (uni :: * -&gt; *) fun a val (args :: [*]) res.
AppContext tyname name uni fun a
-&gt; TypeScheme val args res -&gt; Maybe Bool
</span
	><a href="PlutusIR.Purity.html#saturatesScheme"
	><span class="hs-identifier hs-var"
	  >saturatesScheme</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="#local-6989586621679467734"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeScheme val args1 res
</span
	><a href="#local-6989586621679467741"
	><span class="hs-identifier hs-var"
	  >sch</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#saturatesScheme"
	><span class="hs-identifier hs-var"
	  >saturatesScheme</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#TypeAppContext"
	><span class="hs-identifier hs-type"
	  >TypeAppContext</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467743"
      ><span class="annot"
	><span class="annottext"
	  >AppContext tyname name uni fun a
</span
	  ><a href="#local-6989586621679467743"
	  ><span class="hs-identifier hs-var"
	    >args</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.TypeScheme.html#TypeSchemeAll"
	><span class="hs-identifier hs-type"
	  >TypeSchemeAll</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Proxy '(text, uniq, kind)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467748"
      ><span class="annot"
	><span class="annottext"
	  >TypeScheme val args res
</span
	  ><a href="#local-6989586621679467748"
	  ><span class="hs-identifier hs-var"
	    >sch</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
-&gt; TypeScheme val args res -&gt; Maybe Bool
forall tyname name (uni :: * -&gt; *) fun a val (args :: [*]) res.
AppContext tyname name uni fun a
-&gt; TypeScheme val args res -&gt; Maybe Bool
</span
	><a href="PlutusIR.Purity.html#saturatesScheme"
	><span class="hs-identifier hs-var"
	  >saturatesScheme</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="#local-6989586621679467743"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeScheme val args res
</span
	><a href="#local-6989586621679467748"
	><span class="hs-identifier hs-var"
	  >sch</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span class="hs-comment"
      >-- Under-applied, not saturated</span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#saturatesScheme"
	><span class="hs-identifier hs-var"
	  >saturatesScheme</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="PlutusIR.Contexts.html#AppContextEnd"
	><span class="hs-identifier hs-var"
	  >AppContextEnd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.TypeScheme.html#TypeSchemeArrow"
	><span class="hs-identifier hs-type"
	  >TypeSchemeArrow</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >                 </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#saturatesScheme"
	><span class="hs-identifier hs-var"
	  >saturatesScheme</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="PlutusIR.Contexts.html#AppContextEnd"
	><span class="hs-identifier hs-var"
	  >AppContextEnd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.TypeScheme.html#TypeSchemeAll"
	><span class="hs-identifier hs-type"
	  >TypeSchemeAll</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >                   </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-47"
      ></span
      ><span class="hs-comment"
      >-- These cases are only possible in case we have an ill-typed builtin application,</span
      ><span
      >
</span
      ><span id="line-48"
      ></span
      ><span class="hs-comment"
      >-- so we can't give an answer.</span
      ><span
      >
</span
      ><span id="line-49"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#saturatesScheme"
	><span class="hs-identifier hs-var"
	  >saturatesScheme</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#TypeAppContext"
	><span class="hs-identifier hs-type"
	  >TypeAppContext</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.TypeScheme.html#TypeSchemeArrow"
	><span class="hs-identifier hs-type"
	  >TypeSchemeArrow</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >              </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Bool
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-50"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#saturatesScheme"
	><span class="hs-identifier hs-var"
	  >saturatesScheme</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#TermAppContext"
	><span class="hs-identifier hs-type"
	  >TermAppContext</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.TypeScheme.html#TypeSchemeAll"
	><span class="hs-identifier hs-type"
	  >TypeSchemeAll</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >                </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Bool
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Is the given application saturated? Returns 'Nothing' if we can't tell.</span
	></span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#isSaturated"
	><span class="hs-identifier hs-type"
	  >isSaturated</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679467456"
      ><span class="annot"
	><a href="#local-6989586621679467456"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467457"
      ><span class="annot"
	><a href="#local-6989586621679467457"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467452"
      ><span class="annot"
	><a href="#local-6989586621679467452"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467453"
      ><span class="annot"
	><a href="#local-6989586621679467453"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467458"
      ><span class="annot"
	><a href="#local-6989586621679467458"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-55"
      ></span
      ><span
      >   </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#ToBuiltinMeaning"
	><span class="hs-identifier hs-type"
	  >ToBuiltinMeaning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467452"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467453"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-56"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.Builtins.html#BuiltinsInfo"
	><span class="hs-identifier hs-type"
	  >BuiltinsInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467452"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467453"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-57"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467453"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-58"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#AppContext"
	><span class="hs-identifier hs-type"
	  >AppContext</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467456"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467457"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467452"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467453"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467458"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-59"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-60"
      ></span
      ><span id="isSaturated"
      ><span class="annot"
	><span class="annottext"
	  >isSaturated :: forall tyname name (uni :: * -&gt; *) fun a.
ToBuiltinMeaning uni fun =&gt;
BuiltinsInfo uni fun
-&gt; fun -&gt; AppContext tyname name uni fun a -&gt; Maybe Bool
</span
	  ><a href="PlutusIR.Purity.html#isSaturated"
	  ><span class="hs-identifier hs-var hs-var"
	    >isSaturated</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467791"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinsInfo uni fun
</span
	  ><a href="#local-6989586621679467791"
	  ><span class="hs-identifier hs-var"
	    >binfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467792"
      ><span class="annot"
	><span class="annottext"
	  >fun
</span
	  ><a href="#local-6989586621679467792"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467793"
      ><span class="annot"
	><span class="annottext"
	  >AppContext tyname name uni fun a
</span
	  ><a href="#local-6989586621679467793"
	  ><span class="hs-identifier hs-var"
	    >args</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-61"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679467794"
      ><span class="annot"
	><span class="annottext"
	  >semvar :: BuiltinSemanticsVariant fun
</span
	  ><a href="#local-6989586621679467794"
	  ><span class="hs-identifier hs-var hs-var"
	    >semvar</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
</span
	><a href="#local-6989586621679467791"
	><span class="hs-identifier hs-var"
	  >binfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
-&gt; Getting
     (BuiltinSemanticsVariant fun)
     (BuiltinsInfo uni fun)
     (BuiltinSemanticsVariant fun)
-&gt; BuiltinSemanticsVariant fun
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (BuiltinSemanticsVariant fun)
  (BuiltinsInfo uni fun)
  (BuiltinSemanticsVariant fun)
forall (uni :: * -&gt; *) fun (f :: * -&gt; *).
Functor f =&gt;
(BuiltinSemanticsVariant fun -&gt; f (BuiltinSemanticsVariant fun))
-&gt; BuiltinsInfo uni fun -&gt; f (BuiltinsInfo uni fun)
</span
	><a href="PlutusIR.Analysis.Builtins.html#biSemanticsVariant"
	><span class="hs-identifier hs-var"
	  >biSemanticsVariant</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-62"
      ></span
      ><span
      >   </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall (uni :: * -&gt; *) fun val.
(ToBuiltinMeaning uni fun, HasMeaningIn uni val) =&gt;
BuiltinSemanticsVariant fun
-&gt; fun -&gt; BuiltinMeaning val (CostingPart uni fun)
</span
	><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#toBuiltinMeaning"
	><span class="hs-identifier hs-var"
	  >toBuiltinMeaning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="#local-6989586621679467452"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="#local-6989586621679467453"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467452"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467453"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinSemanticsVariant fun
</span
	><a href="#local-6989586621679467794"
	><span class="hs-identifier hs-var"
	  >semvar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621679467792"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-63"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#BuiltinMeaning"
	><span class="hs-identifier hs-type"
	  >BuiltinMeaning</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679467797"
      ><span class="annot"
	><span class="annottext"
	  >TypeScheme (Term TyName Name uni fun ()) args res
</span
	  ><a href="#local-6989586621679467797"
	  ><span class="hs-identifier hs-var"
	    >sch</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>FoldArgs args res
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostingPart uni fun -&gt; BuiltinRuntime (Term TyName Name uni fun ())
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
-&gt; TypeScheme (Term TyName Name uni fun ()) args res -&gt; Maybe Bool
forall tyname name (uni :: * -&gt; *) fun a val (args :: [*]) res.
AppContext tyname name uni fun a
-&gt; TypeScheme val args res -&gt; Maybe Bool
</span
	><a href="PlutusIR.Purity.html#saturatesScheme"
	><span class="hs-identifier hs-var"
	  >saturatesScheme</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="#local-6989586621679467793"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeScheme (Term TyName Name uni fun ()) args res
</span
	><a href="#local-6989586621679467797"
	><span class="hs-identifier hs-var"
	  >sch</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-64"
      ></span
      ><span
      >
</span
      ><span id="line-65"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Is this pure? Either yes, or maybe not.</span
	></span
      ><span
      >
</span
      ><span id="line-66"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="Purity"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#Purity"
	  ><span class="hs-identifier hs-var"
	    >Purity</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="MaybeImpure"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#MaybeImpure"
	  ><span class="hs-identifier hs-var"
	    >MaybeImpure</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="Pure"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#Pure"
	  ><span class="hs-identifier hs-var"
	    >Pure</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-67"
      ></span
      ><span
      >
</span
      ><span id="line-68"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621679467802"
      ><span class="annot"
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#Pretty"
	  ><span class="hs-identifier hs-type"
	    >Pretty</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="PlutusIR.Purity.html#Purity"
	  ><span class="hs-identifier hs-type"
	    >Purity</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-69"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467809"
      ><span class="annot"
	><span class="annottext"
	  >pretty :: forall ann. Purity -&gt; Doc ann
</span
	  ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >pretty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#MaybeImpure"
	><span class="hs-identifier hs-var"
	  >MaybeImpure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;impure?&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-70"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;pure&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-71"
      ></span
      ><span
      >
</span
      ><span id="line-72"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Is this term essentially work-free? Either yes, or maybe not.</span
	></span
      ><span
      >
</span
      ><span id="line-73"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="WorkFreedom"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#WorkFreedom"
	  ><span class="hs-identifier hs-var"
	    >WorkFreedom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="MaybeWork"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#MaybeWork"
	  ><span class="hs-identifier hs-var"
	    >MaybeWork</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="WorkFree"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#WorkFree"
	  ><span class="hs-identifier hs-var"
	    >WorkFree</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-74"
      ></span
      ><span
      >
</span
      ><span id="line-75"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621679467814"
      ><span class="annot"
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#Pretty"
	  ><span class="hs-identifier hs-type"
	    >Pretty</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="PlutusIR.Purity.html#WorkFreedom"
	  ><span class="hs-identifier hs-type"
	    >WorkFreedom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-76"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467819"
      ><span class="annot"
	><span class="annottext"
	  >pretty :: forall ann. WorkFreedom -&gt; Doc ann
</span
	  ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >pretty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;maybe work?&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-77"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#WorkFree"
	><span class="hs-identifier hs-var"
	  >WorkFree</span
	  ></a
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;work-free&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-78"
      ></span
      ><span
      >
</span
      ><span id="line-79"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{- | Either the &quot;next&quot; term to be evaluated, along with its 'Purity' and 'WorkFreedom',
or we don't know what comes next.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-82"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="EvalTerm"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#EvalTerm"
	  ><span class="hs-identifier hs-var"
	    >EvalTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467626"
      ><span class="annot"
	><a href="#local-6989586621679467626"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467627"
      ><span class="annot"
	><a href="#local-6989586621679467627"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467628"
      ><span class="annot"
	><a href="#local-6989586621679467628"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467629"
      ><span class="annot"
	><a href="#local-6989586621679467629"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467630"
      ><span class="annot"
	><a href="#local-6989586621679467630"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-83"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="Unknown"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#Unknown"
	  ><span class="hs-identifier hs-var"
	    >Unknown</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-84"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span id="EvalTerm"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#EvalTerm"
	  ><span class="hs-identifier hs-var"
	    >EvalTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#Purity"
	><span class="hs-identifier hs-type"
	  >Purity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#WorkFreedom"
	><span class="hs-identifier hs-type"
	  >WorkFreedom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467626"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467627"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467628"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467629"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467630"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-85"
      ></span
      ><span
      >
</span
      ><span id="line-86"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      >
</span
      ><span id="line-87"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467520"
      ><span id="local-6989586621679467521"
	><span id="local-6989586621679467522"
	  ><span id="local-6989586621679467523"
	    ><span id="local-6989586621679467524"
	      ><span id="local-6989586621679467525"
		><span id="local-6989586621679467825"
		  ><span class="hs-special"
		    >(</span
		    ><span class="annot"
		    ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#PrettyBy"
		      ><span class="hs-identifier hs-type"
			>PrettyBy</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467520"
		      ><span class="hs-identifier hs-type"
			>config</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="hs-special"
		    >(</span
		    ><span class="annot"
		    ><a href="PlutusIR.Core.Type.html#Term"
		      ><span class="hs-identifier hs-type"
			>Term</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467521"
		      ><span class="hs-identifier hs-type"
			>tyname</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467522"
		      ><span class="hs-identifier hs-type"
			>name</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467523"
		      ><span class="hs-identifier hs-type"
			>uni</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467524"
		      ><span class="hs-identifier hs-type"
			>fun</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467525"
		      ><span class="hs-identifier hs-type"
			>a</span
			></a
		      ></span
		    ><span class="hs-special"
		    >)</span
		    ><span class="hs-special"
		    >)</span
		    ><span
		    >
</span
		    ><span id="line-88"
		    ></span
		    ><span
		    >  </span
		    ><span class="hs-glyph"
		    >=&gt;</span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#PrettyBy"
		      ><span class="hs-identifier hs-type"
			>PrettyBy</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467520"
		      ><span class="hs-identifier hs-type"
			>config</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="hs-special"
		    >(</span
		    ><span class="annot"
		    ><a href="PlutusIR.Purity.html#EvalTerm"
		      ><span class="hs-identifier hs-type"
			>EvalTerm</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467521"
		      ><span class="hs-identifier hs-type"
			>tyname</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467522"
		      ><span class="hs-identifier hs-type"
			>name</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467523"
		      ><span class="hs-identifier hs-type"
			>uni</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467524"
		      ><span class="hs-identifier hs-type"
			>fun</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467525"
		      ><span class="hs-identifier hs-type"
			>a</span
			></a
		      ></span
		    ><span class="hs-special"
		    >)</span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-89"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-90"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467836"
      ><span class="annot"
	><span class="annottext"
	  >prettyBy :: forall ann. config -&gt; EvalTerm tyname name uni fun a -&gt; Doc ann
</span
	  ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#prettyBy"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >prettyBy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>config
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#Unknown"
	><span class="hs-identifier hs-var"
	  >Unknown</span
	  ></a
	></span
      ><span
      >                    </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;&lt;unknown&gt;&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-91"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#prettyBy"
	><span class="hs-identifier hs-var"
	  >prettyBy</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679467837"
      ><span class="annot"
	><span class="annottext"
	  >config
</span
	  ><a href="#local-6989586621679467837"
	  ><span class="hs-identifier hs-var"
	    >config</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-type"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679467838"
      ><span class="annot"
	><span class="annottext"
	  >Purity
</span
	  ><a href="#local-6989586621679467838"
	  ><span class="hs-identifier hs-var"
	    >eff</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467839"
      ><span class="annot"
	><span class="annottext"
	  >WorkFreedom
</span
	  ><a href="#local-6989586621679467839"
	  ><span class="hs-identifier hs-var"
	    >work</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467840"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467840"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. Purity -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="#local-6989586621679467838"
	><span class="hs-identifier hs-var"
	  >eff</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. WorkFreedom -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#pretty"
	><span class="hs-identifier hs-var"
	  >pretty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="#local-6989586621679467839"
	><span class="hs-identifier hs-var"
	  >work</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann
</span
	><span class="hs-string"
	>&quot;:&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#%3C%2B%3E"
	><span class="hs-operator hs-var"
	  >&lt;+&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>config -&gt; Term tyname name uni fun a -&gt; Doc ann
forall ann. config -&gt; Term tyname name uni fun a -&gt; Doc ann
forall config a ann. PrettyBy config a =&gt; config -&gt; a -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#prettyBy"
	><span class="hs-identifier hs-var"
	  >prettyBy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>config
</span
	><a href="#local-6989586621679467837"
	><span class="hs-identifier hs-var"
	  >config</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467840"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-92"
      ></span
      ><span
      >
</span
      ><span id="line-93"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{- | The order in which terms get evaluated, along with their purities.
We use a DList here for efficient and lazy concatenation
-}</span
	></span
      ><span
      >
</span
      ><span id="line-96"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="EvalOrder"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#EvalOrder"
	  ><span class="hs-identifier hs-var"
	    >EvalOrder</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467584"
      ><span class="annot"
	><a href="#local-6989586621679467584"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467585"
      ><span class="annot"
	><a href="#local-6989586621679467585"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467586"
      ><span class="annot"
	><a href="#local-6989586621679467586"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467587"
      ><span class="annot"
	><a href="#local-6989586621679467587"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467588"
      ><span class="annot"
	><a href="#local-6989586621679467588"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="EvalOrder"
      ><span class="annot"
	><a href="PlutusIR.Purity.html#EvalOrder"
	  ><span class="hs-identifier hs-var"
	    >EvalOrder</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/dlist-1.0/docs/src/Data.DList.Internal.html#DList"
	><span class="hs-identifier hs-type"
	  >DList.DList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-type"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467584"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467585"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467586"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467587"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467588"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-97"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >deriving</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-keyword"
	>newtype</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679467843"
      ><span id="local-6989586621679467848"
	><span id="local-6989586621679467854"
	  ><span class="annot"
	    ><span class="annottext"
	      >NonEmpty (EvalOrder tyname name uni fun a)
-&gt; EvalOrder tyname name uni fun a
EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
(EvalOrder tyname name uni fun a
 -&gt; EvalOrder tyname name uni fun a
 -&gt; EvalOrder tyname name uni fun a)
-&gt; (NonEmpty (EvalOrder tyname name uni fun a)
    -&gt; EvalOrder tyname name uni fun a)
-&gt; (forall b.
    Integral b =&gt;
    b
    -&gt; EvalOrder tyname name uni fun a
    -&gt; EvalOrder tyname name uni fun a)
-&gt; Semigroup (EvalOrder tyname name uni fun a)
forall b.
Integral b =&gt;
b
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall tyname name (uni :: * -&gt; *) fun a.
NonEmpty (EvalOrder tyname name uni fun a)
-&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a b.
Integral b =&gt;
b
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
$c&lt;&gt; :: forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
&lt;&gt; :: EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
$csconcat :: forall tyname name (uni :: * -&gt; *) fun a.
NonEmpty (EvalOrder tyname name uni fun a)
-&gt; EvalOrder tyname name uni fun a
sconcat :: NonEmpty (EvalOrder tyname name uni fun a)
-&gt; EvalOrder tyname name uni fun a
$cstimes :: forall tyname name (uni :: * -&gt; *) fun a b.
Integral b =&gt;
b
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
stimes :: forall b.
Integral b =&gt;
b
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#Semigroup"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Semigroup</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679467864"
      ><span id="local-6989586621679467869"
	><span id="local-6989586621679467873"
	  ><span class="annot"
	    ><span class="annottext"
	      >Semigroup (EvalOrder tyname name uni fun a)
EvalOrder tyname name uni fun a
Semigroup (EvalOrder tyname name uni fun a) =&gt;
EvalOrder tyname name uni fun a
-&gt; (EvalOrder tyname name uni fun a
    -&gt; EvalOrder tyname name uni fun a
    -&gt; EvalOrder tyname name uni fun a)
-&gt; ([EvalOrder tyname name uni fun a]
    -&gt; EvalOrder tyname name uni fun a)
-&gt; Monoid (EvalOrder tyname name uni fun a)
[EvalOrder tyname name uni fun a]
-&gt; EvalOrder tyname name uni fun a
EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall tyname name (uni :: * -&gt; *) fun a.
Semigroup (EvalOrder tyname name uni fun a)
forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
[EvalOrder tyname name uni fun a]
-&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
$cmempty :: forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a
mempty :: EvalOrder tyname name uni fun a
$cmappend :: forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
mappend :: EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
$cmconcat :: forall tyname name (uni :: * -&gt; *) fun a.
[EvalOrder tyname name uni fun a]
-&gt; EvalOrder tyname name uni fun a
mconcat :: [EvalOrder tyname name uni fun a]
-&gt; EvalOrder tyname name uni fun a
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#Monoid"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Monoid</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-98"
      ></span
      ><span
      >
</span
      ><span id="line-99"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{- | Get the evaluation order as a list of 'EvalTerm's. Either terminates in a single
'Unknown', which means that we got to a point where evaluation continues but we don't
know where; or terminates normally, in which case we actually got to the end of the
evaluation order for the term.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-104"
      ></span
      ><span id="local-6989586621679467558"
      ><span id="local-6989586621679467559"
	><span id="local-6989586621679467560"
	  ><span id="local-6989586621679467561"
	    ><span id="local-6989586621679467562"
	      ><span class="annot"
		><a href="PlutusIR.Purity.html#unEvalOrder"
		  ><span class="hs-identifier hs-type"
		    >unEvalOrder</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Purity.html#EvalOrder"
		  ><span class="hs-identifier hs-type"
		    >EvalOrder</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467558"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467559"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467560"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467561"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467562"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="hs-special"
		>[</span
		><span class="annot"
		><a href="PlutusIR.Purity.html#EvalTerm"
		  ><span class="hs-identifier hs-type"
		    >EvalTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467558"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467559"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467560"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467561"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467562"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span class="hs-special"
		>]</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-105"
      ></span
      ><span id="unEvalOrder"
      ><span class="annot"
	><span class="annottext"
	  >unEvalOrder :: forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a -&gt; [EvalTerm tyname name uni fun a]
</span
	  ><a href="PlutusIR.Purity.html#unEvalOrder"
	  ><span class="hs-identifier hs-var hs-var"
	    >unEvalOrder</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier hs-type"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679467878"
      ><span class="annot"
	><span class="annottext"
	  >DList (EvalTerm tyname name uni fun a)
</span
	  ><a href="#local-6989586621679467878"
	  ><span class="hs-identifier hs-var"
	    >ts</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-106"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- This is where we avoid traversing the whole program beyond the first Unknown,</span
      ><span
      >
</span
      ><span id="line-107"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- since DList is lazy and we convert to a lazy list and then filter it.</span
      ><span
      >
</span
      ><span id="line-108"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>(EvalTerm tyname name uni fun a -&gt; Bool)
-&gt; [EvalTerm tyname name uni fun a]
-&gt; [EvalTerm tyname name uni fun a]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span
	><a href="#local-6989586621679467879"
	><span class="hs-identifier hs-var"
	  >takeWhileInclusive</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#Unknown"
	><span class="hs-identifier hs-var"
	  >Unknown</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span class="hs-special"
      >;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DList (EvalTerm tyname name uni fun a)
-&gt; [EvalTerm tyname name uni fun a]
forall a. DList a -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/dlist-1.0/docs/src/Data.DList.Internal.html#toList"
	><span class="hs-identifier hs-var"
	  >DList.toList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DList (EvalTerm tyname name uni fun a)
</span
	><a href="#local-6989586621679467878"
	><span class="hs-identifier hs-var"
	  >ts</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-109"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-110"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467568"
      ><span class="annot"
	><a href="#local-6989586621679467879"
	  ><span class="hs-identifier hs-type"
	    >takeWhileInclusive</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>::</span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="annot"
	><a href="#local-6989586621679467568"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	  ><span class="hs-identifier hs-type"
	    >Bool</span
	    ></a
	  ></span
	><span class="hs-special"
	>)</span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="hs-special"
	>[</span
	><span class="annot"
	><a href="#local-6989586621679467568"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span class="hs-special"
	>]</span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="hs-special"
	>[</span
	><span class="annot"
	><a href="#local-6989586621679467568"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span class="hs-special"
	>]</span
	></span
      ><span
      >
</span
      ><span id="line-111"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467879"
      ><span class="annot"
	><span class="annottext"
	  >takeWhileInclusive :: forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span
	  ><a href="#local-6989586621679467879"
	  ><span class="hs-identifier hs-var hs-var"
	    >takeWhileInclusive</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467883"
      ><span class="annot"
	><span class="annottext"
	  >a -&gt; Bool
</span
	  ><a href="#local-6989586621679467883"
	  ><span class="hs-identifier hs-var"
	    >p</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; [a] -&gt; [a]) -&gt; [a] -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Foldable.html#foldr"
	><span class="hs-identifier hs-var"
	  >foldr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679467885"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679467885"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467886"
      ><span class="annot"
	><span class="annottext"
	  >[a]
</span
	  ><a href="#local-6989586621679467886"
	  ><span class="hs-identifier hs-var"
	    >ys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; Bool
</span
	><a href="#local-6989586621679467883"
	><span class="hs-identifier hs-var"
	  >p</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679467885"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679467885"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a]
</span
	><a href="#local-6989586621679467886"
	><span class="hs-identifier hs-var"
	  >ys</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679467885"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-112"
      ></span
      ><span
      >
</span
      ><span id="line-113"
      ></span
      ><span id="local-6989586621679467574"
      ><span id="local-6989586621679467575"
	><span id="local-6989586621679467576"
	  ><span id="local-6989586621679467577"
	    ><span id="local-6989586621679467578"
	      ><span class="annot"
		><a href="PlutusIR.Purity.html#evalThis"
		  ><span class="hs-identifier hs-type"
		    >evalThis</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Purity.html#EvalTerm"
		  ><span class="hs-identifier hs-type"
		    >EvalTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467574"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467575"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467576"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467577"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467578"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Purity.html#EvalOrder"
		  ><span class="hs-identifier hs-type"
		    >EvalOrder</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467574"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467575"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467576"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467577"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467578"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-114"
      ></span
      ><span id="evalThis"
      ><span class="annot"
	><span class="annottext"
	  >evalThis :: forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	  ><a href="PlutusIR.Purity.html#evalThis"
	  ><span class="hs-identifier hs-var hs-var"
	    >evalThis</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467888"
      ><span class="annot"
	><span class="annottext"
	  >EvalTerm tyname name uni fun a
</span
	  ><a href="#local-6989586621679467888"
	  ><span class="hs-identifier hs-var"
	    >tm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DList (EvalTerm tyname name uni fun a)
-&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
DList (EvalTerm tyname name uni fun a)
-&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier hs-var"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
-&gt; DList (EvalTerm tyname name uni fun a)
forall a. a -&gt; DList a
</span
	><a href="https://hackage.haskell.org/package/dlist-1.0/docs/src/Data.DList.Internal.html#singleton"
	><span class="hs-identifier hs-var"
	  >DList.singleton</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
</span
	><a href="#local-6989586621679467888"
	><span class="hs-identifier hs-var"
	  >tm</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-115"
      ></span
      ><span
      >
</span
      ><span id="line-116"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      >
</span
      ><span id="line-117"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467596"
      ><span id="local-6989586621679467597"
	><span id="local-6989586621679467598"
	  ><span id="local-6989586621679467599"
	    ><span id="local-6989586621679467600"
	      ><span id="local-6989586621679467601"
		><span id="local-6989586621679467893"
		  ><span class="hs-special"
		    >(</span
		    ><span class="annot"
		    ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#PrettyBy"
		      ><span class="hs-identifier hs-type"
			>PrettyBy</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467596"
		      ><span class="hs-identifier hs-type"
			>config</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="hs-special"
		    >(</span
		    ><span class="annot"
		    ><a href="PlutusIR.Core.Type.html#Term"
		      ><span class="hs-identifier hs-type"
			>Term</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467597"
		      ><span class="hs-identifier hs-type"
			>tyname</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467598"
		      ><span class="hs-identifier hs-type"
			>name</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467599"
		      ><span class="hs-identifier hs-type"
			>uni</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467600"
		      ><span class="hs-identifier hs-type"
			>fun</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467601"
		      ><span class="hs-identifier hs-type"
			>a</span
			></a
		      ></span
		    ><span class="hs-special"
		    >)</span
		    ><span class="hs-special"
		    >)</span
		    ><span
		    >
</span
		    ><span id="line-118"
		    ></span
		    ><span
		    >  </span
		    ><span class="hs-glyph"
		    >=&gt;</span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#PrettyBy"
		      ><span class="hs-identifier hs-type"
			>PrettyBy</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467596"
		      ><span class="hs-identifier hs-type"
			>config</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="hs-special"
		    >(</span
		    ><span class="annot"
		    ><a href="PlutusIR.Purity.html#EvalOrder"
		      ><span class="hs-identifier hs-type"
			>EvalOrder</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467597"
		      ><span class="hs-identifier hs-type"
			>tyname</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467598"
		      ><span class="hs-identifier hs-type"
			>name</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467599"
		      ><span class="hs-identifier hs-type"
			>uni</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467600"
		      ><span class="hs-identifier hs-type"
			>fun</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679467601"
		      ><span class="hs-identifier hs-type"
			>a</span
			></a
		      ></span
		    ><span class="hs-special"
		    >)</span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-119"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-120"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467899"
      ><span class="annot"
	><span class="annottext"
	  >prettyBy :: forall ann. config -&gt; EvalOrder tyname name uni fun a -&gt; Doc ann
</span
	  ><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#prettyBy"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >prettyBy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467900"
      ><span class="annot"
	><span class="annottext"
	  >config
</span
	  ><a href="#local-6989586621679467900"
	  ><span class="hs-identifier hs-var"
	    >config</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467901"
      ><span class="annot"
	><span class="annottext"
	  >EvalOrder tyname name uni fun a
</span
	  ><a href="#local-6989586621679467901"
	  ><span class="hs-identifier hs-var"
	    >eo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Doc ann] -&gt; Doc ann
forall ann. [Doc ann] -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-1.7.1/docs/src/Prettyprinter.Internal.html#vsep"
	><span class="hs-identifier hs-var"
	  >vsep</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Doc ann] -&gt; Doc ann) -&gt; [Doc ann] -&gt; Doc ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(EvalTerm tyname name uni fun a -&gt; Doc ann)
-&gt; [EvalTerm tyname name uni fun a] -&gt; [Doc ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>config -&gt; EvalTerm tyname name uni fun a -&gt; Doc ann
forall ann. config -&gt; EvalTerm tyname name uni fun a -&gt; Doc ann
forall config a ann. PrettyBy config a =&gt; config -&gt; a -&gt; Doc ann
</span
	><a href="https://hackage.haskell.org/package/prettyprinter-configurable-1.36.0.0/docs/src/Text.PrettyBy.Internal.html#prettyBy"
	><span class="hs-identifier hs-var"
	  >prettyBy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>config
</span
	><a href="#local-6989586621679467900"
	><span class="hs-identifier hs-var"
	  >config</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a -&gt; [EvalTerm tyname name uni fun a]
forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a -&gt; [EvalTerm tyname name uni fun a]
</span
	><a href="PlutusIR.Purity.html#unEvalOrder"
	><span class="hs-identifier hs-var"
	  >unEvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467901"
	><span class="hs-identifier hs-var"
	  >eo</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-121"
      ></span
      ><span
      >
</span
      ><span id="line-122"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{- | Given a term, return the order in which it and its sub-terms will be evaluated.

This aims to be a sound under-approximation: if we don't know, we just say 'Unknown'.
Typically there will be a sequence of terms that we do know, which will terminate
in 'Unknown' once we do something like call a function.

This makes some assumptions about the evaluator, in particular about the order in
which we evaluate sub-terms, but these match the current evaluator and we are not
planning on changing it.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-132"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#termEvaluationOrder"
	><span class="hs-identifier hs-type"
	  >termEvaluationOrder</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-133"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679467615"
      ><span class="annot"
	><a href="#local-6989586621679467615"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467612"
      ><span class="annot"
	><a href="#local-6989586621679467612"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467610"
      ><span class="annot"
	><a href="#local-6989586621679467610"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467611"
      ><span class="annot"
	><a href="#local-6989586621679467611"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467616"
      ><span class="annot"
	><a href="#local-6989586621679467616"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-134"
      ></span
      ><span
      >   </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#ToBuiltinMeaning"
	><span class="hs-identifier hs-type"
	  >ToBuiltinMeaning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
	><span class="hs-identifier hs-type"
	  >PLC.HasUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier hs-type"
	  >PLC.TermUnique</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-135"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.Builtins.html#BuiltinsInfo"
	><span class="hs-identifier hs-type"
	  >BuiltinsInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-136"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.VarInfo.html#VarsInfo"
	><span class="hs-identifier hs-type"
	  >VarsInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-137"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-138"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier hs-type"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-139"
      ></span
      ><span id="termEvaluationOrder"
      ><span class="annot"
	><span class="annottext"
	  >termEvaluationOrder :: forall tyname name (uni :: * -&gt; *) fun a.
(ToBuiltinMeaning uni fun, HasUnique name TermUnique) =&gt;
BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
</span
	  ><a href="PlutusIR.Purity.html#termEvaluationOrder"
	  ><span class="hs-identifier hs-var hs-var"
	    >termEvaluationOrder</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467930"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinsInfo uni fun
</span
	  ><a href="#local-6989586621679467930"
	  ><span class="hs-identifier hs-var"
	    >binfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467931"
      ><span class="annot"
	><span class="annottext"
	  >VarsInfo tyname name uni a
</span
	  ><a href="#local-6989586621679467931"
	  ><span class="hs-identifier hs-var"
	    >vinfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-140"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-141"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-type"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier hs-type"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-142"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467932"
      ><span class="annot"
	><span class="annottext"
	  >goTerm :: Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	  ><a href="#local-6989586621679467932"
	  ><span class="hs-identifier hs-var hs-var"
	    >goTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-143"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467933"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467933"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-type"
	  >Let</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="PlutusIR.Core.Type.html#NonRec"
	><span class="hs-identifier hs-var"
	  >NonRec</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679467935"
      ><span class="annot"
	><span class="annottext"
	  >NonEmpty (Binding tyname name uni fun a)
</span
	  ><a href="#local-6989586621679467935"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467936"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467936"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-144"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- first the bindings, in order</span
      ><span
      >
</span
      ><span id="line-145"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>[Binding tyname name uni fun a] -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467937"
	><span class="hs-identifier hs-var"
	  >goBindings</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (Binding tyname name uni fun a)
-&gt; [Binding tyname name uni fun a]
forall a. NonEmpty a -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.List.NonEmpty.html#toList"
	><span class="hs-identifier hs-var"
	  >NE.toList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (Binding tyname name uni fun a)
</span
	><a href="#local-6989586621679467935"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-146"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then the body</span
      ><span
      >
</span
      ><span id="line-147"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467936"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-148"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then the whole term, which will lead to applications (so work)</span
      ><span
      >
</span
      ><span id="line-149"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467933"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-150"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-type"
	  >Let</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="PlutusIR.Core.Type.html#Rec"
	><span class="hs-identifier hs-var"
	  >Rec</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmpty (Binding tyname name uni fun a)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-151"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- Hard to know what gets evaluated first in a recursive let-binding,</span
      ><span
      >
</span
      ><span id="line-152"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- just give up</span
      ><span
      >
</span
      ><span id="line-153"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#Unknown"
	><span class="hs-identifier hs-var"
	  >Unknown</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-154"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- If we can view as a builtin application, then handle that specially</span
      ><span
      >
</span
      ><span id="line-155"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
-&gt; (Term tyname name uni fun a, AppContext tyname name uni fun a)
forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; (Term tyname name uni fun ann,
    AppContext tyname name uni fun ann)
</span
	><a href="PlutusIR.Contexts.html#splitApplication"
	><span class="hs-identifier hs-var"
	  >splitApplication</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Builtin"
	><span class="hs-identifier hs-type"
	  >Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679467940"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679467940"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467941"
      ><span class="annot"
	><span class="annottext"
	  >fun
</span
	  ><a href="#local-6989586621679467941"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679467942"
      ><span class="annot"
	><span class="annottext"
	  >AppContext tyname name uni fun a
</span
	  ><a href="#local-6989586621679467942"
	  ><span class="hs-identifier hs-var"
	    >args</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
-&gt; fun
-&gt; AppContext tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467943"
	><span class="hs-identifier hs-var"
	  >goBuiltinApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679467940"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621679467941"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="#local-6989586621679467942"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-156"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- If we can view as a constructor application, then handle that specially.</span
      ><span
      >
</span
      ><span id="line-157"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Constructor applications are always pure: if under-applied they don't</span
      ><span
      >
</span
      ><span id="line-158"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- reduce; if fully-applied they are pure; if over-applied it's going to be</span
      ><span
      >
</span
      ><span id="line-159"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- a type error since they never return a function. So we can ignore the arity</span
      ><span
      >
</span
      ><span id="line-160"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- in this case!</span
      ><span
      >
</span
      ><span id="line-161"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467944"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467944"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
-&gt; (Term tyname name uni fun a, AppContext tyname name uni fun a)
forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; (Term tyname name uni fun ann,
    AppContext tyname name uni fun ann)
</span
	><a href="PlutusIR.Contexts.html#splitApplication"
	><span class="hs-identifier hs-var"
	  >splitApplication</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679467945"
      ><span class="annot"
	><span class="annottext"
	  >h :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467945"
	  ><span class="hs-identifier hs-var"
	    >h</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Var"
	><span class="hs-identifier hs-type"
	  >Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467947"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679467947"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679467948"
      ><span class="annot"
	><span class="annottext"
	  >AppContext tyname name uni fun a
</span
	  ><a href="#local-6989586621679467948"
	  ><span class="hs-identifier hs-var"
	    >args</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-162"
      ></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.VarInfo.html#DatatypeConstructor"
	><span class="hs-identifier hs-type"
	  >DatatypeConstructor</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
-&gt; VarsInfo tyname name uni a -&gt; Maybe (VarInfo tyname name uni a)
forall name tyname (uni :: * -&gt; *) a.
HasUnique name TermUnique =&gt;
name
-&gt; VarsInfo tyname name uni a -&gt; Maybe (VarInfo tyname name uni a)
</span
	><a href="PlutusIR.Analysis.VarInfo.html#lookupVarInfo"
	><span class="hs-identifier hs-var"
	  >lookupVarInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679467947"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarsInfo tyname name uni a
</span
	><a href="#local-6989586621679467931"
	><span class="hs-identifier hs-var"
	  >vinfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-163"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467945"
	><span class="hs-identifier hs-var"
	  >h</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-164"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467949"
	><span class="hs-identifier hs-var"
	  >appContextEvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="#local-6989586621679467948"
	><span class="hs-identifier hs-var"
	  >args</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-165"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467944"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-166"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- No Unknown: we go to a known pure place, but we can't show it,</span
      ><span
      >
</span
      ><span id="line-167"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- so we just skip it here. This has the effect of making constructor</span
      ><span
      >
</span
      ><span id="line-168"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- applications pure</span
      ><span
      >
</span
      ><span id="line-169"
      ></span
      ><span
      >
</span
      ><span id="line-170"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- We could handle functions and type abstractions with *known* bodies</span
      ><span
      >
</span
      ><span id="line-171"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- here. But there's not much point: beta reduction will immediately</span
      ><span
      >
</span
      ><span id="line-172"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- turn those into let-bindings, which we do see through already.</span
      ><span
      >
</span
      ><span id="line-173"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467950"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467950"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Apply"
	><span class="hs-identifier hs-type"
	  >Apply</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467952"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467952"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467953"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467953"
	  ><span class="hs-identifier hs-var"
	    >arg</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-174"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- first the function</span
      ><span
      >
</span
      ><span id="line-175"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467952"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-176"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then the arg</span
      ><span
      >
</span
      ><span id="line-177"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467953"
	><span class="hs-identifier hs-var"
	  >arg</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-178"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then the whole term, which means environment manipulation, so work</span
      ><span
      >
</span
      ><span id="line-179"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467950"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-180"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then we go to the unknown function body</span
      ><span
      >
</span
      ><span id="line-181"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#Unknown"
	><span class="hs-identifier hs-var"
	  >Unknown</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-182"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467954"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467954"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#TyInst"
	><span class="hs-identifier hs-type"
	  >TyInst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467956"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467956"
	  ><span class="hs-identifier hs-var"
	    >ta</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-183"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- first the type abstraction</span
      ><span
      >
</span
      ><span id="line-184"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467956"
	><span class="hs-identifier hs-var"
	  >ta</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-185"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then the whole term, which will mean forcing, so work</span
      ><span
      >
</span
      ><span id="line-186"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467954"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-187"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then we go to the unknown body of the type abstraction</span
      ><span
      >
</span
      ><span id="line-188"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#Unknown"
	><span class="hs-identifier hs-var"
	  >Unknown</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-189"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467957"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467957"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#IWrap"
	><span class="hs-identifier hs-type"
	  >IWrap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467959"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467959"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-190"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- first the body</span
      ><span
      >
</span
      ><span id="line-191"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467959"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-192"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#WorkFree"
	><span class="hs-identifier hs-var"
	  >WorkFree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467957"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-193"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467960"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467960"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Unwrap"
	><span class="hs-identifier hs-type"
	  >Unwrap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467962"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467962"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-194"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- first the body</span
      ><span
      >
</span
      ><span id="line-195"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467962"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-196"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then the whole term, but this is erased so it is work-free</span
      ><span
      >
</span
      ><span id="line-197"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#WorkFree"
	><span class="hs-identifier hs-var"
	  >WorkFree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467960"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-198"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467963"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467963"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Constr"
	><span class="hs-identifier hs-type"
	  >Constr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467965"
      ><span class="annot"
	><span class="annottext"
	  >[Term tyname name uni fun a]
</span
	  ><a href="#local-6989586621679467965"
	  ><span class="hs-identifier hs-var"
	    >ts</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-199"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- first the arguments, in left-to-right order</span
      ><span
      >
</span
      ><span id="line-200"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a)
-&gt; [Term tyname name uni fun a] -&gt; EvalOrder tyname name uni fun a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Foldable.html#foldMap"
	><span class="hs-identifier hs-var"
	  >foldMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term tyname name uni fun a]
</span
	><a href="#local-6989586621679467965"
	><span class="hs-identifier hs-var"
	  >ts</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-201"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then the whole term, which means constructing the value, so work</span
      ><span
      >
</span
      ><span id="line-202"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467963"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-203"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467967"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467967"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Case"
	><span class="hs-identifier hs-type"
	  >Case</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467969"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467969"
	  ><span class="hs-identifier hs-var"
	    >scrut</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term tyname name uni fun a]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-204"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- first the scrutinee</span
      ><span
      >
</span
      ><span id="line-205"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467969"
	><span class="hs-identifier hs-var"
	  >scrut</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-206"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then the whole term, which means finding the case so work</span
      ><span
      >
</span
      ><span id="line-207"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467967"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-208"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- then we go to an unknown scrutinee</span
      ><span
      >
</span
      ><span id="line-209"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#Unknown"
	><span class="hs-identifier hs-var"
	  >Unknown</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-210"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Leaf terms</span
      ><span
      >
</span
      ><span id="line-211"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467970"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467970"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Var"
	><span class="hs-identifier hs-type"
	  >Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467971"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679467971"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-212"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- See Note [Purity, strictness, and variables]</span
      ><span
      >
</span
      ><span id="line-213"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679467972"
      ><span class="annot"
	><span class="annottext"
	  >purity :: Purity
</span
	  ><a href="#local-6989586621679467972"
	  ><span class="hs-identifier hs-var hs-var"
	    >purity</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarInfo tyname name uni a -&gt; Strictness
forall tyname name (uni :: * -&gt; *) a.
VarInfo tyname name uni a -&gt; Strictness
</span
	><a href="PlutusIR.Analysis.VarInfo.html#varInfoStrictness"
	><span class="hs-identifier hs-var"
	  >varInfoStrictness</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(VarInfo tyname name uni a -&gt; Strictness)
-&gt; Maybe (VarInfo tyname name uni a) -&gt; Maybe Strictness
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
-&gt; VarsInfo tyname name uni a -&gt; Maybe (VarInfo tyname name uni a)
forall name tyname (uni :: * -&gt; *) a.
HasUnique name TermUnique =&gt;
name
-&gt; VarsInfo tyname name uni a -&gt; Maybe (VarInfo tyname name uni a)
</span
	><a href="PlutusIR.Analysis.VarInfo.html#lookupVarInfo"
	><span class="hs-identifier hs-var"
	  >lookupVarInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679467971"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarsInfo tyname name uni a
</span
	><a href="#local-6989586621679467931"
	><span class="hs-identifier hs-var"
	  >vinfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-214"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="PlutusIR.Core.Type.html#Strict"
	><span class="hs-identifier hs-var"
	  >Strict</span
	  ></a
	></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-215"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="PlutusIR.Core.Type.html#NonStrict"
	><span class="hs-identifier hs-var"
	  >NonStrict</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#MaybeImpure"
	><span class="hs-identifier hs-var"
	  >MaybeImpure</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-216"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Strictness
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >              </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#MaybeImpure"
	><span class="hs-identifier hs-var"
	  >MaybeImpure</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-217"
      ></span
      ><span
      >       </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- looking up the variable is work</span
      ><span
      >
</span
      ><span id="line-218"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="#local-6989586621679467972"
	><span class="hs-identifier hs-var"
	  >purity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467970"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-219"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467974"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467974"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Error"
	><span class="hs-identifier hs-type"
	  >Error</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-220"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- definitely effectful! but not relevant from a work perspective</span
      ><span
      >
</span
      ><span id="line-221"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#MaybeImpure"
	><span class="hs-identifier hs-var"
	  >MaybeImpure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#WorkFree"
	><span class="hs-identifier hs-var"
	  >WorkFree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467974"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-222"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- program terminates</span
      ><span
      >
</span
      ><span id="line-223"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#Unknown"
	><span class="hs-identifier hs-var"
	  >Unknown</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-224"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467976"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467976"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Builtin"
	><span class="hs-identifier hs-type"
	  >Builtin</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-225"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#WorkFree"
	><span class="hs-identifier hs-var"
	  >WorkFree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467976"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-226"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467977"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467977"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#TyAbs"
	><span class="hs-identifier hs-type"
	  >TyAbs</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-227"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#WorkFree"
	><span class="hs-identifier hs-var"
	  >WorkFree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467977"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-228"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467979"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467979"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-type"
	  >LamAbs</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-229"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#WorkFree"
	><span class="hs-identifier hs-var"
	  >WorkFree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467979"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-230"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467981"
      ><span class="annot"
	><span class="annottext"
	  >t :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467981"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-type"
	  >Constant</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-231"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#WorkFree"
	><span class="hs-identifier hs-var"
	  >WorkFree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467981"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-232"
      ></span
      ><span
      >
</span
      ><span id="line-233"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679467937"
	><span class="hs-identifier hs-type"
	  >goBindings</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Binding"
	><span class="hs-identifier hs-type"
	  >Binding</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier hs-type"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-234"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467937"
      ><span class="annot"
	><span class="annottext"
	  >goBindings :: [Binding tyname name uni fun a] -&gt; EvalOrder tyname name uni fun a
</span
	  ><a href="#local-6989586621679467937"
	  ><span class="hs-identifier hs-var hs-var"
	    >goBindings</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-235"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679467937"
	><span class="hs-identifier hs-var"
	  >goBindings</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679467983"
      ><span class="annot"
	><span class="annottext"
	  >Binding tyname name uni fun a
</span
	  ><a href="#local-6989586621679467983"
	  ><span class="hs-identifier hs-var"
	    >b</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679467984"
      ><span class="annot"
	><span class="annottext"
	  >[Binding tyname name uni fun a]
</span
	  ><a href="#local-6989586621679467984"
	  ><span class="hs-identifier hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Binding tyname name uni fun a
</span
	><a href="#local-6989586621679467983"
	><span class="hs-identifier hs-var"
	  >b</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-236"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Only strict term bindings get evaluated at this point</span
      ><span
      >
</span
      ><span id="line-237"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#TermBind"
	><span class="hs-identifier hs-type"
	  >TermBind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="PlutusIR.Core.Type.html#Strict"
	><span class="hs-identifier hs-var"
	  >Strict</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl tyname name uni a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467985"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467985"
	  ><span class="hs-identifier hs-var"
	    >rhs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467985"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-238"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Binding tyname name uni fun a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >                       </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Binding tyname name uni fun a] -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467937"
	><span class="hs-identifier hs-var"
	  >goBindings</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Binding tyname name uni fun a]
</span
	><a href="#local-6989586621679467984"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-239"
      ></span
      ><span
      >
</span
      ><span id="line-240"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679467943"
	><span class="hs-identifier hs-type"
	  >goBuiltinApp</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#AppContext"
	><span class="hs-identifier hs-type"
	  >AppContext</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier hs-type"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-241"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467943"
      ><span class="annot"
	><span class="annottext"
	  >goBuiltinApp :: a
-&gt; fun
-&gt; AppContext tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
</span
	  ><a href="#local-6989586621679467943"
	  ><span class="hs-identifier hs-var hs-var"
	    >goBuiltinApp</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467986"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679467986"
	  ><span class="hs-identifier hs-var"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467987"
      ><span class="annot"
	><span class="annottext"
	  >fun
</span
	  ><a href="#local-6989586621679467987"
	  ><span class="hs-identifier hs-var"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467988"
      ><span class="annot"
	><span class="annottext"
	  >AppContext tyname name uni fun a
</span
	  ><a href="#local-6989586621679467988"
	  ><span class="hs-identifier hs-var"
	    >appContext</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467949"
	><span class="hs-identifier hs-var"
	  >appContextEvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="#local-6989586621679467988"
	><span class="hs-identifier hs-var"
	  >appContext</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467989"
	><span class="hs-identifier hs-var"
	  >evalOrder</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-242"
      ></span
      ><span
      >   </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-243"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679467989"
	><span class="hs-identifier hs-type"
	  >evalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier hs-type"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-244"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467989"
      ><span class="annot"
	><span class="annottext"
	  >evalOrder :: EvalOrder tyname name uni fun a
</span
	  ><a href="#local-6989586621679467989"
	  ><span class="hs-identifier hs-var hs-var"
	    >evalOrder</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a -&gt; Arity -&gt; Maybe Saturation
forall tyname name (uni :: * -&gt; *) fun a.
AppContext tyname name uni fun a -&gt; Arity -&gt; Maybe Saturation
</span
	><a href="PlutusIR.Contexts.html#saturates"
	><span class="hs-identifier hs-var"
	  >saturates</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="#local-6989586621679467988"
	><span class="hs-identifier hs-var"
	  >appContext</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun -&gt; fun -&gt; Arity
forall (uni :: * -&gt; *) fun.
ToBuiltinMeaning uni fun =&gt;
BuiltinsInfo uni fun -&gt; fun -&gt; Arity
</span
	><a href="PlutusIR.Analysis.Builtins.html#builtinArityInfo"
	><span class="hs-identifier hs-var"
	  >builtinArityInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
</span
	><a href="#local-6989586621679467930"
	><span class="hs-identifier hs-var"
	  >binfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621679467987"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-245"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- If it's saturated or oversaturated, we might have an effect here</span
      ><span
      >
</span
      ><span id="line-246"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Saturation
</span
	><a href="PlutusIR.Contexts.html#Saturated"
	><span class="hs-identifier hs-var"
	  >Saturated</span
	  ></a
	></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467990"
	><span class="hs-identifier hs-var"
	  >maybeImpureWork</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-247"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Saturation
</span
	><a href="PlutusIR.Contexts.html#Oversaturated"
	><span class="hs-identifier hs-var"
	  >Oversaturated</span
	  ></a
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467990"
	><span class="hs-identifier hs-var"
	  >maybeImpureWork</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-248"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- TODO: previous definition of work-free included this, it's slightly</span
      ><span
      >
</span
      ><span id="line-249"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- unclear if we should do since we do update partial builtin meanings</span
      ><span
      >
</span
      ><span id="line-250"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- etc.</span
      ><span
      >
</span
      ><span id="line-251"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- If it's unsaturated, we definitely don't do any work</span
      ><span
      >
</span
      ><span id="line-252"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Saturation
</span
	><a href="PlutusIR.Contexts.html#Undersaturated"
	><span class="hs-identifier hs-var"
	  >Undersaturated</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467991"
	><span class="hs-identifier hs-var"
	  >pureWorkFree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-253"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- Don't know, be conservative</span
      ><span
      >
</span
      ><span id="line-254"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe Saturation
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >             </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467990"
	><span class="hs-identifier hs-var"
	  >maybeImpureWork</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-255"
      ></span
      ><span
      >
</span
      ><span id="line-256"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679467990"
	><span class="hs-identifier hs-type"
	  >maybeImpureWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier hs-type"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-257"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467990"
      ><span class="annot"
	><span class="annottext"
	  >maybeImpureWork :: EvalOrder tyname name uni fun a
</span
	  ><a href="#local-6989586621679467990"
	  ><span class="hs-identifier hs-var hs-var"
	    >maybeImpureWork</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#MaybeImpure"
	><span class="hs-identifier hs-var"
	  >MaybeImpure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467992"
	><span class="hs-identifier hs-var"
	  >reconstructed</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-258"
      ></span
      ><span
      >
</span
      ><span id="line-259"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679467991"
	><span class="hs-identifier hs-type"
	  >pureWorkFree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier hs-type"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-260"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467991"
      ><span class="annot"
	><span class="annottext"
	  >pureWorkFree :: EvalOrder tyname name uni fun a
</span
	  ><a href="#local-6989586621679467991"
	  ><span class="hs-identifier hs-var hs-var"
	    >pureWorkFree</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
EvalTerm tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#evalThis"
	><span class="hs-identifier hs-var"
	  >evalThis</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
Purity
-&gt; WorkFreedom
-&gt; Term tyname name uni fun a
-&gt; EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-var"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#WorkFree"
	><span class="hs-identifier hs-var"
	  >WorkFree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467992"
	><span class="hs-identifier hs-var"
	  >reconstructed</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-261"
      ></span
      ><span
      >
</span
      ><span id="line-262"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679467992"
	><span class="hs-identifier hs-type"
	  >reconstructed</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-263"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679467992"
      ><span class="annot"
	><span class="annottext"
	  >reconstructed :: Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467992"
	  ><span class="hs-identifier hs-var hs-var"
	    >reconstructed</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
-&gt; AppContext tyname name uni fun a -&gt; Term tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann
-&gt; AppContext tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span
	><a href="PlutusIR.Contexts.html#fillAppContext"
	><span class="hs-identifier hs-var"
	  >fillAppContext</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; fun -&gt; Term tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; fun -&gt; Term tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#Builtin"
	><span class="hs-identifier hs-var"
	  >Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679467986"
	><span class="hs-identifier hs-var"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>fun
</span
	><a href="#local-6989586621679467987"
	><span class="hs-identifier hs-var"
	  >fun</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="#local-6989586621679467988"
	><span class="hs-identifier hs-var"
	  >appContext</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-264"
      ></span
      ><span
      >
</span
      ><span id="line-265"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679467949"
	><span class="hs-identifier hs-type"
	  >appContextEvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#AppContext"
	><span class="hs-identifier hs-type"
	  >AppContext</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalOrder"
	><span class="hs-identifier hs-type"
	  >EvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467615"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467612"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467610"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467611"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679467616"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-266"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467949"
      ><span class="annot"
	><span class="annottext"
	  >appContextEvalOrder :: AppContext tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	  ><a href="#local-6989586621679467949"
	  ><span class="hs-identifier hs-var hs-var"
	    >appContextEvalOrder</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-267"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="PlutusIR.Contexts.html#AppContextEnd"
	><span class="hs-identifier hs-var"
	  >AppContextEnd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-268"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#TermAppContext"
	><span class="hs-identifier hs-type"
	  >TermAppContext</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679467993"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679467993"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467994"
      ><span class="annot"
	><span class="annottext"
	  >AppContext tyname name uni fun a
</span
	  ><a href="#local-6989586621679467994"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467932"
	><span class="hs-identifier hs-var"
	  >goTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679467993"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >&lt;&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467949"
	><span class="hs-identifier hs-var"
	  >appContextEvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="#local-6989586621679467994"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-269"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusIR.Contexts.html#TypeAppContext"
	><span class="hs-identifier hs-type"
	  >TypeAppContext</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679467995"
      ><span class="annot"
	><span class="annottext"
	  >AppContext tyname name uni fun a
</span
	  ><a href="#local-6989586621679467995"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a -&gt; EvalOrder tyname name uni fun a
</span
	><a href="#local-6989586621679467949"
	><span class="hs-identifier hs-var"
	  >appContextEvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AppContext tyname name uni fun a
</span
	><a href="#local-6989586621679467995"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-270"
      ></span
      ><span
      >
</span
      ><span id="line-271"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{- | Will evaluating this term have side effects (looping or error)?
This is slightly wider than the definition of a value, as
it includes applications that are known to be pure, as well as
things that can't be returned from the machine (as they'd be ill-scoped).
-}</span
	></span
      ><span
      >
</span
      ><span id="line-276"
      ></span
      ><span id="local-6989586621679467671"
      ><span id="local-6989586621679467672"
	><span id="local-6989586621679467673"
	  ><span id="local-6989586621679467674"
	    ><span id="local-6989586621679467675"
	      ><span class="annot"
		><a href="PlutusIR.Purity.html#isPure"
		  ><span class="hs-identifier hs-type"
		    >isPure</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-277"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#ToBuiltinMeaning"
		  ><span class="hs-identifier hs-type"
		    >ToBuiltinMeaning</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467671"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467672"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >PLC.HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467673"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >PLC.TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-278"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Analysis.Builtins.html#BuiltinsInfo"
		  ><span class="hs-identifier hs-type"
		    >BuiltinsInfo</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467671"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467672"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-279"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Analysis.VarInfo.html#VarsInfo"
		  ><span class="hs-identifier hs-type"
		    >VarsInfo</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467674"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467673"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467671"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467675"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-280"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467674"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467673"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467671"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467672"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467675"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-281"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		  ><span class="hs-identifier hs-type"
		    >Bool</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-282"
      ></span
      ><span id="isPure"
      ><span class="annot"
	><span class="annottext"
	  >isPure :: forall (uni :: * -&gt; *) fun name tyname a.
(ToBuiltinMeaning uni fun, HasUnique name TermUnique) =&gt;
BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni a -&gt; Term tyname name uni fun a -&gt; Bool
</span
	  ><a href="PlutusIR.Purity.html#isPure"
	  ><span class="hs-identifier hs-var hs-var"
	    >isPure</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679468000"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinsInfo uni fun
</span
	  ><a href="#local-6989586621679468000"
	  ><span class="hs-identifier hs-var"
	    >binfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679468001"
      ><span class="annot"
	><span class="annottext"
	  >VarsInfo tyname name uni a
</span
	  ><a href="#local-6989586621679468001"
	  ><span class="hs-identifier hs-var"
	    >vinfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679468002"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679468002"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-283"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- to work out if the term is pure, we see if we can look through</span
      ><span
      >
</span
      ><span id="line-284"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- the whole evaluation order without hitting something that might be</span
      ><span
      >
</span
      ><span id="line-285"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- effectful</span
      ><span
      >
</span
      ><span id="line-286"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun a] -&gt; Bool
forall tyname name (uni :: * -&gt; *) fun a.
[EvalTerm tyname name uni fun a] -&gt; Bool
</span
	><a href="#local-6989586621679468003"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([EvalTerm tyname name uni fun a] -&gt; Bool)
-&gt; [EvalTerm tyname name uni fun a] -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a -&gt; [EvalTerm tyname name uni fun a]
forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a -&gt; [EvalTerm tyname name uni fun a]
</span
	><a href="PlutusIR.Purity.html#unEvalOrder"
	><span class="hs-identifier hs-var"
	  >unEvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
(ToBuiltinMeaning uni fun, HasUnique name TermUnique) =&gt;
BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#termEvaluationOrder"
	><span class="hs-identifier hs-var"
	  >termEvaluationOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
</span
	><a href="#local-6989586621679468000"
	><span class="hs-identifier hs-var"
	  >binfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarsInfo tyname name uni a
</span
	><a href="#local-6989586621679468001"
	><span class="hs-identifier hs-var"
	  >vinfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679468002"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-287"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-288"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679467681"
      ><span id="local-6989586621679467682"
	><span id="local-6989586621679467683"
	  ><span id="local-6989586621679467684"
	    ><span id="local-6989586621679467685"
	      ><span class="annot"
		><a href="#local-6989586621679468003"
		  ><span class="hs-identifier hs-type"
		    >go</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>[</span
		><span class="annot"
		><a href="PlutusIR.Purity.html#EvalTerm"
		  ><span class="hs-identifier hs-type"
		    >EvalTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467681"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467682"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467683"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467684"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679467685"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span class="hs-special"
		>]</span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		  ><span class="hs-identifier hs-type"
		    >Bool</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-289"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679468003"
      ><span class="annot"
	><span class="annottext"
	  >go :: forall tyname name (uni :: * -&gt; *) fun a.
[EvalTerm tyname name uni fun a] -&gt; Bool
</span
	  ><a href="#local-6989586621679468003"
	  ><span class="hs-identifier hs-var hs-var"
	    >go</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-290"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679468003"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679468004"
      ><span class="annot"
	><span class="annottext"
	  >EvalTerm tyname name uni fun a
</span
	  ><a href="#local-6989586621679468004"
	  ><span class="hs-identifier hs-var"
	    >et</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679468005"
      ><span class="annot"
	><span class="annottext"
	  >[EvalTerm tyname name uni fun a]
</span
	  ><a href="#local-6989586621679468005"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
</span
	><a href="#local-6989586621679468004"
	><span class="hs-identifier hs-var"
	  >et</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-291"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Might be an effect here!</span
      ><span
      >
</span
      ><span id="line-292"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-type"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#MaybeImpure"
	><span class="hs-identifier hs-var"
	  >MaybeImpure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-293"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- This term is fine, what about the rest?</span
      ><span
      >
</span
      ><span id="line-294"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-type"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun a] -&gt; Bool
forall tyname name (uni :: * -&gt; *) fun a.
[EvalTerm tyname name uni fun a] -&gt; Bool
</span
	><a href="#local-6989586621679468003"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun a]
</span
	><a href="#local-6989586621679468005"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-295"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- We don't know what will happen, so be conservative</span
      ><span
      >
</span
      ><span id="line-296"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#Unknown"
	><span class="hs-identifier hs-var"
	  >Unknown</span
	  ></a
	></span
      ><span
      >                  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-297"
      ></span
      ><span
      >
</span
      ><span id="line-298"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{- | Is the given term 'work-free'?

Note: The definition of 'work-free' is a little unclear, but the idea is that
evaluating this term should do very a trivial amount of work.
-}</span
	></span
      ><span
      >
</span
      ><span id="line-303"
      ></span
      ><span id="local-6989586621679468006"
      ><span id="local-6989586621679468007"
	><span id="local-6989586621679468008"
	  ><span id="local-6989586621679468009"
	    ><span id="local-6989586621679468010"
	      ><span class="annot"
		><a href="PlutusIR.Purity.html#isWorkFree"
		  ><span class="hs-identifier hs-type"
		    >isWorkFree</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-304"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#ToBuiltinMeaning"
		  ><span class="hs-identifier hs-type"
		    >ToBuiltinMeaning</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468006"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468007"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >PLC.HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468008"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >PLC.TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-305"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Analysis.Builtins.html#BuiltinsInfo"
		  ><span class="hs-identifier hs-type"
		    >BuiltinsInfo</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468006"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468007"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-306"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Analysis.VarInfo.html#VarsInfo"
		  ><span class="hs-identifier hs-type"
		    >VarsInfo</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468009"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468008"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468006"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468010"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-307"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468009"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468008"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468006"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468007"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468010"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-308"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		  ><span class="hs-identifier hs-type"
		    >Bool</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-309"
      ></span
      ><span id="isWorkFree"
      ><span class="annot"
	><span class="annottext"
	  >isWorkFree :: forall (uni :: * -&gt; *) fun name tyname a.
(ToBuiltinMeaning uni fun, HasUnique name TermUnique) =&gt;
BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni a -&gt; Term tyname name uni fun a -&gt; Bool
</span
	  ><a href="PlutusIR.Purity.html#isWorkFree"
	  ><span class="hs-identifier hs-var hs-var"
	    >isWorkFree</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679468015"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinsInfo uni fun
</span
	  ><a href="#local-6989586621679468015"
	  ><span class="hs-identifier hs-var"
	    >binfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679468016"
      ><span class="annot"
	><span class="annottext"
	  >VarsInfo tyname name uni a
</span
	  ><a href="#local-6989586621679468016"
	  ><span class="hs-identifier hs-var"
	    >vinfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679468017"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun a
</span
	  ><a href="#local-6989586621679468017"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-310"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- to work out if the term is pure, we see if we can look through</span
      ><span
      >
</span
      ><span id="line-311"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- the whole evaluation order without hitting something that might be</span
      ><span
      >
</span
      ><span id="line-312"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- effectful</span
      ><span
      >
</span
      ><span id="line-313"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun a] -&gt; Bool
forall tyname name (uni :: * -&gt; *) fun a.
[EvalTerm tyname name uni fun a] -&gt; Bool
</span
	><a href="#local-6989586621679468018"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([EvalTerm tyname name uni fun a] -&gt; Bool)
-&gt; [EvalTerm tyname name uni fun a] -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun a -&gt; [EvalTerm tyname name uni fun a]
forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a -&gt; [EvalTerm tyname name uni fun a]
</span
	><a href="PlutusIR.Purity.html#unEvalOrder"
	><span class="hs-identifier hs-var"
	  >unEvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
(ToBuiltinMeaning uni fun, HasUnique name TermUnique) =&gt;
BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#termEvaluationOrder"
	><span class="hs-identifier hs-var"
	  >termEvaluationOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
</span
	><a href="#local-6989586621679468015"
	><span class="hs-identifier hs-var"
	  >binfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarsInfo tyname name uni a
</span
	><a href="#local-6989586621679468016"
	><span class="hs-identifier hs-var"
	  >vinfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><a href="#local-6989586621679468017"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-314"
      ></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-315"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679468019"
      ><span id="local-6989586621679468020"
	><span id="local-6989586621679468021"
	  ><span id="local-6989586621679468022"
	    ><span id="local-6989586621679468023"
	      ><span class="annot"
		><a href="#local-6989586621679468018"
		  ><span class="hs-identifier hs-type"
		    >go</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>[</span
		><span class="annot"
		><a href="PlutusIR.Purity.html#EvalTerm"
		  ><span class="hs-identifier hs-type"
		    >EvalTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468019"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468020"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468021"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468022"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679468023"
		  ><span class="hs-identifier hs-type"
		    >a</span
		    ></a
		  ></span
		><span class="hs-special"
		>]</span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		  ><span class="hs-identifier hs-type"
		    >Bool</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-316"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679468018"
      ><span class="annot"
	><span class="annottext"
	  >go :: forall tyname name (uni :: * -&gt; *) fun a.
[EvalTerm tyname name uni fun a] -&gt; Bool
</span
	  ><a href="#local-6989586621679468018"
	  ><span class="hs-identifier hs-var hs-var"
	    >go</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-317"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="#local-6989586621679468018"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679468024"
      ><span class="annot"
	><span class="annottext"
	  >EvalTerm tyname name uni fun a
</span
	  ><a href="#local-6989586621679468024"
	  ><span class="hs-identifier hs-var"
	    >et</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679468025"
      ><span class="annot"
	><span class="annottext"
	  >[EvalTerm tyname name uni fun a]
</span
	  ><a href="#local-6989586621679468025"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
</span
	><a href="#local-6989586621679468024"
	><span class="hs-identifier hs-var"
	  >et</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-318"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- Might be an effect here!</span
      ><span
      >
</span
      ><span id="line-319"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-type"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#MaybeWork"
	><span class="hs-identifier hs-var"
	  >MaybeWork</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-320"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- This term is fine, what about the rest?</span
      ><span
      >
</span
      ><span id="line-321"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-type"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><a href="PlutusIR.Purity.html#WorkFree"
	><span class="hs-identifier hs-var"
	  >WorkFree</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun a] -&gt; Bool
forall tyname name (uni :: * -&gt; *) fun a.
[EvalTerm tyname name uni fun a] -&gt; Bool
</span
	><a href="#local-6989586621679468018"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun a]
</span
	><a href="#local-6989586621679468025"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-322"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- We don't know what will happen, so be conservative</span
      ><span
      >
</span
      ><span id="line-323"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#Unknown"
	><span class="hs-identifier hs-var"
	  >Unknown</span
	  ></a
	></span
      ><span
      >                </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-324"
      ></span
      ><span
      >
</span
      ><span id="line-325"
      ></span
      ><span class="hs-comment"
      >{- Note [Purity, strictness, and variables]
Variables in PLC won't have effects: they can have something else substituted for them,
but those will be fully evaluated already.
However, in PIR we have non-strict variable bindings.
References to non-strict variables *can* have effects - after all,
they compile into an application.

So we need to take this into account in our purity calculation.
We require the user to tell us which variables are strict, this
must be *conservative* (i.e. if you don't know, it's non-strict).
-}</span
      ><span
      >
</span
      ><span id="line-336"
      ></span
      ></pre
    ></body
  ></html
>

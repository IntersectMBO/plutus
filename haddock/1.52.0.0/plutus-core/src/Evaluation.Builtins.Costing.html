<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-comment"
      >-- editorconfig-checker-disable-file</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleInstances #-}</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeApplications  #-}</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="hs-pragma"
      >{-# OPTIONS_GHC -fno-warn-orphans #-}</span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >Evaluation.Builtins.Costing</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.html"
	><span class="hs-identifier"
	  >PlutusCore</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.CostStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudget.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.ExBudget</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetStream.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.ExBudgetStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemory.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.ExMemory</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html"
	><span class="hs-identifier"
	  >PlutusCore.Evaluation.Machine.ExMemoryUsage</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Generators.QuickCheck.Builtin.html"
	><span class="hs-identifier"
	  >PlutusCore.Generators.QuickCheck.Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Generators.QuickCheck.Builtin.html#magnitudesPositive"
	><span class="hs-identifier"
	  >magnitudesPositive</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Generators.QuickCheck.Utils.html"
	><span class="hs-identifier"
	  >PlutusCore.Generators.QuickCheck.Utils</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html"
	><span class="hs-identifier"
	  >Data.Bifunctor</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Int.html"
	><span class="hs-identifier"
	  >Data.Int</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.List.html"
	><span class="hs-identifier"
	  >Data.List</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Maybe.html"
	><span class="hs-identifier"
	  >Data.Maybe</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html"
	><span class="hs-identifier"
	  >Data.SatInt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Test.QuickCheck.Gen</span
	></span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.html"
	><span class="hs-identifier"
	  >Test.Tasty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html"
	><span class="hs-identifier"
	  >Test.Tasty.QuickCheck</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >hiding</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier"
	>Some</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span id="local-6989586621679266815"
      ><span id="local-6989586621679266823"
	><span id="local-6989586621679266831"
	  ><span id="local-6989586621679266837"
	    ><span id="local-6989586621679266841"
	      ><span id="local-6989586621679266845"
		><span id="local-6989586621679266849"
		  ><span id="local-6989586621679266853"
		    ><span id="local-6989586621679266857"
		      ><span id="local-6989586621679266861"
			><span id="local-6989586621679266865"
			  ><span id="local-6989586621679266869"
			    ><span id="local-6989586621679266875"
			      ><span id="local-6989586621679266883"
				><span id="local-6989586621679266891"
				  ><span id="local-6989586621679266899"
				    ><span id="local-6989586621679266907"
				      ><span class="hs-keyword"
					>deriving</span
					><span
					> </span
					><span class="annot"
					><span class="hs-keyword"
					  >newtype</span
					  ></span
					><span
					> </span
					><span class="hs-keyword"
					>instance</span
					><span
					> </span
					><span class="annot"
					><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#Foldable"
					  ><span class="hs-identifier hs-type"
					    >Foldable</span
					    ></a
					  ></span
					><span
					> </span
					><span class="annot"
					><span class="hs-identifier hs-type"
					  >NonEmptyList</span
					  ></span
					></span
				      ></span
				    ></span
				  ></span
				></span
			      ></span
			    ></span
			  ></span
			></span
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- QuickCheck...</span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span class="hs-comment"
      >-- | Direct equality of two 'CostStream's. Same as @deriving stock Eq@. We don't want to do the</span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span class="hs-comment"
      >-- latter, because the semantics of a 'CostStream' are those of the sum of its elements and the</span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span class="hs-comment"
      >-- derived 'Eq' instance would conflict with that.</span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#eqCostStream"
	><span class="hs-identifier hs-type"
	  >eqCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostStream"
	><span class="hs-identifier hs-type"
	  >CostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostStream"
	><span class="hs-identifier hs-type"
	  >CostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span id="eqCostStream"
      ><span class="annot"
	><span class="annottext"
	  >eqCostStream :: CostStream -&gt; CostStream -&gt; Bool
</span
	  ><a href="Evaluation.Builtins.Costing.html#eqCostStream"
	  ><span class="hs-identifier hs-var hs-var"
	    >eqCostStream</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostLast"
	><span class="hs-identifier hs-type"
	  >CostLast</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266915"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266915"
	  ><span class="hs-identifier hs-var"
	    >cost1</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostLast"
	><span class="hs-identifier hs-type"
	  >CostLast</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266916"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266916"
	  ><span class="hs-identifier hs-var"
	    >cost2</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266915"
	><span class="hs-identifier hs-var"
	  >cost1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266916"
	><span class="hs-identifier hs-var"
	  >cost2</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#eqCostStream"
	><span class="hs-identifier hs-var"
	  >eqCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostCons"
	><span class="hs-identifier hs-type"
	  >CostCons</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266918"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266918"
	  ><span class="hs-identifier hs-var"
	    >cost1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679266919"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679266919"
	  ><span class="hs-identifier hs-var"
	    >costs1</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostCons"
	><span class="hs-identifier hs-type"
	  >CostCons</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266920"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266920"
	  ><span class="hs-identifier hs-var"
	    >cost2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679266921"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679266921"
	  ><span class="hs-identifier hs-var"
	    >costs2</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266918"
	><span class="hs-identifier hs-var"
	  >cost1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266920"
	><span class="hs-identifier hs-var"
	  >cost2</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; Bool
</span
	><a href="Evaluation.Builtins.Costing.html#eqCostStream"
	><span class="hs-identifier hs-var"
	  >eqCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679266919"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679266921"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#eqCostStream"
	><span class="hs-identifier hs-var"
	  >eqCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-37"
      ></span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-type"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>NonEmptyList</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemory.html#CostingInteger"
	><span class="hs-identifier hs-type"
	  >CostingInteger</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostStream"
	><span class="hs-identifier hs-type"
	  >CostStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span id="fromCostList"
      ><span class="annot"
	><span class="annottext"
	  >fromCostList :: NonEmptyList SatInt -&gt; CostStream
</span
	  ><a href="Evaluation.Builtins.Costing.html#fromCostList"
	  ><span class="hs-identifier hs-var hs-var"
	    >fromCostList</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >)</span
      ><span
      >               </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; CostStream
forall a. HasCallStack =&gt; [Char] -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Err.html#error"
	><span class="hs-identifier hs-var"
	  >error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;Panic: an empty non-empty list&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679266927"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266927"
	  ><span class="hs-identifier hs-var"
	    >cost0</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266928"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679266928"
	  ><span class="hs-identifier hs-var"
	    >costs0</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; CostStream
</span
	><a href="#local-6989586621679266929"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266927"
	><span class="hs-identifier hs-var"
	  >cost0</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679266928"
	><span class="hs-identifier hs-var"
	  >costs0</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679266929"
      ><span class="annot"
	><span class="annottext"
	  >go :: SatInt -&gt; [SatInt] -&gt; CostStream
</span
	  ><a href="#local-6989586621679266929"
	  ><span class="hs-identifier hs-var hs-var"
	    >go</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679266930"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266930"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >              </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostLast"
	><span class="hs-identifier hs-var"
	  >CostLast</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266930"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679266929"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266931"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266931"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679266932"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266932"
	  ><span class="hs-identifier hs-var"
	    >cost'</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266933"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679266933"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostCons"
	><span class="hs-identifier hs-var"
	  >CostCons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266931"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; CostStream) -&gt; CostStream -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; CostStream
</span
	><a href="#local-6989586621679266929"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266932"
	><span class="hs-identifier hs-var"
	  >cost'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679266933"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-type"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostStream"
	><span class="hs-identifier hs-type"
	  >CostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>NonEmptyList</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemory.html#CostingInteger"
	><span class="hs-identifier hs-type"
	  >CostingInteger</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span id="toCostList"
      ><span class="annot"
	><span class="annottext"
	  >toCostList :: CostStream -&gt; NonEmptyList SatInt
</span
	  ><a href="Evaluation.Builtins.Costing.html#toCostList"
	  ><span class="hs-identifier hs-var hs-var"
	    >toCostList</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; NonEmptyList SatInt
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; NonEmptyList SatInt)
-&gt; (CostStream -&gt; [SatInt]) -&gt; CostStream -&gt; NonEmptyList SatInt
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; [SatInt]
</span
	><a href="#local-6989586621679266936"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679266936"
      ><span class="annot"
	><span class="annottext"
	  >go :: CostStream -&gt; [SatInt]
</span
	  ><a href="#local-6989586621679266936"
	  ><span class="hs-identifier hs-var hs-var"
	    >go</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostLast"
	><span class="hs-identifier hs-type"
	  >CostLast</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266937"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266937"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >       </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266937"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-47"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679266936"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostCons"
	><span class="hs-identifier hs-type"
	  >CostCons</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266938"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266938"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679266939"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679266939"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266938"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; [SatInt]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; [SatInt]
</span
	><a href="#local-6989586621679266936"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679266939"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-48"
      ></span
      ><span
      >
</span
      ><span id="line-49"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#toExBudgetList"
	><span class="hs-identifier hs-type"
	  >toExBudgetList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetStream.html#ExBudgetStream"
	><span class="hs-identifier hs-type"
	  >ExBudgetStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>NonEmptyList</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudget.html#ExBudget"
	><span class="hs-identifier hs-type"
	  >ExBudget</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-50"
      ></span
      ><span id="toExBudgetList"
      ><span class="annot"
	><span class="annottext"
	  >toExBudgetList :: ExBudgetStream -&gt; NonEmptyList ExBudget
</span
	  ><a href="Evaluation.Builtins.Costing.html#toExBudgetList"
	  ><span class="hs-identifier hs-var hs-var"
	    >toExBudgetList</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[ExBudget] -&gt; NonEmptyList ExBudget
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([ExBudget] -&gt; NonEmptyList ExBudget)
-&gt; (ExBudgetStream -&gt; [ExBudget])
-&gt; ExBudgetStream
-&gt; NonEmptyList ExBudget
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream -&gt; [ExBudget]
</span
	><a href="#local-6989586621679266941"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679266941"
      ><span class="annot"
	><span class="annottext"
	  >go :: ExBudgetStream -&gt; [ExBudget]
</span
	  ><a href="#local-6989586621679266941"
	  ><span class="hs-identifier hs-var hs-var"
	    >go</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetStream.html#ExBudgetLast"
	><span class="hs-identifier hs-type"
	  >ExBudgetLast</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266943"
      ><span class="annot"
	><span class="annottext"
	  >ExBudget
</span
	  ><a href="#local-6989586621679266943"
	  ><span class="hs-identifier hs-var"
	    >budget</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >         </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>ExBudget
</span
	><a href="#local-6989586621679266943"
	><span class="hs-identifier hs-var"
	  >budget</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679266941"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetStream.html#ExBudgetCons"
	><span class="hs-identifier hs-type"
	  >ExBudgetCons</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679266945"
      ><span class="annot"
	><span class="annottext"
	  >ExBudget
</span
	  ><a href="#local-6989586621679266945"
	  ><span class="hs-identifier hs-var"
	    >budget</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679266946"
      ><span class="annot"
	><span class="annottext"
	  >ExBudgetStream
</span
	  ><a href="#local-6989586621679266946"
	  ><span class="hs-identifier hs-var"
	    >budgets</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudget
</span
	><a href="#local-6989586621679266945"
	><span class="hs-identifier hs-var"
	  >budget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudget -&gt; [ExBudget] -&gt; [ExBudget]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream -&gt; [ExBudget]
</span
	><a href="#local-6989586621679266941"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream
</span
	><a href="#local-6989586621679266946"
	><span class="hs-identifier hs-var"
	  >budgets</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | A list of ranges: @(0, 0), (1, 10) : (11, 100) : (101, 1000) : ... : [(10^18, maxBound)]@.</span
	></span
      ><span
      >
</span
      ><span id="line-55"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#magnitudes"
	><span class="hs-identifier hs-type"
	  >magnitudes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-56"
      ></span
      ><span id="magnitudes"
      ><span class="annot"
	><span class="annottext"
	  >magnitudes :: [(SatInt, SatInt)]
</span
	  ><a href="Evaluation.Builtins.Costing.html#magnitudes"
	  ><span class="hs-identifier hs-var hs-var"
	    >magnitudes</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-57"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Integer, Integer) -&gt; (SatInt, SatInt))
-&gt; [(Integer, Integer)] -&gt; [(SatInt, SatInt)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Integer -&gt; SatInt)
-&gt; (Integer -&gt; SatInt) -&gt; (Integer, Integer) -&gt; (SatInt, SatInt)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#bimap"
	><span class="hs-identifier hs-var"
	  >bimap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Integer -&gt; SatInt
forall a. Num a =&gt; Integer -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#fromInteger"
	><span class="hs-identifier hs-var"
	  >fromInteger</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Integer -&gt; SatInt
forall a. Num a =&gt; Integer -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#fromInteger"
	><span class="hs-identifier hs-var"
	  >fromInteger</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-58"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>([(Integer, Integer)] -&gt; [(SatInt, SatInt)])
-&gt; (Integer -&gt; [(Integer, Integer)])
-&gt; Integer
-&gt; [(SatInt, SatInt)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Integer
</span
	><span class="hs-number"
	>0</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Integer
</span
	><span class="hs-number"
	>0</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Integer, Integer) -&gt; [(Integer, Integer)] -&gt; [(Integer, Integer)]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-59"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>([(Integer, Integer)] -&gt; [(Integer, Integer)])
-&gt; (Integer -&gt; [(Integer, Integer)])
-&gt; Integer
-&gt; [(Integer, Integer)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Integer -&gt; Integer) -&gt; Integer -&gt; [(Integer, Integer)]
</span
	><a href="../../plutus-core/src/PlutusCore.Generators.QuickCheck.Builtin.html#magnitudesPositive"
	><span class="hs-identifier hs-var"
	  >magnitudesPositive</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2A"
	><span class="hs-operator hs-var"
	  >*</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Integer
</span
	><span class="hs-number"
	>10</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-60"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>(Integer -&gt; [(SatInt, SatInt)]) -&gt; Integer -&gt; [(SatInt, SatInt)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; Integer
forall a. Num a =&gt; SatInt -&gt; a
</span
	><a href="../../plutus-core/src/Data.SatInt.html#fromSatInt"
	><span class="hs-identifier hs-var"
	  >fromSatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
forall a. Bounded a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Enum.html#maxBound"
	><span class="hs-identifier hs-var"
	  >maxBound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-61"
      ></span
      ><span
      >
</span
      ><span id="line-62"
      ></span
      ><span class="hs-comment"
      >-- | Return the range (in the sense of 'magnitudes') in which the given 'SatInt' belongs. E.g.</span
      ><span
      >
</span
      ><span id="line-63"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-64"
      ></span
      ><span class="hs-comment"
      >-- &gt;&gt;&gt; toRange 42</span
      ><span
      >
</span
      ><span id="line-65"
      ></span
      ><span class="hs-comment"
      >-- (11,100)</span
      ><span
      >
</span
      ><span id="line-66"
      ></span
      ><span class="hs-comment"
      >-- &gt;&gt;&gt; toRange 1234</span
      ><span
      >
</span
      ><span id="line-67"
      ></span
      ><span class="hs-comment"
      >-- (1001,10000)</span
      ><span
      >
</span
      ><span id="line-68"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#toRange"
	><span class="hs-identifier hs-type"
	  >toRange</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-69"
      ></span
      ><span id="toRange"
      ><span class="annot"
	><span class="annottext"
	  >toRange :: SatInt -&gt; (SatInt, SatInt)
</span
	  ><a href="Evaluation.Builtins.Costing.html#toRange"
	  ><span class="hs-identifier hs-var hs-var"
	    >toRange</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679266953"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679266953"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt, SatInt) -&gt; Maybe (SatInt, SatInt) -&gt; (SatInt, SatInt)
forall a. a -&gt; Maybe a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Maybe.html#fromMaybe"
	><span class="hs-identifier hs-var"
	  >fromMaybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; (SatInt, SatInt)
forall a. HasCallStack =&gt; [Char] -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Err.html#error"
	><span class="hs-identifier hs-var"
	  >error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Char] -&gt; (SatInt, SatInt)) -&gt; [Char] -&gt; (SatInt, SatInt)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;Panic: an unexpected cost: &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266953"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Maybe (SatInt, SatInt) -&gt; (SatInt, SatInt))
-&gt; Maybe (SatInt, SatInt) -&gt; (SatInt, SatInt)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-70"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>((SatInt, SatInt) -&gt; Bool)
-&gt; [(SatInt, SatInt)] -&gt; Maybe (SatInt, SatInt)
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#find"
	><span class="hs-identifier hs-var"
	  >find</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679266953"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; Bool)
-&gt; ((SatInt, SatInt) -&gt; SatInt) -&gt; (SatInt, SatInt) -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt, SatInt) -&gt; SatInt
forall a b. (a, b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#snd"
	><span class="hs-identifier hs-var"
	  >snd</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(SatInt, SatInt)]
</span
	><a href="Evaluation.Builtins.Costing.html#magnitudes"
	><span class="hs-identifier hs-var"
	  >magnitudes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-71"
      ></span
      ><span
      >
</span
      ><span id="line-72"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Generate a 'SatInt' in the given range.</span
	></span
      ><span
      >
</span
      ><span id="line-73"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#chooseSatInt"
	><span class="hs-identifier hs-type"
	  >chooseSatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Gen</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-74"
      ></span
      ><span id="chooseSatInt"
      ><span class="annot"
	><span class="annottext"
	  >chooseSatInt :: (SatInt, SatInt) -&gt; Gen SatInt
</span
	  ><a href="Evaluation.Builtins.Costing.html#chooseSatInt"
	  ><span class="hs-identifier hs-var hs-var"
	    >chooseSatInt</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; SatInt) -&gt; Gen Int -&gt; Gen SatInt
forall a b. (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; SatInt
</span
	><a href="../../plutus-core/src/Data.SatInt.html#unsafeToSatInt"
	><span class="hs-identifier hs-var"
	  >unsafeToSatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Gen Int -&gt; Gen SatInt)
-&gt; ((SatInt, SatInt) -&gt; Gen Int) -&gt; (SatInt, SatInt) -&gt; Gen SatInt
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int, Int) -&gt; Gen Int
</span
	><span class="hs-identifier hs-var"
	>chooseInt</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Int, Int) -&gt; Gen Int)
-&gt; ((SatInt, SatInt) -&gt; (Int, Int)) -&gt; (SatInt, SatInt) -&gt; Gen Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; Int)
-&gt; (SatInt -&gt; Int) -&gt; (SatInt, SatInt) -&gt; (Int, Int)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#bimap"
	><span class="hs-identifier hs-var"
	  >bimap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; Int
</span
	><a href="../../plutus-core/src/Data.SatInt.html#unSatInt"
	><span class="hs-identifier hs-var"
	  >unSatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; Int
</span
	><a href="../../plutus-core/src/Data.SatInt.html#unSatInt"
	><span class="hs-identifier hs-var"
	  >unSatInt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-75"
      ></span
      ><span
      >
</span
      ><span id="line-76"
      ></span
      ><span class="hs-comment"
      >-- | Generate asymptotically bigger 'SatInt's with exponentially lower chance. This is in order to</span
      ><span
      >
</span
      ><span id="line-77"
      ></span
      ><span class="hs-comment"
      >-- make the generator of 'CostStream' produce streams whose sums are more or less evenly distributed</span
      ><span
      >
</span
      ><span id="line-78"
      ></span
      ><span class="hs-comment"
      >-- across 'magnitudes'.</span
      ><span
      >
</span
      ><span id="line-79"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Arbitrary</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-80"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679266967"
      ><span class="annot"
	><span class="annottext"
	  >arbitrary :: Gen SatInt
</span
	  ><a href="#local-6989586621679266967"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >arbitrary</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Int, Gen SatInt)] -&gt; Gen SatInt
forall a. HasCallStack =&gt; [(Int, Gen a)] -&gt; Gen a
</span
	><span class="hs-identifier hs-var"
	>frequency</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([(Int, Gen SatInt)] -&gt; Gen SatInt)
-&gt; ([Gen SatInt] -&gt; [(Int, Gen SatInt)])
-&gt; [Gen SatInt]
-&gt; Gen SatInt
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Int] -&gt; [Gen SatInt] -&gt; [(Int, Gen SatInt)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#zip"
	><span class="hs-identifier hs-var"
	  >zip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Int]
</span
	><a href="#local-6989586621679266970"
	><span class="hs-identifier hs-var"
	  >freqs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Gen SatInt] -&gt; [(Int, Gen SatInt)])
-&gt; ([Gen SatInt] -&gt; [Gen SatInt])
-&gt; [Gen SatInt]
-&gt; [(Int, Gen SatInt)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Gen SatInt] -&gt; [Gen SatInt]
forall a. [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#reverse"
	><span class="hs-identifier hs-var"
	  >reverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Gen SatInt] -&gt; Gen SatInt) -&gt; [Gen SatInt] -&gt; Gen SatInt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((SatInt, SatInt) -&gt; Gen SatInt)
-&gt; [(SatInt, SatInt)] -&gt; [Gen SatInt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt, SatInt) -&gt; Gen SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#chooseSatInt"
	><span class="hs-identifier hs-var"
	  >chooseSatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(SatInt, SatInt)]
</span
	><a href="Evaluation.Builtins.Costing.html#magnitudes"
	><span class="hs-identifier hs-var"
	  >magnitudes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-81"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679266970"
      ><span class="annot"
	><span class="annottext"
	  >freqs :: [Int]
</span
	  ><a href="#local-6989586621679266970"
	  ><span class="hs-identifier hs-var hs-var"
	    >freqs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Double -&gt; Int) -&gt; [Double] -&gt; [Int]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Double -&gt; Int
forall b. Integral b =&gt; Double -&gt; b
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Real.html#floor"
	><span class="hs-identifier hs-var"
	  >floor</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Double] -&gt; [Int]) -&gt; [Double] -&gt; [Int]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Double -&gt; Double) -&gt; Double -&gt; [Double]
forall a. (a -&gt; a) -&gt; a -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#iterate"
	><span class="hs-identifier hs-var"
	  >iterate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2A"
	><span class="hs-operator hs-var"
	  >*</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Double
</span
	><span class="hs-number"
	>1.3</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Double
</span
	><span class="hs-number"
	>2</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Double"
	><span class="hs-identifier hs-type"
	  >Double</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-82"
      ></span
      ><span
      >
</span
      ><span id="line-83"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [QuickCheck and integral types].</span
      ><span
      >
</span
      ><span id="line-84"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679266994"
      ><span class="annot"
	><span class="annottext"
	  >shrink :: SatInt -&gt; [SatInt]
</span
	  ><a href="#local-6989586621679266994"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >shrink</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int64 -&gt; SatInt) -&gt; [Int64] -&gt; [SatInt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int64 -&gt; SatInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Real.html#fromIntegral"
	><span class="hs-identifier hs-var"
	  >fromIntegral</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Int64] -&gt; [SatInt]) -&gt; (SatInt -&gt; [Int64]) -&gt; SatInt -&gt; [SatInt]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall a. Arbitrary a =&gt; a -&gt; [a]
</span
	><span class="hs-identifier hs-var"
	>shrink</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Int.html#Int64"
	><span class="hs-identifier hs-type"
	  >Int64</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int64 -&gt; [Int64]) -&gt; (SatInt -&gt; Int64) -&gt; SatInt -&gt; [Int64]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; Int64
forall a. Num a =&gt; SatInt -&gt; a
</span
	><a href="../../plutus-core/src/Data.SatInt.html#fromSatInt"
	><span class="hs-identifier hs-var"
	  >fromSatInt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-85"
      ></span
      ><span
      >
</span
      ><span id="line-86"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Arbitrary</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostStream"
	><span class="hs-identifier hs-type"
	  >CostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-87"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679267004"
      ><span class="annot"
	><span class="annottext"
	  >arbitrary :: Gen CostStream
</span
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	  >arbitrary</span
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(Int, Gen CostStream)] -&gt; Gen CostStream
forall a. HasCallStack =&gt; [(Int, Gen a)] -&gt; Gen a
</span
	><span class="hs-identifier hs-var"
	>frequency</span
	></span
      ><span
      >
</span
      ><span id="line-88"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >[</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- Single-element streams an important enough corner-case to justify tilting the</span
      ><span
      >
</span
      ><span id="line-89"
      ></span
      ><span
      >          </span
      ><span class="hs-comment"
      >-- generator.</span
      ><span
      >
</span
      ><span id="line-90"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostLast"
	><span class="hs-identifier hs-var"
	  >CostLast</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; CostStream) -&gt; Gen SatInt -&gt; Gen CostStream
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Gen SatInt
forall a. Arbitrary a =&gt; Gen a
</span
	><span class="hs-identifier hs-var"
	>arbitrary</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-91"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>6</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; Gen (NonEmptyList SatInt) -&gt; Gen CostStream
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Gen (NonEmptyList SatInt)
forall a. Arbitrary a =&gt; Gen a
</span
	><span class="hs-identifier hs-var"
	>arbitrary</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-92"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-93"
      ></span
      ><span
      >
</span
      ><span id="line-94"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679267013"
      ><span class="annot"
	><span class="annottext"
	  >shrink :: CostStream -&gt; [CostStream]
</span
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	  >shrink</span
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostLast"
	><span class="hs-identifier hs-type"
	  >CostLast</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679267014"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267014"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >       </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; CostStream) -&gt; [SatInt] -&gt; [CostStream]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostLast"
	><span class="hs-identifier hs-var"
	  >CostLast</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; [CostStream]) -&gt; [SatInt] -&gt; [CostStream]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt]
forall a. Arbitrary a =&gt; a -&gt; [a]
</span
	><span class="hs-identifier hs-var"
	>shrink</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267014"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-95"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="hs-identifier hs-var"
	>shrink</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostCons"
	><span class="hs-identifier hs-type"
	  >CostCons</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679267015"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267015"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267016"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267016"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostLast"
	><span class="hs-identifier hs-var"
	  >CostLast</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267015"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; [CostStream] -&gt; [CostStream]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267016"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; [CostStream] -&gt; [CostStream]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-96"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- Shrinking the recursive part first.</span
      ><span
      >
</span
      ><span id="line-97"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679267017"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267017"
	  ><span class="hs-identifier hs-var"
	    >costs'</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679267018"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267018"
	  ><span class="hs-identifier hs-var"
	    >cost'</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream, SatInt) -&gt; [(CostStream, SatInt)]
forall a. Arbitrary a =&gt; a -&gt; [a]
</span
	><span class="hs-identifier hs-var"
	>shrink</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267016"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267015"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-98"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; [CostStream]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; [CostStream]) -&gt; CostStream -&gt; [CostStream]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#CostCons"
	><span class="hs-identifier hs-var"
	  >CostCons</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267018"
	><span class="hs-identifier hs-var"
	  >cost'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267017"
	><span class="hs-identifier hs-var"
	  >costs'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-99"
      ></span
      ><span
      >
</span
      ><span id="line-100"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>CoArbitrary</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-101"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [QuickCheck and integral types]. No idea what kind of coverages we get here though.</span
      ><span
      >
</span
      ><span id="line-102"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679267024"
      ><span class="annot"
	><span class="annottext"
	  >coarbitrary :: forall b. SatInt -&gt; Gen b -&gt; Gen b
</span
	  ><a href="#local-6989586621679267024"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >coarbitrary</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int64 -&gt; Gen b -&gt; Gen b
forall b. Int64 -&gt; Gen b -&gt; Gen b
forall a b. CoArbitrary a =&gt; a -&gt; Gen b -&gt; Gen b
</span
	><span class="hs-identifier hs-var"
	>coarbitrary</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int64 -&gt; Gen b -&gt; Gen b)
-&gt; (SatInt -&gt; Int64) -&gt; SatInt -&gt; Gen b -&gt; Gen b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall a. Num a =&gt; SatInt -&gt; a
</span
	><a href="../../plutus-core/src/Data.SatInt.html#fromSatInt"
	><span class="hs-identifier hs-var"
	  >fromSatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Int.html#Int64"
	><span class="hs-identifier hs-type"
	  >Int64</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-103"
      ></span
      ><span
      >
</span
      ><span id="line-104"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Function</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-105"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [QuickCheck and integral types]. No idea what kind of coverages we get here though.</span
      ><span
      >
</span
      ><span id="line-106"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679267033"
      ><span class="annot"
	><span class="annottext"
	  >function :: forall b. (SatInt -&gt; b) -&gt; SatInt :-&gt; b
</span
	  ><a href="#local-6989586621679267033"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >function</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; Int64)
-&gt; (Int64 -&gt; SatInt) -&gt; (SatInt -&gt; b) -&gt; SatInt :-&gt; b
forall b a c.
Function b =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; (a -&gt; c) -&gt; a :-&gt; c
</span
	><span class="hs-identifier hs-var"
	>functionMap</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; Int64
forall a. Num a =&gt; SatInt -&gt; a
</span
	><a href="../../plutus-core/src/Data.SatInt.html#fromSatInt"
	><span class="hs-identifier hs-var"
	  >fromSatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Int64 -&gt; SatInt) -&gt; (SatInt -&gt; b) -&gt; SatInt :-&gt; b)
-&gt; (Int64 -&gt; SatInt) -&gt; (SatInt -&gt; b) -&gt; SatInt :-&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Real.html#fromIntegral"
	><span class="hs-identifier hs-var"
	  >fromIntegral</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Int.html#Int64"
	><span class="hs-identifier hs-type"
	  >Int64</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-107"
      ></span
      ><span
      >
</span
      ><span id="line-108"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Same as '(===)' except accepts a custom equality checking function.</span
	></span
      ><span
      >
</span
      ><span id="line-109"
      ></span
      ><span id="local-6989586621679266396"
      ><span class="annot"
	><a href="Evaluation.Builtins.Costing.html#checkEqualsVia"
	  ><span class="hs-identifier hs-type"
	    >checkEqualsVia</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>::</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#Show"
	  ><span class="hs-identifier hs-type"
	    >Show</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679266396"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>=&gt;</span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="annot"
	><a href="#local-6989586621679266396"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679266396"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	  ><span class="hs-identifier hs-type"
	    >Bool</span
	    ></a
	  ></span
	><span class="hs-special"
	>)</span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679266396"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679266396"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><span class="hs-identifier hs-type"
	  >Property</span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-110"
      ></span
      ><span id="checkEqualsVia"
      ><span class="annot"
	><span class="annottext"
	  >checkEqualsVia :: forall a. Show a =&gt; (a -&gt; a -&gt; Bool) -&gt; a -&gt; a -&gt; Property
</span
	  ><a href="Evaluation.Builtins.Costing.html#checkEqualsVia"
	  ><span class="hs-identifier hs-var hs-var"
	    >checkEqualsVia</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267042"
      ><span class="annot"
	><span class="annottext"
	  >a -&gt; a -&gt; Bool
</span
	  ><a href="#local-6989586621679267042"
	  ><span class="hs-identifier hs-var"
	    >eq</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267043"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679267043"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267044"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679267044"
	  ><span class="hs-identifier hs-var"
	    >y</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-111"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Bool -&gt; Property
forall prop. Testable prop =&gt; [Char] -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>counterexample</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267043"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; [Char]
</span
	><a href="#local-6989586621679267046"
	><span class="hs-identifier hs-var"
	  >interpret</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679267047"
	><span class="hs-identifier hs-var"
	  >res</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267044"
	><span class="hs-identifier hs-var"
	  >y</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679267047"
	><span class="hs-identifier hs-var"
	  >res</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-112"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-113"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679267047"
      ><span class="annot"
	><span class="annottext"
	  >res :: Bool
</span
	  ><a href="#local-6989586621679267047"
	  ><span class="hs-identifier hs-var hs-var"
	    >res</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; a -&gt; Bool
</span
	><a href="#local-6989586621679267042"
	><span class="hs-identifier hs-var"
	  >eq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267043"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267044"
	><span class="hs-identifier hs-var"
	  >y</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-114"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679267046"
      ><span class="annot"
	><span class="annottext"
	  >interpret :: Bool -&gt; [Char]
</span
	  ><a href="#local-6989586621679267046"
	  ><span class="hs-identifier hs-var hs-var"
	    >interpret</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot; === &quot;</span
	></span
      ><span
      >
</span
      ><span id="line-115"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="#local-6989586621679267046"
	><span class="hs-identifier hs-var"
	  >interpret</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot; =/= &quot;</span
	></span
      ><span
      >
</span
      ><span id="line-116"
      ></span
      ><span
      >
</span
      ><span id="line-117"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | A value to use in tests to make sure what's not supposed to be forced isn't forced.</span
	></span
      ><span
      >
</span
      ><span id="line-118"
      ></span
      ><span id="local-6989586621679266399"
      ><span class="annot"
	><a href="Evaluation.Builtins.Costing.html#bottom"
	  ><span class="hs-identifier hs-type"
	    >bottom</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>::</span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679266399"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-119"
      ></span
      ><span id="bottom"
      ><span class="annot"
	><span class="annottext"
	  >bottom :: forall a. a
</span
	  ><a href="Evaluation.Builtins.Costing.html#bottom"
	  ><span class="hs-identifier hs-var hs-var"
	    >bottom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; a
forall a. HasCallStack =&gt; [Char] -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Err.html#error"
	><span class="hs-identifier hs-var"
	  >error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;this value wasn't supposed to be forced&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-120"
      ></span
      ><span
      >
</span
      ><span id="line-121"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'magnitudes' has the correct bounds.</span
	></span
      ><span
      >
</span
      ><span id="line-122"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_magnitudes"
	><span class="hs-identifier hs-type"
	  >test_magnitudes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-123"
      ></span
      ><span id="test_magnitudes"
      ><span class="annot"
	><span class="annottext"
	  >test_magnitudes :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_magnitudes"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_magnitudes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-124"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Bool -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;magnitudes&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; TestTree) -&gt; Bool -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-125"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679267071"
      ><span class="annot"
	><span class="annottext"
	  >check :: (a, a) -&gt; (a, a) -&gt; Bool
</span
	  ><a href="#local-6989586621679267071"
	  ><span class="hs-identifier hs-var hs-var"
	    >check</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-number"
	>0</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-number"
	>0</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >   </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      >   </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-number"
	>10</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-126"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><a href="#local-6989586621679267071"
	><span class="hs-identifier hs-var"
	  >check</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679267072"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679267072"
	  ><span class="hs-identifier hs-var"
	    >hi1</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679267073"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679267073"
	  ><span class="hs-identifier hs-var"
	    >lo2</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679267074"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679267074"
	  ><span class="hs-identifier hs-var"
	    >hi2</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267072"
	><span class="hs-identifier hs-var"
	  >hi1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267073"
	><span class="hs-identifier hs-var"
	  >lo2</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267072"
	><span class="hs-identifier hs-var"
	  >hi1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2A"
	><span class="hs-operator hs-var"
	  >*</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-number"
	>10</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267074"
	><span class="hs-identifier hs-var"
	  >hi2</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-127"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Bool] -&gt; Bool
forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#and"
	><span class="hs-identifier hs-var"
	  >and</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-128"
      ></span
      ><span
      >           </span
      ><span class="hs-special"
      >[</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt, SatInt) -&gt; SatInt
forall a b. (a, b) -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#fst"
	><span class="hs-identifier hs-var"
	  >fst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[(SatInt, SatInt)] -&gt; (SatInt, SatInt)
forall a. HasCallStack =&gt; [a] -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#head"
	><span class="hs-identifier hs-var"
	  >head</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(SatInt, SatInt)]
</span
	><a href="Evaluation.Builtins.Costing.html#magnitudes"
	><span class="hs-identifier hs-var"
	  >magnitudes</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      >
</span
      ><span id="line-129"
      ></span
      ><span
      >           </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt, SatInt) -&gt; SatInt
forall a b. (a, b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#snd"
	><span class="hs-identifier hs-var"
	  >snd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[(SatInt, SatInt)] -&gt; (SatInt, SatInt)
forall a. HasCallStack =&gt; [a] -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#last"
	><span class="hs-identifier hs-var"
	  >last</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(SatInt, SatInt)]
</span
	><a href="Evaluation.Builtins.Costing.html#magnitudes"
	><span class="hs-identifier hs-var"
	  >magnitudes</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
forall a. Bounded a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Enum.html#maxBound"
	><span class="hs-identifier hs-var"
	  >maxBound</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-130"
      ></span
      ><span
      >           </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Bool] -&gt; Bool
forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#and"
	><span class="hs-identifier hs-var"
	  >and</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Bool] -&gt; Bool)
-&gt; ([(SatInt, SatInt)] -&gt; [Bool]) -&gt; [(SatInt, SatInt)] -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((SatInt, SatInt) -&gt; (SatInt, SatInt) -&gt; Bool)
-&gt; [(SatInt, SatInt)] -&gt; [(SatInt, SatInt)] -&gt; [Bool]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#zipWith"
	><span class="hs-identifier hs-var"
	  >zipWith</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt, SatInt) -&gt; (SatInt, SatInt) -&gt; Bool
forall {a} {a}.
(Eq a, Eq a, Num a, Num a) =&gt;
(a, a) -&gt; (a, a) -&gt; Bool
</span
	><a href="#local-6989586621679267071"
	><span class="hs-identifier hs-var"
	  >check</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(SatInt, SatInt)]
</span
	><a href="Evaluation.Builtins.Costing.html#magnitudes"
	><span class="hs-identifier hs-var"
	  >magnitudes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([(SatInt, SatInt)] -&gt; Bool) -&gt; [(SatInt, SatInt)] -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(SatInt, SatInt)] -&gt; [(SatInt, SatInt)]
forall a. HasCallStack =&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#tail"
	><span class="hs-identifier hs-var"
	  >tail</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(SatInt, SatInt)]
</span
	><a href="Evaluation.Builtins.Costing.html#magnitudes"
	><span class="hs-identifier hs-var"
	  >magnitudes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-131"
      ></span
      ><span
      >           </span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-132"
      ></span
      ><span
      >
</span
      ><span id="line-133"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Show the distribution of generated 'CostStream's as a diagnostic.</span
	></span
      ><span
      >
</span
      ><span id="line-134"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_CostStreamDistribution"
	><span class="hs-identifier hs-type"
	  >test_CostStreamDistribution</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-135"
      ></span
      ><span id="test_CostStreamDistribution"
      ><span class="annot"
	><span class="annottext"
	  >test_CostStreamDistribution :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_CostStreamDistribution"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_CostStreamDistribution</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-136"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;distribution of the generated CostStream values&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((CostStream -&gt; Property) -&gt; Property)
-&gt; (CostStream -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostStream -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>10000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostStream -&gt; Property) -&gt; TestTree)
-&gt; (CostStream -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-137"
      ></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267084"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267084"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-138"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679267085"
      ><span class="annot"
	><span class="annottext"
	  >costsSum :: SatInt
</span
	  ><a href="#local-6989586621679267085"
	  ><span class="hs-identifier hs-var hs-var"
	    >costsSum</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; SatInt
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#sumCostStream"
	><span class="hs-identifier hs-var"
	  >sumCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267084"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-139"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679267087"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267087"
	  ><span class="hs-identifier hs-var"
	    >low</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679267088"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267088"
	  ><span class="hs-identifier hs-var"
	    >high</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; (SatInt, SatInt)
</span
	><a href="Evaluation.Builtins.Costing.html#toRange"
	><span class="hs-identifier hs-var"
	  >toRange</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267085"
	><span class="hs-identifier hs-var"
	  >costsSum</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-140"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Bool -&gt; Property
forall prop. Testable prop =&gt; [Char] -&gt; prop -&gt; Property
</span
	><span class="hs-keyword hs-var"
	>label</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267087"
	><span class="hs-identifier hs-var"
	  >low</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot; - &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267088"
	><span class="hs-identifier hs-var"
	  >high</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-141"
      ></span
      ><span
      >
</span
      ><span id="line-142"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that @fromCostList . toCostList@ is identity.</span
	></span
      ><span
      >
</span
      ><span id="line-143"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_toCostListRoundtrip"
	><span class="hs-identifier hs-type"
	  >test_toCostListRoundtrip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-144"
      ></span
      ><span id="test_toCostListRoundtrip"
      ><span class="annot"
	><span class="annottext"
	  >test_toCostListRoundtrip :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_toCostListRoundtrip"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_toCostListRoundtrip</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-145"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;fromCostList cancels toCostList&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((CostStream -&gt; Property) -&gt; Property)
-&gt; (CostStream -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostStream -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostStream -&gt; Property) -&gt; TestTree)
-&gt; (CostStream -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267091"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267091"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-146"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; CostStream -&gt; Bool)
-&gt; CostStream -&gt; CostStream -&gt; Property
forall a. Show a =&gt; (a -&gt; a -&gt; Bool) -&gt; a -&gt; a -&gt; Property
</span
	><a href="Evaluation.Builtins.Costing.html#checkEqualsVia"
	><span class="hs-identifier hs-var"
	  >checkEqualsVia</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; Bool
</span
	><a href="Evaluation.Builtins.Costing.html#eqCostStream"
	><span class="hs-identifier hs-var"
	  >eqCostStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-147"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; NonEmptyList SatInt -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267091"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-148"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267091"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-149"
      ></span
      ><span
      >
</span
      ><span id="line-150"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that @toCostList . fromCostList@ is identity.</span
	></span
      ><span
      >
</span
      ><span id="line-151"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_fromCostListRoundtrip"
	><span class="hs-identifier hs-type"
	  >test_fromCostListRoundtrip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-152"
      ></span
      ><span id="test_fromCostListRoundtrip"
      ><span class="annot"
	><span class="annottext"
	  >test_fromCostListRoundtrip :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_fromCostListRoundtrip"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_fromCostListRoundtrip</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-153"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;toCostList cancels fromCostList&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((NonEmptyList SatInt -&gt; Property) -&gt; Property)
-&gt; (NonEmptyList SatInt -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (NonEmptyList SatInt -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((NonEmptyList SatInt -&gt; Property) -&gt; TestTree)
-&gt; (NonEmptyList SatInt -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267093"
      ><span class="annot"
	><span class="annottext"
	  >NonEmptyList SatInt
</span
	  ><a href="#local-6989586621679267093"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-154"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt
</span
	><a href="#local-6989586621679267093"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; NonEmptyList SatInt -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      >
</span
      ><span id="line-155"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt
</span
	><a href="#local-6989586621679267093"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-156"
      ></span
      ><span
      >
</span
      ><span id="line-157"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that @uncurry reconsCost . unconsCost@ is identity.</span
	></span
      ><span
      >
</span
      ><span id="line-158"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_unconsCostRoundtrip"
	><span class="hs-identifier hs-type"
	  >test_unconsCostRoundtrip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-159"
      ></span
      ><span id="test_unconsCostRoundtrip"
      ><span class="annot"
	><span class="annottext"
	  >test_unconsCostRoundtrip :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_unconsCostRoundtrip"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_unconsCostRoundtrip</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-160"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;reconsCost cancels unconsCost&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((CostStream -&gt; Property) -&gt; Property)
-&gt; (CostStream -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostStream -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostStream -&gt; Property) -&gt; TestTree)
-&gt; (CostStream -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267095"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267095"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-161"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; CostStream -&gt; Bool)
-&gt; CostStream -&gt; CostStream -&gt; Property
forall a. Show a =&gt; (a -&gt; a -&gt; Bool) -&gt; a -&gt; a -&gt; Property
</span
	><a href="Evaluation.Builtins.Costing.html#checkEqualsVia"
	><span class="hs-identifier hs-var"
	  >checkEqualsVia</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; Bool
</span
	><a href="Evaluation.Builtins.Costing.html#eqCostStream"
	><span class="hs-identifier hs-var"
	  >eqCostStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-162"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; Maybe CostStream -&gt; CostStream)
-&gt; (SatInt, Maybe CostStream) -&gt; CostStream
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#uncurry"
	><span class="hs-identifier hs-var"
	  >uncurry</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; Maybe CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#reconsCost"
	><span class="hs-identifier hs-var"
	  >reconsCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((SatInt, Maybe CostStream) -&gt; CostStream)
-&gt; (SatInt, Maybe CostStream) -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; (SatInt, Maybe CostStream)
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#unconsCost"
	><span class="hs-identifier hs-var"
	  >unconsCost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267095"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-163"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267095"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-164"
      ></span
      ><span
      >
</span
      ><span id="line-165"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'sumCostStream' returns the sum of the elements of a 'CostStream'.</span
	></span
      ><span
      >
</span
      ><span id="line-166"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_sumCostStreamIsSum"
	><span class="hs-identifier hs-type"
	  >test_sumCostStreamIsSum</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-167"
      ></span
      ><span id="test_sumCostStreamIsSum"
      ><span class="annot"
	><span class="annottext"
	  >test_sumCostStreamIsSum :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_sumCostStreamIsSum"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_sumCostStreamIsSum</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-168"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;sumCostStream is sum&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((CostStream -&gt; Property) -&gt; Property)
-&gt; (CostStream -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostStream -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostStream -&gt; Property) -&gt; TestTree)
-&gt; (CostStream -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267100"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267100"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-169"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; SatInt
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#sumCostStream"
	><span class="hs-identifier hs-var"
	  >sumCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267100"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      >
</span
      ><span id="line-170"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; SatInt
forall a. Num a =&gt; NonEmptyList a -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#sum"
	><span class="hs-identifier hs-var"
	  >sum</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267100"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-171"
      ></span
      ><span
      >
</span
      ><span id="line-172"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'mapCostStream' applies a function to each element of a 'CostStream'.</span
	></span
      ><span
      >
</span
      ><span id="line-173"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_mapCostStreamIsMap"
	><span class="hs-identifier hs-type"
	  >test_mapCostStreamIsMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-174"
      ></span
      ><span id="test_mapCostStreamIsMap"
      ><span class="annot"
	><span class="annottext"
	  >test_mapCostStreamIsMap :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_mapCostStreamIsMap"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_mapCostStreamIsMap</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-175"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;mapCostStream is map&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((Fun SatInt SatInt -&gt; NonEmptyList SatInt -&gt; Property)
    -&gt; Property)
-&gt; (Fun SatInt SatInt -&gt; NonEmptyList SatInt -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
-&gt; (Fun SatInt SatInt -&gt; NonEmptyList SatInt -&gt; Property)
-&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>500</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Fun SatInt SatInt -&gt; NonEmptyList SatInt -&gt; Property)
 -&gt; TestTree)
-&gt; (Fun SatInt SatInt -&gt; NonEmptyList SatInt -&gt; Property)
-&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Fun</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt :-&gt; SatInt, SatInt, Shrunk)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267105"
      ><span class="annot"
	><span class="annottext"
	  >SatInt -&gt; SatInt
</span
	  ><a href="#local-6989586621679267105"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679267106"
      ><span class="annot"
	><span class="annottext"
	  >NonEmptyList SatInt
</span
	  ><a href="#local-6989586621679267106"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-176"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; CostStream -&gt; Bool)
-&gt; CostStream -&gt; CostStream -&gt; Property
forall a. Show a =&gt; (a -&gt; a -&gt; Bool) -&gt; a -&gt; a -&gt; Property
</span
	><a href="Evaluation.Builtins.Costing.html#checkEqualsVia"
	><span class="hs-identifier hs-var"
	  >checkEqualsVia</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; Bool
</span
	><a href="Evaluation.Builtins.Costing.html#eqCostStream"
	><span class="hs-identifier hs-var"
	  >eqCostStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-177"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; SatInt) -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#mapCostStream"
	><span class="hs-identifier hs-var"
	  >mapCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt
</span
	><a href="#local-6989586621679267105"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; CostStream) -&gt; CostStream -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt
</span
	><a href="#local-6989586621679267106"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-178"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; NonEmptyList SatInt -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; SatInt) -&gt; NonEmptyList SatInt -&gt; NonEmptyList SatInt
forall a b. (a -&gt; b) -&gt; NonEmptyList a -&gt; NonEmptyList b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt
</span
	><a href="#local-6989586621679267105"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt
</span
	><a href="#local-6989586621679267106"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-179"
      ></span
      ><span
      >
</span
      ><span id="line-180"
      ></span
      ><span class="hs-comment"
      >-- | Test that the sum of a stream returned by 'addCostStream' equals the sum of the sums of its two</span
      ><span
      >
</span
      ><span id="line-181"
      ></span
      ><span class="hs-comment"
      >-- arguments.</span
      ><span
      >
</span
      ><span id="line-182"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_addCostStreamIsAdd"
	><span class="hs-identifier hs-type"
	  >test_addCostStreamIsAdd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-183"
      ></span
      ><span id="test_addCostStreamIsAdd"
      ><span class="annot"
	><span class="annottext"
	  >test_addCostStreamIsAdd :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_addCostStreamIsAdd"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_addCostStreamIsAdd</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-184"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;addCostStream is add&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((CostStream -&gt; CostStream -&gt; Property) -&gt; Property)
-&gt; (CostStream -&gt; CostStream -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostStream -&gt; CostStream -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostStream -&gt; CostStream -&gt; Property) -&gt; TestTree)
-&gt; (CostStream -&gt; CostStream -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267109"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267109"
	  ><span class="hs-identifier hs-var"
	    >costs1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267110"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267110"
	  ><span class="hs-identifier hs-var"
	    >costs2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-185"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; SatInt
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#sumCostStream"
	><span class="hs-identifier hs-var"
	  >sumCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#addCostStream"
	><span class="hs-identifier hs-var"
	  >addCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267109"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267110"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      >
</span
      ><span id="line-186"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; SatInt
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#sumCostStream"
	><span class="hs-identifier hs-var"
	  >sumCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267109"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; SatInt
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; SatInt
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#sumCostStream"
	><span class="hs-identifier hs-var"
	  >sumCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267110"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-187"
      ></span
      ><span
      >
</span
      ><span id="line-188"
      ></span
      ><span class="hs-comment"
      >-- | Test that the sum of a stream returned by 'minCostStream' equals the minimum of the sums of its</span
      ><span
      >
</span
      ><span id="line-189"
      ></span
      ><span class="hs-comment"
      >-- two arguments.</span
      ><span
      >
</span
      ><span id="line-190"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_minCostStreamIsMin"
	><span class="hs-identifier hs-type"
	  >test_minCostStreamIsMin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-191"
      ></span
      ><span id="test_minCostStreamIsMin"
      ><span class="annot"
	><span class="annottext"
	  >test_minCostStreamIsMin :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_minCostStreamIsMin"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_minCostStreamIsMin</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-192"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;minCostStream is min&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((CostStream -&gt; CostStream -&gt; Property) -&gt; Property)
-&gt; (CostStream -&gt; CostStream -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostStream -&gt; CostStream -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostStream -&gt; CostStream -&gt; Property) -&gt; TestTree)
-&gt; (CostStream -&gt; CostStream -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267113"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267113"
	  ><span class="hs-identifier hs-var"
	    >costs1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267114"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267114"
	  ><span class="hs-identifier hs-var"
	    >costs2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-193"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; SatInt
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#sumCostStream"
	><span class="hs-identifier hs-var"
	  >sumCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#minCostStream"
	><span class="hs-identifier hs-var"
	  >minCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267113"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267114"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      >
</span
      ><span id="line-194"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; SatInt
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#min"
	><span class="hs-identifier hs-var"
	  >min</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; SatInt
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#sumCostStream"
	><span class="hs-identifier hs-var"
	  >sumCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267113"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; SatInt
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#sumCostStream"
	><span class="hs-identifier hs-var"
	  >sumCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267114"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-195"
      ></span
      ><span
      >
</span
      ><span id="line-196"
      ></span
      ><span class="hs-comment"
      >-- | Test that the sum of a stream returned by 'zipCostStream' equals an 'ExBudget' containing the</span
      ><span
      >
</span
      ><span id="line-197"
      ></span
      ><span class="hs-comment"
      >-- sums of its two arguments.</span
      ><span
      >
</span
      ><span id="line-198"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_zipCostStreamIsZip"
	><span class="hs-identifier hs-type"
	  >test_zipCostStreamIsZip</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-199"
      ></span
      ><span id="test_zipCostStreamIsZip"
      ><span class="annot"
	><span class="annottext"
	  >test_zipCostStreamIsZip :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_zipCostStreamIsZip"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_zipCostStreamIsZip</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-200"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;zipCostStream is zip&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((CostStream -&gt; CostStream -&gt; Property) -&gt; Property)
-&gt; (CostStream -&gt; CostStream -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostStream -&gt; CostStream -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostStream -&gt; CostStream -&gt; Property) -&gt; TestTree)
-&gt; (CostStream -&gt; CostStream -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267119"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267119"
	  ><span class="hs-identifier hs-var"
	    >costs1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267120"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267120"
	  ><span class="hs-identifier hs-var"
	    >costs2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-201"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream -&gt; ExBudget
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetStream.html#sumExBudgetStream"
	><span class="hs-identifier hs-var"
	  >sumExBudgetStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; ExBudgetStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetStream.html#zipCostStream"
	><span class="hs-identifier hs-var"
	  >zipCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267119"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267120"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudget -&gt; ExBudget -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      >
</span
      ><span id="line-202"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>ExCPU -&gt; ExMemory -&gt; ExBudget
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudget.html#ExBudget"
	><span class="hs-identifier hs-var"
	  >ExBudget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; ExCPU
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemory.html#ExCPU"
	><span class="hs-identifier hs-var"
	  >ExCPU</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; ExCPU) -&gt; SatInt -&gt; ExCPU
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; SatInt
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#sumCostStream"
	><span class="hs-identifier hs-var"
	  >sumCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267119"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; ExMemory
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemory.html#ExMemory"
	><span class="hs-identifier hs-var"
	  >ExMemory</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; ExMemory) -&gt; SatInt -&gt; ExMemory
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; SatInt
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#sumCostStream"
	><span class="hs-identifier hs-var"
	  >sumCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267120"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-203"
      ></span
      ><span
      >
</span
      ><span id="line-204"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'mapCostStream' preserves the length of the stream.</span
	></span
      ><span
      >
</span
      ><span id="line-205"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_mapCostStreamReasonableLength"
	><span class="hs-identifier hs-type"
	  >test_mapCostStreamReasonableLength</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-206"
      ></span
      ><span id="test_mapCostStreamReasonableLength"
      ><span class="annot"
	><span class="annottext"
	  >test_mapCostStreamReasonableLength :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_mapCostStreamReasonableLength"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_mapCostStreamReasonableLength</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-207"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;mapCostStream: reasonable length&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((Fun SatInt SatInt -&gt; CostStream -&gt; Property) -&gt; Property)
-&gt; (Fun SatInt SatInt -&gt; CostStream -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (Fun SatInt SatInt -&gt; CostStream -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>500</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Fun SatInt SatInt -&gt; CostStream -&gt; Property) -&gt; TestTree)
-&gt; (Fun SatInt SatInt -&gt; CostStream -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Fun</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt :-&gt; SatInt, SatInt, Shrunk)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267125"
      ><span class="annot"
	><span class="annottext"
	  >SatInt -&gt; SatInt
</span
	  ><a href="#local-6989586621679267125"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679267126"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267126"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-208"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; SatInt) -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#mapCostStream"
	><span class="hs-identifier hs-var"
	  >mapCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt
</span
	><a href="#local-6989586621679267125"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267126"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      >
</span
      ><span id="line-209"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267126"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-210"
      ></span
      ><span
      >
</span
      ><span id="line-211"
      ></span
      ><span class="hs-comment"
      >-- | Test that the length of the stream returned by 'addCostStream' equals the sum of the lengths of</span
      ><span
      >
</span
      ><span id="line-212"
      ></span
      ><span class="hs-comment"
      >-- its two arguments.</span
      ><span
      >
</span
      ><span id="line-213"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_addCostStreamReasonableLength"
	><span class="hs-identifier hs-type"
	  >test_addCostStreamReasonableLength</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-214"
      ></span
      ><span id="test_addCostStreamReasonableLength"
      ><span class="annot"
	><span class="annottext"
	  >test_addCostStreamReasonableLength :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_addCostStreamReasonableLength"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_addCostStreamReasonableLength</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-215"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;addCostStream: reasonable length &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((CostStream -&gt; CostStream -&gt; Property) -&gt; Property)
-&gt; (CostStream -&gt; CostStream -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostStream -&gt; CostStream -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostStream -&gt; CostStream -&gt; Property) -&gt; TestTree)
-&gt; (CostStream -&gt; CostStream -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267129"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267129"
	  ><span class="hs-identifier hs-var"
	    >costs1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267130"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267130"
	  ><span class="hs-identifier hs-var"
	    >costs2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-216"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#max"
	><span class="hs-identifier hs-var"
	  >max</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>2</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#addCostStream"
	><span class="hs-identifier hs-var"
	  >addCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267129"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267130"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      >
</span
      ><span id="line-217"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267129"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267130"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-218"
      ></span
      ><span
      >
</span
      ><span id="line-219"
      ></span
      ><span class="hs-comment"
      >-- | Test that the length of the stream returned by 'addCostStream' is</span
      ><span
      >
</span
      ><span id="line-220"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-221"
      ></span
      ><span class="hs-comment"
      >-- 1. greater than or equal to the minimum of the lengths of its two arguments</span
      ><span
      >
</span
      ><span id="line-222"
      ></span
      ><span class="hs-comment"
      >-- 2. smaller than or equal to the sum of the lengths of its two arguments.</span
      ><span
      >
</span
      ><span id="line-223"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_minCostStreamReasonableLength"
	><span class="hs-identifier hs-type"
	  >test_minCostStreamReasonableLength</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-224"
      ></span
      ><span id="test_minCostStreamReasonableLength"
      ><span class="annot"
	><span class="annottext"
	  >test_minCostStreamReasonableLength :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_minCostStreamReasonableLength"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_minCostStreamReasonableLength</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-225"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;minCostStream: reasonable length &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((CostStream -&gt; CostStream -&gt; Bool) -&gt; Property)
-&gt; (CostStream -&gt; CostStream -&gt; Bool)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostStream -&gt; CostStream -&gt; Bool) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostStream -&gt; CostStream -&gt; Bool) -&gt; TestTree)
-&gt; (CostStream -&gt; CostStream -&gt; Bool) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267133"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267133"
	  ><span class="hs-identifier hs-var"
	    >costs1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267134"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267134"
	  ><span class="hs-identifier hs-var"
	    >costs2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-226"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679267136"
      ><span class="annot"
	><span class="annottext"
	  >len1 :: Int
</span
	  ><a href="#local-6989586621679267136"
	  ><span class="hs-identifier hs-var hs-var"
	    >len1</span
	    ></a
	  ></span
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; Int) -&gt; NonEmptyList SatInt -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267133"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-227"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267138"
      ><span class="annot"
	><span class="annottext"
	  >len2 :: Int
</span
	  ><a href="#local-6989586621679267138"
	  ><span class="hs-identifier hs-var hs-var"
	    >len2</span
	    ></a
	  ></span
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; Int) -&gt; NonEmptyList SatInt -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267134"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-228"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267140"
      ><span class="annot"
	><span class="annottext"
	  >lenMin :: Int
</span
	  ><a href="#local-6989586621679267140"
	  ><span class="hs-identifier hs-var hs-var"
	    >lenMin</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; Int)
-&gt; (CostStream -&gt; NonEmptyList SatInt) -&gt; CostStream -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; Int) -&gt; CostStream -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#minCostStream"
	><span class="hs-identifier hs-var"
	  >minCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267133"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267134"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-229"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267140"
	><span class="hs-identifier hs-var"
	  >lenMin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#min"
	><span class="hs-identifier hs-var"
	  >min</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267136"
	><span class="hs-identifier hs-var"
	  >len1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267138"
	><span class="hs-identifier hs-var"
	  >len2</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267140"
	><span class="hs-identifier hs-var"
	  >lenMin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3C%3D"
	><span class="hs-operator hs-var"
	  >&lt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267136"
	><span class="hs-identifier hs-var"
	  >len1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267138"
	><span class="hs-identifier hs-var"
	  >len2</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-230"
      ></span
      ><span
      >
</span
      ><span id="line-231"
      ></span
      ><span class="hs-comment"
      >-- | Test that the length of the stream returned by 'zipCostStream' equals the maximum of the</span
      ><span
      >
</span
      ><span id="line-232"
      ></span
      ><span class="hs-comment"
      >-- lengths of its two arguments.</span
      ><span
      >
</span
      ><span id="line-233"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_zipCostStreamReasonableLength"
	><span class="hs-identifier hs-type"
	  >test_zipCostStreamReasonableLength</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-234"
      ></span
      ><span id="test_zipCostStreamReasonableLength"
      ><span class="annot"
	><span class="annottext"
	  >test_zipCostStreamReasonableLength :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_zipCostStreamReasonableLength"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_zipCostStreamReasonableLength</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-235"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;zipCostStream: reasonable length &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((CostStream -&gt; CostStream -&gt; Property) -&gt; Property)
-&gt; (CostStream -&gt; CostStream -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostStream -&gt; CostStream -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostStream -&gt; CostStream -&gt; Property) -&gt; TestTree)
-&gt; (CostStream -&gt; CostStream -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267143"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267143"
	  ><span class="hs-identifier hs-var"
	    >costs1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267144"
      ><span class="annot"
	><span class="annottext"
	  >CostStream
</span
	  ><a href="#local-6989586621679267144"
	  ><span class="hs-identifier hs-var"
	    >costs2</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-236"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList ExBudget -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream -&gt; NonEmptyList ExBudget
</span
	><a href="Evaluation.Builtins.Costing.html#toExBudgetList"
	><span class="hs-identifier hs-var"
	  >toExBudgetList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; ExBudgetStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetStream.html#zipCostStream"
	><span class="hs-identifier hs-var"
	  >zipCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267143"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267144"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      >
</span
      ><span id="line-237"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#max"
	><span class="hs-identifier hs-var"
	  >max</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267143"
	><span class="hs-identifier hs-var"
	  >costs1</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267144"
	><span class="hs-identifier hs-var"
	  >costs2</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-238"
      ></span
      ><span
      >
</span
      ><span id="line-239"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'mapCostStream' preserves the laziness of its argument.</span
	></span
      ><span
      >
</span
      ><span id="line-240"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_mapCostStreamHandlesBottom"
	><span class="hs-identifier hs-type"
	  >test_mapCostStreamHandlesBottom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-241"
      ></span
      ><span id="test_mapCostStreamHandlesBottom"
      ><span class="annot"
	><span class="annottext"
	  >test_mapCostStreamHandlesBottom :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_mapCostStreamHandlesBottom"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_mapCostStreamHandlesBottom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-242"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;mapCostStream handles bottom suffixes&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((Fun SatInt SatInt -&gt; [SatInt] -&gt; Property) -&gt; Property)
-&gt; (Fun SatInt SatInt -&gt; [SatInt] -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (Fun SatInt SatInt -&gt; [SatInt] -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>500</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Fun SatInt SatInt -&gt; [SatInt] -&gt; Property) -&gt; TestTree)
-&gt; (Fun SatInt SatInt -&gt; [SatInt] -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Fun</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt :-&gt; SatInt, SatInt, Shrunk)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267146"
      ><span class="annot"
	><span class="annottext"
	  >SatInt -&gt; SatInt
</span
	  ><a href="#local-6989586621679267146"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span id="local-6989586621679267147"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679267147"
	  ><span class="hs-identifier hs-var"
	    >xs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-243"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679267149"
      ><span class="annot"
	><span class="annottext"
	  >n :: Int
</span
	  ><a href="#local-6989586621679267149"
	  ><span class="hs-identifier hs-var hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267147"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-244"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- 'fromCostList' forces an additional element, so we account for that here.</span
      ><span
      >
</span
      ><span id="line-245"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267151"
      ><span class="annot"
	><span class="annottext"
	  >suff :: [SatInt]
</span
	  ><a href="#local-6989586621679267151"
	  ><span class="hs-identifier hs-var hs-var"
	    >suff</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; [SatInt]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
forall a. a
</span
	><a href="Evaluation.Builtins.Costing.html#bottom"
	><span class="hs-identifier hs-var"
	  >bottom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-246"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267152"
      ><span class="annot"
	><span class="annottext"
	  >costs :: CostStream
</span
	  ><a href="#local-6989586621679267152"
	  ><span class="hs-identifier hs-var hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; ([SatInt] -&gt; NonEmptyList SatInt) -&gt; [SatInt] -&gt; CostStream
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; NonEmptyList SatInt
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; CostStream) -&gt; [SatInt] -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267147"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [SatInt] -&gt; [SatInt]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267151"
	><span class="hs-identifier hs-var"
	  >suff</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-247"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; [SatInt] -&gt; [SatInt]
forall a. Int -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#take"
	><span class="hs-identifier hs-var"
	  >take</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267149"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; [SatInt])
-&gt; (CostStream -&gt; [SatInt]) -&gt; CostStream -&gt; [SatInt]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; [SatInt]
forall a. NonEmptyList a -&gt; [a]
</span
	><span class="hs-identifier hs-var"
	>getNonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; [SatInt])
-&gt; (CostStream -&gt; NonEmptyList SatInt) -&gt; CostStream -&gt; [SatInt]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; [SatInt]) -&gt; CostStream -&gt; [SatInt]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; SatInt) -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#mapCostStream"
	><span class="hs-identifier hs-var"
	  >mapCostStream</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt
</span
	><a href="#local-6989586621679267146"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267152"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267149"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-248"
      ></span
      ><span
      >
</span
      ><span id="line-249"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'mapCostStream' preserves the laziness of its two arguments.</span
	></span
      ><span
      >
</span
      ><span id="line-250"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_addCostStreamHandlesBottom"
	><span class="hs-identifier hs-type"
	  >test_addCostStreamHandlesBottom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-251"
      ></span
      ><span id="test_addCostStreamHandlesBottom"
      ><span class="annot"
	><span class="annottext"
	  >test_addCostStreamHandlesBottom :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_addCostStreamHandlesBottom"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_addCostStreamHandlesBottom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-252"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;addCostStream handles bottom suffixes&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; ((Positive Int -&gt; Property) -&gt; Property)
-&gt; (Positive Int -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (Positive Int -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Positive Int -&gt; Property) -&gt; TestTree)
-&gt; (Positive Int -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Positive</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267157"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621679267157"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-253"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679267159"
      ><span class="annot"
	><span class="annottext"
	  >interleave :: [a] -&gt; [a] -&gt; [a]
</span
	  ><a href="#local-6989586621679267159"
	  ><span class="hs-identifier hs-var hs-var"
	    >interleave</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267160"
      ><span class="annot"
	><span class="annottext"
	  >[a]
</span
	  ><a href="#local-6989586621679267160"
	  ><span class="hs-identifier hs-var"
	    >xs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267161"
      ><span class="annot"
	><span class="annottext"
	  >[a]
</span
	  ><a href="#local-6989586621679267161"
	  ><span class="hs-identifier hs-var"
	    >ys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[[a]] -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#concat"
	><span class="hs-identifier hs-var"
	  >concat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([[a]] -&gt; [a]) -&gt; [[a]] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[[a]] -&gt; [[a]]
forall a. [[a]] -&gt; [[a]]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#transpose"
	><span class="hs-identifier hs-var"
	  >transpose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>[a]
</span
	><a href="#local-6989586621679267160"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a]
</span
	><a href="#local-6989586621679267161"
	><span class="hs-identifier hs-var"
	  >ys</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-254"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267166"
      ><span class="annot"
	><span class="annottext"
	  >zeroToN :: [SatInt]
</span
	  ><a href="#local-6989586621679267166"
	  ><span class="hs-identifier hs-var hs-var"
	    >zeroToN</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; SatInt) -&gt; [Int] -&gt; [SatInt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; SatInt
</span
	><a href="../../plutus-core/src/Data.SatInt.html#unsafeToSatInt"
	><span class="hs-identifier hs-var"
	  >unsafeToSatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >..</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267157"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [SatInt] -&gt; [SatInt]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
forall a. a
</span
	><a href="Evaluation.Builtins.Costing.html#bottom"
	><span class="hs-identifier hs-var"
	  >bottom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-255"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267174"
      ><span class="annot"
	><span class="annottext"
	  >nPlus1To2NPlus1 :: [SatInt]
</span
	  ><a href="#local-6989586621679267174"
	  ><span class="hs-identifier hs-var hs-var"
	    >nPlus1To2NPlus1</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; SatInt) -&gt; [Int] -&gt; [SatInt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; SatInt
</span
	><a href="../../plutus-core/src/Data.SatInt.html#unsafeToSatInt"
	><span class="hs-identifier hs-var"
	  >unsafeToSatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267157"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >..</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267157"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2A"
	><span class="hs-operator hs-var"
	  >*</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>2</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [SatInt] -&gt; [SatInt]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
forall a. a
</span
	><a href="Evaluation.Builtins.Costing.html#bottom"
	><span class="hs-identifier hs-var"
	  >bottom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-256"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267175"
      ><span class="annot"
	><span class="annottext"
	  >taken :: [SatInt]
</span
	  ><a href="#local-6989586621679267175"
	  ><span class="hs-identifier hs-var hs-var"
	    >taken</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; [SatInt] -&gt; [SatInt]
forall a. Int -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#take"
	><span class="hs-identifier hs-var"
	  >take</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267157"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; [SatInt])
-&gt; (CostStream -&gt; [SatInt]) -&gt; CostStream -&gt; [SatInt]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; [SatInt]
forall a. NonEmptyList a -&gt; [a]
</span
	><span class="hs-identifier hs-var"
	>getNonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; [SatInt])
-&gt; (CostStream -&gt; NonEmptyList SatInt) -&gt; CostStream -&gt; [SatInt]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; [SatInt]) -&gt; CostStream -&gt; [SatInt]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#addCostStream"
	><span class="hs-identifier hs-var"
	  >addCostStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-257"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; NonEmptyList SatInt -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; NonEmptyList SatInt
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267166"
	><span class="hs-identifier hs-var"
	  >zeroToN</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-258"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; NonEmptyList SatInt -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; NonEmptyList SatInt
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267174"
	><span class="hs-identifier hs-var"
	  >nPlus1To2NPlus1</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-259"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >in</span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Every element in the resulting stream comes from one of the generated lists.</span
      ><span
      >
</span
      ><span id="line-260"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; Bool) -&gt; [SatInt] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#all"
	><span class="hs-identifier hs-var"
	  >all</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267177"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267177"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267177"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#elem"
	><span class="hs-operator hs-var"
	  >`elem`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [SatInt] -&gt; [SatInt]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="#local-6989586621679267159"
	><span class="hs-identifier hs-var"
	  >interleave</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267166"
	><span class="hs-identifier hs-var"
	  >zeroToN</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267174"
	><span class="hs-identifier hs-var"
	  >nPlus1To2NPlus1</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267175"
	><span class="hs-identifier hs-var"
	  >taken</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Property -&gt; Property
forall prop1 prop2.
(Testable prop1, Testable prop2) =&gt;
prop1 -&gt; prop2 -&gt; Property
</span
	><span class="hs-operator hs-var"
	>.&amp;&amp;.</span
	></span
      ><span
      >
</span
      ><span id="line-261"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- No element is duplicated.</span
      ><span
      >
</span
      ><span id="line-262"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; SatInt) -&gt; [[SatInt]] -&gt; [SatInt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; SatInt
forall a. HasCallStack =&gt; [a] -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#head"
	><span class="hs-identifier hs-var"
	  >head</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([[SatInt]] -&gt; [SatInt])
-&gt; ([SatInt] -&gt; [[SatInt]]) -&gt; [SatInt] -&gt; [SatInt]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [[SatInt]]
forall a. Eq a =&gt; [a] -&gt; [[a]]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#group"
	><span class="hs-identifier hs-var"
	  >group</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; [SatInt]) -&gt; [SatInt] -&gt; [SatInt]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [SatInt]
forall a. Ord a =&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.OldList.html#sort"
	><span class="hs-identifier hs-var"
	  >sort</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267175"
	><span class="hs-identifier hs-var"
	  >taken</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267175"
	><span class="hs-identifier hs-var"
	  >taken</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-263"
      ></span
      ><span
      >
</span
      ><span id="line-264"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'minCostStream' preserves the laziness of its two arguments.</span
	></span
      ><span
      >
</span
      ><span id="line-265"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_minCostStreamHandlesBottom"
	><span class="hs-identifier hs-type"
	  >test_minCostStreamHandlesBottom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-266"
      ></span
      ><span id="test_minCostStreamHandlesBottom"
      ><span class="annot"
	><span class="annottext"
	  >test_minCostStreamHandlesBottom :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_minCostStreamHandlesBottom"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_minCostStreamHandlesBottom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-267"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;minCostStream handles bottom suffixes&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; (([SatInt] -&gt; [SatInt] -&gt; Bool) -&gt; Property)
-&gt; ([SatInt] -&gt; [SatInt] -&gt; Bool)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; ([SatInt] -&gt; [SatInt] -&gt; Bool) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(([SatInt] -&gt; [SatInt] -&gt; Bool) -&gt; TestTree)
-&gt; ([SatInt] -&gt; [SatInt] -&gt; Bool) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267183"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679267183"
	  ><span class="hs-identifier hs-var"
	    >xs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267184"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679267184"
	  ><span class="hs-identifier hs-var"
	    >ys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-268"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679267190"
      ><span class="annot"
	><span class="annottext"
	  >m :: SatInt
</span
	  ><a href="#local-6989586621679267190"
	  ><span class="hs-identifier hs-var hs-var"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; SatInt
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#min"
	><span class="hs-identifier hs-var"
	  >min</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; SatInt
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#sum"
	><span class="hs-identifier hs-var"
	  >sum</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267183"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; SatInt
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#sum"
	><span class="hs-identifier hs-var"
	  >sum</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267184"
	><span class="hs-identifier hs-var"
	  >ys</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-269"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- 'minCostStream' can force only a single extra element of the stream.</span
      ><span
      >
</span
      ><span id="line-270"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267192"
      ><span class="annot"
	><span class="annottext"
	  >suff :: [SatInt]
</span
	  ><a href="#local-6989586621679267192"
	  ><span class="hs-identifier hs-var hs-var"
	    >suff</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; [SatInt]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
forall a. a
</span
	><a href="Evaluation.Builtins.Costing.html#bottom"
	><span class="hs-identifier hs-var"
	  >bottom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-271"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267193"
      ><span class="annot"
	><span class="annottext"
	  >xsYsMin :: CostStream
</span
	  ><a href="#local-6989586621679267193"
	  ><span class="hs-identifier hs-var hs-var"
	    >xsYsMin</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.CostStream.html#minCostStream"
	><span class="hs-identifier hs-var"
	  >minCostStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-272"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; ([SatInt] -&gt; NonEmptyList SatInt) -&gt; [SatInt] -&gt; CostStream
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; NonEmptyList SatInt
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; CostStream) -&gt; [SatInt] -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267183"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [SatInt] -&gt; [SatInt]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267192"
	><span class="hs-identifier hs-var"
	  >suff</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-273"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; ([SatInt] -&gt; NonEmptyList SatInt) -&gt; [SatInt] -&gt; CostStream
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; NonEmptyList SatInt
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; CostStream) -&gt; [SatInt] -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267184"
	><span class="hs-identifier hs-var"
	  >ys</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [SatInt] -&gt; [SatInt]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267192"
	><span class="hs-identifier hs-var"
	  >suff</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-274"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- Rolling '(+)' over a list representing the minimum of two streams eventually</span
      ><span
      >
</span
      ><span id="line-275"
      ></span
      ><span
      >           </span
      ><span class="hs-comment"
      >-- gives us the sum of the minimum stream before triggering any of the bottoms.</span
      ><span
      >
</span
      ><span id="line-276"
      ></span
      ><span
      >           </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#elem"
	><span class="hs-identifier hs-var"
	  >elem</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267190"
	><span class="hs-identifier hs-var"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; Bool)
-&gt; (NonEmptyList SatInt -&gt; [SatInt]) -&gt; NonEmptyList SatInt -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; SatInt -&gt; SatInt) -&gt; SatInt -&gt; [SatInt] -&gt; [SatInt]
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#scanl%27"
	><span class="hs-identifier hs-var"
	  >scanl'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; SatInt
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >(+)</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; [SatInt])
-&gt; (NonEmptyList SatInt -&gt; [SatInt])
-&gt; NonEmptyList SatInt
-&gt; [SatInt]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; [SatInt]
forall a. NonEmptyList a -&gt; [a]
</span
	><span class="hs-identifier hs-var"
	>getNonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; Bool) -&gt; NonEmptyList SatInt -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream
</span
	><a href="#local-6989586621679267193"
	><span class="hs-identifier hs-var"
	  >xsYsMin</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-277"
      ></span
      ><span
      >
</span
      ><span id="line-278"
      ></span
      ><span class="hs-comment"
      >-- | Pad the shortest of the given lists by appending the given element to it until the length of</span
      ><span
      >
</span
      ><span id="line-279"
      ></span
      ><span class="hs-comment"
      >-- the result matches the length of the other list.</span
      ><span
      >
</span
      ><span id="line-280"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-281"
      ></span
      ><span class="hs-comment"
      >-- &gt;&gt;&gt; postAlignWith 'a' &quot;bcd&quot; &quot;e&quot;</span
      ><span
      >
</span
      ><span id="line-282"
      ></span
      ><span class="hs-comment"
      >-- (&quot;bcd&quot;,&quot;eaa&quot;)</span
      ><span
      >
</span
      ><span id="line-283"
      ></span
      ><span class="hs-comment"
      >-- &gt;&gt;&gt; postAlignWith 'a' &quot;b&quot; &quot;cdef&quot;</span
      ><span
      >
</span
      ><span id="line-284"
      ></span
      ><span class="hs-comment"
      >-- (&quot;baaa&quot;,&quot;cdef&quot;)</span
      ><span
      >
</span
      ><span id="line-285"
      ></span
      ><span id="local-6989586621679266434"
      ><span class="annot"
	><a href="Evaluation.Builtins.Costing.html#postAlignWith"
	  ><span class="hs-identifier hs-type"
	    >postAlignWith</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>::</span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679266434"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="hs-special"
	>[</span
	><span class="annot"
	><a href="#local-6989586621679266434"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span class="hs-special"
	>]</span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="hs-special"
	>[</span
	><span class="annot"
	><a href="#local-6989586621679266434"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span class="hs-special"
	>]</span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="hs-special"
	>(</span
	><span class="hs-special"
	>[</span
	><span class="annot"
	><a href="#local-6989586621679266434"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span class="hs-special"
	>]</span
	><span class="hs-special"
	>,</span
	><span
	> </span
	><span class="hs-special"
	>[</span
	><span class="annot"
	><a href="#local-6989586621679266434"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span class="hs-special"
	>]</span
	><span class="hs-special"
	>)</span
	></span
      ><span
      >
</span
      ><span id="line-286"
      ></span
      ><span id="postAlignWith"
      ><span class="annot"
	><span class="annottext"
	  >postAlignWith :: forall a. a -&gt; [a] -&gt; [a] -&gt; ([a], [a])
</span
	  ><a href="Evaluation.Builtins.Costing.html#postAlignWith"
	  ><span class="hs-identifier hs-var hs-var"
	    >postAlignWith</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267196"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679267196"
	  ><span class="hs-identifier hs-var"
	    >z</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267197"
      ><span class="annot"
	><span class="annottext"
	  >[a]
</span
	  ><a href="#local-6989586621679267197"
	  ><span class="hs-identifier hs-var"
	    >xs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267198"
      ><span class="annot"
	><span class="annottext"
	  >[a]
</span
	  ><a href="#local-6989586621679267198"
	  ><span class="hs-identifier hs-var"
	    >ys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[a] -&gt; [a]
</span
	><a href="#local-6989586621679267199"
	><span class="hs-identifier hs-var"
	  >align</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a]
</span
	><a href="#local-6989586621679267197"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a] -&gt; [a]
</span
	><a href="#local-6989586621679267199"
	><span class="hs-identifier hs-var"
	  >align</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a]
</span
	><a href="#local-6989586621679267198"
	><span class="hs-identifier hs-var"
	  >ys</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-287"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679267199"
      ><span class="annot"
	><span class="annottext"
	  >align :: [a] -&gt; [a]
</span
	  ><a href="#local-6989586621679267199"
	  ><span class="hs-identifier hs-var hs-var"
	    >align</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267203"
      ><span class="annot"
	><span class="annottext"
	  >[a]
</span
	  ><a href="#local-6989586621679267203"
	  ><span class="hs-identifier hs-var"
	    >zs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; [a] -&gt; [a]
forall a. Int -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#take"
	><span class="hs-identifier hs-var"
	  >take</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[a] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a]
</span
	><a href="#local-6989586621679267197"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#max"
	><span class="hs-operator hs-var"
	  >`max`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a]
</span
	><a href="#local-6989586621679267198"
	><span class="hs-identifier hs-var"
	  >ys</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([a] -&gt; [a]) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a]
</span
	><a href="#local-6989586621679267203"
	><span class="hs-identifier hs-var"
	  >zs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a] -&gt; [a] -&gt; [a]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; [a]
forall a. a -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#repeat"
	><span class="hs-identifier hs-var"
	  >repeat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267196"
	><span class="hs-identifier hs-var"
	  >z</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-288"
      ></span
      ><span
      >
</span
      ><span id="line-289"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'zipCostStream' preserves the laziness of its two arguments.</span
	></span
      ><span
      >
</span
      ><span id="line-290"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_zipCostStreamHandlesBottom"
	><span class="hs-identifier hs-type"
	  >test_zipCostStreamHandlesBottom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-291"
      ></span
      ><span id="test_zipCostStreamHandlesBottom"
      ><span class="annot"
	><span class="annottext"
	  >test_zipCostStreamHandlesBottom :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_zipCostStreamHandlesBottom"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_zipCostStreamHandlesBottom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-292"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;zipCostStream handles bottom suffixes&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; (([SatInt] -&gt; [SatInt] -&gt; Bool) -&gt; Property)
-&gt; ([SatInt] -&gt; [SatInt] -&gt; Bool)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; ([SatInt] -&gt; [SatInt] -&gt; Bool) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(([SatInt] -&gt; [SatInt] -&gt; Bool) -&gt; TestTree)
-&gt; ([SatInt] -&gt; [SatInt] -&gt; Bool) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267206"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679267206"
	  ><span class="hs-identifier hs-var"
	    >xs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267207"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679267207"
	  ><span class="hs-identifier hs-var"
	    >ys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-293"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679267212"
      ><span class="annot"
	><span class="annottext"
	  >z :: ExBudget
</span
	  ><a href="#local-6989586621679267212"
	  ><span class="hs-identifier hs-var hs-var"
	    >z</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExCPU -&gt; ExMemory -&gt; ExBudget
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudget.html#ExBudget"
	><span class="hs-identifier hs-var"
	  >ExBudget</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; ExCPU
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemory.html#ExCPU"
	><span class="hs-identifier hs-var"
	  >ExCPU</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; ExCPU) -&gt; SatInt -&gt; ExCPU
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; SatInt
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#sum"
	><span class="hs-identifier hs-var"
	  >sum</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267206"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; ExMemory
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemory.html#ExMemory"
	><span class="hs-identifier hs-var"
	  >ExMemory</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; ExMemory) -&gt; SatInt -&gt; ExMemory
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; SatInt
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#sum"
	><span class="hs-identifier hs-var"
	  >sum</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267207"
	><span class="hs-identifier hs-var"
	  >ys</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-294"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679267214"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679267214"
	  ><span class="hs-identifier hs-var"
	    >xsA</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679267215"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679267215"
	  ><span class="hs-identifier hs-var"
	    >ysA</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; [SatInt] -&gt; ([SatInt], [SatInt])
forall a. a -&gt; [a] -&gt; [a] -&gt; ([a], [a])
</span
	><a href="Evaluation.Builtins.Costing.html#postAlignWith"
	><span class="hs-identifier hs-var"
	  >postAlignWith</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267206"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267207"
	><span class="hs-identifier hs-var"
	  >ys</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-295"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- 'fromCostList' forces an additional element, so we account for that here.</span
      ><span
      >
</span
      ><span id="line-296"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267217"
      ><span class="annot"
	><span class="annottext"
	  >suff :: [SatInt]
</span
	  ><a href="#local-6989586621679267217"
	  ><span class="hs-identifier hs-var hs-var"
	    >suff</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>0</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; [SatInt]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
forall a. a
</span
	><a href="Evaluation.Builtins.Costing.html#bottom"
	><span class="hs-identifier hs-var"
	  >bottom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-297"
      ></span
      ><span
      >            </span
      ><span id="local-6989586621679267218"
      ><span class="annot"
	><span class="annottext"
	  >xys :: ExBudgetStream
</span
	  ><a href="#local-6989586621679267218"
	  ><span class="hs-identifier hs-var hs-var"
	    >xys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; ExBudgetStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExBudgetStream.html#zipCostStream"
	><span class="hs-identifier hs-var"
	  >zipCostStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-298"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; ([SatInt] -&gt; NonEmptyList SatInt) -&gt; [SatInt] -&gt; CostStream
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; NonEmptyList SatInt
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; CostStream) -&gt; [SatInt] -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267214"
	><span class="hs-identifier hs-var"
	  >xsA</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [SatInt] -&gt; [SatInt]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267217"
	><span class="hs-identifier hs-var"
	  >suff</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-299"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; ([SatInt] -&gt; NonEmptyList SatInt) -&gt; [SatInt] -&gt; CostStream
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; NonEmptyList SatInt
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; CostStream) -&gt; [SatInt] -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267215"
	><span class="hs-identifier hs-var"
	  >ysA</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [SatInt] -&gt; [SatInt]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267217"
	><span class="hs-identifier hs-var"
	  >suff</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-300"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >in</span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Rolling '(&lt;&gt;)' over a list representing the zipped cost streams eventually</span
      ><span
      >
</span
      ><span id="line-301"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- gives us an 'ExBudget' containing the sums of the streams computed separately.</span
      ><span
      >
</span
      ><span id="line-302"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudget -&gt; [ExBudget] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#elem"
	><span class="hs-identifier hs-var"
	  >elem</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudget
</span
	><a href="#local-6989586621679267212"
	><span class="hs-identifier hs-var"
	  >z</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([ExBudget] -&gt; Bool)
-&gt; (NonEmptyList ExBudget -&gt; [ExBudget])
-&gt; NonEmptyList ExBudget
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ExBudget -&gt; ExBudget -&gt; ExBudget)
-&gt; ExBudget -&gt; [ExBudget] -&gt; [ExBudget]
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#scanl%27"
	><span class="hs-identifier hs-var"
	  >scanl'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudget -&gt; ExBudget -&gt; ExBudget
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3C%3E"
	><span class="hs-operator hs-var"
	  >(&lt;&gt;)</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudget
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([ExBudget] -&gt; [ExBudget])
-&gt; (NonEmptyList ExBudget -&gt; [ExBudget])
-&gt; NonEmptyList ExBudget
-&gt; [ExBudget]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList ExBudget -&gt; [ExBudget]
forall a. NonEmptyList a -&gt; [a]
</span
	><span class="hs-identifier hs-var"
	>getNonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList ExBudget -&gt; Bool) -&gt; NonEmptyList ExBudget -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream -&gt; NonEmptyList ExBudget
</span
	><a href="Evaluation.Builtins.Costing.html#toExBudgetList"
	><span class="hs-identifier hs-var"
	  >toExBudgetList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ExBudgetStream
</span
	><a href="#local-6989586621679267218"
	><span class="hs-identifier hs-var"
	  >xys</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-303"
      ></span
      ><span
      >
</span
      ><span id="line-304"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The size 'sierpinskiRose' of the given depth.</span
	></span
      ><span
      >
</span
      ><span id="line-305"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#sierpinskiSize"
	><span class="hs-identifier hs-type"
	  >sierpinskiSize</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Int"
	><span class="hs-identifier hs-type"
	  >Int</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Int"
	><span class="hs-identifier hs-type"
	  >Int</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-306"
      ></span
      ><span id="sierpinskiSize"
      ><span class="annot"
	><span class="annottext"
	  >sierpinskiSize :: Int -&gt; Int
</span
	  ><a href="Evaluation.Builtins.Costing.html#sierpinskiSize"
	  ><span class="hs-identifier hs-var hs-var"
	    >sierpinskiSize</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267221"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621679267221"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-307"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267221"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3C%3D"
	><span class="hs-operator hs-var"
	  >&lt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      >
</span
      ><span id="line-308"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#otherwise"
	><span class="hs-identifier hs-var"
	  >otherwise</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int
</span
	><a href="Evaluation.Builtins.Costing.html#sierpinskiSize"
	><span class="hs-identifier hs-var"
	  >sierpinskiSize</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267221"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#-"
	><span class="hs-glyph hs-var"
	  >-</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2A"
	><span class="hs-operator hs-var"
	  >*</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>3</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      >
</span
      ><span id="line-309"
      ></span
      ><span
      >
</span
      ><span id="line-310"
      ></span
      ><span class="hs-comment"
      >-- | Return a finite balanced tree with each node (apart from the leaves) having exactly 3 children.</span
      ><span
      >
</span
      ><span id="line-311"
      ></span
      ><span class="hs-comment"
      >-- The parameter is the depth of the tree.</span
      ><span
      >
</span
      ><span id="line-312"
      ></span
      ><span class="hs-comment"
      >-- Named after https://en.wikipedia.org/wiki/Sierpi%C5%84ski_triangle</span
      ><span
      >
</span
      ><span id="line-313"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#sierpinskiRose"
	><span class="hs-identifier hs-type"
	  >sierpinskiRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Int"
	><span class="hs-identifier hs-type"
	  >Int</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-type"
	  >CostRose</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-314"
      ></span
      ><span id="sierpinskiRose"
      ><span class="annot"
	><span class="annottext"
	  >sierpinskiRose :: Int -&gt; CostRose
</span
	  ><a href="Evaluation.Builtins.Costing.html#sierpinskiRose"
	  ><span class="hs-identifier hs-var hs-var"
	    >sierpinskiRose</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267222"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621679267222"
	  ><span class="hs-identifier hs-var"
	    >n0</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-315"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267222"
	><span class="hs-identifier hs-var"
	  >n0</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3C%3D"
	><span class="hs-operator hs-var"
	  >&lt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; CostRose
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#singletonRose"
	><span class="hs-identifier hs-var"
	  >singletonRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      >
</span
      ><span id="line-316"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#otherwise"
	><span class="hs-identifier hs-var"
	  >otherwise</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [CostRose] -&gt; CostRose
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-var"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; SatInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Real.html#fromIntegral"
	><span class="hs-identifier hs-var"
	  >fromIntegral</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267222"
	><span class="hs-identifier hs-var"
	  >n0</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([CostRose] -&gt; CostRose) -&gt; (Int -&gt; [CostRose]) -&gt; Int -&gt; CostRose
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; CostRose) -&gt; [Int] -&gt; [CostRose]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; CostRose
</span
	><a href="Evaluation.Builtins.Costing.html#sierpinskiRose"
	><span class="hs-identifier hs-var"
	  >sierpinskiRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Int] -&gt; [CostRose]) -&gt; (Int -&gt; [Int]) -&gt; Int -&gt; [CostRose]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; [Int]
forall a. Int -&gt; a -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#replicate"
	><span class="hs-identifier hs-var"
	  >replicate</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>3</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; CostRose) -&gt; Int -&gt; CostRose
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267222"
	><span class="hs-identifier hs-var"
	  >n0</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#-"
	><span class="hs-glyph hs-var"
	  >-</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      >
</span
      ><span id="line-317"
      ></span
      ><span
      >
</span
      ><span id="line-318"
      ></span
      ><span class="hs-comment"
      >-- | Traverse a 'sierpinskiRose' of the given depth and display the total amount of elements</span
      ><span
      >
</span
      ><span id="line-319"
      ></span
      ><span class="hs-comment"
      >-- processed. See 'test_flattenCostRoseIsLinear' for why we do this.</span
      ><span
      >
</span
      ><span id="line-320"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseIsLinearForSierpinskiRose"
	><span class="hs-identifier hs-type"
	  >test_flattenCostRoseIsLinearForSierpinskiRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Int"
	><span class="hs-identifier hs-type"
	  >Int</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-321"
      ></span
      ><span id="test_flattenCostRoseIsLinearForSierpinskiRose"
      ><span class="annot"
	><span class="annottext"
	  >test_flattenCostRoseIsLinearForSierpinskiRose :: Int -&gt; TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseIsLinearForSierpinskiRose"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_flattenCostRoseIsLinearForSierpinskiRose</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267228"
      ><span class="annot"
	><span class="annottext"
	  >Int
</span
	  ><a href="#local-6989586621679267228"
	  ><span class="hs-identifier hs-var"
	    >depth</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-322"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679267229"
      ><span class="annot"
	><span class="annottext"
	  >size :: Int
</span
	  ><a href="#local-6989586621679267229"
	  ><span class="hs-identifier hs-var hs-var"
	    >size</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int
</span
	><a href="Evaluation.Builtins.Costing.html#sierpinskiSize"
	><span class="hs-identifier hs-var"
	  >sierpinskiSize</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267228"
	><span class="hs-identifier hs-var"
	  >depth</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-323"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;sierpinski rose: taking &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267229"
	><span class="hs-identifier hs-var"
	  >size</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot; elements&quot;</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree) -&gt; Property -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-324"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Property -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; Property) -&gt; Property -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-325"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Int
forall a. NonEmptyList a -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; NonEmptyList SatInt)
-&gt; (CostRose -&gt; CostStream) -&gt; CostRose -&gt; NonEmptyList SatInt
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#flattenCostRose"
	><span class="hs-identifier hs-var"
	  >flattenCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostRose -&gt; NonEmptyList SatInt)
-&gt; CostRose -&gt; NonEmptyList SatInt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; CostRose
</span
	><a href="Evaluation.Builtins.Costing.html#sierpinskiRose"
	><span class="hs-identifier hs-var"
	  >sierpinskiRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267228"
	><span class="hs-identifier hs-var"
	  >depth</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      >
</span
      ><span id="line-326"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><a href="#local-6989586621679267229"
	><span class="hs-identifier hs-var"
	  >size</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-327"
      ></span
      ><span
      >
</span
      ><span id="line-328"
      ></span
      ><span class="hs-comment"
      >-- | Test that traversing a larger 'CostRose' takes _linearly_ more time. The actual test can only</span
      ><span
      >
</span
      ><span id="line-329"
      ></span
      ><span class="hs-comment"
      >-- be done with eyes unfortunately, because the tests are way too noisy for evaluation times to be</span
      ><span
      >
</span
      ><span id="line-330"
      ></span
      ><span class="hs-comment"
      >-- reported even remotely accurately.</span
      ><span
      >
</span
      ><span id="line-331"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseIsLinear"
	><span class="hs-identifier hs-type"
	  >test_flattenCostRoseIsLinear</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-332"
      ></span
      ><span id="test_flattenCostRoseIsLinear"
      ><span class="annot"
	><span class="annottext"
	  >test_flattenCostRoseIsLinear :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseIsLinear"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_flattenCostRoseIsLinear</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [TestTree] -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#testGroup"
	><span class="hs-identifier hs-var"
	  >testGroup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;flattenCostRose is linear&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-333"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >[</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseIsLinearForSierpinskiRose"
	><span class="hs-identifier hs-var"
	  >test_flattenCostRoseIsLinearForSierpinskiRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>12</span
	></span
      ><span
      >
</span
      ><span id="line-334"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseIsLinearForSierpinskiRose"
	><span class="hs-identifier hs-var"
	  >test_flattenCostRoseIsLinearForSierpinskiRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>13</span
	></span
      ><span
      >
</span
      ><span id="line-335"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseIsLinearForSierpinskiRose"
	><span class="hs-identifier hs-var"
	  >test_flattenCostRoseIsLinearForSierpinskiRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>14</span
	></span
      ><span
      >
</span
      ><span id="line-336"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-337"
      ></span
      ><span
      >
</span
      ><span id="line-338"
      ></span
      ><span class="hs-comment"
      >{- Note [Generating a CostRose]
We use an overly pedantic approach for generating 'CostRose's. The idea is simple: generate a list
of costs, chop it into chunks and turn each of those into its own 'CostRose' recursively, then
assemble them together to get the resulting 'CostRose'. We do it this way, because that makes it
trivial to ensure that the generator is not exponential as each generated 'CostRose' only has those
(and only those) elements in it that came from the generated list and the generator for lists isn't
exponential. It also makes it easy to control the distribution of the shapes of generated
'CostRose's. Do we want long forests? Do we want to cover all possible trees up to a certain depth?
All of that is easy to tweak, although the actual logic can get complicated pretty quickly. But at
least all this complicated logic is fairly local unlike with the usual approach when generation is
size-driven and minor tweaks in size handling at any step can result in major changes in the overall
generation strategy such as exponential growth of the generated objects.
-}</span
      ><span
      >
</span
      ><span id="line-351"
      ></span
      ><span
      >
</span
      ><span id="line-352"
      ></span
      ><span class="hs-comment"
      >-- See Note [Generating a CostRose].</span
      ><span
      >
</span
      ><span id="line-353"
      ></span
      ><span class="hs-comment"
      >-- | Generate a 'CostRose' from the given list by splitting the list into sublists and generating</span
      ><span
      >
</span
      ><span id="line-354"
      ></span
      ><span class="hs-comment"
      >-- a 'CostRose' for each of them recursively.</span
      ><span
      >
</span
      ><span id="line-355"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#genCostRose"
	><span class="hs-identifier hs-type"
	  >genCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>NonEmptyList</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Gen</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-type"
	  >CostRose</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-356"
      ></span
      ><span id="genCostRose"
      ><span class="annot"
	><span class="annottext"
	  >genCostRose :: NonEmptyList SatInt -&gt; Gen CostRose
</span
	  ><a href="Evaluation.Builtins.Costing.html#genCostRose"
	  ><span class="hs-identifier hs-var hs-var"
	    >genCostRose</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >)</span
      ><span
      >             </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Gen CostRose
forall a. HasCallStack =&gt; [Char] -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Err.html#error"
	><span class="hs-identifier hs-var"
	  >error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;Panic: an empty non-empty list&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-357"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#genCostRose"
	><span class="hs-identifier hs-var"
	  >genCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679267233"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267233"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679267234"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679267234"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-358"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [CostRose] -&gt; CostRose
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-var"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267233"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([CostRose] -&gt; CostRose) -&gt; Gen [CostRose] -&gt; Gen CostRose
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; Gen CostRose)
-&gt; [NonEmptyList SatInt] -&gt; Gen [CostRose]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Gen CostRose
</span
	><a href="Evaluation.Builtins.Costing.html#genCostRose"
	><span class="hs-identifier hs-var"
	  >genCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([NonEmptyList SatInt] -&gt; Gen [CostRose])
-&gt; Gen [NonEmptyList SatInt] -&gt; Gen [CostRose]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3D%3C%3C"
	><span class="hs-operator hs-var"
	  >=&lt;&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; Gen [NonEmptyList SatInt]
forall a. [a] -&gt; Gen [NonEmptyList a]
</span
	><a href="../../plutus-core/src/PlutusCore.Generators.QuickCheck.Split.html#multiSplit1"
	><span class="hs-identifier hs-var"
	  >multiSplit1</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267234"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-359"
      ></span
      ><span
      >
</span
      ><span id="line-360"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#fromCostRose"
	><span class="hs-identifier hs-type"
	  >fromCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-type"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>NonEmptyList</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/Data.SatInt.html#SatInt"
	><span class="hs-identifier hs-type"
	  >SatInt</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-361"
      ></span
      ><span id="fromCostRose"
      ><span class="annot"
	><span class="annottext"
	  >fromCostRose :: CostRose -&gt; NonEmptyList SatInt
</span
	  ><a href="Evaluation.Builtins.Costing.html#fromCostRose"
	  ><span class="hs-identifier hs-var hs-var"
	    >fromCostRose</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-type"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679267239"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267239"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267240"
      ><span class="annot"
	><span class="annottext"
	  >[CostRose]
</span
	  ><a href="#local-6989586621679267240"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-362"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; NonEmptyList SatInt
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; NonEmptyList SatInt)
-&gt; [SatInt] -&gt; NonEmptyList SatInt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267239"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; [SatInt]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostRose -&gt; [SatInt]) -&gt; [CostRose] -&gt; [SatInt]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#concatMap"
	><span class="hs-identifier hs-var"
	  >concatMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; [SatInt]
forall a. NonEmptyList a -&gt; [a]
</span
	><span class="hs-identifier hs-var"
	>getNonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; [SatInt])
-&gt; (CostRose -&gt; NonEmptyList SatInt) -&gt; CostRose -&gt; [SatInt]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostRose"
	><span class="hs-identifier hs-var"
	  >fromCostRose</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CostRose]
</span
	><a href="#local-6989586621679267240"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-363"
      ></span
      ><span
      >
</span
      ><span id="line-364"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier hs-type"
	>Arbitrary</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-type"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-365"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- By default the lengt of generated lists is capped at 100, which would give us too small of</span
      ><span
      >
</span
      ><span id="line-366"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- 'CostRose's, so we scale the size parameter.</span
      ><span
      >
</span
      ><span id="line-367"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679267248"
      ><span class="annot"
	><span class="annottext"
	  >arbitrary :: Gen CostRose
</span
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	  >arbitrary</span
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; Int)
-&gt; Gen (NonEmptyList SatInt) -&gt; Gen (NonEmptyList SatInt)
forall a. (Int -&gt; Int) -&gt; Gen a -&gt; Gen a
</span
	><span class="hs-identifier hs-var"
	>scale</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2A"
	><span class="hs-operator hs-var"
	  >*</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>10</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Gen (NonEmptyList SatInt)
forall a. Arbitrary a =&gt; Gen a
</span
	><span class="hs-identifier hs-var"
	>arbitrary</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Gen (NonEmptyList SatInt)
-&gt; (NonEmptyList SatInt -&gt; Gen CostRose) -&gt; Gen CostRose
forall a b. Gen a -&gt; (a -&gt; Gen b) -&gt; Gen b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3E%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Gen CostRose
</span
	><a href="Evaluation.Builtins.Costing.html#genCostRose"
	><span class="hs-identifier hs-var"
	  >genCostRose</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-368"
      ></span
      ><span
      >
</span
      ><span id="line-369"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679267254"
      ><span class="annot"
	><span class="annottext"
	  >shrink :: CostRose -&gt; [CostRose]
</span
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	  >shrink</span
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-type"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679267255"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267255"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267256"
      ><span class="annot"
	><span class="annottext"
	  >[CostRose]
</span
	  ><a href="#local-6989586621679267256"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-370"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- Shrinking the recursive part first.</span
      ><span
      >
</span
      ><span id="line-371"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679267257"
      ><span class="annot"
	><span class="annottext"
	  >[CostRose]
</span
	  ><a href="#local-6989586621679267257"
	  ><span class="hs-identifier hs-var"
	    >costs'</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679267258"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267258"
	  ><span class="hs-identifier hs-var"
	    >cost'</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([CostRose], SatInt) -&gt; [([CostRose], SatInt)]
forall a. Arbitrary a =&gt; a -&gt; [a]
</span
	><span class="hs-identifier hs-var"
	>shrink</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[CostRose]
</span
	><a href="#local-6989586621679267256"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267255"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-372"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; [CostRose]
forall a. a -&gt; [a]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostRose -&gt; [CostRose]) -&gt; CostRose -&gt; [CostRose]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [CostRose] -&gt; CostRose
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-var"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267258"
	><span class="hs-identifier hs-var"
	  >cost'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CostRose]
</span
	><a href="#local-6989586621679267257"
	><span class="hs-identifier hs-var"
	  >costs'</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-373"
      ></span
      ><span
      >
</span
      ><span id="line-374"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Return the lengths of all the forests in a 'CostRose'.</span
	></span
      ><span
      >
</span
      ><span id="line-375"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#collectListLengths"
	><span class="hs-identifier hs-type"
	  >collectListLengths</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-type"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Int"
	><span class="hs-identifier hs-type"
	  >Int</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-376"
      ></span
      ><span id="collectListLengths"
      ><span class="annot"
	><span class="annottext"
	  >collectListLengths :: CostRose -&gt; [Int]
</span
	  ><a href="Evaluation.Builtins.Costing.html#collectListLengths"
	  ><span class="hs-identifier hs-var hs-var"
	    >collectListLengths</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-type"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267260"
      ><span class="annot"
	><span class="annottext"
	  >[CostRose]
</span
	  ><a href="#local-6989586621679267260"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CostRose] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#length"
	><span class="hs-identifier hs-var"
	  >length</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CostRose]
</span
	><a href="#local-6989586621679267260"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; [Int] -&gt; [Int]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostRose -&gt; [Int]) -&gt; [CostRose] -&gt; [Int]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#concatMap"
	><span class="hs-identifier hs-var"
	  >concatMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; [Int]
</span
	><a href="Evaluation.Builtins.Costing.html#collectListLengths"
	><span class="hs-identifier hs-var"
	  >collectListLengths</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CostRose]
</span
	><a href="#local-6989586621679267260"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-377"
      ></span
      ><span
      >
</span
      ><span id="line-378"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Show the distribution of forest lengths in generated 'CostRose' values as a diagnostic.</span
	></span
      ><span
      >
</span
      ><span id="line-379"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_CostRoseListLengthsDistribution"
	><span class="hs-identifier hs-type"
	  >test_CostRoseListLengthsDistribution</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-380"
      ></span
      ><span id="test_CostRoseListLengthsDistribution"
      ><span class="annot"
	><span class="annottext"
	  >test_CostRoseListLengthsDistribution :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_CostRoseListLengthsDistribution"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_CostRoseListLengthsDistribution</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-381"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;distribution of list lengths in CostRose values&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree) -&gt; Property -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-382"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostRose -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostRose -&gt; Property) -&gt; Property)
-&gt; (CostRose -&gt; Property) -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267262"
      ><span class="annot"
	><span class="annottext"
	  >CostRose
</span
	  ><a href="#local-6989586621679267262"
	  ><span class="hs-identifier hs-var"
	    >rose</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-383"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679267277"
      ><span class="annot"
	><span class="annottext"
	  >render :: a -&gt; [Char]
</span
	  ><a href="#local-6989586621679267277"
	  ><span class="hs-identifier hs-var hs-var"
	    >render</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267278"
      ><span class="annot"
	><span class="annottext"
	  >a
</span
	  ><a href="#local-6989586621679267278"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-384"
      ></span
      ><span
      >                    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267278"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3C%3D"
	><span class="hs-operator hs-var"
	  >&lt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-number"
	>10</span
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267278"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-385"
      ></span
      ><span
      >                    </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#otherwise"
	><span class="hs-identifier hs-var"
	  >otherwise</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267279"
	><span class="hs-identifier hs-var"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot; &lt; n &lt;= &quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Show.html#show"
	><span class="hs-identifier hs-var"
	  >show</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267279"
	><span class="hs-identifier hs-var"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Num.html#%2B"
	><span class="hs-operator hs-var"
	  >+</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-number"
	>10</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-386"
      ></span
      ><span
      >                    </span
      ><span class="hs-keyword"
      >where</span
      ><span
      > </span
      ><span id="local-6989586621679267279"
      ><span class="annot"
	><span class="annottext"
	  >m :: a
</span
	  ><a href="#local-6989586621679267279"
	  ><span class="hs-identifier hs-var hs-var"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[a] -&gt; a
forall a. HasCallStack =&gt; [a] -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#head"
	><span class="hs-identifier hs-var"
	  >head</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; Bool) -&gt; [a] -&gt; [a]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#dropWhile"
	><span class="hs-identifier hs-var"
	  >dropWhile</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3C"
	><span class="hs-operator hs-var"
	  >&lt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><a href="#local-6989586621679267278"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-number"
	>10</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
</span
	><span class="hs-number"
	>20</span
	></span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-387"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [[Char]] -&gt; Bool -&gt; Property
forall prop.
Testable prop =&gt;
[Char] -&gt; [[Char]] -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>tabulate</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;n&quot;</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; [Char]) -&gt; [Int] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; [Char]
forall {a}. (Show a, Ord a, Num a, Enum a) =&gt; a -&gt; [Char]
</span
	><a href="#local-6989586621679267277"
	><span class="hs-identifier hs-var"
	  >render</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Int] -&gt; [[Char]]) -&gt; ([Int] -&gt; [Int]) -&gt; [Int] -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Int -&gt; Bool) -&gt; [Int] -&gt; [Int]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.List.html#filter"
	><span class="hs-identifier hs-var"
	  >filter</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%2F%3D"
	><span class="hs-operator hs-var"
	  >/=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>0</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Int] -&gt; [[Char]]) -&gt; [Int] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; [Int]
</span
	><a href="Evaluation.Builtins.Costing.html#collectListLengths"
	><span class="hs-identifier hs-var"
	  >collectListLengths</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose
</span
	><a href="#local-6989586621679267262"
	><span class="hs-identifier hs-var"
	  >rose</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-388"
      ></span
      ><span
      >
</span
      ><span id="line-389"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'genCostRose' only takes costs from its argument when generating a 'CostRose'.</span
	></span
      ><span
      >
</span
      ><span id="line-390"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_genCostRoseSound"
	><span class="hs-identifier hs-type"
	  >test_genCostRoseSound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-391"
      ></span
      ><span id="test_genCostRoseSound"
      ><span class="annot"
	><span class="annottext"
	  >test_genCostRoseSound :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_genCostRoseSound"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_genCostRoseSound</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-392"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;genCostRose puts 100% of its input and nothing else into the output&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree) -&gt; Property -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-393"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (NonEmptyList SatInt -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((NonEmptyList SatInt -&gt; Property) -&gt; Property)
-&gt; (NonEmptyList SatInt -&gt; Property) -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267292"
      ><span class="annot"
	><span class="annottext"
	  >NonEmptyList SatInt
</span
	  ><a href="#local-6989586621679267292"
	  ><span class="hs-identifier hs-var"
	    >costs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-394"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Gen CostRose -&gt; (CostRose -&gt; Property) -&gt; Property
forall a prop.
(Show a, Testable prop) =&gt;
Gen a -&gt; (a -&gt; prop) -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>forAll</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Gen CostRose
</span
	><a href="Evaluation.Builtins.Costing.html#genCostRose"
	><span class="hs-identifier hs-var"
	  >genCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt
</span
	><a href="#local-6989586621679267292"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostRose -&gt; Property) -&gt; Property)
-&gt; (CostRose -&gt; Property) -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267294"
      ><span class="annot"
	><span class="annottext"
	  >CostRose
</span
	  ><a href="#local-6989586621679267294"
	  ><span class="hs-identifier hs-var"
	    >rose</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-395"
      ></span
      ><span
      >                </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostRose"
	><span class="hs-identifier hs-var"
	  >fromCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose
</span
	><a href="#local-6989586621679267294"
	><span class="hs-identifier hs-var"
	  >rose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; NonEmptyList SatInt -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span
	><span class="hs-operator hs-var"
	>===</span
	></span
      ><span
      >
</span
      ><span id="line-396"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt
</span
	><a href="#local-6989586621679267292"
	><span class="hs-identifier hs-var"
	  >costs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-397"
      ></span
      ><span
      >
</span
      ><span id="line-398"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'flattenCostRose' returns the elements of its argument.</span
	></span
      ><span
      >
</span
      ><span id="line-399"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseSound"
	><span class="hs-identifier hs-type"
	  >test_flattenCostRoseSound</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-400"
      ></span
      ><span id="test_flattenCostRoseSound"
      ><span class="annot"
	><span class="annottext"
	  >test_flattenCostRoseSound :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseSound"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_flattenCostRoseSound</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-401"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;flattenCostRose puts 100% of its input and nothing else into the output&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree) -&gt; Property -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-402"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (CostRose -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostRose -&gt; Property) -&gt; Property)
-&gt; (CostRose -&gt; Property) -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267296"
      ><span class="annot"
	><span class="annottext"
	  >CostRose
</span
	  ><a href="#local-6989586621679267296"
	  ><span class="hs-identifier hs-var"
	    >rose</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-403"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- This assumes that 'flattenCostRose' is left-biased, which isn't really necessary, but</span
      ><span
      >
</span
      ><span id="line-404"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- it doesn't seem like we're giving up on the assumption any time soon anyway, so why</span
      ><span
      >
</span
      ><span id="line-405"
      ></span
      ><span
      >            </span
      ><span class="hs-comment"
      >-- not keep it simple instead of sorting the results.</span
      ><span
      >
</span
      ><span id="line-406"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; CostStream -&gt; Bool)
-&gt; CostStream -&gt; CostStream -&gt; Property
forall a. Show a =&gt; (a -&gt; a -&gt; Bool) -&gt; a -&gt; a -&gt; Property
</span
	><a href="Evaluation.Builtins.Costing.html#checkEqualsVia"
	><span class="hs-identifier hs-var"
	  >checkEqualsVia</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; CostStream -&gt; Bool
</span
	><a href="Evaluation.Builtins.Costing.html#eqCostStream"
	><span class="hs-identifier hs-var"
	  >eqCostStream</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-407"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#flattenCostRose"
	><span class="hs-identifier hs-var"
	  >flattenCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose
</span
	><a href="#local-6989586621679267296"
	><span class="hs-identifier hs-var"
	  >rose</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-408"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; CostStream
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostList"
	><span class="hs-identifier hs-var"
	  >fromCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; CostStream)
-&gt; NonEmptyList SatInt -&gt; CostStream
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#fromCostRose"
	><span class="hs-identifier hs-var"
	  >fromCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose
</span
	><a href="#local-6989586621679267296"
	><span class="hs-identifier hs-var"
	  >rose</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-409"
      ></span
      ><span
      >
</span
      ><span id="line-410"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Test that 'flattenCostRose' is lazy.</span
	></span
      ><span
      >
</span
      ><span id="line-411"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseHandlesBottom"
	><span class="hs-identifier hs-type"
	  >test_flattenCostRoseHandlesBottom</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-412"
      ></span
      ><span id="test_flattenCostRoseHandlesBottom"
      ><span class="annot"
	><span class="annottext"
	  >test_flattenCostRoseHandlesBottom :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseHandlesBottom"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_flattenCostRoseHandlesBottom</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-413"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;flattenCostRose handles bottom subtrees&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree)
-&gt; (([SatInt] -&gt; [SatInt] -&gt; Property) -&gt; Property)
-&gt; ([SatInt] -&gt; [SatInt] -&gt; Property)
-&gt; TestTree
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; ([SatInt] -&gt; [SatInt] -&gt; Property) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>5000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(([SatInt] -&gt; [SatInt] -&gt; Property) -&gt; TestTree)
-&gt; ([SatInt] -&gt; [SatInt] -&gt; Property) -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267298"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679267298"
	  ><span class="hs-identifier hs-var"
	    >xs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267299"
      ><span class="annot"
	><span class="annottext"
	  >[SatInt]
</span
	  ><a href="#local-6989586621679267299"
	  ><span class="hs-identifier hs-var"
	    >ys</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-414"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- Create a 'CostRose' with a negative cost somewhere in it, then replace the subtree after</span
      ><span
      >
</span
      ><span id="line-415"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- that cost with 'bottom' and check that we can get to the negative cost without forcing</span
      ><span
      >
</span
      ><span id="line-416"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- the bottom. We could've implemented generation of 'CostRose's with bottoms in them, but</span
      ><span
      >
</span
      ><span id="line-417"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- 'genCostRose' is already complicated enough, so it's easier to put a magical number into</span
      ><span
      >
</span
      ><span id="line-418"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- its input and postprocess the generated rose.</span
      ><span
      >
</span
      ><span id="line-419"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Gen CostRose -&gt; (CostRose -&gt; Bool) -&gt; Property
forall a prop.
(Show a, Testable prop) =&gt;
Gen a -&gt; (a -&gt; prop) -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>forAll</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>NonEmptyList SatInt -&gt; Gen CostRose
</span
	><a href="Evaluation.Builtins.Costing.html#genCostRose"
	><span class="hs-identifier hs-var"
	  >genCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; Gen CostRose)
-&gt; ([SatInt] -&gt; NonEmptyList SatInt) -&gt; [SatInt] -&gt; Gen CostRose
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; NonEmptyList SatInt
forall a. [a] -&gt; NonEmptyList a
</span
	><span class="hs-identifier hs-var"
	>NonEmpty</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([SatInt] -&gt; Gen CostRose) -&gt; [SatInt] -&gt; Gen CostRose
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267298"
	><span class="hs-identifier hs-var"
	  >xs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt] -&gt; [SatInt] -&gt; [SatInt]
forall a. [a] -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%2B%2B"
	><span class="hs-operator hs-var"
	  >++</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >-</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [SatInt] -&gt; [SatInt]
forall a. a -&gt; [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-var"
	  >:</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[SatInt]
</span
	><a href="#local-6989586621679267299"
	><span class="hs-identifier hs-var"
	  >ys</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((CostRose -&gt; Bool) -&gt; Property) -&gt; (CostRose -&gt; Bool) -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679267300"
      ><span class="annot"
	><span class="annottext"
	  >CostRose
</span
	  ><a href="#local-6989586621679267300"
	  ><span class="hs-identifier hs-var"
	    >rose</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-420"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679267304"
      ><span class="annot"
	><span class="annottext"
	  >spoilCostRose :: CostRose -&gt; CostRose
</span
	  ><a href="#local-6989586621679267304"
	  ><span class="hs-identifier hs-var hs-var"
	    >spoilCostRose</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-type"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679267305"
      ><span class="annot"
	><span class="annottext"
	  >SatInt
</span
	  ><a href="#local-6989586621679267305"
	  ><span class="hs-identifier hs-var"
	    >cost</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679267306"
      ><span class="annot"
	><span class="annottext"
	  >[CostRose]
</span
	  ><a href="#local-6989586621679267306"
	  ><span class="hs-identifier hs-var"
	    >forest</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-421"
      ></span
      ><span
      >                    </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; [CostRose] -&gt; CostRose
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#CostRose"
	><span class="hs-identifier hs-var"
	  >CostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267305"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([CostRose] -&gt; CostRose) -&gt; [CostRose] -&gt; CostRose
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><a href="#local-6989586621679267305"
	><span class="hs-identifier hs-var"
	  >cost</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      >
</span
      ><span id="line-422"
      ></span
      ><span
      >                        </span
      ><span class="hs-comment"
      >-- 'flattenCostRose' forces an additional constructor, which is why 'bottom'</span
      ><span
      >
</span
      ><span id="line-423"
      ></span
      ><span
      >                        </span
      ><span class="hs-comment"
      >-- is put into a list.</span
      ><span
      >
</span
      ><span id="line-424"
      ></span
      ><span
      >                        </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>CostRose
forall a. a
</span
	><a href="Evaluation.Builtins.Costing.html#bottom"
	><span class="hs-identifier hs-var"
	  >bottom</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-425"
      ></span
      ><span
      >                        </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostRose -&gt; CostRose) -&gt; [CostRose] -&gt; [CostRose]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#map"
	><span class="hs-identifier hs-var"
	  >map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; CostRose
</span
	><a href="#local-6989586621679267304"
	><span class="hs-identifier hs-var"
	  >spoilCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[CostRose]
</span
	><a href="#local-6989586621679267306"
	><span class="hs-identifier hs-var"
	  >forest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-426"
      ></span
      ><span
      >            </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; NonEmptyList SatInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; NonEmptyList a -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#elem"
	><span class="hs-identifier hs-var"
	  >elem</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >-</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>1</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; Bool)
-&gt; (CostRose -&gt; NonEmptyList SatInt) -&gt; CostRose -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; NonEmptyList SatInt)
-&gt; (CostRose -&gt; CostStream) -&gt; CostRose -&gt; NonEmptyList SatInt
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#flattenCostRose"
	><span class="hs-identifier hs-var"
	  >flattenCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostRose -&gt; Bool) -&gt; CostRose -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; CostRose
</span
	><a href="#local-6989586621679267304"
	><span class="hs-identifier hs-var"
	  >spoilCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose
</span
	><a href="#local-6989586621679267300"
	><span class="hs-identifier hs-var"
	  >rose</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-427"
      ></span
      ><span
      >
</span
      ><span id="line-428"
      ></span
      ><span class="hs-comment"
      >-- | Test that 'memoryUsage' called over a value of a built-in type never returns a stream</span
      ><span
      >
</span
      ><span id="line-429"
      ></span
      ><span class="hs-comment"
      >-- containing a negative cost.</span
      ><span
      >
</span
      ><span id="line-430"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_costsAreNeverNegative"
	><span class="hs-identifier hs-type"
	  >test_costsAreNeverNegative</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-431"
      ></span
      ><span id="test_costsAreNeverNegative"
      ><span class="annot"
	><span class="annottext"
	  >test_costsAreNeverNegative :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_costsAreNeverNegative"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_costsAreNeverNegative</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-432"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; [Char] -&gt; a -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-quickcheck-0.11.1/docs/src/Test.Tasty.QuickCheck.html#testProperty"
	><span class="hs-identifier hs-var"
	  >testProperty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;costs coming from 'memoryUsage' are never negative&quot;</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Property -&gt; TestTree) -&gt; Property -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-433"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; (Some (ValueOf DefaultUni) -&gt; Bool) -&gt; Property
forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span
	><span class="hs-identifier hs-var"
	>withMaxSuccess</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1000</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Some (ValueOf DefaultUni) -&gt; Bool) -&gt; Property)
-&gt; (Some (ValueOf DefaultUni) -&gt; Bool) -&gt; Property
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679267309"
      ><span class="annot"
	><span class="annottext"
	  >Some (ValueOf DefaultUni)
</span
	  ><a href="#local-6989586621679267309"
	  ><span class="hs-identifier hs-var"
	    >val</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/some-1.0.6/docs/src/Data.Some.Newtype.html#Some"
	><span class="hs-identifier hs-type"
	  >Some</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/Universe.Core.html#ValueOf"
	><span class="hs-identifier hs-type"
	  >ValueOf</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Default.Universe.html#DefaultUni"
	><span class="hs-identifier hs-type"
	  >DefaultUni</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-434"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>(SatInt -&gt; Bool) -&gt; NonEmptyList SatInt -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#all"
	><span class="hs-identifier hs-var"
	  >all</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>SatInt -&gt; SatInt -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>SatInt
</span
	><span class="hs-number"
	>0</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonEmptyList SatInt -&gt; Bool)
-&gt; (CostRose -&gt; NonEmptyList SatInt) -&gt; CostRose -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostStream -&gt; NonEmptyList SatInt
</span
	><a href="Evaluation.Builtins.Costing.html#toCostList"
	><span class="hs-identifier hs-var"
	  >toCostList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostStream -&gt; NonEmptyList SatInt)
-&gt; (CostRose -&gt; CostStream) -&gt; CostRose -&gt; NonEmptyList SatInt
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>CostRose -&gt; CostStream
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#flattenCostRose"
	><span class="hs-identifier hs-var"
	  >flattenCostRose</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(CostRose -&gt; Bool) -&gt; CostRose -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Some (ValueOf DefaultUni) -&gt; CostRose
forall a. ExMemoryUsage a =&gt; a -&gt; CostRose
</span
	><a href="../../plutus-core/src/PlutusCore.Evaluation.Machine.ExMemoryUsage.html#memoryUsage"
	><span class="hs-identifier hs-var"
	  >memoryUsage</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Some (ValueOf DefaultUni)
</span
	><a href="#local-6989586621679267309"
	><span class="hs-identifier hs-var"
	  >val</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-435"
      ></span
      ><span
      >
</span
      ><span id="line-436"
      ></span
      ><span class="annot"
      ><a href="Evaluation.Builtins.Costing.html#test_costing"
	><span class="hs-identifier hs-type"
	  >test_costing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#TestTree"
	><span class="hs-identifier hs-type"
	  >TestTree</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-437"
      ></span
      ><span id="test_costing"
      ><span class="annot"
	><span class="annottext"
	  >test_costing :: TestTree
</span
	  ><a href="Evaluation.Builtins.Costing.html#test_costing"
	  ><span class="hs-identifier hs-var hs-var"
	    >test_costing</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [TestTree] -&gt; TestTree
</span
	><a href="https://hackage.haskell.org/package/tasty-1.5.3/docs/src/Test.Tasty.Core.html#testGroup"
	><span class="hs-identifier hs-var"
	  >testGroup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;costing&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-438"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >[</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_magnitudes"
	><span class="hs-identifier hs-var"
	  >test_magnitudes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-439"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_CostStreamDistribution"
	><span class="hs-identifier hs-var"
	  >test_CostStreamDistribution</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-440"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_toCostListRoundtrip"
	><span class="hs-identifier hs-var"
	  >test_toCostListRoundtrip</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-441"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_fromCostListRoundtrip"
	><span class="hs-identifier hs-var"
	  >test_fromCostListRoundtrip</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-442"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_unconsCostRoundtrip"
	><span class="hs-identifier hs-var"
	  >test_unconsCostRoundtrip</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-443"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_sumCostStreamIsSum"
	><span class="hs-identifier hs-var"
	  >test_sumCostStreamIsSum</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-444"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_mapCostStreamIsMap"
	><span class="hs-identifier hs-var"
	  >test_mapCostStreamIsMap</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-445"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_addCostStreamIsAdd"
	><span class="hs-identifier hs-var"
	  >test_addCostStreamIsAdd</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-446"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_minCostStreamIsMin"
	><span class="hs-identifier hs-var"
	  >test_minCostStreamIsMin</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-447"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_zipCostStreamIsZip"
	><span class="hs-identifier hs-var"
	  >test_zipCostStreamIsZip</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-448"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_mapCostStreamReasonableLength"
	><span class="hs-identifier hs-var"
	  >test_mapCostStreamReasonableLength</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-449"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_addCostStreamReasonableLength"
	><span class="hs-identifier hs-var"
	  >test_addCostStreamReasonableLength</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-450"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_minCostStreamReasonableLength"
	><span class="hs-identifier hs-var"
	  >test_minCostStreamReasonableLength</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-451"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_zipCostStreamReasonableLength"
	><span class="hs-identifier hs-var"
	  >test_zipCostStreamReasonableLength</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-452"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_mapCostStreamHandlesBottom"
	><span class="hs-identifier hs-var"
	  >test_mapCostStreamHandlesBottom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-453"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_addCostStreamHandlesBottom"
	><span class="hs-identifier hs-var"
	  >test_addCostStreamHandlesBottom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-454"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_minCostStreamHandlesBottom"
	><span class="hs-identifier hs-var"
	  >test_minCostStreamHandlesBottom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-455"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_zipCostStreamHandlesBottom"
	><span class="hs-identifier hs-var"
	  >test_zipCostStreamHandlesBottom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-456"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseIsLinear"
	><span class="hs-identifier hs-var"
	  >test_flattenCostRoseIsLinear</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-457"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_CostRoseListLengthsDistribution"
	><span class="hs-identifier hs-var"
	  >test_CostRoseListLengthsDistribution</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-458"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_genCostRoseSound"
	><span class="hs-identifier hs-var"
	  >test_genCostRoseSound</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-459"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseSound"
	><span class="hs-identifier hs-var"
	  >test_flattenCostRoseSound</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-460"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_flattenCostRoseHandlesBottom"
	><span class="hs-identifier hs-var"
	  >test_flattenCostRoseHandlesBottom</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-461"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TestTree
</span
	><a href="Evaluation.Builtins.Costing.html#test_costsAreNeverNegative"
	><span class="hs-identifier hs-var"
	  >test_costsAreNeverNegative</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-462"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-463"
      ></span
      ></pre
    ></body
  ></html
>

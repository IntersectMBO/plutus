<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-pragma"
      >{-# LANGUAGE ConstraintKinds  #-}</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleContexts #-}</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE GADTs            #-}</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE LambdaCase       #-}</span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TemplateHaskell  #-}</span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeFamilies     #-}</span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{- | Types and their functions, and general utility (including heuristics) for inlining. -}</span
	></span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >PlutusIR.Transform.Inline.Utils</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Annotation.html"
	><span class="hs-identifier"
	  >PlutusCore.Annotation</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.html"
	><span class="hs-identifier"
	  >PlutusCore.Builtin</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.Unique</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.UniqueMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html#UniqueMap"
	><span class="hs-identifier"
	  >UniqueMap</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html"
	><span class="hs-identifier"
	  >PlutusCore.Name.UniqueMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>UMap</span
	></span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Quote.html"
	><span class="hs-identifier"
	  >PlutusCore.Quote</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Rename.html"
	><span class="hs-identifier"
	  >PlutusCore.Rename</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Size.html"
	><span class="hs-identifier"
	  >PlutusCore.Size</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Subst.html"
	><span class="hs-identifier"
	  >PlutusCore.Subst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Subst.html#typeSubstTyNamesM"
	><span class="hs-identifier"
	  >typeSubstTyNamesM</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.html"
	><span class="hs-identifier"
	  >PlutusIR</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.Builtins.html"
	><span class="hs-identifier"
	  >PlutusIR.Analysis.Builtins</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.Usages.html"
	><span class="hs-identifier"
	  >PlutusIR.Analysis.Usages</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Usages</span
	></span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.VarInfo.html"
	><span class="hs-identifier"
	  >PlutusIR.Analysis.VarInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>VarInfo</span
	></span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html"
	><span class="hs-identifier"
	  >PlutusIR.Purity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#Purity"
	><span class="hs-identifier"
	  >Purity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#isPure"
	><span class="hs-identifier"
	  >isPure</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#termEvaluationOrder"
	><span class="hs-identifier"
	  >termEvaluationOrder</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#unEvalOrder"
	><span class="hs-identifier"
	  >unEvalOrder</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Rename.html"
	><span class="hs-identifier"
	  >PlutusIR.Transform.Rename</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusPrelude.html"
	><span class="hs-identifier"
	  >PlutusPrelude</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Control.Lens</span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >hiding</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="hs-identifier"
	>Strict</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/extra-1.8/docs/src/Control.Monad.Extra.html"
	><span class="hs-identifier"
	  >Control.Monad.Extra</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.html"
	><span class="hs-identifier"
	  >Control.Monad.Reader</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.html"
	><span class="hs-identifier"
	  >Control.Monad.State</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/semigroups-0.20/docs/src/Data.Semigroup.Generic.html"
	><span class="hs-identifier"
	  >Data.Semigroup.Generic</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/semigroups-0.20/docs/src/Data.Semigroup.Generic.html#GenericSemigroupMonoid"
	><span class="hs-identifier"
	  >GenericSemigroupMonoid</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span class="hs-comment"
      >-- General infra:</span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span
      >
</span
      ><span id="line-37"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="ExternalConstraints"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#ExternalConstraints"
	  ><span class="hs-identifier hs-var"
	    >ExternalConstraints</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476578"
      ><span class="annot"
	><a href="#local-6989586621679476578"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476579"
      ><span class="annot"
	><a href="#local-6989586621679476579"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476580"
      ><span class="annot"
	><a href="#local-6989586621679476580"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476581"
      ><span class="annot"
	><a href="#local-6989586621679476581"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476582"
      ><span class="annot"
	><a href="#local-6989586621679476582"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
	><span class="hs-identifier hs-type"
	  >HasUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476579"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier hs-type"
	  >TermUnique</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
	><span class="hs-identifier hs-type"
	  >HasUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476578"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
	><span class="hs-identifier hs-type"
	  >TypeUnique</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Eq"
	><span class="hs-identifier hs-type"
	  >Eq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476579"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Eq"
	><span class="hs-identifier hs-type"
	  >Eq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476578"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#ToBuiltinMeaning"
	><span class="hs-identifier hs-type"
	  >PLC.ToBuiltinMeaning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476580"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476581"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Quote.html#MonadQuote"
	><span class="hs-identifier hs-type"
	  >MonadQuote</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476582"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="InliningConstraints"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
	  ><span class="hs-identifier hs-var"
	    >InliningConstraints</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476583"
      ><span class="annot"
	><a href="#local-6989586621679476583"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476584"
      ><span class="annot"
	><a href="#local-6989586621679476584"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476585"
      ><span class="annot"
	><a href="#local-6989586621679476585"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476586"
      ><span class="annot"
	><a href="#local-6989586621679476586"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-47"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
	><span class="hs-identifier hs-type"
	  >HasUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476584"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier hs-type"
	  >TermUnique</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-48"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
	><span class="hs-identifier hs-type"
	  >HasUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476583"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
	><span class="hs-identifier hs-type"
	  >TypeUnique</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-49"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Eq"
	><span class="hs-identifier hs-type"
	  >Eq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476584"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-50"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Eq"
	><span class="hs-identifier hs-type"
	  >Eq</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476583"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Builtin.Meaning.html#ToBuiltinMeaning"
	><span class="hs-identifier hs-type"
	  >PLC.ToBuiltinMeaning</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476585"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476586"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span class="hs-comment"
      >-- | Information used by the inliner that is constant across its operation.</span
      ><span
      >
</span
      ><span id="line-55"
      ></span
      ><span class="hs-comment"
      >-- This includes some contextual and configuration information, and also some</span
      ><span
      >
</span
      ><span id="line-56"
      ></span
      ><span class="hs-comment"
      >-- pre-computed information about the program.</span
      ><span
      >
</span
      ><span id="line-57"
      ></span
      ><span class="hs-comment"
      >--</span
      ><span
      >
</span
      ><span id="line-58"
      ></span
      ><span class="hs-comment"
      >-- See [Inlining and global uniqueness] for caveats about this information.</span
      ><span
      >
</span
      ><span id="line-59"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="InlineInfo"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#InlineInfo"
	  ><span class="hs-identifier hs-var"
	    >InlineInfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679475903"
      ><span class="annot"
	><a href="#local-6989586621679475903"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679475904"
      ><span class="annot"
	><a href="#local-6989586621679475904"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679475905"
      ><span class="annot"
	><a href="#local-6989586621679475905"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679475906"
      ><span class="annot"
	><a href="#local-6989586621679475906"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679475907"
      ><span class="annot"
	><a href="#local-6989586621679475907"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="InlineInfo"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#InlineInfo"
	  ><span class="hs-identifier hs-var"
	    >InlineInfo</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-60"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="_iiVarInfo"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlineInfo tyname name uni fun ann -&gt; VarsInfo tyname name uni ann
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_iiVarInfo"
	  ><span class="hs-identifier hs-var hs-var"
	    >_iiVarInfo</span
	    ></a
	  ></span
	></span
      ><span
      >              </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.VarInfo.html#VarsInfo"
	><span class="hs-identifier hs-type"
	  >VarInfo.VarsInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475903"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475904"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475905"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475907"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-61"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ Is it strict? Only needed for PIR, not UPLC</span
	></span
      ><span
      >
</span
      ><span id="line-62"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_iiUsages"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlineInfo tyname name uni fun ann -&gt; Usages
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_iiUsages"
	  ><span class="hs-identifier hs-var hs-var"
	    >_iiUsages</span
	    ></a
	  ></span
	></span
      ><span
      >               </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.Usages.html#Usages"
	><span class="hs-identifier hs-type"
	  >Usages.Usages</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-63"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ how many times is it used?</span
	></span
      ><span
      >
</span
      ><span id="line-64"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_iiHints"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlineInfo tyname name uni fun ann -&gt; InlineHints name ann
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_iiHints"
	  ><span class="hs-identifier hs-var hs-var"
	    >_iiHints</span
	    ></a
	  ></span
	></span
      ><span
      >                </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Annotation.html#InlineHints"
	><span class="hs-identifier hs-type"
	  >InlineHints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475904"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475907"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-65"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ have we explicitly been told to inline?</span
	></span
      ><span
      >
</span
      ><span id="line-66"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_iiBuiltinsInfo"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlineInfo tyname name uni fun ann -&gt; BuiltinsInfo uni fun
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_iiBuiltinsInfo"
	  ><span class="hs-identifier hs-var hs-var"
	    >_iiBuiltinsInfo</span
	    ></a
	  ></span
	></span
      ><span
      >         </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Analysis.Builtins.html#BuiltinsInfo"
	><span class="hs-identifier hs-type"
	  >BuiltinsInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475905"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475906"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-67"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ the semantics variant.</span
	></span
      ><span
      >
</span
      ><span id="line-68"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_iiInlineConstants"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlineInfo tyname name uni fun ann -&gt; Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_iiInlineConstants"
	  ><span class="hs-identifier hs-var hs-var"
	    >_iiInlineConstants</span
	    ></a
	  ></span
	></span
      ><span
      >      </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-69"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ should we inline constants?</span
	></span
      ><span
      >
</span
      ><span id="line-70"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_iiInlineCallsiteGrowth"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlineInfo tyname name uni fun ann -&gt; Size
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_iiInlineCallsiteGrowth"
	  ><span class="hs-identifier hs-var hs-var"
	    >_iiInlineCallsiteGrowth</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Size.html#Size"
	><span class="hs-identifier hs-type"
	  >Size</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-71"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ inline threshold for callsite inlining</span
	></span
      ><span
      >
</span
      ><span id="line-72"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-73"
      ></span
      ><span id="local-6989586621679475903"
      ><span id="local-6989586621679475904"
	><span id="local-6989586621679475905"
	  ><span id="local-6989586621679475906"
	    ><span id="local-6989586621679475907"
	      ><span id="local-6989586621679475945"
		><span id="local-6989586621679475946"
		  ><span id="iiBuiltinsInfo"
		    ><span id="iiHints"
		      ><span id="iiInlineCallsiteGrowth"
			><span id="iiInlineConstants"
			  ><span id="iiUsages"
			    ><span id="iiVarInfo"
			      ><span class="hs-identifier"
				>makeLenses</span
				><span
				> </span
				><span class="hs-special"
				>''</span
				><span class="hs-identifier"
				>InlineInfo</span
				></span
			      ></span
			    ></span
			  ></span
			></span
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-74"
      ></span
      ><span
      >
</span
      ><span id="line-75"
      ></span
      ><span class="hs-comment"
      >-- Using a concrete monad makes a very large difference to the performance of this module</span
      ><span
      >
</span
      ><span id="line-76"
      ></span
      ><span class="hs-comment"
      >-- (determined from profiling)</span
      ><span
      >
</span
      ><span id="line-77"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | The monad the inliner runs in.</span
	></span
      ><span
      >
</span
      ><span id="line-78"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="InlineM"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
	  ><span class="hs-identifier hs-var"
	    >InlineM</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476662"
      ><span class="annot"
	><a href="#local-6989586621679476662"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476663"
      ><span class="annot"
	><a href="#local-6989586621679476663"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476664"
      ><span class="annot"
	><a href="#local-6989586621679476664"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476665"
      ><span class="annot"
	><a href="#local-6989586621679476665"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476666"
      ><span class="annot"
	><a href="#local-6989586621679476666"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-79"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#ReaderT"
	><span class="hs-identifier hs-type"
	  >ReaderT</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-80"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineInfo"
	><span class="hs-identifier hs-type"
	  >InlineInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476662"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476663"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476664"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476665"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476666"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-81"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.State.Lazy.html#StateT"
	><span class="hs-identifier hs-type"
	  >StateT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
	><span class="hs-identifier hs-type"
	  >InlinerState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476662"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476663"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476664"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476665"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476666"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Quote.html#Quote"
	><span class="hs-identifier hs-type"
	  >Quote</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-82"
      ></span
      ><span class="hs-comment"
      >-- For unconditional inlining:</span
      ><span
      >
</span
      ><span id="line-83"
      ></span
      ><span
      >
</span
      ><span id="line-84"
      ></span
      ><span class="hs-comment"
      >-- | Substitution range, 'SubstRng' in the paper but no 'Susp' case.</span
      ><span
      >
</span
      ><span id="line-85"
      ></span
      ><span class="hs-comment"
      >-- See Note [Inlining approach and 'Secrets of the GHC Inliner']</span
      ><span
      >
</span
      ><span id="line-86"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="InlineTerm"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#InlineTerm"
	  ><span class="hs-identifier hs-var"
	    >InlineTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476667"
      ><span class="annot"
	><a href="#local-6989586621679476667"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476668"
      ><span class="annot"
	><a href="#local-6989586621679476668"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476669"
      ><span class="annot"
	><a href="#local-6989586621679476669"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476670"
      ><span class="annot"
	><a href="#local-6989586621679476670"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476671"
      ><span class="annot"
	><a href="#local-6989586621679476671"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-87"
      ></span
      ><span
      >    </span
      ><span id="Done"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#Done"
	  ><span class="hs-identifier hs-var"
	    >Done</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Rename.Internal.html#Dupable"
	><span class="hs-identifier hs-type"
	  >Dupable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476667"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476668"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476669"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476670"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476671"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-comment"
      >--out expressions</span
      ><span
      >
</span
      ><span id="line-88"
      ></span
      ><span
      >
</span
      ><span id="line-89"
      ></span
      ><span class="hs-comment"
      >-- | Term substitution, 'Subst' in the paper.</span
      ><span
      >
</span
      ><span id="line-90"
      ></span
      ><span class="hs-comment"
      >-- A map of unprocessed variable and its substitution range.</span
      ><span
      >
</span
      ><span id="line-91"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="TermSubst"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#TermSubst"
	  ><span class="hs-identifier hs-var"
	    >TermSubst</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679475988"
      ><span class="annot"
	><a href="#local-6989586621679475988"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679475989"
      ><span class="annot"
	><a href="#local-6989586621679475989"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679475990"
      ><span class="annot"
	><a href="#local-6989586621679475990"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679475991"
      ><span class="annot"
	><a href="#local-6989586621679475991"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679475992"
      ><span class="annot"
	><a href="#local-6989586621679475992"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-92"
      ></span
      ><span
      >    </span
      ><span id="TermSubst"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#TermSubst"
	  ><span class="hs-identifier hs-var"
	    >TermSubst</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="_unTermSubst"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
TermSubst tyname name uni fun ann
-&gt; UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_unTermSubst"
	  ><span class="hs-identifier hs-var hs-var"
	    >_unTermSubst</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html#UniqueMap"
	><span class="hs-identifier hs-type"
	  >UniqueMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier hs-type"
	  >TermUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineTerm"
	><span class="hs-identifier hs-type"
	  >InlineTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475988"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475989"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475990"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475991"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679475992"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-93"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >deriving</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-keyword"
	>newtype</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679476676"
      ><span id="local-6989586621679476681"
	><span id="local-6989586621679476687"
	  ><span class="annot"
	    ><span class="annottext"
	      >NonEmpty (TermSubst tyname name uni fun ann)
-&gt; TermSubst tyname name uni fun ann
TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
(TermSubst tyname name uni fun ann
 -&gt; TermSubst tyname name uni fun ann
 -&gt; TermSubst tyname name uni fun ann)
-&gt; (NonEmpty (TermSubst tyname name uni fun ann)
    -&gt; TermSubst tyname name uni fun ann)
-&gt; (forall b.
    Integral b =&gt;
    b
    -&gt; TermSubst tyname name uni fun ann
    -&gt; TermSubst tyname name uni fun ann)
-&gt; Semigroup (TermSubst tyname name uni fun ann)
forall b.
Integral b =&gt;
b
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall tyname name (uni :: * -&gt; *) fun ann.
NonEmpty (TermSubst tyname name uni fun ann)
-&gt; TermSubst tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann b.
Integral b =&gt;
b
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
$c&lt;&gt; :: forall tyname name (uni :: * -&gt; *) fun ann.
TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
&lt;&gt; :: TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
$csconcat :: forall tyname name (uni :: * -&gt; *) fun ann.
NonEmpty (TermSubst tyname name uni fun ann)
-&gt; TermSubst tyname name uni fun ann
sconcat :: NonEmpty (TermSubst tyname name uni fun ann)
-&gt; TermSubst tyname name uni fun ann
$cstimes :: forall tyname name (uni :: * -&gt; *) fun ann b.
Integral b =&gt;
b
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
stimes :: forall b.
Integral b =&gt;
b
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Semigroup"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Semigroup</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679476697"
      ><span id="local-6989586621679476702"
	><span id="local-6989586621679476706"
	  ><span class="annot"
	    ><span class="annottext"
	      >Semigroup (TermSubst tyname name uni fun ann)
TermSubst tyname name uni fun ann
Semigroup (TermSubst tyname name uni fun ann) =&gt;
TermSubst tyname name uni fun ann
-&gt; (TermSubst tyname name uni fun ann
    -&gt; TermSubst tyname name uni fun ann
    -&gt; TermSubst tyname name uni fun ann)
-&gt; ([TermSubst tyname name uni fun ann]
    -&gt; TermSubst tyname name uni fun ann)
-&gt; Monoid (TermSubst tyname name uni fun ann)
[TermSubst tyname name uni fun ann]
-&gt; TermSubst tyname name uni fun ann
TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall tyname name (uni :: * -&gt; *) fun ann.
Semigroup (TermSubst tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann.
TermSubst tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
[TermSubst tyname name uni fun ann]
-&gt; TermSubst tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
$cmempty :: forall tyname name (uni :: * -&gt; *) fun ann.
TermSubst tyname name uni fun ann
mempty :: TermSubst tyname name uni fun ann
$cmappend :: forall tyname name (uni :: * -&gt; *) fun ann.
TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
mappend :: TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
$cmconcat :: forall tyname name (uni :: * -&gt; *) fun ann.
[TermSubst tyname name uni fun ann]
-&gt; TermSubst tyname name uni fun ann
mconcat :: [TermSubst tyname name uni fun ann]
-&gt; TermSubst tyname name uni fun ann
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Monoid"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Monoid</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-94"
      ></span
      ><span
      >
</span
      ><span id="line-95"
      ></span
      ><span class="hs-comment"
      >-- | Type substitution, similar to `TermSubst` but for types.</span
      ><span
      >
</span
      ><span id="line-96"
      ></span
      ><span class="hs-comment"
      >-- A map of unprocessed type variable and its substitution range.</span
      ><span
      >
</span
      ><span id="line-97"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="TypeSubst"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#TypeSubst"
	  ><span class="hs-identifier hs-var"
	    >TypeSubst</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476034"
      ><span class="annot"
	><a href="#local-6989586621679476034"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476035"
      ><span class="annot"
	><a href="#local-6989586621679476035"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476036"
      ><span class="annot"
	><a href="#local-6989586621679476036"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-98"
      ></span
      ><span
      >    </span
      ><span id="TypeSubst"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#TypeSubst"
	  ><span class="hs-identifier hs-var"
	    >TypeSubst</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="_unTypeSubst"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname (uni :: * -&gt; *) ann.
TypeSubst tyname uni ann
-&gt; UniqueMap TypeUnique (Dupable (Type tyname uni ann))
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_unTypeSubst"
	  ><span class="hs-identifier hs-var hs-var"
	    >_unTypeSubst</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html#UniqueMap"
	><span class="hs-identifier hs-type"
	  >UniqueMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
	><span class="hs-identifier hs-type"
	  >TypeUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Rename.Internal.html#Dupable"
	><span class="hs-identifier hs-type"
	  >Dupable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476034"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476035"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476036"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-99"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >deriving</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-keyword"
	>newtype</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679476714"
      ><span id="local-6989586621679476718"
	><span id="local-6989586621679476724"
	  ><span class="annot"
	    ><span class="annottext"
	      >NonEmpty (TypeSubst tyname uni ann) -&gt; TypeSubst tyname uni ann
TypeSubst tyname uni ann
-&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
(TypeSubst tyname uni ann
 -&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann)
-&gt; (NonEmpty (TypeSubst tyname uni ann)
    -&gt; TypeSubst tyname uni ann)
-&gt; (forall b.
    Integral b =&gt;
    b -&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann)
-&gt; Semigroup (TypeSubst tyname uni ann)
forall b.
Integral b =&gt;
b -&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall tyname (uni :: * -&gt; *) ann.
NonEmpty (TypeSubst tyname uni ann) -&gt; TypeSubst tyname uni ann
forall tyname (uni :: * -&gt; *) ann.
TypeSubst tyname uni ann
-&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
forall tyname (uni :: * -&gt; *) ann b.
Integral b =&gt;
b -&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
$c&lt;&gt; :: forall tyname (uni :: * -&gt; *) ann.
TypeSubst tyname uni ann
-&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
&lt;&gt; :: TypeSubst tyname uni ann
-&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
$csconcat :: forall tyname (uni :: * -&gt; *) ann.
NonEmpty (TypeSubst tyname uni ann) -&gt; TypeSubst tyname uni ann
sconcat :: NonEmpty (TypeSubst tyname uni ann) -&gt; TypeSubst tyname uni ann
$cstimes :: forall tyname (uni :: * -&gt; *) ann b.
Integral b =&gt;
b -&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
stimes :: forall b.
Integral b =&gt;
b -&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Semigroup"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Semigroup</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679476733"
      ><span id="local-6989586621679476737"
	><span id="local-6989586621679476741"
	  ><span class="annot"
	    ><span class="annottext"
	      >Semigroup (TypeSubst tyname uni ann)
TypeSubst tyname uni ann
Semigroup (TypeSubst tyname uni ann) =&gt;
TypeSubst tyname uni ann
-&gt; (TypeSubst tyname uni ann
    -&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann)
-&gt; ([TypeSubst tyname uni ann] -&gt; TypeSubst tyname uni ann)
-&gt; Monoid (TypeSubst tyname uni ann)
[TypeSubst tyname uni ann] -&gt; TypeSubst tyname uni ann
TypeSubst tyname uni ann
-&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall tyname (uni :: * -&gt; *) ann.
Semigroup (TypeSubst tyname uni ann)
forall tyname (uni :: * -&gt; *) ann. TypeSubst tyname uni ann
forall tyname (uni :: * -&gt; *) ann.
[TypeSubst tyname uni ann] -&gt; TypeSubst tyname uni ann
forall tyname (uni :: * -&gt; *) ann.
TypeSubst tyname uni ann
-&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
$cmempty :: forall tyname (uni :: * -&gt; *) ann. TypeSubst tyname uni ann
mempty :: TypeSubst tyname uni ann
$cmappend :: forall tyname (uni :: * -&gt; *) ann.
TypeSubst tyname uni ann
-&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
mappend :: TypeSubst tyname uni ann
-&gt; TypeSubst tyname uni ann -&gt; TypeSubst tyname uni ann
$cmconcat :: forall tyname (uni :: * -&gt; *) ann.
[TypeSubst tyname uni ann] -&gt; TypeSubst tyname uni ann
mconcat :: [TypeSubst tyname uni ann] -&gt; TypeSubst tyname uni ann
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Monoid"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Monoid</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-100"
      ></span
      ><span
      >
</span
      ><span id="line-101"
      ></span
      ><span class="hs-comment"
      >-- For call site inlining:</span
      ><span
      >
</span
      ><span id="line-102"
      ></span
      ><span
      >
</span
      ><span id="line-103"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | A mapping including all non-recursive in scope variables.</span
	></span
      ><span
      >
</span
      ><span id="line-104"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="NonRecInScopeSet"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#NonRecInScopeSet"
	  ><span class="hs-identifier hs-var"
	    >NonRecInScopeSet</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476058"
      ><span class="annot"
	><a href="#local-6989586621679476058"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476059"
      ><span class="annot"
	><a href="#local-6989586621679476059"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476060"
      ><span class="annot"
	><a href="#local-6989586621679476060"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476061"
      ><span class="annot"
	><a href="#local-6989586621679476061"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476062"
      ><span class="annot"
	><a href="#local-6989586621679476062"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-105"
      ></span
      ><span
      >    </span
      ><span id="NonRecInScopeSet"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#NonRecInScopeSet"
	  ><span class="hs-identifier hs-var"
	    >NonRecInScopeSet</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-106"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="_unNonRecInScopeSet"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
NonRecInScopeSet tyname name uni fun ann
-&gt; UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_unNonRecInScopeSet"
	  ><span class="hs-identifier hs-var hs-var"
	    >_unNonRecInScopeSet</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html#UniqueMap"
	><span class="hs-identifier hs-type"
	  >UniqueMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
	><span class="hs-identifier hs-type"
	  >TermUnique</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineVarInfo"
	><span class="hs-identifier hs-type"
	  >InlineVarInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476058"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476059"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476060"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476061"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476062"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-107"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >deriving</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-keyword"
	>newtype</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679476748"
      ><span id="local-6989586621679476752"
	><span id="local-6989586621679476758"
	  ><span class="annot"
	    ><span class="annottext"
	      >NonEmpty (NonRecInScopeSet tyname name uni fun ann)
-&gt; NonRecInScopeSet tyname name uni fun ann
NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
(NonRecInScopeSet tyname name uni fun ann
 -&gt; NonRecInScopeSet tyname name uni fun ann
 -&gt; NonRecInScopeSet tyname name uni fun ann)
-&gt; (NonEmpty (NonRecInScopeSet tyname name uni fun ann)
    -&gt; NonRecInScopeSet tyname name uni fun ann)
-&gt; (forall b.
    Integral b =&gt;
    b
    -&gt; NonRecInScopeSet tyname name uni fun ann
    -&gt; NonRecInScopeSet tyname name uni fun ann)
-&gt; Semigroup (NonRecInScopeSet tyname name uni fun ann)
forall b.
Integral b =&gt;
b
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall tyname name (uni :: * -&gt; *) fun ann.
NonEmpty (NonRecInScopeSet tyname name uni fun ann)
-&gt; NonRecInScopeSet tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann b.
Integral b =&gt;
b
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
$c&lt;&gt; :: forall tyname name (uni :: * -&gt; *) fun ann.
NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
&lt;&gt; :: NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
$csconcat :: forall tyname name (uni :: * -&gt; *) fun ann.
NonEmpty (NonRecInScopeSet tyname name uni fun ann)
-&gt; NonRecInScopeSet tyname name uni fun ann
sconcat :: NonEmpty (NonRecInScopeSet tyname name uni fun ann)
-&gt; NonRecInScopeSet tyname name uni fun ann
$cstimes :: forall tyname name (uni :: * -&gt; *) fun ann b.
Integral b =&gt;
b
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
stimes :: forall b.
Integral b =&gt;
b
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Semigroup"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Semigroup</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679476767"
      ><span id="local-6989586621679476771"
	><span id="local-6989586621679476775"
	  ><span class="annot"
	    ><span class="annottext"
	      >Semigroup (NonRecInScopeSet tyname name uni fun ann)
NonRecInScopeSet tyname name uni fun ann
Semigroup (NonRecInScopeSet tyname name uni fun ann) =&gt;
NonRecInScopeSet tyname name uni fun ann
-&gt; (NonRecInScopeSet tyname name uni fun ann
    -&gt; NonRecInScopeSet tyname name uni fun ann
    -&gt; NonRecInScopeSet tyname name uni fun ann)
-&gt; ([NonRecInScopeSet tyname name uni fun ann]
    -&gt; NonRecInScopeSet tyname name uni fun ann)
-&gt; Monoid (NonRecInScopeSet tyname name uni fun ann)
[NonRecInScopeSet tyname name uni fun ann]
-&gt; NonRecInScopeSet tyname name uni fun ann
NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall tyname name (uni :: * -&gt; *) fun ann.
Semigroup (NonRecInScopeSet tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann.
NonRecInScopeSet tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
[NonRecInScopeSet tyname name uni fun ann]
-&gt; NonRecInScopeSet tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
$cmempty :: forall tyname name (uni :: * -&gt; *) fun ann.
NonRecInScopeSet tyname name uni fun ann
mempty :: NonRecInScopeSet tyname name uni fun ann
$cmappend :: forall tyname name (uni :: * -&gt; *) fun ann.
NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
mappend :: NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
$cmconcat :: forall tyname name (uni :: * -&gt; *) fun ann.
[NonRecInScopeSet tyname name uni fun ann]
-&gt; NonRecInScopeSet tyname name uni fun ann
mconcat :: [NonRecInScopeSet tyname name uni fun ann]
-&gt; NonRecInScopeSet tyname name uni fun ann
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Monoid"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Monoid</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-108"
      ></span
      ><span
      >
</span
      ><span id="line-109"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Info attached to a let-binding needed for call site inlining.</span
	></span
      ><span
      >
</span
      ><span id="line-110"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="InlineVarInfo"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#InlineVarInfo"
	  ><span class="hs-identifier hs-var"
	    >InlineVarInfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476092"
      ><span class="annot"
	><a href="#local-6989586621679476092"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476093"
      ><span class="annot"
	><a href="#local-6989586621679476093"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476094"
      ><span class="annot"
	><a href="#local-6989586621679476094"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476095"
      ><span class="annot"
	><a href="#local-6989586621679476095"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476096"
      ><span class="annot"
	><a href="#local-6989586621679476096"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="MkVarInfo"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#MkVarInfo"
	  ><span class="hs-identifier hs-var"
	    >MkVarInfo</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-111"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="varStrictness"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlineVarInfo tyname name uni fun ann -&gt; Strictness
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#varStrictness"
	  ><span class="hs-identifier hs-var hs-var"
	    >varStrictness</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Strictness"
	><span class="hs-identifier hs-type"
	  >Strictness</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-112"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="varRhs"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlineVarInfo tyname name uni fun ann
-&gt; InlineTerm tyname name uni fun ann
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#varRhs"
	  ><span class="hs-identifier hs-var hs-var"
	    >varRhs</span
	    ></a
	  ></span
	></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineTerm"
	><span class="hs-identifier hs-type"
	  >InlineTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476092"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476093"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476094"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476095"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476096"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-113"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- ^ its definition, which has been processed, as an `InlineTerm`. To preserve</span
      ><span
      >
</span
      ><span id="line-114"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- global uniqueness, we rename before substituting in.</span
      ><span
      >
</span
      ><span id="line-115"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-116"
      ></span
      ><span
      >
</span
      ><span id="line-117"
      ></span
      ><span class="hs-comment"
      >-- | Inliner context for both unconditional inlining and call site inlining.</span
      ><span
      >
</span
      ><span id="line-118"
      ></span
      ><span class="hs-comment"
      >-- It includes substitution for both terms and types, which is similar to 'Subst' in the paper.</span
      ><span
      >
</span
      ><span id="line-119"
      ></span
      ><span class="hs-comment"
      >-- It also includes the non recursive in-scope set for call site inlining.</span
      ><span
      >
</span
      ><span id="line-120"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="InlinerState"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
	  ><span class="hs-identifier hs-var"
	    >InlinerState</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476108"
      ><span class="annot"
	><a href="#local-6989586621679476108"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476109"
      ><span class="annot"
	><a href="#local-6989586621679476109"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476110"
      ><span class="annot"
	><a href="#local-6989586621679476110"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476111"
      ><span class="annot"
	><a href="#local-6989586621679476111"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476112"
      ><span class="annot"
	><a href="#local-6989586621679476112"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-121"
      ></span
      ><span
      >    </span
      ><span id="InlinerState"
      ><span class="annot"
	><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
	  ><span class="hs-identifier hs-var"
	    >InlinerState</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="_termSubst"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann
-&gt; TermSubst tyname name uni fun ann
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_termSubst"
	  ><span class="hs-identifier hs-var hs-var"
	    >_termSubst</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#TermSubst"
	><span class="hs-identifier hs-type"
	  >TermSubst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476108"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476109"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476110"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476111"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476112"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-122"
      ></span
      ><span
      >           </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_typeSubst"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann -&gt; TypeSubst tyname uni ann
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_typeSubst"
	  ><span class="hs-identifier hs-var hs-var"
	    >_typeSubst</span
	    ></a
	  ></span
	></span
      ><span
      >        </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#TypeSubst"
	><span class="hs-identifier hs-type"
	  >TypeSubst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476108"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476110"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476112"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-123"
      ></span
      ><span
      >           </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_nonRecInScopeSet"
      ><span class="annot"
	><span class="annottext"
	  >forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann
-&gt; NonRecInScopeSet tyname name uni fun ann
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#_nonRecInScopeSet"
	  ><span class="hs-identifier hs-var hs-var"
	    >_nonRecInScopeSet</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#NonRecInScopeSet"
	><span class="hs-identifier hs-type"
	  >NonRecInScopeSet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476108"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476109"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476110"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476111"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476112"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-124"
      ></span
      ><span
      >          </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-125"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >deriving</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-keyword"
	>stock</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679476787"
      ><span id="local-6989586621679476789"
	><span class="annot"
	  ><span class="annottext"
	    >(forall x.
 InlinerState tyname name uni fun ann
 -&gt; Rep (InlinerState tyname name uni fun ann) x)
-&gt; (forall x.
    Rep (InlinerState tyname name uni fun ann) x
    -&gt; InlinerState tyname name uni fun ann)
-&gt; Generic (InlinerState tyname name uni fun ann)
forall x.
Rep (InlinerState tyname name uni fun ann) x
-&gt; InlinerState tyname name uni fun ann
forall x.
InlinerState tyname name uni fun ann
-&gt; Rep (InlinerState tyname name uni fun ann) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall tyname name (uni :: * -&gt; *) fun ann x.
Rep (InlinerState tyname name uni fun ann) x
-&gt; InlinerState tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann x.
InlinerState tyname name uni fun ann
-&gt; Rep (InlinerState tyname name uni fun ann) x
$cfrom :: forall tyname name (uni :: * -&gt; *) fun ann x.
InlinerState tyname name uni fun ann
-&gt; Rep (InlinerState tyname name uni fun ann) x
from :: forall x.
InlinerState tyname name uni fun ann
-&gt; Rep (InlinerState tyname name uni fun ann) x
$cto :: forall tyname name (uni :: * -&gt; *) fun ann x.
Rep (InlinerState tyname name uni fun ann) x
-&gt; InlinerState tyname name uni fun ann
to :: forall x.
Rep (InlinerState tyname name uni fun ann) x
-&gt; InlinerState tyname name uni fun ann
</span
	    ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Generics.html#Generic"
	    ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var"
	      >Generic</span
	      ></a
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-126"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >deriving</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679476793"
      ><span id="local-6989586621679476800"
	><span id="local-6989586621679476808"
	  ><span class="annot"
	    ><span class="annottext"
	      >NonEmpty (InlinerState tyname name uni fun ann)
-&gt; InlinerState tyname name uni fun ann
InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
(InlinerState tyname name uni fun ann
 -&gt; InlinerState tyname name uni fun ann
 -&gt; InlinerState tyname name uni fun ann)
-&gt; (NonEmpty (InlinerState tyname name uni fun ann)
    -&gt; InlinerState tyname name uni fun ann)
-&gt; (forall b.
    Integral b =&gt;
    b
    -&gt; InlinerState tyname name uni fun ann
    -&gt; InlinerState tyname name uni fun ann)
-&gt; Semigroup (InlinerState tyname name uni fun ann)
forall b.
Integral b =&gt;
b
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
forall tyname name (uni :: * -&gt; *) fun ann.
NonEmpty (InlinerState tyname name uni fun ann)
-&gt; InlinerState tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann b.
Integral b =&gt;
b
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
$c&lt;&gt; :: forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
&lt;&gt; :: InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
$csconcat :: forall tyname name (uni :: * -&gt; *) fun ann.
NonEmpty (InlinerState tyname name uni fun ann)
-&gt; InlinerState tyname name uni fun ann
sconcat :: NonEmpty (InlinerState tyname name uni fun ann)
-&gt; InlinerState tyname name uni fun ann
$cstimes :: forall tyname name (uni :: * -&gt; *) fun ann b.
Integral b =&gt;
b
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
stimes :: forall b.
Integral b =&gt;
b
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Semigroup"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Semigroup</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679476861"
      ><span id="local-6989586621679476868"
	><span id="local-6989586621679476874"
	  ><span class="annot"
	    ><span class="annottext"
	      >Semigroup (InlinerState tyname name uni fun ann)
InlinerState tyname name uni fun ann
Semigroup (InlinerState tyname name uni fun ann) =&gt;
InlinerState tyname name uni fun ann
-&gt; (InlinerState tyname name uni fun ann
    -&gt; InlinerState tyname name uni fun ann
    -&gt; InlinerState tyname name uni fun ann)
-&gt; ([InlinerState tyname name uni fun ann]
    -&gt; InlinerState tyname name uni fun ann)
-&gt; Monoid (InlinerState tyname name uni fun ann)
[InlinerState tyname name uni fun ann]
-&gt; InlinerState tyname name uni fun ann
InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
forall tyname name (uni :: * -&gt; *) fun ann.
Semigroup (InlinerState tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
[InlinerState tyname name uni fun ann]
-&gt; InlinerState tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
$cmempty :: forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann
mempty :: InlinerState tyname name uni fun ann
$cmappend :: forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
mappend :: InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
$cmconcat :: forall tyname name (uni :: * -&gt; *) fun ann.
[InlinerState tyname name uni fun ann]
-&gt; InlinerState tyname name uni fun ann
mconcat :: [InlinerState tyname name uni fun ann]
-&gt; InlinerState tyname name uni fun ann
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Monoid"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Monoid</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >via</span
      ><span
      >
</span
      ><span id="line-127"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/semigroups-0.20/docs/src/Data.Semigroup.Generic.html#GenericSemigroupMonoid"
	><span class="hs-identifier hs-type"
	  >GenericSemigroupMonoid</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
	><span class="hs-identifier hs-type"
	  >InlinerState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476108"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476109"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476110"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476111"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476112"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-128"
      ></span
      ><span
      >
</span
      ><span id="line-129"
      ></span
      ><span id="local-6989586621679475988"
      ><span id="local-6989586621679475989"
	><span id="local-6989586621679475990"
	  ><span id="local-6989586621679475991"
	    ><span id="local-6989586621679475992"
	      ><span id="local-6989586621679476187"
		><span id="local-6989586621679476188"
		  ><span id="local-6989586621679476189"
		    ><span id="local-6989586621679476190"
		      ><span id="local-6989586621679476191"
			><span id="unTermSubst"
			  ><span class="hs-identifier"
			    >makeLenses</span
			    ><span
			    > </span
			    ><span class="hs-special"
			    >''</span
			    ><span class="hs-identifier"
			    >TermSubst</span
			    ></span
			  ></span
			></span
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-130"
      ></span
      ><span id="local-6989586621679476034"
      ><span id="local-6989586621679476035"
	><span id="local-6989586621679476036"
	  ><span id="local-6989586621679476209"
	    ><span id="local-6989586621679476210"
	      ><span id="local-6989586621679476211"
		><span id="unTypeSubst"
		  ><span class="hs-identifier"
		    >makeLenses</span
		    ><span
		    > </span
		    ><span class="hs-special"
		    >''</span
		    ><span class="hs-identifier"
		    >TypeSubst</span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-131"
      ></span
      ><span id="local-6989586621679476058"
      ><span id="local-6989586621679476059"
	><span id="local-6989586621679476060"
	  ><span id="local-6989586621679476061"
	    ><span id="local-6989586621679476062"
	      ><span id="local-6989586621679476220"
		><span id="local-6989586621679476221"
		  ><span id="local-6989586621679476222"
		    ><span id="local-6989586621679476223"
		      ><span id="local-6989586621679476224"
			><span id="unNonRecInScopeSet"
			  ><span class="hs-identifier"
			    >makeLenses</span
			    ><span
			    > </span
			    ><span class="hs-special"
			    >''</span
			    ><span class="hs-identifier"
			    >NonRecInScopeSet</span
			    ></span
			  ></span
			></span
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-132"
      ></span
      ><span id="local-6989586621679476108"
      ><span id="local-6989586621679476109"
	><span id="local-6989586621679476110"
	  ><span id="local-6989586621679476111"
	    ><span id="local-6989586621679476112"
	      ><span id="nonRecInScopeSet"
		><span id="termSubst"
		  ><span id="typeSubst"
		    ><span class="hs-identifier"
		      >makeLenses</span
		      ><span
		      > </span
		      ><span class="hs-special"
		      >''</span
		      ><span class="hs-identifier"
		      >InlinerState</span
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-133"
      ></span
      ><span
      >
</span
      ><span id="line-134"
      ></span
      ><span class="hs-comment"
      >-- Helper functions:</span
      ><span
      >
</span
      ><span id="line-135"
      ></span
      ><span
      >
</span
      ><span id="line-136"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Look up the unprocessed variable in the term substitution.</span
	></span
      ><span
      >
</span
      ><span id="line-137"
      ></span
      ><span id="local-6989586621679476255"
      ><span id="local-6989586621679476257"
	><span id="local-6989586621679476258"
	  ><span id="local-6989586621679476259"
	    ><span id="local-6989586621679476260"
	      ><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#lookupTerm"
		  ><span class="hs-identifier hs-type"
		    >lookupTerm</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-138"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476255"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-139"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476255"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><span class="hs-comment"
		  >-- ^ The name of the variable.</span
		  ></span
		><span
		>
</span
		><span id="line-140"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
		  ><span class="hs-identifier hs-type"
		    >InlinerState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476257"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476255"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476258"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476259"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476260"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-141"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
		  ><span class="hs-identifier hs-type"
		    >Maybe</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlineTerm"
		  ><span class="hs-identifier hs-type"
		    >InlineTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476257"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476255"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476258"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476259"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476260"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-142"
      ></span
      ><span id="lookupTerm"
      ><span class="annot"
	><span class="annottext"
	  >lookupTerm :: forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
name
-&gt; InlinerState tyname name uni fun ann
-&gt; Maybe (InlineTerm tyname name uni fun ann)
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#lookupTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476982"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679476982"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476983"
      ><span class="annot"
	><span class="annottext"
	  >InlinerState tyname name uni fun ann
</span
	  ><a href="#local-6989586621679476983"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
-&gt; UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
-&gt; Maybe (InlineTerm tyname name uni fun ann)
forall name unique a.
HasUnique name unique =&gt;
name -&gt; UniqueMap unique a -&gt; Maybe a
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html#lookupName"
	><span class="hs-identifier hs-var"
	  >UMap.lookupName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679476982"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
 -&gt; Maybe (InlineTerm tyname name uni fun ann))
-&gt; UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
-&gt; Maybe (InlineTerm tyname name uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
</span
	><a href="#local-6989586621679476983"
	><span class="hs-identifier hs-var"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
-&gt; Getting
     (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
     (InlinerState tyname name uni fun ann)
     (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
-&gt; UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TermSubst tyname name uni fun ann
 -&gt; Const
      (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
      (TermSubst tyname name uni fun ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; Const
     (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
     (InlinerState tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(TermSubst tyname name uni fun ann
 -&gt; f (TermSubst tyname name uni fun ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; f (InlinerState tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#termSubst"
	><span class="hs-identifier hs-var"
	  >termSubst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TermSubst tyname name uni fun ann
  -&gt; Const
       (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
       (TermSubst tyname name uni fun ann))
 -&gt; InlinerState tyname name uni fun ann
 -&gt; Const
      (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
      (InlinerState tyname name uni fun ann))
-&gt; ((UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
     -&gt; Const
          (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
          (UniqueMap TermUnique (InlineTerm tyname name uni fun ann)))
    -&gt; TermSubst tyname name uni fun ann
    -&gt; Const
         (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
         (TermSubst tyname name uni fun ann))
-&gt; Getting
     (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
     (InlinerState tyname name uni fun ann)
     (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
 -&gt; Const
      (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
      (UniqueMap TermUnique (InlineTerm tyname name uni fun ann)))
-&gt; TermSubst tyname name uni fun ann
-&gt; Const
     (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
     (TermSubst tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann tyname name
       (uni :: * -&gt; *) fun ann (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Profunctor p, Functor f) =&gt;
p (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
  (f (UniqueMap TermUnique (InlineTerm tyname name uni fun ann)))
-&gt; p (TermSubst tyname name uni fun ann)
     (f (TermSubst tyname name uni fun ann))
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#unTermSubst"
	><span class="hs-identifier hs-var"
	  >unTermSubst</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-143"
      ></span
      ><span
      >
</span
      ><span id="line-144"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Insert the unprocessed variable into the term substitution.</span
	></span
      ><span
      >
</span
      ><span id="line-145"
      ></span
      ><span id="local-6989586621679476280"
      ><span id="local-6989586621679476281"
	><span id="local-6989586621679476282"
	  ><span id="local-6989586621679476283"
	    ><span id="local-6989586621679476284"
	      ><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#extendTerm"
		  ><span class="hs-identifier hs-type"
		    >extendTerm</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-146"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476280"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-147"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476280"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><span class="hs-comment"
		  >-- ^ The name of the variable.</span
		  ></span
		><span
		>
</span
		><span id="line-148"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlineTerm"
		  ><span class="hs-identifier hs-type"
		    >InlineTerm</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476281"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476280"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476282"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476283"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476284"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><span class="hs-comment"
		  >-- ^ The substitution range.</span
		  ></span
		><span
		>
</span
		><span id="line-149"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
		  ><span class="hs-identifier hs-type"
		    >InlinerState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476281"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476280"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476282"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476283"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476284"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-150"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
		  ><span class="hs-identifier hs-type"
		    >InlinerState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476281"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476280"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476282"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476283"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476284"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-151"
      ></span
      ><span id="extendTerm"
      ><span class="annot"
	><span class="annottext"
	  >extendTerm :: forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
name
-&gt; InlineTerm tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#extendTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >extendTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476994"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679476994"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476995"
      ><span class="annot"
	><span class="annottext"
	  >InlineTerm tyname name uni fun ann
</span
	  ><a href="#local-6989586621679476995"
	  ><span class="hs-identifier hs-var"
	    >clos</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476996"
      ><span class="annot"
	><span class="annottext"
	  >InlinerState tyname name uni fun ann
</span
	  ><a href="#local-6989586621679476996"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
</span
	><a href="#local-6989586621679476996"
	><span class="hs-identifier hs-var"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
-&gt; (InlinerState tyname name uni fun ann
    -&gt; InlinerState tyname name uni fun ann)
-&gt; InlinerState tyname name uni fun ann
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TermSubst tyname name uni fun ann
 -&gt; Identity (TermSubst tyname name uni fun ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; Identity (InlinerState tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(TermSubst tyname name uni fun ann
 -&gt; f (TermSubst tyname name uni fun ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; f (InlinerState tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#termSubst"
	><span class="hs-identifier hs-var"
	  >termSubst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TermSubst tyname name uni fun ann
  -&gt; Identity (TermSubst tyname name uni fun ann))
 -&gt; InlinerState tyname name uni fun ann
 -&gt; Identity (InlinerState tyname name uni fun ann))
-&gt; ((UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
     -&gt; Identity
          (UniqueMap TermUnique (InlineTerm tyname name uni fun ann)))
    -&gt; TermSubst tyname name uni fun ann
    -&gt; Identity (TermSubst tyname name uni fun ann))
-&gt; (UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
    -&gt; Identity
         (UniqueMap TermUnique (InlineTerm tyname name uni fun ann)))
-&gt; InlinerState tyname name uni fun ann
-&gt; Identity (InlinerState tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
 -&gt; Identity
      (UniqueMap TermUnique (InlineTerm tyname name uni fun ann)))
-&gt; TermSubst tyname name uni fun ann
-&gt; Identity (TermSubst tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann tyname name
       (uni :: * -&gt; *) fun ann (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Profunctor p, Functor f) =&gt;
p (UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
  (f (UniqueMap TermUnique (InlineTerm tyname name uni fun ann)))
-&gt; p (TermSubst tyname name uni fun ann)
     (f (TermSubst tyname name uni fun ann))
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#unTermSubst"
	><span class="hs-identifier hs-var"
	  >unTermSubst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
  -&gt; Identity
       (UniqueMap TermUnique (InlineTerm tyname name uni fun ann)))
 -&gt; InlinerState tyname name uni fun ann
 -&gt; Identity (InlinerState tyname name uni fun ann))
-&gt; (UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
    -&gt; UniqueMap TermUnique (InlineTerm tyname name uni fun ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>%~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
-&gt; InlineTerm tyname name uni fun ann
-&gt; UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
-&gt; UniqueMap TermUnique (InlineTerm tyname name uni fun ann)
forall name unique a.
HasUnique name unique =&gt;
name -&gt; a -&gt; UniqueMap unique a -&gt; UniqueMap unique a
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html#insertByName"
	><span class="hs-identifier hs-var"
	  >UMap.insertByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679476994"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlineTerm tyname name uni fun ann
</span
	><a href="#local-6989586621679476995"
	><span class="hs-identifier hs-var"
	  >clos</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-152"
      ></span
      ><span
      >
</span
      ><span id="line-153"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Look up the unprocessed type variable in the type substitution.</span
	></span
      ><span
      >
</span
      ><span id="line-154"
      ></span
      ><span id="local-6989586621679476301"
      ><span id="local-6989586621679476302"
	><span id="local-6989586621679476303"
	  ><span id="local-6989586621679476304"
	    ><span id="local-6989586621679476305"
	      ><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#lookupType"
		  ><span class="hs-identifier hs-type"
		    >lookupType</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-155"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476301"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
		  ><span class="hs-identifier hs-type"
		    >TypeUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-156"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476301"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-157"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
		  ><span class="hs-identifier hs-type"
		    >InlinerState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476301"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476302"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476303"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476304"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476305"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-158"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
		  ><span class="hs-identifier hs-type"
		    >Maybe</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Rename.Internal.html#Dupable"
		  ><span class="hs-identifier hs-type"
		    >Dupable</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
		  ><span class="hs-identifier hs-type"
		    >Type</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476301"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476303"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476305"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-159"
      ></span
      ><span id="lookupType"
      ><span class="annot"
	><span class="annottext"
	  >lookupType :: forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
tyname
-&gt; InlinerState tyname name uni fun ann
-&gt; Maybe (Dupable (Type tyname uni ann))
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#lookupType"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477006"
      ><span class="annot"
	><span class="annottext"
	  >tyname
</span
	  ><a href="#local-6989586621679477006"
	  ><span class="hs-identifier hs-var"
	    >tn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477007"
      ><span class="annot"
	><span class="annottext"
	  >InlinerState tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477007"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname
-&gt; UniqueMap TypeUnique (Dupable (Type tyname uni ann))
-&gt; Maybe (Dupable (Type tyname uni ann))
forall name unique a.
HasUnique name unique =&gt;
name -&gt; UniqueMap unique a -&gt; Maybe a
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html#lookupName"
	><span class="hs-identifier hs-var"
	  >UMap.lookupName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname
</span
	><a href="#local-6989586621679477006"
	><span class="hs-identifier hs-var"
	  >tn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueMap TypeUnique (Dupable (Type tyname uni ann))
 -&gt; Maybe (Dupable (Type tyname uni ann)))
-&gt; UniqueMap TypeUnique (Dupable (Type tyname uni ann))
-&gt; Maybe (Dupable (Type tyname uni ann))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
</span
	><a href="#local-6989586621679477007"
	><span class="hs-identifier hs-var"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
-&gt; Getting
     (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
     (InlinerState tyname name uni fun ann)
     (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
-&gt; UniqueMap TypeUnique (Dupable (Type tyname uni ann))
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeSubst tyname uni ann
 -&gt; Const
      (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
      (TypeSubst tyname uni ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; Const
     (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
     (InlinerState tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(TypeSubst tyname uni ann -&gt; f (TypeSubst tyname uni ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; f (InlinerState tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#typeSubst"
	><span class="hs-identifier hs-var"
	  >typeSubst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TypeSubst tyname uni ann
  -&gt; Const
       (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
       (TypeSubst tyname uni ann))
 -&gt; InlinerState tyname name uni fun ann
 -&gt; Const
      (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
      (InlinerState tyname name uni fun ann))
-&gt; ((UniqueMap TypeUnique (Dupable (Type tyname uni ann))
     -&gt; Const
          (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
          (UniqueMap TypeUnique (Dupable (Type tyname uni ann))))
    -&gt; TypeSubst tyname uni ann
    -&gt; Const
         (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
         (TypeSubst tyname uni ann))
-&gt; Getting
     (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
     (InlinerState tyname name uni fun ann)
     (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueMap TypeUnique (Dupable (Type tyname uni ann))
 -&gt; Const
      (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
      (UniqueMap TypeUnique (Dupable (Type tyname uni ann))))
-&gt; TypeSubst tyname uni ann
-&gt; Const
     (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
     (TypeSubst tyname uni ann)
forall tyname (uni :: * -&gt; *) ann tyname (uni :: * -&gt; *) ann
       (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Profunctor p, Functor f) =&gt;
p (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
  (f (UniqueMap TypeUnique (Dupable (Type tyname uni ann))))
-&gt; p (TypeSubst tyname uni ann) (f (TypeSubst tyname uni ann))
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#unTypeSubst"
	><span class="hs-identifier hs-var"
	  >unTypeSubst</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-160"
      ></span
      ><span
      >
</span
      ><span id="line-161"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Check if the type substitution is empty.</span
	></span
      ><span
      >
</span
      ><span id="line-162"
      ></span
      ><span id="local-6989586621679476311"
      ><span id="local-6989586621679476312"
	><span id="local-6989586621679476313"
	  ><span id="local-6989586621679476314"
	    ><span id="local-6989586621679476315"
	      ><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#isTypeSubstEmpty"
		  ><span class="hs-identifier hs-type"
		    >isTypeSubstEmpty</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
		  ><span class="hs-identifier hs-type"
		    >InlinerState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476311"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476312"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476313"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476314"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476315"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		  ><span class="hs-identifier hs-type"
		    >Bool</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-163"
      ></span
      ><span id="isTypeSubstEmpty"
      ><span class="annot"
	><span class="annottext"
	  >isTypeSubstEmpty :: forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann -&gt; Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#isTypeSubstEmpty"
	  ><span class="hs-identifier hs-var hs-var"
	    >isTypeSubstEmpty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
	><span class="hs-identifier hs-type"
	  >InlinerState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TermSubst tyname name uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#TypeSubst"
	><span class="hs-identifier hs-type"
	  >TypeSubst</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679477011"
      ><span class="annot"
	><span class="annottext"
	  >UniqueMap TypeUnique (Dupable (Type tyname uni ann))
</span
	  ><a href="#local-6989586621679477011"
	  ><span class="hs-identifier hs-var"
	    >tyEnv</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>NonRecInScopeSet tyname name uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueMap TypeUnique (Dupable (Type tyname uni ann)) -&gt; Bool
forall a. UniqueMap TypeUnique a -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#null"
	><span class="hs-identifier hs-var"
	  >null</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>UniqueMap TypeUnique (Dupable (Type tyname uni ann))
</span
	><a href="#local-6989586621679477011"
	><span class="hs-identifier hs-var"
	  >tyEnv</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-164"
      ></span
      ><span
      >
</span
      ><span id="line-165"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Insert the unprocessed type variable into the type substitution.</span
	></span
      ><span
      >
</span
      ><span id="line-166"
      ></span
      ><span id="local-6989586621679476324"
      ><span id="local-6989586621679476325"
	><span id="local-6989586621679476326"
	  ><span id="local-6989586621679476327"
	    ><span id="local-6989586621679476328"
	      ><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#extendType"
		  ><span class="hs-identifier hs-type"
		    >extendType</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-167"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476324"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TypeUnique"
		  ><span class="hs-identifier hs-type"
		    >TypeUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-168"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476324"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><span class="hs-comment"
		  >-- ^ The name of the type variable.</span
		  ></span
		><span
		>
</span
		><span id="line-169"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
		  ><span class="hs-identifier hs-type"
		    >Type</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476324"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476325"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476326"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><span class="hs-comment"
		  >-- ^ Its type.</span
		  ></span
		><span
		>
</span
		><span id="line-170"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
		  ><span class="hs-identifier hs-type"
		    >InlinerState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476324"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476327"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476325"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476328"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476326"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-171"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
		  ><span class="hs-identifier hs-type"
		    >InlinerState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476324"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476327"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476325"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476328"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476326"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-172"
      ></span
      ><span id="extendType"
      ><span class="annot"
	><span class="annottext"
	  >extendType :: forall tyname (uni :: * -&gt; *) ann name fun.
HasUnique tyname TypeUnique =&gt;
tyname
-&gt; Type tyname uni ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#extendType"
	  ><span class="hs-identifier hs-var hs-var"
	    >extendType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477019"
      ><span class="annot"
	><span class="annottext"
	  >tyname
</span
	  ><a href="#local-6989586621679477019"
	  ><span class="hs-identifier hs-var"
	    >tn</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477020"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni ann
</span
	  ><a href="#local-6989586621679477020"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477021"
      ><span class="annot"
	><span class="annottext"
	  >InlinerState tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477021"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
</span
	><a href="#local-6989586621679477021"
	><span class="hs-identifier hs-var"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
-&gt; (InlinerState tyname name uni fun ann
    -&gt; InlinerState tyname name uni fun ann)
-&gt; InlinerState tyname name uni fun ann
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>(TypeSubst tyname uni ann -&gt; Identity (TypeSubst tyname uni ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; Identity (InlinerState tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(TypeSubst tyname uni ann -&gt; f (TypeSubst tyname uni ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; f (InlinerState tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#typeSubst"
	><span class="hs-identifier hs-var"
	  >typeSubst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TypeSubst tyname uni ann -&gt; Identity (TypeSubst tyname uni ann))
 -&gt; InlinerState tyname name uni fun ann
 -&gt; Identity (InlinerState tyname name uni fun ann))
-&gt; ((UniqueMap TypeUnique (Dupable (Type tyname uni ann))
     -&gt; Identity (UniqueMap TypeUnique (Dupable (Type tyname uni ann))))
    -&gt; TypeSubst tyname uni ann -&gt; Identity (TypeSubst tyname uni ann))
-&gt; (UniqueMap TypeUnique (Dupable (Type tyname uni ann))
    -&gt; Identity (UniqueMap TypeUnique (Dupable (Type tyname uni ann))))
-&gt; InlinerState tyname name uni fun ann
-&gt; Identity (InlinerState tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueMap TypeUnique (Dupable (Type tyname uni ann))
 -&gt; Identity (UniqueMap TypeUnique (Dupable (Type tyname uni ann))))
-&gt; TypeSubst tyname uni ann -&gt; Identity (TypeSubst tyname uni ann)
forall tyname (uni :: * -&gt; *) ann tyname (uni :: * -&gt; *) ann
       (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Profunctor p, Functor f) =&gt;
p (UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
  (f (UniqueMap TypeUnique (Dupable (Type tyname uni ann))))
-&gt; p (TypeSubst tyname uni ann) (f (TypeSubst tyname uni ann))
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#unTypeSubst"
	><span class="hs-identifier hs-var"
	  >unTypeSubst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((UniqueMap TypeUnique (Dupable (Type tyname uni ann))
  -&gt; Identity (UniqueMap TypeUnique (Dupable (Type tyname uni ann))))
 -&gt; InlinerState tyname name uni fun ann
 -&gt; Identity (InlinerState tyname name uni fun ann))
-&gt; (UniqueMap TypeUnique (Dupable (Type tyname uni ann))
    -&gt; UniqueMap TypeUnique (Dupable (Type tyname uni ann)))
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>%~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname
-&gt; Dupable (Type tyname uni ann)
-&gt; UniqueMap TypeUnique (Dupable (Type tyname uni ann))
-&gt; UniqueMap TypeUnique (Dupable (Type tyname uni ann))
forall name unique a.
HasUnique name unique =&gt;
name -&gt; a -&gt; UniqueMap unique a -&gt; UniqueMap unique a
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html#insertByName"
	><span class="hs-identifier hs-var"
	  >UMap.insertByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname
</span
	><a href="#local-6989586621679477019"
	><span class="hs-identifier hs-var"
	  >tn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni ann -&gt; Dupable (Type tyname uni ann)
forall a. a -&gt; Dupable a
</span
	><a href="../../plutus-core/src/PlutusCore.Rename.html#dupable"
	><span class="hs-identifier hs-var"
	  >dupable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni ann
</span
	><a href="#local-6989586621679477020"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-173"
      ></span
      ><span
      >
</span
      ><span id="line-174"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Look up a variable in the in scope set.</span
	></span
      ><span
      >
</span
      ><span id="line-175"
      ></span
      ><span id="local-6989586621679476335"
      ><span id="local-6989586621679476336"
	><span id="local-6989586621679476337"
	  ><span id="local-6989586621679476338"
	    ><span id="local-6989586621679476339"
	      ><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#lookupVarInfo"
		  ><span class="hs-identifier hs-type"
		    >lookupVarInfo</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-176"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476335"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-177"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476335"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><span class="hs-comment"
		  >-- ^ The name of the variable.</span
		  ></span
		><span
		>
</span
		><span id="line-178"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
		  ><span class="hs-identifier hs-type"
		    >InlinerState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476336"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476335"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476337"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476338"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476339"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-179"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
		  ><span class="hs-identifier hs-type"
		    >Maybe</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlineVarInfo"
		  ><span class="hs-identifier hs-type"
		    >InlineVarInfo</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476336"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476335"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476337"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476338"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476339"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-180"
      ></span
      ><span id="lookupVarInfo"
      ><span class="annot"
	><span class="annottext"
	  >lookupVarInfo :: forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
name
-&gt; InlinerState tyname name uni fun ann
-&gt; Maybe (InlineVarInfo tyname name uni fun ann)
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#lookupVarInfo"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupVarInfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477029"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679477029"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477030"
      ><span class="annot"
	><span class="annottext"
	  >InlinerState tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477030"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
-&gt; UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
-&gt; Maybe (InlineVarInfo tyname name uni fun ann)
forall name unique a.
HasUnique name unique =&gt;
name -&gt; UniqueMap unique a -&gt; Maybe a
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html#lookupName"
	><span class="hs-identifier hs-var"
	  >UMap.lookupName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679477029"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
 -&gt; Maybe (InlineVarInfo tyname name uni fun ann))
-&gt; UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
-&gt; Maybe (InlineVarInfo tyname name uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
</span
	><a href="#local-6989586621679477030"
	><span class="hs-identifier hs-var"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
-&gt; Getting
     (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
     (InlinerState tyname name uni fun ann)
     (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
-&gt; UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonRecInScopeSet tyname name uni fun ann
 -&gt; Const
      (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
      (NonRecInScopeSet tyname name uni fun ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; Const
     (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
     (InlinerState tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(NonRecInScopeSet tyname name uni fun ann
 -&gt; f (NonRecInScopeSet tyname name uni fun ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; f (InlinerState tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#nonRecInScopeSet"
	><span class="hs-identifier hs-var"
	  >nonRecInScopeSet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((NonRecInScopeSet tyname name uni fun ann
  -&gt; Const
       (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
       (NonRecInScopeSet tyname name uni fun ann))
 -&gt; InlinerState tyname name uni fun ann
 -&gt; Const
      (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
      (InlinerState tyname name uni fun ann))
-&gt; ((UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
     -&gt; Const
          (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
          (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)))
    -&gt; NonRecInScopeSet tyname name uni fun ann
    -&gt; Const
         (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
         (NonRecInScopeSet tyname name uni fun ann))
-&gt; Getting
     (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
     (InlinerState tyname name uni fun ann)
     (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
 -&gt; Const
      (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
      (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)))
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; Const
     (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
     (NonRecInScopeSet tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann tyname name
       (uni :: * -&gt; *) fun ann (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Profunctor p, Functor f) =&gt;
p (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
  (f (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)))
-&gt; p (NonRecInScopeSet tyname name uni fun ann)
     (f (NonRecInScopeSet tyname name uni fun ann))
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#unNonRecInScopeSet"
	><span class="hs-identifier hs-var"
	  >unNonRecInScopeSet</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-181"
      ></span
      ><span
      >
</span
      ><span id="line-182"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Insert a variable into the substitution.</span
	></span
      ><span
      >
</span
      ><span id="line-183"
      ></span
      ><span id="local-6989586621679476345"
      ><span id="local-6989586621679476346"
	><span id="local-6989586621679476347"
	  ><span id="local-6989586621679476348"
	    ><span id="local-6989586621679476349"
	      ><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#extendVarInfo"
		  ><span class="hs-identifier hs-type"
		    >extendVarInfo</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-184"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#HasUnique"
		  ><span class="hs-identifier hs-type"
		    >HasUnique</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476345"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TermUnique"
		  ><span class="hs-identifier hs-type"
		    >TermUnique</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-185"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476345"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><span class="hs-comment"
		  >-- ^ The name of the variable.</span
		  ></span
		><span
		>
</span
		><span id="line-186"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlineVarInfo"
		  ><span class="hs-identifier hs-type"
		    >InlineVarInfo</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476346"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476345"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476347"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476348"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476349"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><span class="hs-comment"
		  >-- ^ The variable's info.</span
		  ></span
		><span
		>
</span
		><span id="line-187"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
		  ><span class="hs-identifier hs-type"
		    >InlinerState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476346"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476345"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476347"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476348"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476349"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-188"
		></span
		><span
		>    </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlinerState"
		  ><span class="hs-identifier hs-type"
		    >InlinerState</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476346"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476345"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476347"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476348"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476349"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-189"
      ></span
      ><span id="extendVarInfo"
      ><span class="annot"
	><span class="annottext"
	  >extendVarInfo :: forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
name
-&gt; InlineVarInfo tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#extendVarInfo"
	  ><span class="hs-identifier hs-var hs-var"
	    >extendVarInfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477037"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679477037"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477038"
      ><span class="annot"
	><span class="annottext"
	  >InlineVarInfo tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477038"
	  ><span class="hs-identifier hs-var"
	    >info</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477039"
      ><span class="annot"
	><span class="annottext"
	  >InlinerState tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477039"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
</span
	><a href="#local-6989586621679477039"
	><span class="hs-identifier hs-var"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann
-&gt; (InlinerState tyname name uni fun ann
    -&gt; InlinerState tyname name uni fun ann)
-&gt; InlinerState tyname name uni fun ann
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Function.html#%26"
	><span class="hs-operator hs-var"
	  >&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(NonRecInScopeSet tyname name uni fun ann
 -&gt; Identity (NonRecInScopeSet tyname name uni fun ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; Identity (InlinerState tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(NonRecInScopeSet tyname name uni fun ann
 -&gt; f (NonRecInScopeSet tyname name uni fun ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; f (InlinerState tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#nonRecInScopeSet"
	><span class="hs-identifier hs-var"
	  >nonRecInScopeSet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((NonRecInScopeSet tyname name uni fun ann
  -&gt; Identity (NonRecInScopeSet tyname name uni fun ann))
 -&gt; InlinerState tyname name uni fun ann
 -&gt; Identity (InlinerState tyname name uni fun ann))
-&gt; ((UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
     -&gt; Identity
          (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)))
    -&gt; NonRecInScopeSet tyname name uni fun ann
    -&gt; Identity (NonRecInScopeSet tyname name uni fun ann))
-&gt; (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
    -&gt; Identity
         (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)))
-&gt; InlinerState tyname name uni fun ann
-&gt; Identity (InlinerState tyname name uni fun ann)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
 -&gt; Identity
      (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)))
-&gt; NonRecInScopeSet tyname name uni fun ann
-&gt; Identity (NonRecInScopeSet tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann tyname name
       (uni :: * -&gt; *) fun ann (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Profunctor p, Functor f) =&gt;
p (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
  (f (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)))
-&gt; p (NonRecInScopeSet tyname name uni fun ann)
     (f (NonRecInScopeSet tyname name uni fun ann))
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#unNonRecInScopeSet"
	><span class="hs-identifier hs-var"
	  >unNonRecInScopeSet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
  -&gt; Identity
       (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)))
 -&gt; InlinerState tyname name uni fun ann
 -&gt; Identity (InlinerState tyname name uni fun ann))
-&gt; (UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
    -&gt; UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann))
-&gt; InlinerState tyname name uni fun ann
-&gt; InlinerState tyname name uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-operator hs-var"
	>%~</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
-&gt; InlineVarInfo tyname name uni fun ann
-&gt; UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
-&gt; UniqueMap TermUnique (InlineVarInfo tyname name uni fun ann)
forall name unique a.
HasUnique name unique =&gt;
name -&gt; a -&gt; UniqueMap unique a -&gt; UniqueMap unique a
</span
	><a href="../../plutus-core/src/PlutusCore.Name.UniqueMap.html#insertByName"
	><span class="hs-identifier hs-var"
	  >UMap.insertByName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679477037"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlineVarInfo tyname name uni fun ann
</span
	><a href="#local-6989586621679477038"
	><span class="hs-identifier hs-var"
	  >info</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-190"
      ></span
      ><span
      >
</span
      ><span id="line-191"
      ></span
      ><span
      >
</span
      ><span id="line-192"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#applyTypeSubstitution"
	><span class="hs-identifier hs-type"
	  >applyTypeSubstitution</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679476355"
      ><span class="annot"
	><a href="#local-6989586621679476355"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476356"
      ><span class="annot"
	><a href="#local-6989586621679476356"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476357"
      ><span class="annot"
	><a href="#local-6989586621679476357"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476358"
      ><span class="annot"
	><a href="#local-6989586621679476358"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476360"
      ><span class="annot"
	><a href="#local-6989586621679476360"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
	><span class="hs-identifier hs-type"
	  >InliningConstraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476355"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476356"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476357"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476358"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-193"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476355"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476357"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476360"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-194"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
	><span class="hs-identifier hs-type"
	  >InlineM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476355"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476356"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476357"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476358"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476360"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476355"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476357"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476360"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-195"
      ></span
      ><span id="applyTypeSubstitution"
      ><span class="annot"
	><span class="annottext"
	  >applyTypeSubstitution :: forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
Type tyname uni ann
-&gt; InlineM tyname name uni fun ann (Type tyname uni ann)
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#applyTypeSubstitution"
	  ><span class="hs-identifier hs-var hs-var"
	    >applyTypeSubstitution</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477063"
      ><span class="annot"
	><span class="annottext"
	  >Type tyname uni ann
</span
	  ><a href="#local-6989586621679477063"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(InlinerState tyname name uni fun ann -&gt; Bool)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#gets"
	><span class="hs-identifier hs-var"
	  >gets</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlinerState tyname name uni fun ann -&gt; Bool
forall tyname name (uni :: * -&gt; *) fun ann.
InlinerState tyname name uni fun ann -&gt; Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#isTypeSubstEmpty"
	><span class="hs-identifier hs-var"
	  >isTypeSubstEmpty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  Bool
-&gt; (Bool
    -&gt; ReaderT
         (InlineInfo tyname name uni fun ann)
         (StateT (InlinerState tyname name uni fun ann) Quote)
         (Type tyname uni ann))
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Type tyname uni ann)
forall a b.
ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  a
-&gt; (a
    -&gt; ReaderT
         (InlineInfo tyname name uni fun ann)
         (StateT (InlinerState tyname name uni fun ann) Quote)
         b)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3E%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-196"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- The type substitution is very often empty, and there are lots of types in the program,</span
      ><span
      >
</span
      ><span id="line-197"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- so this saves a lot of work (determined from profiling)</span
      ><span
      >
</span
      ><span id="line-198"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni ann
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Type tyname uni ann)
forall a.
a
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni ann
</span
	><a href="#local-6989586621679477063"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-199"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(tyname
 -&gt; ReaderT
      (InlineInfo tyname name uni fun ann)
      (StateT (InlinerState tyname name uni fun ann) Quote)
      (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Type tyname uni ann)
forall (m :: * -&gt; *) tyname (uni :: * -&gt; *) ann.
Monad m =&gt;
(tyname -&gt; m (Maybe (Type tyname uni ann)))
-&gt; Type tyname uni ann -&gt; m (Type tyname uni ann)
</span
	><a href="../../plutus-core/src/PlutusCore.Subst.html#typeSubstTyNamesM"
	><span class="hs-identifier hs-var"
	  >typeSubstTyNamesM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Maybe (Type tyname uni ann))
forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
tyname
-&gt; InlineM tyname name uni fun ann (Maybe (Type tyname uni ann))
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#substTyName"
	><span class="hs-identifier hs-var"
	  >substTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni ann
</span
	><a href="#local-6989586621679477063"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-200"
      ></span
      ><span
      >
</span
      ><span id="line-201"
      ></span
      ><span class="hs-comment"
      >-- See Note [Inlining and global uniqueness]</span
      ><span
      >
</span
      ><span id="line-202"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#substTyName"
	><span class="hs-identifier hs-type"
	  >substTyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679476399"
      ><span class="annot"
	><a href="#local-6989586621679476399"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476400"
      ><span class="annot"
	><a href="#local-6989586621679476400"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476401"
      ><span class="annot"
	><a href="#local-6989586621679476401"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476402"
      ><span class="annot"
	><a href="#local-6989586621679476402"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476403"
      ><span class="annot"
	><a href="#local-6989586621679476403"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
	><span class="hs-identifier hs-type"
	  >InliningConstraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476399"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476400"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476401"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476402"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-203"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476399"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-204"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
	><span class="hs-identifier hs-type"
	  >InlineM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476399"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476400"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476401"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476402"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476403"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476399"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476401"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476403"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-205"
      ></span
      ><span id="substTyName"
      ><span class="annot"
	><span class="annottext"
	  >substTyName :: forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
tyname
-&gt; InlineM tyname name uni fun ann (Maybe (Type tyname uni ann))
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#substTyName"
	  ><span class="hs-identifier hs-var hs-var"
	    >substTyName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477090"
      ><span class="annot"
	><span class="annottext"
	  >tyname
</span
	  ><a href="#local-6989586621679477090"
	  ><span class="hs-identifier hs-var"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(InlinerState tyname name uni fun ann
 -&gt; Maybe (Dupable (Type tyname uni ann)))
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Maybe (Dupable (Type tyname uni ann)))
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#gets"
	><span class="hs-identifier hs-var"
	  >gets</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>tyname
-&gt; InlinerState tyname name uni fun ann
-&gt; Maybe (Dupable (Type tyname uni ann))
forall tyname name (uni :: * -&gt; *) fun ann.
HasUnique tyname TypeUnique =&gt;
tyname
-&gt; InlinerState tyname name uni fun ann
-&gt; Maybe (Dupable (Type tyname uni ann))
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#lookupType"
	><span class="hs-identifier hs-var"
	  >lookupType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>tyname
</span
	><a href="#local-6989586621679477090"
	><span class="hs-identifier hs-var"
	  >tyname</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  (Maybe (Dupable (Type tyname uni ann)))
-&gt; (Maybe (Dupable (Type tyname uni ann))
    -&gt; ReaderT
         (InlineInfo tyname name uni fun ann)
         (StateT (InlinerState tyname name uni fun ann) Quote)
         (Maybe (Type tyname uni ann)))
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Maybe (Type tyname uni ann))
forall a b.
ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  a
-&gt; (a
    -&gt; ReaderT
         (InlineInfo tyname name uni fun ann)
         (StateT (InlinerState tyname name uni fun ann) Quote)
         b)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3E%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Dupable (Type tyname uni ann)
 -&gt; ReaderT
      (InlineInfo tyname name uni fun ann)
      (StateT (InlinerState tyname name uni fun ann) Quote)
      (Type tyname uni ann))
-&gt; Maybe (Dupable (Type tyname uni ann))
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Maybe (Type tyname uni ann))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Maybe a -&gt; f (Maybe b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dupable (Type tyname uni ann)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Type tyname uni ann)
forall (m :: * -&gt; *) a.
(MonadQuote m, Rename a) =&gt;
Dupable a -&gt; m a
</span
	><a href="../../plutus-core/src/PlutusCore.Rename.html#liftDupable"
	><span class="hs-identifier hs-var"
	  >liftDupable</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-206"
      ></span
      ><span
      >
</span
      ><span id="line-207"
      ></span
      ><span class="hs-comment"
      >-- See Note [Inlining and global uniqueness]</span
      ><span
      >
</span
      ><span id="line-208"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#substName"
	><span class="hs-identifier hs-type"
	  >substName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679476429"
      ><span class="annot"
	><a href="#local-6989586621679476429"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476430"
      ><span class="annot"
	><a href="#local-6989586621679476430"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476431"
      ><span class="annot"
	><a href="#local-6989586621679476431"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476432"
      ><span class="annot"
	><a href="#local-6989586621679476432"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476433"
      ><span class="annot"
	><a href="#local-6989586621679476433"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
	><span class="hs-identifier hs-type"
	  >InliningConstraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476429"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476430"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476431"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476432"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-209"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476430"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-210"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
	><span class="hs-identifier hs-type"
	  >InlineM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476429"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476430"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476431"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476432"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476433"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476429"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476430"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476431"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476432"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476433"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-211"
      ></span
      ><span id="substName"
      ><span class="annot"
	><span class="annottext"
	  >substName :: forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
name
-&gt; InlineM
     tyname name uni fun ann (Maybe (Term tyname name uni fun ann))
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#substName"
	  ><span class="hs-identifier hs-var hs-var"
	    >substName</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477109"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679477109"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(InlinerState tyname name uni fun ann
 -&gt; Maybe (InlineTerm tyname name uni fun ann))
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Maybe (InlineTerm tyname name uni fun ann))
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#gets"
	><span class="hs-identifier hs-var"
	  >gets</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>name
-&gt; InlinerState tyname name uni fun ann
-&gt; Maybe (InlineTerm tyname name uni fun ann)
forall name tyname (uni :: * -&gt; *) fun ann.
HasUnique name TermUnique =&gt;
name
-&gt; InlinerState tyname name uni fun ann
-&gt; Maybe (InlineTerm tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#lookupTerm"
	><span class="hs-identifier hs-var"
	  >lookupTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679477109"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  (Maybe (InlineTerm tyname name uni fun ann))
-&gt; (Maybe (InlineTerm tyname name uni fun ann)
    -&gt; ReaderT
         (InlineInfo tyname name uni fun ann)
         (StateT (InlinerState tyname name uni fun ann) Quote)
         (Maybe (Term tyname name uni fun ann)))
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Maybe (Term tyname name uni fun ann))
forall a b.
ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  a
-&gt; (a
    -&gt; ReaderT
         (InlineInfo tyname name uni fun ann)
         (StateT (InlinerState tyname name uni fun ann) Quote)
         b)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%3E%3E%3D"
	><span class="hs-operator hs-var"
	  >&gt;&gt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(InlineTerm tyname name uni fun ann
 -&gt; ReaderT
      (InlineInfo tyname name uni fun ann)
      (StateT (InlinerState tyname name uni fun ann) Quote)
      (Term tyname name uni fun ann))
-&gt; Maybe (InlineTerm tyname name uni fun ann)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Maybe (Term tyname name uni fun ann))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Maybe a -&gt; f (Maybe b)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Traversable.html#traverse"
	><span class="hs-identifier hs-var"
	  >traverse</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>InlineTerm tyname name uni fun ann
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Term tyname name uni fun ann)
forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
InlineTerm tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann (Term tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#renameTerm"
	><span class="hs-identifier hs-var"
	  >renameTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-212"
      ></span
      ><span
      >
</span
      ><span id="line-213"
      ></span
      ><span class="hs-comment"
      >-- See Note [Inlining approach and 'Secrets of the GHC Inliner']</span
      ><span
      >
</span
      ><span id="line-214"
      ></span
      ><span class="hs-comment"
      >-- Already processed term, just rename and put it in, don't do any further optimization here.</span
      ><span
      >
</span
      ><span id="line-215"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#renameTerm"
	><span class="hs-identifier hs-type"
	  >renameTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679476440"
      ><span class="annot"
	><a href="#local-6989586621679476440"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476441"
      ><span class="annot"
	><a href="#local-6989586621679476441"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476442"
      ><span class="annot"
	><a href="#local-6989586621679476442"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476443"
      ><span class="annot"
	><a href="#local-6989586621679476443"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476444"
      ><span class="annot"
	><a href="#local-6989586621679476444"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
	><span class="hs-identifier hs-type"
	  >InliningConstraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476440"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476441"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476442"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476443"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-216"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineTerm"
	><span class="hs-identifier hs-type"
	  >InlineTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476440"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476441"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476442"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476443"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476444"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-217"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
	><span class="hs-identifier hs-type"
	  >InlineM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476440"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476441"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476442"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476443"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476444"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476440"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476441"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476442"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476443"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476444"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-218"
      ></span
      ><span id="renameTerm"
      ><span class="annot"
	><span class="annottext"
	  >renameTerm :: forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
InlineTerm tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann (Term tyname name uni fun ann)
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#renameTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >renameTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#Done"
	><span class="hs-identifier hs-type"
	  >Done</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679477122"
      ><span class="annot"
	><span class="annottext"
	  >Dupable (Term tyname name uni fun ann)
</span
	  ><a href="#local-6989586621679477122"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dupable (Term tyname name uni fun ann)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (Term tyname name uni fun ann)
forall (m :: * -&gt; *) a.
(MonadQuote m, Rename a) =&gt;
Dupable a -&gt; m a
</span
	><a href="../../plutus-core/src/PlutusCore.Rename.html#liftDupable"
	><span class="hs-identifier hs-var"
	  >liftDupable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Dupable (Term tyname name uni fun ann)
</span
	><a href="#local-6989586621679477122"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-219"
      ></span
      ><span
      >
</span
      ><span id="line-220"
      ></span
      ><span class="hs-comment"
      >{- Note [Renaming strategy]
Since we assume global uniqueness, we can take a slightly different approach to
renaming:  we rename the term we are substituting in, instead of renaming
every binder that our substitution encounters, which should guarantee that we
avoid any variable capture.

We rename both terms and types as both may have binders in them.
-}</span
      ><span
      >
</span
      ><span id="line-228"
      ></span
      ><span
      >
</span
      ><span id="line-229"
      ></span
      ><span class="hs-comment"
      >-- Heuristics:</span
      ><span
      >
</span
      ><span id="line-230"
      ></span
      ><span
      >
</span
      ><span id="line-231"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Check if term is pure. See Note [Inlining and purity]</span
	></span
      ><span
      >
</span
      ><span id="line-232"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#checkPurity"
	><span class="hs-identifier hs-type"
	  >checkPurity</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-233"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679476455"
      ><span class="annot"
	><a href="#local-6989586621679476455"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476456"
      ><span class="annot"
	><a href="#local-6989586621679476456"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476457"
      ><span class="annot"
	><a href="#local-6989586621679476457"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476458"
      ><span class="annot"
	><a href="#local-6989586621679476458"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476459"
      ><span class="annot"
	><a href="#local-6989586621679476459"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
	><span class="hs-identifier hs-type"
	  >InliningConstraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476455"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476456"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476457"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476458"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-234"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476455"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476456"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476457"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476458"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476459"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
	><span class="hs-identifier hs-type"
	  >InlineM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476455"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476456"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476457"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476458"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476459"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-235"
      ></span
      ><span id="checkPurity"
      ><span class="annot"
	><span class="annottext"
	  >checkPurity :: forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
Term tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#checkPurity"
	  ><span class="hs-identifier hs-var hs-var"
	    >checkPurity</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477143"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477143"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-236"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679477144"
      ><span class="annot"
	><span class="annottext"
	  >VarsInfo tyname name uni ann
</span
	  ><a href="#local-6989586621679477144"
	  ><span class="hs-identifier hs-var"
	    >varInfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (VarsInfo tyname name uni ann)
  (InlineInfo tyname name uni fun ann)
  (VarsInfo tyname name uni ann)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (VarsInfo tyname name uni ann)
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span
	><span class="hs-identifier hs-var"
	>view</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (VarsInfo tyname name uni ann)
  (InlineInfo tyname name uni fun ann)
  (VarsInfo tyname name uni ann)
forall tyname name (uni :: * -&gt; *) fun ann tyname (f :: * -&gt; *).
Functor f =&gt;
(VarsInfo tyname name uni ann -&gt; f (VarsInfo tyname name uni ann))
-&gt; InlineInfo tyname name uni fun ann
-&gt; f (InlineInfo tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#iiVarInfo"
	><span class="hs-identifier hs-var"
	  >iiVarInfo</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-237"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679477146"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinsInfo uni fun
</span
	  ><a href="#local-6989586621679477146"
	  ><span class="hs-identifier hs-var"
	    >binfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (BuiltinsInfo uni fun)
  (InlineInfo tyname name uni fun ann)
  (BuiltinsInfo uni fun)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (BuiltinsInfo uni fun)
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span
	><span class="hs-identifier hs-var"
	>view</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (BuiltinsInfo uni fun)
  (InlineInfo tyname name uni fun ann)
  (BuiltinsInfo uni fun)
forall tyname name (uni :: * -&gt; *) fun ann fun (f :: * -&gt; *).
Functor f =&gt;
(BuiltinsInfo uni fun -&gt; f (BuiltinsInfo uni fun))
-&gt; InlineInfo tyname name uni fun ann
-&gt; f (InlineInfo tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#iiBuiltinsInfo"
	><span class="hs-identifier hs-var"
	  >iiBuiltinsInfo</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-238"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; InlineM tyname name uni fun ann Bool
forall a.
a
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; InlineM tyname name uni fun ann Bool)
-&gt; Bool -&gt; InlineM tyname name uni fun ann Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni ann
-&gt; Term tyname name uni fun ann
-&gt; Bool
forall (uni :: * -&gt; *) fun name tyname a.
(ToBuiltinMeaning uni fun, HasUnique name TermUnique) =&gt;
BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni a -&gt; Term tyname name uni fun a -&gt; Bool
</span
	><a href="PlutusIR.Purity.html#isPure"
	><span class="hs-identifier hs-var"
	  >isPure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
</span
	><a href="#local-6989586621679477146"
	><span class="hs-identifier hs-var"
	  >binfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarsInfo tyname name uni ann
</span
	><a href="#local-6989586621679477144"
	><span class="hs-identifier hs-var"
	  >varInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477143"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-239"
      ></span
      ><span
      >
</span
      ><span id="line-240"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#isFirstVarBeforeEffects"
	><span class="hs-identifier hs-type"
	  >isFirstVarBeforeEffects</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-241"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679476477"
      ><span class="annot"
	><a href="#local-6989586621679476477"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476478"
      ><span class="annot"
	><a href="#local-6989586621679476478"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476479"
      ><span class="annot"
	><a href="#local-6989586621679476479"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476480"
      ><span class="annot"
	><a href="#local-6989586621679476480"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476481"
      ><span class="annot"
	><a href="#local-6989586621679476481"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
	><span class="hs-identifier hs-type"
	  >InliningConstraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476477"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476478"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476479"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476480"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-242"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476478"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476477"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476478"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476479"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476480"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476481"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
	><span class="hs-identifier hs-type"
	  >InlineM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476477"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476478"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476479"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476480"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476481"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-243"
      ></span
      ><span id="isFirstVarBeforeEffects"
      ><span class="annot"
	><span class="annottext"
	  >isFirstVarBeforeEffects :: forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
name
-&gt; Term tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#isFirstVarBeforeEffects"
	  ><span class="hs-identifier hs-var hs-var"
	    >isFirstVarBeforeEffects</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477168"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679477168"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477169"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477169"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-244"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679477170"
      ><span class="annot"
	><span class="annottext"
	  >VarsInfo tyname name uni ann
</span
	  ><a href="#local-6989586621679477170"
	  ><span class="hs-identifier hs-var"
	    >varInfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (VarsInfo tyname name uni ann)
  (InlineInfo tyname name uni fun ann)
  (VarsInfo tyname name uni ann)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (VarsInfo tyname name uni ann)
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span
	><span class="hs-identifier hs-var"
	>view</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (VarsInfo tyname name uni ann)
  (InlineInfo tyname name uni fun ann)
  (VarsInfo tyname name uni ann)
forall tyname name (uni :: * -&gt; *) fun ann tyname (f :: * -&gt; *).
Functor f =&gt;
(VarsInfo tyname name uni ann -&gt; f (VarsInfo tyname name uni ann))
-&gt; InlineInfo tyname name uni fun ann
-&gt; f (InlineInfo tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#iiVarInfo"
	><span class="hs-identifier hs-var"
	  >iiVarInfo</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-245"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679477171"
      ><span class="annot"
	><span class="annottext"
	  >BuiltinsInfo uni fun
</span
	  ><a href="#local-6989586621679477171"
	  ><span class="hs-identifier hs-var"
	    >binfo</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (BuiltinsInfo uni fun)
  (InlineInfo tyname name uni fun ann)
  (BuiltinsInfo uni fun)
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     (BuiltinsInfo uni fun)
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span
	><span class="hs-identifier hs-var"
	>view</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (BuiltinsInfo uni fun)
  (InlineInfo tyname name uni fun ann)
  (BuiltinsInfo uni fun)
forall tyname name (uni :: * -&gt; *) fun ann fun (f :: * -&gt; *).
Functor f =&gt;
(BuiltinsInfo uni fun -&gt; f (BuiltinsInfo uni fun))
-&gt; InlineInfo tyname name uni fun ann
-&gt; f (InlineInfo tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#iiBuiltinsInfo"
	><span class="hs-identifier hs-var"
	  >iiBuiltinsInfo</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-246"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- This can in the worst case traverse a lot of the term, which could lead to us</span
      ><span
      >
</span
      ><span id="line-247"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- doing ~quadratic work as we process the program. However in practice most terms</span
      ><span
      >
</span
      ><span id="line-248"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- have a relatively short evaluation order before we hit Unknown, so it's not too bad.</span
      ><span
      >
</span
      ><span id="line-249"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; InlineM tyname name uni fun ann Bool
forall a.
a
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; InlineM tyname name uni fun ann Bool)
-&gt; Bool -&gt; InlineM tyname name uni fun ann Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun ann] -&gt; Bool
</span
	><a href="#local-6989586621679477172"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>EvalOrder tyname name uni fun ann
-&gt; [EvalTerm tyname name uni fun ann]
forall tyname name (uni :: * -&gt; *) fun a.
EvalOrder tyname name uni fun a -&gt; [EvalTerm tyname name uni fun a]
</span
	><a href="PlutusIR.Purity.html#unEvalOrder"
	><span class="hs-identifier hs-var"
	  >unEvalOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni ann
-&gt; Term tyname name uni fun ann
-&gt; EvalOrder tyname name uni fun ann
forall tyname name (uni :: * -&gt; *) fun a.
(ToBuiltinMeaning uni fun, HasUnique name TermUnique) =&gt;
BuiltinsInfo uni fun
-&gt; VarsInfo tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; EvalOrder tyname name uni fun a
</span
	><a href="PlutusIR.Purity.html#termEvaluationOrder"
	><span class="hs-identifier hs-var"
	  >termEvaluationOrder</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>BuiltinsInfo uni fun
</span
	><a href="#local-6989586621679477171"
	><span class="hs-identifier hs-var"
	  >binfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarsInfo tyname name uni ann
</span
	><a href="#local-6989586621679477170"
	><span class="hs-identifier hs-var"
	  >varInfo</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477169"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-250"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-251"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- Found the variable we're looking for!</span
      ><span
      >
</span
      ><span id="line-252"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679477172"
      ><span class="annot"
	><span class="annottext"
	  >go :: [EvalTerm tyname name uni fun ann] -&gt; Bool
</span
	  ><a href="#local-6989586621679477172"
	  ><span class="hs-identifier hs-var hs-var"
	    >go</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-type"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Var"
	><span class="hs-identifier hs-type"
	  >Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477175"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679477175"
	  ><span class="hs-identifier hs-var"
	    >n'</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun ann]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679477168"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3D%3D"
	><span class="hs-operator hs-var"
	  >==</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679477175"
	><span class="hs-identifier hs-var"
	  >n'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-253"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- Found a pure term, ignore it and continue</span
      ><span
      >
</span
      ><span id="line-254"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="#local-6989586621679477172"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-type"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#Pure"
	><span class="hs-identifier hs-var"
	  >Pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span id="local-6989586621679477177"
      ><span class="annot"
	><span class="annottext"
	  >[EvalTerm tyname name uni fun ann]
</span
	  ><a href="#local-6989586621679477177"
	  ><span class="hs-identifier hs-var"
	    >rest</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun ann] -&gt; Bool
</span
	><a href="#local-6989586621679477172"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun ann]
</span
	><a href="#local-6989586621679477177"
	><span class="hs-identifier hs-var"
	  >rest</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-255"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- Found a possibly impure term, our variable is definitely not first</span
      ><span
      >
</span
      ><span id="line-256"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="#local-6989586621679477172"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Purity.html#EvalTerm"
	><span class="hs-identifier hs-type"
	  >EvalTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Purity
</span
	><a href="PlutusIR.Purity.html#MaybeImpure"
	><span class="hs-identifier hs-var"
	  >MaybeImpure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>WorkFreedom
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun ann]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-257"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- Don't know, be conservative</span
      ><span
      >
</span
      ><span id="line-258"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="#local-6989586621679477172"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>EvalTerm tyname name uni fun ann
</span
	><a href="PlutusIR.Purity.html#Unknown"
	><span class="hs-identifier hs-var"
	  >Unknown</span
	  ></a
	></span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#%3A"
	><span class="hs-glyph hs-type"
	  >:</span
	  ></a
	></span
      ><span class="annot"
      ><span class="annottext"
	>[EvalTerm tyname name uni fun ann]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-259"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="#local-6989586621679477172"
	><span class="hs-identifier hs-var"
	  >go</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-260"
      ></span
      ><span
      >
</span
      ><span id="line-261"
      ></span
      ><span
      >
</span
      ><span id="line-262"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Checks if a binding is pure, i.e. will evaluating it have effects</span
	></span
      ><span
      >
</span
      ><span id="line-263"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#isTermBindingPure"
	><span class="hs-identifier hs-type"
	  >isTermBindingPure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679476502"
      ><span class="annot"
	><a href="#local-6989586621679476502"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476503"
      ><span class="annot"
	><a href="#local-6989586621679476503"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476504"
      ><span class="annot"
	><a href="#local-6989586621679476504"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476505"
      ><span class="annot"
	><a href="#local-6989586621679476505"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476506"
      ><span class="annot"
	><a href="#local-6989586621679476506"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
	><span class="hs-identifier hs-type"
	  >InliningConstraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476502"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476503"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476504"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476505"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-264"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Strictness"
	><span class="hs-identifier hs-type"
	  >Strictness</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-265"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476502"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476503"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476504"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476505"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476506"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-266"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
	><span class="hs-identifier hs-type"
	  >InlineM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476502"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476503"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476504"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476505"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476506"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-267"
      ></span
      ><span id="isTermBindingPure"
      ><span class="annot"
	><span class="annottext"
	  >isTermBindingPure :: forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
Strictness
-&gt; Term tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#isTermBindingPure"
	  ><span class="hs-identifier hs-var hs-var"
	    >isTermBindingPure</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477189"
      ><span class="annot"
	><span class="annottext"
	  >Strictness
</span
	  ><a href="#local-6989586621679477189"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477190"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477190"
	  ><span class="hs-identifier hs-var"
	    >tm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-268"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="#local-6989586621679477189"
	><span class="hs-identifier hs-var"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-269"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- For non-strict bindings, the effects would have occurred at the call sites anyway.</span
      ><span
      >
</span
      ><span id="line-270"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="PlutusIR.Core.Type.html#NonStrict"
	><span class="hs-identifier hs-var"
	  >NonStrict</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; InlineM tyname name uni fun ann Bool
forall a.
a
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-271"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="PlutusIR.Core.Type.html#Strict"
	><span class="hs-identifier hs-var"
	  >Strict</span
	  ></a
	></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann Bool
forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
Term tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#checkPurity"
	><span class="hs-identifier hs-var"
	  >checkPurity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477190"
	><span class="hs-identifier hs-var"
	  >tm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-272"
      ></span
      ><span
      >
</span
      ><span id="line-273"
      ></span
      ><span class="hs-comment"
      >{- Note [Inlining and purity]
When can we inline something that might have effects? We must remember that we often also
remove a binding that we inline.

For strict bindings, the answer is that we can't: we will delay the effects to the use site,
so they may happen multiple times (or none). So we can only inline bindings whose RHS is pure,
or if we can prove that the effects don't change.
We take a conservative view on this, saying that no effects change if:
- The variable is clearly the first possibly-effectful term evaluated in the body
- The variable is used exactly once (so we won't duplicate or remove effects)

For non-strict bindings, the effects already happened at the use site, so it's fine to inline it
unconditionally.

If we are not in conservative optimization mode and we're allowed to move/duplicate
effects, then we could relax these criteria (e.g. say that the binding must be evaluted
*somewhere*, but not necessarily before any other effects).

One instance of this is when logging preservation is disabled then we inline
variables that are dertermined to get eventually evaluated anyway: such that
have at least one occurrence outside of a 'delay', lambda or a case branch.
-}</span
      ><span
      >
</span
      ><span id="line-295"
      ></span
      ><span
      >
</span
      ><span id="line-296"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#nameUsedAtMostOnce"
	><span class="hs-identifier hs-type"
	  >nameUsedAtMostOnce</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679476512"
      ><span class="annot"
	><a href="#local-6989586621679476512"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476513"
      ><span class="annot"
	><a href="#local-6989586621679476513"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476514"
      ><span class="annot"
	><a href="#local-6989586621679476514"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476515"
      ><span class="annot"
	><a href="#local-6989586621679476515"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476516"
      ><span class="annot"
	><a href="#local-6989586621679476516"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
	><span class="hs-identifier hs-type"
	  >InliningConstraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476512"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476513"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476514"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476515"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-297"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476513"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-298"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
	><span class="hs-identifier hs-type"
	  >InlineM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476512"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476513"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476514"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476515"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476516"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-299"
      ></span
      ><span id="nameUsedAtMostOnce"
      ><span class="annot"
	><span class="annottext"
	  >nameUsedAtMostOnce :: forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
name -&gt; InlineM tyname name uni fun ann Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#nameUsedAtMostOnce"
	  ><span class="hs-identifier hs-var hs-var"
	    >nameUsedAtMostOnce</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477209"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679477209"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-300"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679477210"
      ><span class="annot"
	><span class="annottext"
	  >Usages
</span
	  ><a href="#local-6989586621679477210"
	  ><span class="hs-identifier hs-var"
	    >usgs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting Usages (InlineInfo tyname name uni fun ann) Usages
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Usages
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span
	><span class="hs-identifier hs-var"
	>view</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting Usages (InlineInfo tyname name uni fun ann) Usages
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(Usages -&gt; f Usages)
-&gt; InlineInfo tyname name uni fun ann
-&gt; f (InlineInfo tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#iiUsages"
	><span class="hs-identifier hs-var"
	  >iiUsages</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-301"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- 'inlining' terms used 0 times is a cheap way to remove dead code while we're here</span
      ><span
      >
</span
      ><span id="line-302"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; InlineM tyname name uni fun ann Bool
forall a.
a
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; InlineM tyname name uni fun ann Bool)
-&gt; Bool -&gt; InlineM tyname name uni fun ann Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name -&gt; Usages -&gt; Int
forall n unique. HasUnique n unique =&gt; n -&gt; Usages -&gt; Int
</span
	><a href="PlutusIR.Analysis.Usages.html#getUsageCount"
	><span class="hs-identifier hs-var"
	  >Usages.getUsageCount</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679477209"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Usages
</span
	><a href="#local-6989586621679477210"
	><span class="hs-identifier hs-var"
	  >usgs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%3C%3D"
	><span class="hs-operator hs-var"
	  >&lt;=</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Int
</span
	><span class="hs-number"
	>1</span
	></span
      ><span
      >
</span
      ><span id="line-303"
      ></span
      ><span
      >
</span
      ><span id="line-304"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#effectSafe"
	><span class="hs-identifier hs-type"
	  >effectSafe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679476525"
      ><span class="annot"
	><a href="#local-6989586621679476525"
	  ><span class="hs-identifier hs-type"
	    >tyname</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476526"
      ><span class="annot"
	><a href="#local-6989586621679476526"
	  ><span class="hs-identifier hs-type"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476527"
      ><span class="annot"
	><a href="#local-6989586621679476527"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476528"
      ><span class="annot"
	><a href="#local-6989586621679476528"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679476529"
      ><span class="annot"
	><a href="#local-6989586621679476529"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
	><span class="hs-identifier hs-type"
	  >InliningConstraints</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476525"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476526"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476527"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476528"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-305"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476525"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476526"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476527"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476528"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476529"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-306"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Strictness"
	><span class="hs-identifier hs-type"
	  >Strictness</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-307"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476526"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-308"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ is it pure?</span
	></span
      ><span
      >
</span
      ><span id="line-309"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
	><span class="hs-identifier hs-type"
	  >InlineM</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476525"
	><span class="hs-identifier hs-type"
	  >tyname</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476526"
	><span class="hs-identifier hs-type"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476527"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476528"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679476529"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	><span class="hs-identifier hs-type"
	  >Bool</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-310"
      ></span
      ><span id="effectSafe"
      ><span class="annot"
	><span class="annottext"
	  >effectSafe :: forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
Term tyname name uni fun ann
-&gt; Strictness
-&gt; name
-&gt; Bool
-&gt; InlineM tyname name uni fun ann Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#effectSafe"
	  ><span class="hs-identifier hs-var hs-var"
	    >effectSafe</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477225"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477225"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="PlutusIR.Core.Type.html#Strict"
	><span class="hs-identifier hs-var"
	  >Strict</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679477226"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679477226"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477227"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679477227"
	  ><span class="hs-identifier hs-var"
	    >purity</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-311"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- See Note [Inlining and purity]</span
      ><span
      >
</span
      ><span id="line-312"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679477228"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679477228"
	  ><span class="hs-identifier hs-var"
	    >immediatelyEvaluated</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
-&gt; Term tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann Bool
forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
name
-&gt; Term tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#isFirstVarBeforeEffects"
	><span class="hs-identifier hs-var"
	  >isFirstVarBeforeEffects</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679477226"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477225"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-313"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; InlineM tyname name uni fun ann Bool
forall a.
a
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool -&gt; InlineM tyname name uni fun ann Bool)
-&gt; Bool -&gt; InlineM tyname name uni fun ann Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679477227"
	><span class="hs-identifier hs-var"
	  >purity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679477228"
	><span class="hs-identifier hs-var"
	  >immediatelyEvaluated</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-314"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Transform.Inline.Utils.html#effectSafe"
	><span class="hs-identifier hs-var"
	  >effectSafe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="PlutusIR.Core.Type.html#NonStrict"
	><span class="hs-identifier hs-var"
	  >NonStrict</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; InlineM tyname name uni fun ann Bool
forall a.
a
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-315"
      ></span
      ><span
      >
</span
      ><span id="line-316"
      ></span
      ><span class="hs-comment"
      >{- Note [Inlining criteria]
What gets inlined? Our goals are simple:
- Make the resulting program faster (or at least no slower)
- Make the resulting program smaller (or at least no bigger)
- Inline as much as we can, since it exposes optimization opportunities

There are two easy cases:
- Inlining approximately variable-sized and variable-costing terms (e.g. builtins, other variables)
- Inlining single-use terms

After that it gets more difficult. As soon as we're inlining things that are not variable-sized
and are used more than once, we are at risk of doing more work or making things bigger.

-}</span
      ><span
      >
</span
      ><span id="line-330"
      ></span
      ><span
      >
</span
      ><span id="line-331"
      ></span
      ><span class="hs-comment"
      >{- Note [Inlining constants]

Constants can in principle be large, and hence inlining them can make the program bigger.
However, usually they are not large, and inlining them is helpful, in particular it can expose
more opportunities for evaluating builtins.

Hence we inline constants by default, but refrain from doing so if we are trying to be conservative.
-}</span
      ><span
      >
</span
      ><span id="line-339"
      ></span
      ><span
      >
</span
      ><span id="line-340"
      ></span
      ><span class="hs-comment"
      >-- See Note [Inlining criteria]</span
      ><span
      >
</span
      ><span id="line-341"
      ></span
      ><span class="hs-comment"
      >-- | Is the cost increase (in terms of evaluation work) of inlining a variable whose RHS is</span
      ><span
      >
</span
      ><span id="line-342"
      ></span
      ><span class="hs-comment"
      >-- the given term acceptable?</span
      ><span
      >
</span
      ><span id="line-343"
      ></span
      ><span id="local-6989586621679476535"
      ><span id="local-6989586621679476536"
	><span id="local-6989586621679476537"
	  ><span id="local-6989586621679476538"
	    ><span id="local-6989586621679476539"
	      ><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#costIsAcceptable"
		  ><span class="hs-identifier hs-type"
		    >costIsAcceptable</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476535"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476536"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476537"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476538"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476539"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		  ><span class="hs-identifier hs-type"
		    >Bool</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-344"
      ></span
      ><span id="costIsAcceptable"
      ><span class="annot"
	><span class="annottext"
	  >costIsAcceptable :: forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann -&gt; Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#costIsAcceptable"
	  ><span class="hs-identifier hs-var hs-var"
	    >costIsAcceptable</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-345"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Builtin"
	><span class="hs-identifier hs-type"
	  >Builtin</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-346"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Var"
	><span class="hs-identifier hs-type"
	  >Var</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >      </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-347"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-type"
	  >Constant</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-348"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Error"
	><span class="hs-identifier hs-type"
	  >Error</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-349"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- This will mean that we create closures at each use site instead of</span
      ><span
      >
</span
      ><span id="line-350"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- once, but that's a very low cost which we're okay rounding to 0.</span
      ><span
      >
</span
      ><span id="line-351"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-type"
	  >LamAbs</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-352"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#TyAbs"
	><span class="hs-identifier hs-type"
	  >TyAbs</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-353"
      ></span
      ><span
      >
</span
      ><span id="line-354"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Inlining constructors of size 1 or 0 seems okay, but does result in doing</span
      ><span
      >
</span
      ><span id="line-355"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- the work for the elements at each use site.</span
      ><span
      >
</span
      ><span id="line-356"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Constr"
	><span class="hs-identifier hs-type"
	  >Constr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477237"
      ><span class="annot"
	><span class="annottext"
	  >[Term tyname name uni fun ann]
</span
	  ><a href="#local-6989586621679477237"
	  ><span class="hs-identifier hs-var"
	    >es</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term tyname name uni fun ann]
</span
	><a href="#local-6989586621679477237"
	><span class="hs-identifier hs-var"
	  >es</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-357"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-358"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >[</span
      ><span id="local-6989586621679477238"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477238"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann -&gt; Bool
forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann -&gt; Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#costIsAcceptable"
	><span class="hs-identifier hs-var"
	  >costIsAcceptable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477238"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-359"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>[Term tyname name uni fun ann]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-360"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Inlining a case means redoing the match at each use site</span
      ><span
      >
</span
      ><span id="line-361"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Case"
	><span class="hs-identifier hs-type"
	  >Case</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-362"
      ></span
      ><span
      >
</span
      ><span id="line-363"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Arguably we could allow these two, but they're uncommon anyway</span
      ><span
      >
</span
      ><span id="line-364"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#IWrap"
	><span class="hs-identifier hs-type"
	  >IWrap</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-365"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Unwrap"
	><span class="hs-identifier hs-type"
	  >Unwrap</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-366"
      ></span
      ><span
      >
</span
      ><span id="line-367"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Apply"
	><span class="hs-identifier hs-type"
	  >Apply</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-368"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#TyInst"
	><span class="hs-identifier hs-type"
	  >TyInst</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-369"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-type"
	  >Let</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >      </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-370"
      ></span
      ><span
      >
</span
      ><span id="line-371"
      ></span
      ><span class="hs-comment"
      >-- See Note [Inlining criteria]</span
      ><span
      >
</span
      ><span id="line-372"
      ></span
      ><span class="hs-comment"
      >-- | Is the size increase (in the AST) of inlining a variable whose RHS is</span
      ><span
      >
</span
      ><span id="line-373"
      ></span
      ><span class="hs-comment"
      >-- the given term acceptable?</span
      ><span
      >
</span
      ><span id="line-374"
      ></span
      ><span id="local-6989586621679476545"
      ><span id="local-6989586621679476546"
	><span id="local-6989586621679476547"
	  ><span id="local-6989586621679476548"
	    ><span id="local-6989586621679476549"
	      ><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#sizeIsAcceptable"
		  ><span class="hs-identifier hs-type"
		    >sizeIsAcceptable</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		  ><span class="hs-identifier hs-type"
		    >Bool</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476545"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476546"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476547"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476548"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476549"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		  ><span class="hs-identifier hs-type"
		    >Bool</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-375"
      ></span
      ><span id="sizeIsAcceptable"
      ><span class="annot"
	><span class="annottext"
	  >sizeIsAcceptable :: forall tyname name (uni :: * -&gt; *) fun ann.
Bool -&gt; Term tyname name uni fun ann -&gt; Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#sizeIsAcceptable"
	  ><span class="hs-identifier hs-var hs-var"
	    >sizeIsAcceptable</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477246"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679477246"
	  ><span class="hs-identifier hs-var"
	    >inlineConstants</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-376"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Builtin"
	><span class="hs-identifier hs-type"
	  >Builtin</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-377"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Var"
	><span class="hs-identifier hs-type"
	  >Var</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >      </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-378"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Error"
	><span class="hs-identifier hs-type"
	  >Error</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-379"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#LamAbs"
	><span class="hs-identifier hs-type"
	  >LamAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-380"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#TyAbs"
	><span class="hs-identifier hs-type"
	  >TyAbs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-381"
      ></span
      ><span
      >
</span
      ><span id="line-382"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Inlining constructors of size 1 or 0 seems okay</span
      ><span
      >
</span
      ><span id="line-383"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Constr"
	><span class="hs-identifier hs-type"
	  >Constr</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Word64
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477247"
      ><span class="annot"
	><span class="annottext"
	  >[Term tyname name uni fun ann]
</span
	  ><a href="#local-6989586621679477247"
	  ><span class="hs-identifier hs-var"
	    >es</span
	    ></a
	  ></span
	></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term tyname name uni fun ann]
</span
	><a href="#local-6989586621679477247"
	><span class="hs-identifier hs-var"
	  >es</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-384"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >[</span
      ><span class="hs-special"
      >]</span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-385"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >[</span
      ><span id="local-6989586621679477248"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477248"
	  ><span class="hs-identifier hs-var"
	    >e</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >]</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Term tyname name uni fun ann -&gt; Bool
forall tyname name (uni :: * -&gt; *) fun ann.
Bool -&gt; Term tyname name uni fun ann -&gt; Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#sizeIsAcceptable"
	><span class="hs-identifier hs-var"
	  >sizeIsAcceptable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679477246"
	><span class="hs-identifier hs-var"
	  >inlineConstants</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477248"
	><span class="hs-identifier hs-var"
	  >e</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-386"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>[Term tyname name uni fun ann]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-387"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Cases are pretty big, due to the case branches</span
      ><span
      >
</span
      ><span id="line-388"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Case"
	><span class="hs-identifier hs-type"
	  >Case</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-389"
      ></span
      ><span
      >
</span
      ><span id="line-390"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Arguably we could allow these two, but they're uncommon anyway</span
      ><span
      >
</span
      ><span id="line-391"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#IWrap"
	><span class="hs-identifier hs-type"
	  >IWrap</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-392"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Unwrap"
	><span class="hs-identifier hs-type"
	  >Unwrap</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-393"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- Inlining constants is deemed acceptable if the 'inlineConstants'</span
      ><span
      >
</span
      ><span id="line-394"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- flag is turned on, see Note [Inlining constants].</span
      ><span
      >
</span
      ><span id="line-395"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Constant"
	><span class="hs-identifier hs-type"
	  >Constant</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679477246"
	><span class="hs-identifier hs-var"
	  >inlineConstants</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-396"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Apply"
	><span class="hs-identifier hs-type"
	  >Apply</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >    </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-397"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#TyInst"
	><span class="hs-identifier hs-type"
	  >TyInst</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >   </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-398"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Let"
	><span class="hs-identifier hs-type"
	  >Let</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >      </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-399"
      ></span
      ><span
      >
</span
      ><span id="line-400"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Is this an utterly trivial type which might as well be inlined?</span
	></span
      ><span
      >
</span
      ><span id="line-401"
      ></span
      ><span id="local-6989586621679476555"
      ><span id="local-6989586621679476556"
	><span id="local-6989586621679476557"
	  ><span class="annot"
	    ><a href="PlutusIR.Transform.Inline.Utils.html#trivialType"
	      ><span class="hs-identifier hs-type"
		>trivialType</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	      ><span class="hs-identifier hs-type"
		>Type</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679476555"
	      ><span class="hs-identifier hs-type"
		>tyname</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679476556"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679476557"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
	      ><span class="hs-identifier hs-type"
		>Bool</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-402"
      ></span
      ><span id="trivialType"
      ><span class="annot"
	><span class="annottext"
	  >trivialType :: forall tyname (uni :: * -&gt; *) ann. Type tyname uni ann -&gt; Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#trivialType"
	  ><span class="hs-identifier hs-var hs-var"
	    >trivialType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-glyph"
      >case</span
      ><span
      >
</span
      ><span id="line-403"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyBuiltin"
	><span class="hs-identifier hs-type"
	  >TyBuiltin</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-404"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#TyVar"
	><span class="hs-identifier hs-type"
	  >TyVar</span
	  ></a
	></span
      ><span class="hs-special"
      >{</span
      ><span class="hs-special"
      >}</span
      ><span
      >     </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#True"
	><span class="hs-identifier hs-var"
	  >True</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-405"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Type tyname uni ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      >           </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#False"
	><span class="hs-identifier hs-var"
	  >False</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-406"
      ></span
      ><span
      >
</span
      ><span id="line-407"
      ></span
      ><span id="local-6989586621679476561"
      ><span id="local-6989586621679476562"
	><span id="local-6989586621679476563"
	  ><span id="local-6989586621679476564"
	    ><span id="local-6989586621679476565"
	      ><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#shouldUnconditionallyInline"
		  ><span class="hs-identifier hs-type"
		    >shouldUnconditionallyInline</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		>
</span
		><span id="line-408"
		></span
		><span
		>  </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InliningConstraints"
		  ><span class="hs-identifier hs-type"
		    >InliningConstraints</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476561"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476562"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476563"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476564"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		>
</span
		><span id="line-409"
		></span
		><span
		>  </span
		><span class="annot"
		><span class="hs-comment"
		  >-- | Whether we know that the binding is safe to inline. If so, bypass the purity check.</span
		  ></span
		><span
		>
</span
		><span id="line-410"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		  ><span class="hs-identifier hs-type"
		    >Bool</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		>
</span
		><span id="line-411"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Strictness"
		  ><span class="hs-identifier hs-type"
		    >Strictness</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		>
</span
		><span id="line-412"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="#local-6989586621679476562"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		>
</span
		><span id="line-413"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476561"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476562"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476563"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476564"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476565"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		>
</span
		><span id="line-414"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476561"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476562"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476563"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476564"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476565"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		>
</span
		><span id="line-415"
		></span
		><span
		>  </span
		><span class="annot"
		><a href="PlutusIR.Transform.Inline.Utils.html#InlineM"
		  ><span class="hs-identifier hs-type"
		    >InlineM</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476561"
		  ><span class="hs-identifier hs-type"
		    >tyname</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476562"
		  ><span class="hs-identifier hs-type"
		    >name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476563"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476564"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679476565"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#Bool"
		  ><span class="hs-identifier hs-type"
		    >Bool</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-416"
      ></span
      ><span id="shouldUnconditionallyInline"
      ><span class="annot"
	><span class="annottext"
	  >shouldUnconditionallyInline :: forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
Bool
-&gt; Strictness
-&gt; name
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann Bool
</span
	  ><a href="PlutusIR.Transform.Inline.Utils.html#shouldUnconditionallyInline"
	  ><span class="hs-identifier hs-var hs-var"
	    >shouldUnconditionallyInline</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477274"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679477274"
	  ><span class="hs-keyword hs-var"
	    >safe</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477275"
      ><span class="annot"
	><span class="annottext"
	  >Strictness
</span
	  ><a href="#local-6989586621679477275"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477276"
      ><span class="annot"
	><span class="annottext"
	  >name
</span
	  ><a href="#local-6989586621679477276"
	  ><span class="hs-identifier hs-var"
	    >n</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477277"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477277"
	  ><span class="hs-identifier hs-var"
	    >rhs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679477278"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679477278"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  Bool
</span
	><a href="#local-6989586621679477279"
	><span class="hs-identifier hs-var"
	  >preUnconditional</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall (m :: * -&gt; *). Monad m =&gt; m Bool -&gt; m Bool -&gt; m Bool
</span
	><a href="https://hackage.haskell.org/package/extra-1.8/docs/src/Control.Monad.Extra.html#%7C%7C%5E"
	><span class="hs-operator hs-var"
	  >||^</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  Bool
</span
	><a href="#local-6989586621679477281"
	><span class="hs-identifier hs-var"
	  >postUnconditional</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-417"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-418"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- similar to the paper, preUnconditional inlining checks that the binder is 'OnceSafe'.</span
      ><span
      >
</span
      ><span id="line-419"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- I.e., it's used at most once AND it neither duplicate code or work.</span
      ><span
      >
</span
      ><span id="line-420"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- While we don't check for lambda etc like in the paper, `effectSafe` ensures that it</span
      ><span
      >
</span
      ><span id="line-421"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- isn't doing any substantial work.</span
      ><span
      >
</span
      ><span id="line-422"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- We actually also inline 'Dead' binders (i.e., remove dead code) here.</span
      ><span
      >
</span
      ><span id="line-423"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679477279"
      ><span class="annot"
	><span class="annottext"
	  >preUnconditional :: ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  Bool
</span
	  ><a href="#local-6989586621679477279"
	  ><span class="hs-identifier hs-var hs-var"
	    >preUnconditional</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-424"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679477282"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679477282"
	  ><span class="hs-identifier hs-var"
	    >isTermPure</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
Term tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#checkPurity"
	><span class="hs-identifier hs-var"
	  >checkPurity</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477277"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-425"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>name
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
name -&gt; InlineM tyname name uni fun ann Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#nameUsedAtMostOnce"
	><span class="hs-identifier hs-var"
	  >nameUsedAtMostOnce</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679477276"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall (m :: * -&gt; *). Monad m =&gt; m Bool -&gt; m Bool -&gt; m Bool
</span
	><a href="https://hackage.haskell.org/package/extra-1.8/docs/src/Control.Monad.Extra.html#%26%26%5E"
	><span class="hs-operator hs-var"
	  >&amp;&amp;^</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall a.
a
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679477274"
	><span class="hs-keyword hs-var"
	  >safe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall (m :: * -&gt; *). Monad m =&gt; m Bool -&gt; m Bool -&gt; m Bool
</span
	><a href="https://hackage.haskell.org/package/extra-1.8/docs/src/Control.Monad.Extra.html#%7C%7C%5E"
	><span class="hs-operator hs-var"
	  >||^</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
-&gt; Strictness
-&gt; name
-&gt; Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
Term tyname name uni fun ann
-&gt; Strictness
-&gt; name
-&gt; Bool
-&gt; InlineM tyname name uni fun ann Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#effectSafe"
	><span class="hs-identifier hs-var"
	  >effectSafe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477278"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="#local-6989586621679477275"
	><span class="hs-identifier hs-var"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>name
</span
	><a href="#local-6989586621679477276"
	><span class="hs-identifier hs-var"
	  >n</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679477282"
	><span class="hs-identifier hs-var"
	  >isTermPure</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-426"
      ></span
      ><span
      >
</span
      ><span id="line-427"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- See Note [Inlining approach and 'Secrets of the GHC Inliner'] and [Inlining and</span
      ><span
      >
</span
      ><span id="line-428"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- purity]. This is the case where we don't know that the number of occurrences is</span
      ><span
      >
</span
      ><span id="line-429"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- exactly one, so there's no point checking if the term is immediately evaluated.</span
      ><span
      >
</span
      ><span id="line-430"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679477281"
      ><span class="annot"
	><span class="annottext"
	  >postUnconditional :: ReaderT
  (InlineInfo tyname name uni fun ann)
  (StateT (InlinerState tyname name uni fun ann) Quote)
  Bool
</span
	  ><a href="#local-6989586621679477281"
	  ><span class="hs-identifier hs-var hs-var"
	    >postUnconditional</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-431"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679477284"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679477284"
	  ><span class="hs-identifier hs-var"
	    >isBindingPure</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
-&gt; Term tyname name uni fun ann
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall tyname name (uni :: * -&gt; *) fun ann.
InliningConstraints tyname name uni fun =&gt;
Strictness
-&gt; Term tyname name uni fun ann
-&gt; InlineM tyname name uni fun ann Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#isTermBindingPure"
	><span class="hs-identifier hs-var"
	  >isTermBindingPure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Strictness
</span
	><a href="#local-6989586621679477275"
	><span class="hs-identifier hs-var"
	  >s</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477277"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-432"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679477285"
      ><span class="annot"
	><span class="annottext"
	  >Bool
</span
	  ><a href="#local-6989586621679477285"
	  ><span class="hs-identifier hs-var"
	    >inlineConstants</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting Bool (InlineInfo tyname name uni fun ann) Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span
	><span class="hs-identifier hs-var"
	>view</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting Bool (InlineInfo tyname name uni fun ann) Bool
forall tyname name (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(Bool -&gt; f Bool)
-&gt; InlineInfo tyname name uni fun ann
-&gt; f (InlineInfo tyname name uni fun ann)
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#iiInlineConstants"
	><span class="hs-identifier hs-var"
	  >iiInlineConstants</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-433"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall a.
a
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Bool
 -&gt; ReaderT
      (InlineInfo tyname name uni fun ann)
      (StateT (InlinerState tyname name uni fun ann) Quote)
      Bool)
-&gt; Bool
-&gt; ReaderT
     (InlineInfo tyname name uni fun ann)
     (StateT (InlinerState tyname name uni fun ann) Quote)
     Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-434"
      ></span
      ><span
      >        </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679477274"
	><span class="hs-keyword hs-var"
	  >safe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%7C%7C"
	><span class="hs-operator hs-var"
	  >||</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679477284"
	><span class="hs-identifier hs-var"
	  >isBindingPure</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-435"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Term tyname name uni fun ann -&gt; Bool
forall tyname name (uni :: * -&gt; *) fun ann.
Bool -&gt; Term tyname name uni fun ann -&gt; Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#sizeIsAcceptable"
	><span class="hs-identifier hs-var"
	  >sizeIsAcceptable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool
</span
	><a href="#local-6989586621679477285"
	><span class="hs-identifier hs-var"
	  >inlineConstants</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477277"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-436"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#%26%26"
	><span class="hs-operator hs-var"
	  >&amp;&amp;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann -&gt; Bool
forall tyname name (uni :: * -&gt; *) fun ann.
Term tyname name uni fun ann -&gt; Bool
</span
	><a href="PlutusIR.Transform.Inline.Utils.html#costIsAcceptable"
	><span class="hs-identifier hs-var"
	  >costIsAcceptable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679477277"
	><span class="hs-identifier hs-var"
	  >rhs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-437"
      ></span
      ></pre
    ></body
  ></html
>

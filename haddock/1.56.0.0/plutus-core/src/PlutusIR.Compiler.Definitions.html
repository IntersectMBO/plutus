<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><link rel="stylesheet" type="text/css" href="style.css"
     /><script type="text/javascript" src="highlight.js"
    ></script
    ></head
  ><body
  ><pre
    ><span class="hs-pragma"
      >{-# LANGUAGE AllowAmbiguousTypes #-}</span
      ><span
      >
</span
      ><span id="line-2"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE DefaultSignatures #-}</span
      ><span
      >
</span
      ><span id="line-3"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleContexts #-}</span
      ><span
      >
</span
      ><span id="line-4"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FlexibleInstances #-}</span
      ><span
      >
</span
      ><span id="line-5"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE FunctionalDependencies #-}</span
      ><span
      >
</span
      ><span id="line-6"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE GADTs #-}</span
      ><span
      >
</span
      ><span id="line-7"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE LambdaCase #-}</span
      ><span
      >
</span
      ><span id="line-8"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE OverloadedStrings #-}</span
      ><span
      >
</span
      ><span id="line-9"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE RankNTypes #-}</span
      ><span
      >
</span
      ><span id="line-10"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TemplateHaskell #-}</span
      ><span
      >
</span
      ><span id="line-11"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TupleSections #-}</span
      ><span
      >
</span
      ><span id="line-12"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeApplications #-}</span
      ><span
      >
</span
      ><span id="line-13"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE TypeOperators #-}</span
      ><span
      >
</span
      ><span id="line-14"
      ></span
      ><span class="hs-pragma"
      >{-# LANGUAGE UndecidableInstances #-}</span
      ><span
      >
</span
      ><span id="line-15"
      ></span
      ><span class="hs-comment"
      >-- 9.6 notices that a constraint generated by the deriving machinery is redundant:</span
      ><span
      >
</span
      ><span id="line-16"
      ></span
      ><span class="hs-comment"
      >-- https://gitlab.haskell.org/ghc/ghc/-/issues/23143</span
      ><span
      >
</span
      ><span id="line-17"
      ></span
      ><span class="hs-pragma"
      >{-# OPTIONS_GHC -Wno-redundant-constraints #-}</span
      ><span
      >
</span
      ><span id="line-18"
      ></span
      ><span
      >
</span
      ><span id="line-19"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Support for generating PIR with global definitions with dependencies between them.</span
	></span
      ><span
      >
</span
      ><span id="line-20"
      ></span
      ><span class="hs-keyword"
      >module</span
      ><span
      > </span
      ><span class="hs-identifier"
      >PlutusIR.Compiler.Definitions</span
      ><span
      >
</span
      ><span id="line-21"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier"
	  >DefT</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-22"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
	><span class="hs-identifier"
	  >MonadDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-23"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#ManualDatatype"
	><span class="hs-identifier"
	  >ManualDatatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >..</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-24"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#ManualMatcher"
	><span class="hs-identifier"
	  >ManualMatcher</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-25"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#TermDefWithStrictness"
	><span class="hs-identifier"
	  >TermDefWithStrictness</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-26"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#runDefT"
	><span class="hs-identifier"
	  >runDefT</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-27"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#defineTerm"
	><span class="hs-identifier"
	  >defineTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-28"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#modifyTermDef"
	><span class="hs-identifier"
	  >modifyTermDef</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-29"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#defineType"
	><span class="hs-identifier"
	  >defineType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-30"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#modifyTypeDef"
	><span class="hs-identifier"
	  >modifyTypeDef</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-31"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#defineDatatype"
	><span class="hs-identifier"
	  >defineDatatype</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-32"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#defineManualDatatype"
	><span class="hs-identifier"
	  >defineManualDatatype</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-33"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#modifyDatatypeDef"
	><span class="hs-identifier"
	  >modifyDatatypeDef</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-34"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#modifyDeps"
	><span class="hs-identifier"
	  >modifyDeps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-35"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#recordAlias"
	><span class="hs-identifier"
	  >recordAlias</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-36"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#lookupTerm"
	><span class="hs-identifier"
	  >lookupTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-37"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#lookupOrDefineTerm"
	><span class="hs-identifier"
	  >lookupOrDefineTerm</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-38"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#lookupType"
	><span class="hs-identifier"
	  >lookupType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-39"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#lookupOrDefineType"
	><span class="hs-identifier"
	  >lookupOrDefineType</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-40"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#lookupConstructors"
	><span class="hs-identifier"
	  >lookupConstructors</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-41"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#lookupDestructor"
	><span class="hs-identifier"
	  >lookupDestructor</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-42"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#bindings"
	><span class="hs-identifier"
	  >bindings</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-43"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-44"
      ></span
      ><span
      >
</span
      ><span id="line-45"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.html"
	><span class="hs-identifier"
	  >PlutusIR</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PIR</span
	></span
      ><span
      >
</span
      ><span id="line-46"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.MkPir.html"
	><span class="hs-identifier"
	  >PlutusIR.MkPir</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >hiding</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.MkPlc.html#error"
	><span class="hs-identifier"
	  >error</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-47"
      ></span
      ><span
      >
</span
      ><span id="line-48"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.MkPlc.html"
	><span class="hs-identifier"
	  >PlutusCore.MkPlc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>PLC</span
	></span
      ><span
      >
</span
      ><span id="line-49"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Quote.html"
	><span class="hs-identifier"
	  >PlutusCore.Quote</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-50"
      ></span
      ><span
      >
</span
      ><span id="line-51"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Control.Lens</span
	></span
      ><span
      >
</span
      ><span id="line-52"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Except.html"
	><span class="hs-identifier"
	  >Control.Monad.Except</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-53"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mmorph-1.2.1/docs/src/Control.Monad.Morph.html"
	><span class="hs-identifier"
	  >Control.Monad.Morph</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>MM</span
	></span
      ><span
      >
</span
      ><span id="line-54"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.html"
	><span class="hs-identifier"
	  >Control.Monad.Reader</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-55"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.html"
	><span class="hs-identifier"
	  >Control.Monad.State</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-56"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Writer.html"
	><span class="hs-identifier"
	  >Control.Monad.Writer</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-57"
      ></span
      ><span
      >
</span
      ><span id="line-58"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/algebraic-graphs-0.7/docs/src/Algebra.Graph.AdjacencyMap.html"
	><span class="hs-identifier"
	  >Algebra.Graph.AdjacencyMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>AM</span
	></span
      ><span
      >
</span
      ><span id="line-59"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/algebraic-graphs-0.7/docs/src/Algebra.Graph.AdjacencyMap.Algorithm.html"
	><span class="hs-identifier"
	  >Algebra.Graph.AdjacencyMap.Algorithm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>AM</span
	></span
      ><span
      >
</span
      ><span id="line-60"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/algebraic-graphs-0.7/docs/src/Algebra.Graph.NonEmpty.AdjacencyMap.html"
	><span class="hs-identifier"
	  >Algebra.Graph.NonEmpty.AdjacencyMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>NAM</span
	></span
      ><span
      >
</span
      ><span id="line-61"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/algebraic-graphs-0.7/docs/src/Algebra.Graph.ToGraph.html"
	><span class="hs-identifier"
	  >Algebra.Graph.ToGraph</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Graph</span
	></span
      ><span
      >
</span
      ><span id="line-62"
      ></span
      ><span
      >
</span
      ><span id="line-63"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html"
	><span class="hs-identifier"
	  >Data.Bifunctor</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#first"
	><span class="hs-identifier"
	  >first</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#second"
	><span class="hs-identifier"
	  >second</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-64"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html"
	><span class="hs-identifier"
	  >Data.Foldable</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Foldable</span
	></span
      ><span
      >
</span
      ><span id="line-65"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.html"
	><span class="hs-identifier"
	  >Data.Map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Map</span
	></span
      ><span
      >
</span
      ><span id="line-66"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Maybe.html"
	><span class="hs-identifier"
	  >Data.Maybe</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-67"
      ></span
      ><span class="hs-keyword"
      >import</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.html"
	><span class="hs-identifier"
	  >Data.Set</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >qualified</span
      ><span
      > </span
      ><span class="hs-keyword"
      >as</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-identifier"
	>Set</span
	></span
      ><span
      >
</span
      ><span id="line-68"
      ></span
      ><span
      >
</span
      ><span id="line-69"
      ></span
      ><span class="hs-comment"
      >{- Note [Annotations on Bindings]

When constructing Bindings (including TermBind, TypeBind and DatatypeBind) from definitions
in `runDefT`, we use the annotation on the VarDecl and TyVarDecl as the annotation of the
Binding itself. The reason is that the simplifier looks at the annotation of a Binding as
one of the factors to determine whether to inline the Binding. When we define a term that
should be inlined, we put the corresponding annotation in the VarDecl or TyVarDecl (note
that there's no need to annotate the term itself), and that annotation needs to be copied
to the Binding when creating the Binding.
-}</span
      ><span
      >
</span
      ><span id="line-79"
      ></span
      ><span
      >
</span
      ><span id="line-80"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | A map from keys to pairs of bindings and their dependencies (as a list of keys).</span
	></span
      ><span
      >
</span
      ><span id="line-81"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="DefMap"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#DefMap"
	  ><span class="hs-identifier hs-var"
	    >DefMap</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471446"
      ><span class="annot"
	><a href="#local-6989586621679471446"
	  ><span class="hs-identifier hs-type"
	    >key</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471447"
      ><span class="annot"
	><a href="#local-6989586621679471447"
	  ><span class="hs-identifier hs-type"
	    >def</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#Map"
	><span class="hs-identifier hs-type"
	  >Map.Map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471446"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="#local-6989586621679471447"
	><span class="hs-identifier hs-type"
	  >def</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
	><span class="hs-identifier hs-type"
	  >Set.Set</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471446"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-82"
      ></span
      ><span
      >
</span
      ><span id="line-83"
      ></span
      ><span id="local-6989586621679470705"
      ><span id="local-6989586621679470706"
	><span id="local-6989586621679470707"
	  ><span class="annot"
	    ><a href="PlutusIR.Compiler.Definitions.html#mapDefs"
	      ><span class="hs-identifier hs-type"
		>mapDefs</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >::</span
	    ><span
	    > </span
	    ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="#local-6989586621679470705"
	      ><span class="hs-identifier hs-type"
		>a</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679470706"
	      ><span class="hs-identifier hs-type"
		>b</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="PlutusIR.Compiler.Definitions.html#DefMap"
	      ><span class="hs-identifier hs-type"
		>DefMap</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679470707"
	      ><span class="hs-identifier hs-type"
		>key</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679470705"
	      ><span class="hs-identifier hs-type"
		>a</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="PlutusIR.Compiler.Definitions.html#DefMap"
	      ><span class="hs-identifier hs-type"
		>DefMap</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679470707"
	      ><span class="hs-identifier hs-type"
		>key</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679470706"
	      ><span class="hs-identifier hs-type"
		>b</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-84"
      ></span
      ><span id="mapDefs"
      ><span class="annot"
	><span class="annottext"
	  >mapDefs :: forall a b key. (a -&gt; b) -&gt; DefMap key a -&gt; DefMap key b
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#mapDefs"
	  ><span class="hs-identifier hs-var hs-var"
	    >mapDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471451"
      ><span class="annot"
	><span class="annottext"
	  >a -&gt; b
</span
	  ><a href="#local-6989586621679471451"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((a, Set key) -&gt; (b, Set key))
-&gt; Map key (a, Set key) -&gt; Map key (b, Set key)
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#map"
	><span class="hs-identifier hs-var"
	  >Map.map</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; b) -&gt; (a, Set key) -&gt; (b, Set key)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#first"
	><span class="hs-identifier hs-var"
	  >first</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; b
</span
	><a href="#local-6989586621679471451"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-85"
      ></span
      ><span
      >
</span
      ><span id="line-86"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="TermDefWithStrictness"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#TermDefWithStrictness"
	  ><span class="hs-identifier hs-var"
	    >TermDefWithStrictness</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471453"
      ><span class="annot"
	><a href="#local-6989586621679471453"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471454"
      ><span class="annot"
	><a href="#local-6989586621679471454"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471455"
      ><span class="annot"
	><a href="#local-6989586621679471455"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-87"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.MkPlc.html#Def"
	><span class="hs-identifier hs-type"
	  >PLC.Def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#VarDecl"
	><span class="hs-identifier hs-type"
	  >VarDecl</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471453"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471455"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471453"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471454"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471455"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Strictness"
	><span class="hs-identifier hs-type"
	  >Strictness</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-88"
      ></span
      ><span
      >
</span
      ><span id="line-89"
      ></span
      ><span class="hs-comment"
      >-- Ideally in the future, we make it return m (Term ...) that way matcher can be more</span
      ><span
      >
</span
      ><span id="line-90"
      ></span
      ><span class="hs-comment"
      >-- powerful. For example, matcher will be able to independentaly determine rather to delay</span
      ><span
      >
</span
      ><span id="line-91"
      ></span
      ><span class="hs-comment"
      >-- the branches or not. I'm not pursuing this since at the moment we don't need that extra</span
      ><span
      >
</span
      ><span id="line-92"
      ></span
      ><span class="hs-comment"
      >-- power and complexity that will follow.</span
      ><span
      >
</span
      ><span id="line-93"
      ></span
      ><span class="hs-keyword"
      >type</span
      ><span
      > </span
      ><span id="ManualMatcher"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#ManualMatcher"
	  ><span class="hs-identifier hs-var"
	    >ManualMatcher</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471456"
      ><span class="annot"
	><a href="#local-6989586621679471456"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471457"
      ><span class="annot"
	><a href="#local-6989586621679471457"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471458"
      ><span class="annot"
	><a href="#local-6989586621679471458"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-94"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471456"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471458"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-95"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ Type arguments of the datatype</span
	></span
      ><span
      >
</span
      ><span id="line-96"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471456"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471457"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471458"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-97"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ Scrutinee</span
	></span
      ><span
      >
</span
      ><span id="line-98"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
	><span class="hs-identifier hs-type"
	  >Type</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471456"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471458"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-99"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ Result type</span
	></span
      ><span
      >
</span
      ><span id="line-100"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471456"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471457"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471458"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-101"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="hs-comment"
	>-- ^ Branches</span
	></span
      ><span
      >
</span
      ><span id="line-102"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471456"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471457"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471458"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-103"
      ></span
      ><span
      >
</span
      ><span id="line-104"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="ManualDatatype"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#ManualDatatype"
	  ><span class="hs-identifier hs-var"
	    >ManualDatatype</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470722"
      ><span class="annot"
	><a href="#local-6989586621679470722"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470723"
      ><span class="annot"
	><a href="#local-6989586621679470723"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470724"
      ><span class="annot"
	><a href="#local-6989586621679470724"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-105"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="ManualDatatype"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#ManualDatatype"
	  ><span class="hs-identifier hs-var"
	    >ManualDatatype</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-comment"
      >-- TODO make these take annotations as argument.</span
      ><span
      >
</span
      ><span id="line-106"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="_constructors"
      ><span class="annot"
	><span class="annottext"
	  >forall (uni :: * -&gt; *) fun ann.
ManualDatatype uni fun ann -&gt; [Term TyName Name uni fun ann]
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#_constructors"
	  ><span class="hs-identifier hs-var hs-var"
	    >_constructors</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Term"
	><span class="hs-identifier hs-type"
	  >Term</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470722"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470723"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470724"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-107"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_matcher"
      ><span class="annot"
	><span class="annottext"
	  >forall (uni :: * -&gt; *) fun ann.
ManualDatatype uni fun ann -&gt; ManualMatcher uni fun ann
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#_matcher"
	  ><span class="hs-identifier hs-var hs-var"
	    >_matcher</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#ManualMatcher"
	><span class="hs-identifier hs-type"
	  >ManualMatcher</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470722"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470723"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470724"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-108"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_bindings"
      ><span class="annot"
	><span class="annottext"
	  >forall (uni :: * -&gt; *) fun ann.
ManualDatatype uni fun ann -&gt; [Binding TyName Name uni fun ann]
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#_bindings"
	  ><span class="hs-identifier hs-var hs-var"
	    >_bindings</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Binding"
	><span class="hs-identifier hs-type"
	  >Binding</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470722"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470723"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470724"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-109"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-110"
      ></span
      ><span id="local-6989586621679470722"
      ><span id="local-6989586621679470723"
	><span id="local-6989586621679470724"
	  ><span id="bindings"
	    ><span id="constructors"
	      ><span id="matcher"
		><span class="hs-identifier"
		  >makeLenses</span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >''</span
		  ><span class="hs-identifier"
		  >ManualDatatype</span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-111"
      ></span
      ><span
      >
</span
      ><span id="line-112"
      ></span
      ><span class="hs-keyword"
      >data</span
      ><span
      > </span
      ><span id="DefState"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#DefState"
	  ><span class="hs-identifier hs-var"
	    >DefState</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470756"
      ><span class="annot"
	><a href="#local-6989586621679470756"
	  ><span class="hs-identifier hs-type"
	    >key</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470757"
      ><span class="annot"
	><a href="#local-6989586621679470757"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470758"
      ><span class="annot"
	><a href="#local-6989586621679470758"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470759"
      ><span class="annot"
	><a href="#local-6989586621679470759"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="DefState"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#DefState"
	  ><span class="hs-identifier hs-var"
	    >DefState</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-113"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >{</span
      ><span
      > </span
      ><span id="_termDefs"
      ><span class="annot"
	><span class="annottext"
	  >forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann
-&gt; DefMap key (TermDefWithStrictness uni fun ann)
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#_termDefs"
	  ><span class="hs-identifier hs-var hs-var"
	    >_termDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#DefMap"
	><span class="hs-identifier hs-type"
	  >DefMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470756"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#TermDefWithStrictness"
	><span class="hs-identifier hs-type"
	  >TermDefWithStrictness</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470757"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470758"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470759"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-114"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_typeDefs"
      ><span class="annot"
	><span class="annottext"
	  >forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann -&gt; DefMap key (TypeDef TyName uni ann)
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#_typeDefs"
	  ><span class="hs-identifier hs-var hs-var"
	    >_typeDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#DefMap"
	><span class="hs-identifier hs-type"
	  >DefMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470756"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.MkPlc.html#TypeDef"
	><span class="hs-identifier hs-type"
	  >TypeDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470757"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470759"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-115"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_datatypeDefs"
      ><span class="annot"
	><span class="annottext"
	  >forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#_datatypeDefs"
	  ><span class="hs-identifier hs-var hs-var"
	    >_datatypeDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#DefMap"
	><span class="hs-identifier hs-type"
	  >DefMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470756"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.MkPir.html#DatatypeDef"
	><span class="hs-identifier hs-type"
	  >DatatypeDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470757"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470759"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-116"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_manualDatatypeDefs"
      ><span class="annot"
	><span class="annottext"
	  >forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann -&gt; DefMap key (ManualDatatype uni fun ann)
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#_manualDatatypeDefs"
	  ><span class="hs-identifier hs-var hs-var"
	    >_manualDatatypeDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#DefMap"
	><span class="hs-identifier hs-type"
	  >DefMap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470756"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#ManualDatatype"
	><span class="hs-identifier hs-type"
	  >ManualDatatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470757"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470758"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470759"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-117"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="_aliases"
      ><span class="annot"
	><span class="annottext"
	  >forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann -&gt; Set key
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#_aliases"
	  ><span class="hs-identifier hs-var hs-var"
	    >_aliases</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
	><span class="hs-identifier hs-type"
	  >Set.Set</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470756"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-118"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-119"
      ></span
      ><span id="local-6989586621679470756"
      ><span id="local-6989586621679470757"
	><span id="local-6989586621679470758"
	  ><span id="local-6989586621679470759"
	    ><span id="aliases"
	      ><span id="datatypeDefs"
		><span id="manualDatatypeDefs"
		  ><span id="termDefs"
		    ><span id="typeDefs"
		      ><span class="hs-identifier"
			>makeLenses</span
			><span
			> </span
			><span class="hs-special"
			>''</span
			><span class="hs-identifier"
			>DefState</span
			></span
		      ></span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-120"
      ></span
      ><span
      >
</span
      ><span id="line-121"
      ></span
      ><span class="hs-keyword"
      >newtype</span
      ><span
      > </span
      ><span id="DefT"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	  ><span class="hs-identifier hs-var"
	    >DefT</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470809"
      ><span class="annot"
	><a href="#local-6989586621679470809"
	  ><span class="hs-identifier hs-type"
	    >key</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470810"
      ><span class="annot"
	><a href="#local-6989586621679470810"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470811"
      ><span class="annot"
	><a href="#local-6989586621679470811"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470812"
      ><span class="annot"
	><a href="#local-6989586621679470812"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470813"
      ><span class="annot"
	><a href="#local-6989586621679470813"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679470814"
      ><span class="annot"
	><a href="#local-6989586621679470814"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="DefT"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	  ><span class="hs-identifier hs-var"
	    >DefT</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span id="unDefT"
      ><span class="annot"
	><span class="annottext"
	  >forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
DefT key uni fun ann m a -&gt; StateT (DefState key uni fun ann) m a
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#unDefT"
	  ><span class="hs-identifier hs-var hs-var"
	    >unDefT</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.State.Lazy.html#StateT"
	><span class="hs-identifier hs-type"
	  >StateT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#DefState"
	><span class="hs-identifier hs-type"
	  >DefState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470809"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470810"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470811"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470812"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470813"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679470814"
	><span class="hs-identifier hs-type"
	  >a</span
	  ></a
	></span
      ><span class="hs-special"
      >}</span
      ><span
      >
</span
      ><span id="line-122"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >deriving</span
      ><span
      > </span
      ><span class="annot"
      ><span class="hs-keyword"
	>newtype</span
	></span
      ><span
      >
</span
      ><span id="line-123"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span id="local-6989586621679471547"
      ><span id="local-6989586621679471552"
	><span class="annot"
	  ><span class="annottext"
	    >(forall a b.
 (a -&gt; b) -&gt; DefT key uni fun ann m a -&gt; DefT key uni fun ann m b)
-&gt; (forall a b.
    a -&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m a)
-&gt; Functor (DefT key uni fun ann m)
forall a b.
a -&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m a
forall a b.
(a -&gt; b) -&gt; DefT key uni fun ann m a -&gt; DefT key uni fun ann m b
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Functor m =&gt;
a -&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Functor m =&gt;
(a -&gt; b) -&gt; DefT key uni fun ann m a -&gt; DefT key uni fun ann m b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Functor m =&gt;
(a -&gt; b) -&gt; DefT key uni fun ann m a -&gt; DefT key uni fun ann m b
fmap :: forall a b.
(a -&gt; b) -&gt; DefT key uni fun ann m a -&gt; DefT key uni fun ann m b
$c&lt;$ :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Functor m =&gt;
a -&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m a
&lt;$ :: forall a b.
a -&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m a
</span
	    ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Functor"
	    ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var"
	      >Functor</span
	      ></a
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-124"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679471562"
      ><span id="local-6989586621679471567"
	><span id="local-6989586621679471571"
	  ><span id="local-6989586621679471575"
	    ><span id="local-6989586621679471579"
	      ><span class="annot"
		><span class="annottext"
		  >Functor (DefT key uni fun ann m)
Functor (DefT key uni fun ann m) =&gt;
(forall a. a -&gt; DefT key uni fun ann m a)
-&gt; (forall a b.
    DefT key uni fun ann m (a -&gt; b)
    -&gt; DefT key uni fun ann m a -&gt; DefT key uni fun ann m b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c)
    -&gt; DefT key uni fun ann m a
    -&gt; DefT key uni fun ann m b
    -&gt; DefT key uni fun ann m c)
-&gt; (forall a b.
    DefT key uni fun ann m a
    -&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m b)
-&gt; (forall a b.
    DefT key uni fun ann m a
    -&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m a)
-&gt; Applicative (DefT key uni fun ann m)
forall a. a -&gt; DefT key uni fun ann m a
forall a b.
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m a
forall a b.
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m b
forall a b.
DefT key uni fun ann m (a -&gt; b)
-&gt; DefT key uni fun ann m a -&gt; DefT key uni fun ann m b
forall a b c.
(a -&gt; b -&gt; c)
-&gt; DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b
-&gt; DefT key uni fun ann m c
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
Monad m =&gt;
Functor (DefT key uni fun ann m)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
Monad m =&gt;
a -&gt; DefT key uni fun ann m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Monad m =&gt;
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Monad m =&gt;
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m b
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Monad m =&gt;
DefT key uni fun ann m (a -&gt; b)
-&gt; DefT key uni fun ann m a -&gt; DefT key uni fun ann m b
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; b -&gt; c)
-&gt; DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b
-&gt; DefT key uni fun ann m c
forall (f :: * -&gt; *).
Functor f =&gt;
(forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
$cpure :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
Monad m =&gt;
a -&gt; DefT key uni fun ann m a
pure :: forall a. a -&gt; DefT key uni fun ann m a
$c&lt;*&gt; :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Monad m =&gt;
DefT key uni fun ann m (a -&gt; b)
-&gt; DefT key uni fun ann m a -&gt; DefT key uni fun ann m b
&lt;*&gt; :: forall a b.
DefT key uni fun ann m (a -&gt; b)
-&gt; DefT key uni fun ann m a -&gt; DefT key uni fun ann m b
$cliftA2 :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; b -&gt; c)
-&gt; DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b
-&gt; DefT key uni fun ann m c
liftA2 :: forall a b c.
(a -&gt; b -&gt; c)
-&gt; DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b
-&gt; DefT key uni fun ann m c
$c*&gt; :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Monad m =&gt;
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m b
*&gt; :: forall a b.
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m b
$c&lt;* :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Monad m =&gt;
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m a
&lt;* :: forall a b.
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m a
</span
		  ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Applicative"
		  ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		    >Applicative</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-125"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679471591"
      ><span id="local-6989586621679471596"
	><span id="local-6989586621679471600"
	  ><span class="annot"
	    ><span class="annottext"
	      >Applicative (DefT key uni fun ann m)
Applicative (DefT key uni fun ann m) =&gt;
(forall a b.
 DefT key uni fun ann m a
 -&gt; (a -&gt; DefT key uni fun ann m b) -&gt; DefT key uni fun ann m b)
-&gt; (forall a b.
    DefT key uni fun ann m a
    -&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m b)
-&gt; (forall a. a -&gt; DefT key uni fun ann m a)
-&gt; Monad (DefT key uni fun ann m)
forall a. a -&gt; DefT key uni fun ann m a
forall a b.
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m b
forall a b.
DefT key uni fun ann m a
-&gt; (a -&gt; DefT key uni fun ann m b) -&gt; DefT key uni fun ann m b
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
Monad m =&gt;
Applicative (DefT key uni fun ann m)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
Monad m =&gt;
a -&gt; DefT key uni fun ann m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Monad m =&gt;
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m b
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Monad m =&gt;
DefT key uni fun ann m a
-&gt; (a -&gt; DefT key uni fun ann m b) -&gt; DefT key uni fun ann m b
forall (m :: * -&gt; *).
Applicative m =&gt;
(forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
$c&gt;&gt;= :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Monad m =&gt;
DefT key uni fun ann m a
-&gt; (a -&gt; DefT key uni fun ann m b) -&gt; DefT key uni fun ann m b
&gt;&gt;= :: forall a b.
DefT key uni fun ann m a
-&gt; (a -&gt; DefT key uni fun ann m b) -&gt; DefT key uni fun ann m b
$c&gt;&gt; :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a b.
Monad m =&gt;
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m b
&gt;&gt; :: forall a b.
DefT key uni fun ann m a
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann m b
$creturn :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
Monad m =&gt;
a -&gt; DefT key uni fun ann m a
return :: forall a. a -&gt; DefT key uni fun ann m a
</span
	      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Monad"
	      ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var"
		>Monad</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-126"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679471610"
      ><span class="annot"
	><span class="annottext"
	  >(forall (m :: * -&gt; *).
 Monad m =&gt;
 Monad (DefT key uni fun ann m)) =&gt;
(forall (m :: * -&gt; *) a.
 Monad m =&gt;
 m a -&gt; DefT key uni fun ann m a)
-&gt; MonadTrans (DefT key uni fun ann)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
Monad m =&gt;
Monad (DefT key uni fun ann m)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
Monad m =&gt;
m a -&gt; DefT key uni fun ann m a
forall (m :: * -&gt; *). Monad m =&gt; Monad (DefT key uni fun ann m)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; DefT key uni fun ann m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *).
(forall (m :: * -&gt; *). Monad m =&gt; Monad (t m)) =&gt;
(forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; t m a) -&gt; MonadTrans t
$clift :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
Monad m =&gt;
m a -&gt; DefT key uni fun ann m a
lift :: forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; DefT key uni fun ann m a
</span
	  ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#MonadTrans"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var"
	    >MonadTrans</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-127"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679471621"
      ><span class="annot"
	><span class="annottext"
	  >(forall (m :: * -&gt; *) (n :: * -&gt; *) b.
 Monad m =&gt;
 (forall a. m a -&gt; n a)
 -&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann n b)
-&gt; MFunctor (DefT key uni fun ann)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) (n :: * -&gt; *) b.
Monad m =&gt;
(forall a. m a -&gt; n a)
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann n b
forall {k} (t :: (* -&gt; *) -&gt; k -&gt; *).
(forall (m :: * -&gt; *) (n :: * -&gt; *) (b :: k).
 Monad m =&gt;
 (forall a. m a -&gt; n a) -&gt; t m b -&gt; t n b)
-&gt; MFunctor t
forall (m :: * -&gt; *) (n :: * -&gt; *) b.
Monad m =&gt;
(forall a. m a -&gt; n a)
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann n b
$choist :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) (n :: * -&gt; *) b.
Monad m =&gt;
(forall a. m a -&gt; n a)
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann n b
hoist :: forall (m :: * -&gt; *) (n :: * -&gt; *) b.
Monad m =&gt;
(forall a. m a -&gt; n a)
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann n b
</span
	  ><a href="https://hackage.haskell.org/package/mmorph-1.2.1/docs/src/Control.Monad.Morph.html#MFunctor"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >MM.MFunctor</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-128"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679471629"
      ><span id="local-6989586621679471635"
	><span id="local-6989586621679471640"
	  ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Error.Class.html#MonadError"
	      ><span class="hs-identifier hs-type"
		>MonadError</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471629"
	      ><span class="hs-identifier hs-type"
		>e</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-129"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679471646"
      ><span id="local-6989586621679471652"
	><span id="local-6989586621679471657"
	  ><span id="local-6989586621679471661"
	    ><span class="annot"
	      ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Reader.Class.html#MonadReader"
		><span class="hs-identifier hs-type"
		  >MonadReader</span
		  ></a
		></span
	      ><span
	      > </span
	      ><span class="annot"
	      ><a href="#local-6989586621679471646"
		><span class="hs-identifier hs-type"
		  >r</span
		  ></a
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-130"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679471672"
      ><span class="annot"
	><span class="annottext"
	  >Monad (DefT key uni fun ann m)
Monad (DefT key uni fun ann m) =&gt;
(forall a. Quote a -&gt; DefT key uni fun ann m a)
-&gt; MonadQuote (DefT key uni fun ann m)
forall a. Quote a -&gt; DefT key uni fun ann m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadQuote m =&gt;
Monad (DefT key uni fun ann m)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadQuote m =&gt;
Quote a -&gt; DefT key uni fun ann m a
forall (m :: * -&gt; *).
Monad m =&gt;
(forall a. Quote a -&gt; m a) -&gt; MonadQuote m
$cliftQuote :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadQuote m =&gt;
Quote a -&gt; DefT key uni fun ann m a
liftQuote :: forall a. Quote a -&gt; DefT key uni fun ann m a
</span
	  ><a href="../../plutus-core/src/PlutusCore.Quote.html#MonadQuote"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var"
	    >MonadQuote</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-131"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679471679"
      ><span id="local-6989586621679471688"
	><span id="local-6989586621679471693"
	  ><span id="local-6989586621679471697"
	    ><span id="local-6989586621679471701"
	      ><span class="annot"
		><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.Writer.Class.html#MonadWriter"
		  ><span class="hs-identifier hs-type"
		    >MonadWriter</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471679"
		  ><span class="hs-identifier hs-type"
		    >w</span
		    ></a
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-132"
      ></span
      ><span
      >    </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-133"
      ></span
      ><span
      >
</span
      ><span id="line-134"
      ></span
      ><span class="hs-comment"
      >-- Need to write this by hand, deriving wants to derive the one for DefState</span
      ><span
      >
</span
      ><span id="line-135"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621679471032"
      ><span id="local-6989586621679471033"
	><span id="local-6989586621679471034"
	  ><span id="local-6989586621679471035"
	    ><span id="local-6989586621679471036"
	      ><span id="local-6989586621679471037"
		><span class="annot"
		  ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#MonadState"
		    ><span class="hs-identifier hs-type"
		      >MonadState</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471032"
		    ><span class="hs-identifier hs-type"
		      >s</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471033"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-glyph"
		  >=&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#MonadState"
		    ><span class="hs-identifier hs-type"
		      >MonadState</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471032"
		    ><span class="hs-identifier hs-type"
		      >s</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >(</span
		  ><span class="annot"
		  ><a href="PlutusIR.Compiler.Definitions.html#DefT"
		    ><span class="hs-identifier hs-type"
		      >DefT</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471034"
		    ><span class="hs-identifier hs-type"
		      >key</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471035"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471036"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471037"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471033"
		    ><span class="hs-identifier hs-type"
		      >m</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >)</span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-136"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679471721"
      ><span class="annot"
	><span class="annottext"
	  >get :: DefT key uni fun ann m s
</span
	  ><a href="#local-6989586621679471721"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >get</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m s -&gt; DefT key uni fun ann m s
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; DefT key uni fun ann m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	><span class="hs-identifier hs-var"
	  >lift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m s
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#get"
	><span class="hs-identifier hs-var"
	  >get</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-137"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679471727"
      ><span class="annot"
	><span class="annottext"
	  >put :: s -&gt; DefT key uni fun ann m ()
</span
	  ><a href="#local-6989586621679471727"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >put</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m () -&gt; DefT key uni fun ann m ()
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; DefT key uni fun ann m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	><span class="hs-identifier hs-var"
	  >lift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(m () -&gt; DefT key uni fun ann m ())
-&gt; (s -&gt; m ()) -&gt; s -&gt; DefT key uni fun ann m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>s -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#put"
	><span class="hs-identifier hs-var"
	  >put</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-138"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679471733"
      ><span class="annot"
	><span class="annottext"
	  >state :: forall a. (s -&gt; (a, s)) -&gt; DefT key uni fun ann m a
</span
	  ><a href="#local-6989586621679471733"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >state</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m a -&gt; DefT key uni fun ann m a
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; DefT key uni fun ann m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	><span class="hs-identifier hs-var"
	  >lift</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(m a -&gt; DefT key uni fun ann m a)
-&gt; ((s -&gt; (a, s)) -&gt; m a)
-&gt; (s -&gt; (a, s))
-&gt; DefT key uni fun ann m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(s -&gt; (a, s)) -&gt; m a
forall a. (s -&gt; (a, s)) -&gt; m a
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; (a, s)) -&gt; m a
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#state"
	><span class="hs-identifier hs-var"
	  >state</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-139"
      ></span
      ><span
      >
</span
      ><span id="line-140"
      ></span
      ><span id="local-6989586621679471042"
      ><span id="local-6989586621679471043"
	><span id="local-6989586621679471044"
	  ><span id="local-6989586621679471045"
	    ><span id="local-6989586621679471046"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#runDefT"
		  ><span class="hs-identifier hs-type"
		    >runDefT</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-141"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Monad"
		  ><span class="hs-identifier hs-type"
		    >Monad</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471042"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Ord"
		  ><span class="hs-identifier hs-type"
		    >Ord</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471043"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-142"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471044"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-143"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#DefT"
		  ><span class="hs-identifier hs-type"
		    >DefT</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471043"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471045"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471046"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471044"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471042"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
		  ><span class="hs-identifier hs-type"
		    >Name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471045"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471046"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471044"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-144"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471042"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
		  ><span class="hs-identifier hs-type"
		    >Name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471045"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471046"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471044"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-145"
      ></span
      ><span id="runDefT"
      ><span class="annot"
	><span class="annottext"
	  >runDefT :: forall (m :: * -&gt; *) key ann (uni :: * -&gt; *) fun.
(Monad m, Ord key) =&gt;
ann
-&gt; DefT key uni fun ann m (Term TyName Name uni fun ann)
-&gt; m (Term TyName Name uni fun ann)
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#runDefT"
	  ><span class="hs-identifier hs-var hs-var"
	    >runDefT</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471749"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679471749"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471750"
      ><span class="annot"
	><span class="annottext"
	  >DefT key uni fun ann m (Term TyName Name uni fun ann)
</span
	  ><a href="#local-6989586621679471750"
	  ><span class="hs-identifier hs-var"
	    >act</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-146"
      ></span
      ><span
      >  </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679471751"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621679471751"
	  ><span class="hs-identifier hs-var"
	    >term</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679471752"
      ><span class="annot"
	><span class="annottext"
	  >DefState key uni fun ann
</span
	  ><a href="#local-6989586621679471752"
	  ><span class="hs-identifier hs-var"
	    >s</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (DefState key uni fun ann) m (Term TyName Name uni fun ann)
-&gt; DefState key uni fun ann
-&gt; m (Term TyName Name uni fun ann, DefState key uni fun ann)
forall s (m :: * -&gt; *) a. StateT s m a -&gt; s -&gt; m (a, s)
</span
	><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.State.Lazy.html#runStateT"
	><span class="hs-identifier hs-var"
	  >runStateT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann m (Term TyName Name uni fun ann)
-&gt; StateT
     (DefState key uni fun ann) m (Term TyName Name uni fun ann)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
DefT key uni fun ann m a -&gt; StateT (DefState key uni fun ann) m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#unDefT"
	><span class="hs-identifier hs-var"
	  >unDefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann m (Term TyName Name uni fun ann)
</span
	><a href="#local-6989586621679471750"
	><span class="hs-identifier hs-var"
	  >act</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (TermDefWithStrictness uni fun ann)
-&gt; DefMap key (TypeDef TyName uni ann)
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
-&gt; DefMap key (ManualDatatype uni fun ann)
-&gt; Set key
-&gt; DefState key uni fun ann
forall key (uni :: * -&gt; *) fun ann.
DefMap key (TermDefWithStrictness uni fun ann)
-&gt; DefMap key (TypeDef TyName uni ann)
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
-&gt; DefMap key (ManualDatatype uni fun ann)
-&gt; Set key
-&gt; DefState key uni fun ann
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefState"
	><span class="hs-identifier hs-var"
	  >DefState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (TermDefWithStrictness uni fun ann)
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (TypeDef TyName uni ann)
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (DatatypeDef TyName Name uni ann)
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (ManualDatatype uni fun ann)
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
forall a. Monoid a =&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#mempty"
	><span class="hs-identifier hs-var"
	  >mempty</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-147"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; m (Term TyName Name uni fun ann)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term TyName Name uni fun ann -&gt; m (Term TyName Name uni fun ann))
-&gt; Term TyName Name uni fun ann -&gt; m (Term TyName Name uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; DefMap key [Binding TyName Name uni fun ann]
-&gt; Term TyName Name uni fun ann
-&gt; Term TyName Name uni fun ann
forall key ann tyname name (uni :: * -&gt; *) fun.
Ord key =&gt;
ann
-&gt; DefMap key [Binding tyname name uni fun ann]
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span
	><a href="PlutusIR.Compiler.Definitions.html#wrapWithDefs"
	><span class="hs-identifier hs-var"
	  >wrapWithDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679471749"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefState key uni fun ann
-&gt; DefMap key [Binding TyName Name uni fun ann]
forall {k} {uni :: * -&gt; *} {fun} {a}.
Ord k =&gt;
DefState k uni fun a
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
</span
	><a href="#local-6989586621679471755"
	><span class="hs-identifier hs-var"
	  >bindingDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefState key uni fun ann
</span
	><a href="#local-6989586621679471752"
	><span class="hs-identifier hs-var"
	  >s</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621679471751"
	><span class="hs-identifier hs-var"
	  >term</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-148"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-149"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679471755"
      ><span class="annot"
	><span class="annottext"
	  >bindingDefs :: DefState k uni fun a
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
</span
	  ><a href="#local-6989586621679471755"
	  ><span class="hs-identifier hs-var hs-var"
	    >bindingDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471763"
      ><span class="annot"
	><span class="annottext"
	  >DefState k uni fun a
</span
	  ><a href="#local-6989586621679471763"
	  ><span class="hs-identifier hs-var"
	    >defs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-150"
      ></span
      ><span
      >      </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-151"
      ></span
      ><span
      >        </span
      ><span class="hs-comment"
      >-- See Note [Annotations on Bindings]</span
      ><span
      >
</span
      ><span id="line-152"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679471764"
      ><span class="annot"
	><span class="annottext"
	  >terms :: Map k ([Binding TyName Name uni fun a], Set k)
</span
	  ><a href="#local-6989586621679471764"
	  ><span class="hs-identifier hs-var hs-var"
	    >terms</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-153"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>(Def
   (VarDecl TyName Name uni a)
   (Term TyName Name uni fun a, Strictness)
 -&gt; [Binding TyName Name uni fun a])
-&gt; DefMap
     k
     (Def
        (VarDecl TyName Name uni a)
        (Term TyName Name uni fun a, Strictness))
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
forall a b key. (a -&gt; b) -&gt; DefMap key a -&gt; DefMap key b
</span
	><a href="PlutusIR.Compiler.Definitions.html#mapDefs"
	><span class="hs-identifier hs-var"
	  >mapDefs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-154"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679471765"
      ><span class="annot"
	><span class="annottext"
	  >Def
  (VarDecl TyName Name uni a)
  (Term TyName Name uni fun a, Strictness)
</span
	  ><a href="#local-6989586621679471765"
	  ><span class="hs-identifier hs-var"
	    >d</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-155"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >[</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>a
-&gt; Strictness
-&gt; VarDecl TyName Name uni a
-&gt; Term TyName Name uni fun a
-&gt; Binding TyName Name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; Strictness
-&gt; VarDecl tyname name uni a
-&gt; Term tyname name uni fun a
-&gt; Binding tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#TermBind"
	><span class="hs-identifier hs-var"
	  >TermBind</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-156"
      ></span
      ><span
      >                    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name uni a -&gt; a
forall tyname name (uni :: * -&gt; *) ann.
VarDecl tyname name uni ann -&gt; ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#_varDeclAnn"
	><span class="hs-identifier hs-var"
	  >_varDeclAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Def
  (VarDecl TyName Name uni a)
  (Term TyName Name uni fun a, Strictness)
-&gt; VarDecl TyName Name uni a
forall var val. Def var val -&gt; var
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVar"
	><span class="hs-identifier hs-var"
	  >defVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def
  (VarDecl TyName Name uni a)
  (Term TyName Name uni fun a, Strictness)
</span
	><a href="#local-6989586621679471765"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-157"
      ></span
      ><span
      >                    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Term TyName Name uni fun a, Strictness) -&gt; Strictness
forall a b. (a, b) -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#snd"
	><span class="hs-identifier hs-var"
	  >snd</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Term TyName Name uni fun a, Strictness) -&gt; Strictness)
-&gt; (Term TyName Name uni fun a, Strictness) -&gt; Strictness
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def
  (VarDecl TyName Name uni a)
  (Term TyName Name uni fun a, Strictness)
-&gt; (Term TyName Name uni fun a, Strictness)
forall var val. Def var val -&gt; val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVal"
	><span class="hs-identifier hs-var"
	  >PLC.defVal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def
  (VarDecl TyName Name uni a)
  (Term TyName Name uni fun a, Strictness)
</span
	><a href="#local-6989586621679471765"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-158"
      ></span
      ><span
      >                    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Def
  (VarDecl TyName Name uni a)
  (Term TyName Name uni fun a, Strictness)
-&gt; VarDecl TyName Name uni a
forall var val. Def var val -&gt; var
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVar"
	><span class="hs-identifier hs-var"
	  >PLC.defVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def
  (VarDecl TyName Name uni a)
  (Term TyName Name uni fun a, Strictness)
</span
	><a href="#local-6989586621679471765"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-159"
      ></span
      ><span
      >                    </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Term TyName Name uni fun a, Strictness)
-&gt; Term TyName Name uni fun a
forall a b. (a, b) -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#fst"
	><span class="hs-identifier hs-var"
	  >fst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((Term TyName Name uni fun a, Strictness)
 -&gt; Term TyName Name uni fun a)
-&gt; (Term TyName Name uni fun a, Strictness)
-&gt; Term TyName Name uni fun a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def
  (VarDecl TyName Name uni a)
  (Term TyName Name uni fun a, Strictness)
-&gt; (Term TyName Name uni fun a, Strictness)
forall var val. Def var val -&gt; val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVal"
	><span class="hs-identifier hs-var"
	  >PLC.defVal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def
  (VarDecl TyName Name uni a)
  (Term TyName Name uni fun a, Strictness)
</span
	><a href="#local-6989586621679471765"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-160"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-161"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-162"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefState k uni fun a
-&gt; DefMap
     k
     (Def
        (VarDecl TyName Name uni a)
        (Term TyName Name uni fun a, Strictness))
forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann
-&gt; DefMap key (TermDefWithStrictness uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_termDefs"
	><span class="hs-identifier hs-var"
	  >_termDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefState k uni fun a
</span
	><a href="#local-6989586621679471763"
	><span class="hs-identifier hs-var"
	  >defs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-163"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679471772"
      ><span class="annot"
	><span class="annottext"
	  >types :: Map k ([Binding TyName Name uni fun a], Set k)
</span
	  ><a href="#local-6989586621679471772"
	  ><span class="hs-identifier hs-var hs-var"
	    >types</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-164"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>(Def (TyVarDecl TyName a) (Type TyName uni a)
 -&gt; [Binding TyName Name uni fun a])
-&gt; DefMap k (Def (TyVarDecl TyName a) (Type TyName uni a))
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
forall a b key. (a -&gt; b) -&gt; DefMap key a -&gt; DefMap key b
</span
	><a href="PlutusIR.Compiler.Definitions.html#mapDefs"
	><span class="hs-identifier hs-var"
	  >mapDefs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-165"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679471773"
      ><span class="annot"
	><span class="annottext"
	  >Def (TyVarDecl TyName a) (Type TyName uni a)
</span
	  ><a href="#local-6989586621679471773"
	  ><span class="hs-identifier hs-var"
	    >d</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-166"
      ></span
      ><span
      >                </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>a
-&gt; TyVarDecl TyName a
-&gt; Type TyName uni a
-&gt; Binding TyName Name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
a
-&gt; TyVarDecl tyname a
-&gt; Type tyname uni a
-&gt; Binding tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#TypeBind"
	><span class="hs-identifier hs-var"
	  >TypeBind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName a -&gt; a
forall tyname ann. TyVarDecl tyname ann -&gt; ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#_tyVarDeclAnn"
	><span class="hs-identifier hs-var"
	  >_tyVarDeclAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Def (TyVarDecl TyName a) (Type TyName uni a) -&gt; TyVarDecl TyName a
forall var val. Def var val -&gt; var
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVar"
	><span class="hs-identifier hs-var"
	  >defVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def (TyVarDecl TyName a) (Type TyName uni a)
</span
	><a href="#local-6989586621679471773"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Def (TyVarDecl TyName a) (Type TyName uni a) -&gt; TyVarDecl TyName a
forall var val. Def var val -&gt; var
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVar"
	><span class="hs-identifier hs-var"
	  >PLC.defVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def (TyVarDecl TyName a) (Type TyName uni a)
</span
	><a href="#local-6989586621679471773"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Def (TyVarDecl TyName a) (Type TyName uni a) -&gt; Type TyName uni a
forall var val. Def var val -&gt; val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVal"
	><span class="hs-identifier hs-var"
	  >PLC.defVal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def (TyVarDecl TyName a) (Type TyName uni a)
</span
	><a href="#local-6989586621679471773"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >]</span
      ><span
      >
</span
      ><span id="line-167"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-168"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefState k uni fun a
-&gt; DefMap k (Def (TyVarDecl TyName a) (Type TyName uni a))
forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann -&gt; DefMap key (TypeDef TyName uni ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_typeDefs"
	><span class="hs-identifier hs-var"
	  >_typeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefState k uni fun a
</span
	><a href="#local-6989586621679471763"
	><span class="hs-identifier hs-var"
	  >defs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-169"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679471776"
      ><span class="annot"
	><span class="annottext"
	  >datatypes :: Map k ([Binding TyName Name uni fun a], Set k)
</span
	  ><a href="#local-6989586621679471776"
	  ><span class="hs-identifier hs-var hs-var"
	    >datatypes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-170"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>(Def (TyVarDecl TyName a) (Datatype TyName Name uni a)
 -&gt; [Binding TyName Name uni fun a])
-&gt; DefMap k (Def (TyVarDecl TyName a) (Datatype TyName Name uni a))
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
forall a b key. (a -&gt; b) -&gt; DefMap key a -&gt; DefMap key b
</span
	><a href="PlutusIR.Compiler.Definitions.html#mapDefs"
	><span class="hs-identifier hs-var"
	  >mapDefs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-171"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679471777"
      ><span class="annot"
	><span class="annottext"
	  >Def (TyVarDecl TyName a) (Datatype TyName Name uni a)
</span
	  ><a href="#local-6989586621679471777"
	  ><span class="hs-identifier hs-var"
	    >d</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >[</span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; Datatype TyName Name uni a -&gt; Binding TyName Name uni fun a
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; Datatype tyname name uni a -&gt; Binding tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#DatatypeBind"
	><span class="hs-identifier hs-var"
	  >DatatypeBind</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName a -&gt; a
forall tyname ann. TyVarDecl tyname ann -&gt; ann
</span
	><a href="../../plutus-core/src/PlutusCore.Core.Type.html#_tyVarDeclAnn"
	><span class="hs-identifier hs-var"
	  >_tyVarDeclAnn</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Def (TyVarDecl TyName a) (Datatype TyName Name uni a)
-&gt; TyVarDecl TyName a
forall var val. Def var val -&gt; var
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVar"
	><span class="hs-identifier hs-var"
	  >defVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def (TyVarDecl TyName a) (Datatype TyName Name uni a)
</span
	><a href="#local-6989586621679471777"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>Def (TyVarDecl TyName a) (Datatype TyName Name uni a)
-&gt; Datatype TyName Name uni a
forall var val. Def var val -&gt; val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVal"
	><span class="hs-identifier hs-var"
	  >PLC.defVal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Def (TyVarDecl TyName a) (Datatype TyName Name uni a)
</span
	><a href="#local-6989586621679471777"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >]</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-172"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefState k uni fun a
-&gt; DefMap k (Def (TyVarDecl TyName a) (Datatype TyName Name uni a))
forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_datatypeDefs"
	><span class="hs-identifier hs-var"
	  >_datatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefState k uni fun a
</span
	><a href="#local-6989586621679471763"
	><span class="hs-identifier hs-var"
	  >defs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-173"
      ></span
      ><span
      >        </span
      ><span id="local-6989586621679471779"
      ><span class="annot"
	><span class="annottext"
	  >manualDatatypes :: Map k ([Binding TyName Name uni fun a], Set k)
</span
	  ><a href="#local-6989586621679471779"
	  ><span class="hs-identifier hs-var hs-var"
	    >manualDatatypes</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-174"
      ></span
      ><span
      >          </span
      ><span class="annot"
      ><span class="annottext"
	>(ManualDatatype uni fun a -&gt; [Binding TyName Name uni fun a])
-&gt; DefMap k (ManualDatatype uni fun a)
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
forall a b key. (a -&gt; b) -&gt; DefMap key a -&gt; DefMap key b
</span
	><a href="PlutusIR.Compiler.Definitions.html#mapDefs"
	><span class="hs-identifier hs-var"
	  >mapDefs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-175"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679471780"
      ><span class="annot"
	><span class="annottext"
	  >ManualDatatype uni fun a
</span
	  ><a href="#local-6989586621679471780"
	  ><span class="hs-identifier hs-var"
	    >d</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ManualDatatype uni fun a -&gt; [Binding TyName Name uni fun a]
forall (uni :: * -&gt; *) fun ann.
ManualDatatype uni fun ann -&gt; [Binding TyName Name uni fun ann]
</span
	><a href="PlutusIR.Compiler.Definitions.html#_bindings"
	><span class="hs-identifier hs-var"
	  >_bindings</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ManualDatatype uni fun a
</span
	><a href="#local-6989586621679471780"
	><span class="hs-identifier hs-var"
	  >d</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-176"
      ></span
      ><span
      >            </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefState k uni fun a -&gt; DefMap k (ManualDatatype uni fun a)
forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann -&gt; DefMap key (ManualDatatype uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_manualDatatypeDefs"
	><span class="hs-identifier hs-var"
	  >_manualDatatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefState k uni fun a
</span
	><a href="#local-6989586621679471763"
	><span class="hs-identifier hs-var"
	  >defs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-177"
      ></span
      ><span
      >       </span
      ><span class="hs-keyword"
      >in</span
      ><span
      >
</span
      ><span id="line-178"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>Map k ([Binding TyName Name uni fun a], Set k)
</span
	><a href="#local-6989586621679471764"
	><span class="hs-identifier hs-var"
	  >terms</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map k ([Binding TyName Name uni fun a], Set k)
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
forall k a. Ord k =&gt; Map k a -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#union"
	><span class="hs-operator hs-var"
	  >`Map.union`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map k ([Binding TyName Name uni fun a], Set k)
</span
	><a href="#local-6989586621679471772"
	><span class="hs-identifier hs-var"
	  >types</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map k ([Binding TyName Name uni fun a], Set k)
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
forall k a. Ord k =&gt; Map k a -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#union"
	><span class="hs-operator hs-var"
	  >`Map.union`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map k ([Binding TyName Name uni fun a], Set k)
</span
	><a href="#local-6989586621679471776"
	><span class="hs-identifier hs-var"
	  >datatypes</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map k ([Binding TyName Name uni fun a], Set k)
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
-&gt; Map k ([Binding TyName Name uni fun a], Set k)
forall k a. Ord k =&gt; Map k a -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#union"
	><span class="hs-operator hs-var"
	  >`Map.union`</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Map k ([Binding TyName Name uni fun a], Set k)
</span
	><a href="#local-6989586621679471779"
	><span class="hs-identifier hs-var"
	  >manualDatatypes</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-179"
      ></span
      ><span
      >
</span
      ><span id="line-180"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>{-| Given the definitions in the program, create a topologically ordered list of the
SCCs using the dependency information -}</span
	></span
      ><span
      >
</span
      ><span id="line-182"
      ></span
      ><span id="local-6989586621679471100"
      ><span id="local-6989586621679471101"
	><span class="annot"
	  ><a href="PlutusIR.Compiler.Definitions.html#defSccs"
	    ><span class="hs-identifier hs-type"
	      >defSccs</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="hs-glyph"
	  >::</span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Ord"
	    ><span class="hs-identifier hs-type"
	      >Ord</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="#local-6989586621679471100"
	    ><span class="hs-identifier hs-type"
	      >key</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="hs-glyph"
	  >=&gt;</span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="PlutusIR.Compiler.Definitions.html#DefMap"
	    ><span class="hs-identifier hs-type"
	      >DefMap</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="#local-6989586621679471100"
	    ><span class="hs-identifier hs-type"
	      >key</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="#local-6989586621679471101"
	    ><span class="hs-identifier hs-type"
	      >def</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="hs-glyph"
	  >-&gt;</span
	  ><span
	  > </span
	  ><span class="hs-special"
	  >[</span
	  ><span class="annot"
	  ><a href="https://hackage.haskell.org/package/algebraic-graphs-0.7/docs/src/Algebra.Graph.NonEmpty.AdjacencyMap.html#AdjacencyMap"
	    ><span class="hs-identifier hs-type"
	      >NAM.AdjacencyMap</span
	      ></a
	    ></span
	  ><span
	  > </span
	  ><span class="annot"
	  ><a href="#local-6989586621679471100"
	    ><span class="hs-identifier hs-type"
	      >key</span
	      ></a
	    ></span
	  ><span class="hs-special"
	  >]</span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-183"
      ></span
      ><span id="defSccs"
      ><span class="annot"
	><span class="annottext"
	  >defSccs :: forall key def. Ord key =&gt; DefMap key def -&gt; [AdjacencyMap key]
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#defSccs"
	  ><span class="hs-identifier hs-var hs-var"
	    >defSccs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471792"
      ><span class="annot"
	><span class="annottext"
	  >DefMap key def
</span
	  ><a href="#local-6989586621679471792"
	  ><span class="hs-identifier hs-var"
	    >tds</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-184"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      >
</span
      ><span id="line-185"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679471793"
      ><span class="annot"
	><span class="annottext"
	  >perKeyDeps :: [(key, Set key)]
</span
	  ><a href="#local-6989586621679471793"
	  ><span class="hs-identifier hs-var hs-var"
	    >perKeyDeps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((key, (def, Set key)) -&gt; (key, Set key))
-&gt; [(key, (def, Set key))] -&gt; [(key, Set key)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-glyph"
      >\</span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679471794"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679471794"
	  ><span class="hs-identifier hs-var"
	    >key</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>def
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679471795"
      ><span class="annot"
	><span class="annottext"
	  >Set key
</span
	  ><a href="#local-6989586621679471795"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679471794"
	><span class="hs-identifier hs-var"
	  >key</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><a href="#local-6989586621679471795"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key def -&gt; [(key, (def, Set key))]
forall k a. Map k a -&gt; [(k, a)]
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#assocs"
	><span class="hs-identifier hs-var"
	  >Map.assocs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key def
</span
	><a href="#local-6989586621679471792"
	><span class="hs-identifier hs-var"
	  >tds</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-186"
      ></span
      ><span
      >    </span
      ><span id="local-6989586621679471797"
      ><span class="annot"
	><span class="annottext"
	  >keySccs :: AdjacencyMap (AdjacencyMap key)
</span
	  ><a href="#local-6989586621679471797"
	  ><span class="hs-identifier hs-var hs-var"
	    >keySccs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AdjacencyMap key -&gt; AdjacencyMap (AdjacencyMap key)
forall a. Ord a =&gt; AdjacencyMap a -&gt; AdjacencyMap (AdjacencyMap a)
</span
	><a href="https://hackage.haskell.org/package/algebraic-graphs-0.7/docs/src/Algebra.Graph.AdjacencyMap.Algorithm.html#scc"
	><span class="hs-identifier hs-var"
	  >AM.scc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[(key, Set key)] -&gt; AdjacencyMap key
forall a. Ord a =&gt; [(a, Set a)] -&gt; AdjacencyMap a
</span
	><a href="https://hackage.haskell.org/package/algebraic-graphs-0.7/docs/src/Algebra.Graph.AdjacencyMap.html#fromAdjacencySets"
	><span class="hs-identifier hs-var"
	  >AM.fromAdjacencySets</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[(key, Set key)]
</span
	><a href="#local-6989586621679471793"
	><span class="hs-identifier hs-var"
	  >perKeyDeps</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-187"
      ></span
      ><span
      >   </span
      ><span class="hs-keyword"
      >in</span
      ><span
      >
</span
      ><span id="line-188"
      ></span
      ><span
      >    </span
      ><span class="hs-comment"
      >-- the graph made by 'scc' is guaranteed to be acyclic</span
      ><span
      >
</span
      ><span id="line-189"
      ></span
      ><span
      >    </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AdjacencyMap (AdjacencyMap key)
-&gt; Either (Cycle (AdjacencyMap key)) [AdjacencyMap key]
forall a. Ord a =&gt; AdjacencyMap a -&gt; Either (Cycle a) [a]
</span
	><a href="https://hackage.haskell.org/package/algebraic-graphs-0.7/docs/src/Algebra.Graph.AdjacencyMap.Algorithm.html#topSort"
	><span class="hs-identifier hs-var"
	  >AM.topSort</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AdjacencyMap (AdjacencyMap key)
</span
	><a href="#local-6989586621679471797"
	><span class="hs-identifier hs-var"
	  >keySccs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-190"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Right"
	><span class="hs-identifier hs-type"
	  >Right</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679471801"
      ><span class="annot"
	><span class="annottext"
	  >[AdjacencyMap key]
</span
	  ><a href="#local-6989586621679471801"
	  ><span class="hs-identifier hs-var"
	    >sorted</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[AdjacencyMap key]
</span
	><a href="#local-6989586621679471801"
	><span class="hs-identifier hs-var"
	  >sorted</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-191"
      ></span
      ><span
      >      </span
      ><span class="hs-comment"
      >-- TODO: report cycle</span
      ><span
      >
</span
      ><span id="line-192"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Either.html#Left"
	><span class="hs-identifier hs-type"
	  >Left</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Cycle (AdjacencyMap key)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char] -&gt; [AdjacencyMap key]
forall a. HasCallStack =&gt; [Char] -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Err.html#error"
	><span class="hs-identifier hs-var"
	  >error</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Char]
</span
	><span class="hs-string"
	>&quot;No topological sort of SCC graph&quot;</span
	></span
      ><span
      >
</span
      ><span id="line-193"
      ></span
      ><span
      >
</span
      ><span id="line-194"
      ></span
      ><span id="local-6989586621679471062"
      ><span id="local-6989586621679471063"
	><span id="local-6989586621679471064"
	  ><span id="local-6989586621679471065"
	    ><span id="local-6989586621679471066"
	      ><span id="local-6989586621679471067"
		><span class="annot"
		  ><a href="PlutusIR.Compiler.Definitions.html#wrapWithDefs"
		    ><span class="hs-identifier hs-type"
		      >wrapWithDefs</span
		      ></a
		    ></span
		  ><span
		  >
</span
		  ><span id="line-195"
		  ></span
		  ><span
		  >  </span
		  ><span class="hs-glyph"
		  >::</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Ord"
		    ><span class="hs-identifier hs-type"
		      >Ord</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471062"
		    ><span class="hs-identifier hs-type"
		      >key</span
		      ></a
		    ></span
		  ><span
		  >
</span
		  ><span id="line-196"
		  ></span
		  ><span
		  >  </span
		  ><span class="hs-glyph"
		  >=&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471063"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  >
</span
		  ><span id="line-197"
		  ></span
		  ><span
		  >  </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusIR.Compiler.Definitions.html#DefMap"
		    ><span class="hs-identifier hs-type"
		      >DefMap</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471062"
		    ><span class="hs-identifier hs-type"
		      >key</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="hs-special"
		  >[</span
		  ><span class="annot"
		  ><a href="PlutusIR.Core.Type.html#Binding"
		    ><span class="hs-identifier hs-type"
		      >Binding</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471064"
		    ><span class="hs-identifier hs-type"
		      >tyname</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471065"
		    ><span class="hs-identifier hs-type"
		      >name</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471066"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471067"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471063"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span class="hs-special"
		  >]</span
		  ><span
		  >
</span
		  ><span id="line-198"
		  ></span
		  ><span
		  >  </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusIR.Core.Type.html#Term"
		    ><span class="hs-identifier hs-type"
		      >Term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471064"
		    ><span class="hs-identifier hs-type"
		      >tyname</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471065"
		    ><span class="hs-identifier hs-type"
		      >name</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471066"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471067"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471063"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ><span
		  >
</span
		  ><span id="line-199"
		  ></span
		  ><span
		  >  </span
		  ><span class="hs-glyph"
		  >-&gt;</span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="PlutusIR.Core.Type.html#Term"
		    ><span class="hs-identifier hs-type"
		      >Term</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471064"
		    ><span class="hs-identifier hs-type"
		      >tyname</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471065"
		    ><span class="hs-identifier hs-type"
		      >name</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471066"
		    ><span class="hs-identifier hs-type"
		      >uni</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471067"
		    ><span class="hs-identifier hs-type"
		      >fun</span
		      ></a
		    ></span
		  ><span
		  > </span
		  ><span class="annot"
		  ><a href="#local-6989586621679471063"
		    ><span class="hs-identifier hs-type"
		      >ann</span
		      ></a
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-200"
      ></span
      ><span id="wrapWithDefs"
      ><span class="annot"
	><span class="annottext"
	  >wrapWithDefs :: forall key ann tyname name (uni :: * -&gt; *) fun.
Ord key =&gt;
ann
-&gt; DefMap key [Binding tyname name uni fun ann]
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#wrapWithDefs"
	  ><span class="hs-identifier hs-var hs-var"
	    >wrapWithDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471816"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679471816"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471817"
      ><span class="annot"
	><span class="annottext"
	  >DefMap key [Binding tyname name uni fun ann]
</span
	  ><a href="#local-6989586621679471817"
	  ><span class="hs-identifier hs-var"
	    >tds</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471818"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679471818"
	  ><span class="hs-identifier hs-var"
	    >body</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-201"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679471819"
      ><span class="annot"
	><span class="annottext"
	  >toValue :: key -&gt; Maybe [Binding tyname name uni fun ann]
</span
	  ><a href="#local-6989586621679471819"
	  ><span class="hs-identifier hs-var hs-var"
	    >toValue</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471820"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679471820"
	  ><span class="hs-identifier hs-var"
	    >k</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Binding tyname name uni fun ann], Set key)
-&gt; [Binding tyname name uni fun ann]
forall a b. (a, b) -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Tuple.html#fst"
	><span class="hs-identifier hs-var"
	  >fst</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(([Binding tyname name uni fun ann], Set key)
 -&gt; [Binding tyname name uni fun ann])
-&gt; Maybe ([Binding tyname name uni fun ann], Set key)
-&gt; Maybe [Binding tyname name uni fun ann]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; DefMap key [Binding tyname name uni fun ann]
-&gt; Maybe ([Binding tyname name uni fun ann], Set key)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#lookup"
	><span class="hs-identifier hs-var"
	  >Map.lookup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679471820"
	><span class="hs-identifier hs-var"
	  >k</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key [Binding tyname name uni fun ann]
</span
	><a href="#local-6989586621679471817"
	><span class="hs-identifier hs-var"
	  >tds</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-202"
      ></span
      ><span
      >      </span
      ><span id="local-6989586621679471823"
      ><span class="annot"
	><span class="annottext"
	  >wrapDefScc :: Term tyname name uni fun ann
-&gt; AdjacencyMap key -&gt; Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679471823"
	  ><span class="hs-identifier hs-var hs-var"
	    >wrapDefScc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471824"
      ><span class="annot"
	><span class="annottext"
	  >Term tyname name uni fun ann
</span
	  ><a href="#local-6989586621679471824"
	  ><span class="hs-identifier hs-var"
	    >acc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471825"
      ><span class="annot"
	><span class="annottext"
	  >AdjacencyMap key
</span
	  ><a href="#local-6989586621679471825"
	  ><span class="hs-identifier hs-var"
	    >scc</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-203"
      ></span
      ><span
      >        </span
      ><span class="hs-keyword"
      >let</span
      ><span
      > </span
      ><span id="local-6989586621679471826"
      ><span class="annot"
	><span class="annottext"
	  >bs :: [[Binding tyname name uni fun ann]]
</span
	  ><a href="#local-6989586621679471826"
	  ><span class="hs-identifier hs-var hs-var"
	    >bs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(key -&gt; Maybe [Binding tyname name uni fun ann])
-&gt; [key] -&gt; [[Binding tyname name uni fun ann]]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Maybe.html#mapMaybe"
	><span class="hs-identifier hs-var"
	  >mapMaybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key -&gt; Maybe [Binding tyname name uni fun ann]
</span
	><a href="#local-6989586621679471819"
	><span class="hs-identifier hs-var"
	  >toValue</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>AdjacencyMap key -&gt; [ToVertex (AdjacencyMap key)]
forall t. (ToGraph t, Ord (ToVertex t)) =&gt; t -&gt; [ToVertex t]
</span
	><a href="https://hackage.haskell.org/package/algebraic-graphs-0.7/docs/src/Algebra.Graph.ToGraph.html#vertexList"
	><span class="hs-identifier hs-var"
	  >Graph.vertexList</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AdjacencyMap key
</span
	><a href="#local-6989586621679471825"
	><span class="hs-identifier hs-var"
	  >scc</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-204"
      ></span
      ><span
      >         </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Recursivity
-&gt; [Binding tyname name uni fun ann]
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
forall a tyname name (uni :: * -&gt; *) fun.
a
-&gt; Recursivity
-&gt; [Binding tyname name uni fun a]
-&gt; Term tyname name uni fun a
-&gt; Term tyname name uni fun a
</span
	><a href="PlutusIR.MkPir.html#mkLet"
	><span class="hs-identifier hs-var"
	  >mkLet</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679471816"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AdjacencyMap key -&gt; Bool
forall t. (ToGraph t, Ord (ToVertex t)) =&gt; t -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/algebraic-graphs-0.7/docs/src/Algebra.Graph.ToGraph.html#isAcyclic"
	><span class="hs-identifier hs-var"
	  >Graph.isAcyclic</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>AdjacencyMap key
</span
	><a href="#local-6989586621679471825"
	><span class="hs-identifier hs-var"
	  >scc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="PlutusIR.Core.Type.html#NonRec"
	><span class="hs-identifier hs-var"
	  >NonRec</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Recursivity
</span
	><a href="PlutusIR.Core.Type.html#Rec"
	><span class="hs-identifier hs-var"
	  >Rec</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>[[Binding tyname name uni fun ann]]
-&gt; [Binding tyname name uni fun ann]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#concat"
	><span class="hs-identifier hs-var"
	  >concat</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[[Binding tyname name uni fun ann]]
</span
	><a href="#local-6989586621679471826"
	><span class="hs-identifier hs-var"
	  >bs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679471824"
	><span class="hs-identifier hs-var"
	  >acc</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-205"
      ></span
      ><span
      >   </span
      ><span class="hs-keyword"
      >in</span
      ><span
      > </span
      ><span class="hs-comment"
      >-- process from the inside out</span
      ><span
      >
</span
      ><span id="line-206"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>(Term tyname name uni fun ann
 -&gt; AdjacencyMap key -&gt; Term tyname name uni fun ann)
-&gt; Term tyname name uni fun ann
-&gt; [AdjacencyMap key]
-&gt; Term tyname name uni fun ann
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Foldable.html#foldl%27"
	><span class="hs-identifier hs-var"
	  >Foldable.foldl'</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
-&gt; AdjacencyMap key -&gt; Term tyname name uni fun ann
</span
	><a href="#local-6989586621679471823"
	><span class="hs-identifier hs-var"
	  >wrapDefScc</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term tyname name uni fun ann
</span
	><a href="#local-6989586621679471818"
	><span class="hs-identifier hs-var"
	  >body</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key [Binding tyname name uni fun ann] -&gt; [AdjacencyMap key]
forall key def. Ord key =&gt; DefMap key def -&gt; [AdjacencyMap key]
</span
	><a href="PlutusIR.Compiler.Definitions.html#defSccs"
	><span class="hs-identifier hs-var"
	  >defSccs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key [Binding tyname name uni fun ann]
</span
	><a href="#local-6989586621679471817"
	><span class="hs-identifier hs-var"
	  >tds</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-207"
      ></span
      ><span
      >
</span
      ><span id="line-208"
      ></span
      ><span class="hs-keyword"
      >class</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Monad"
	><span class="hs-identifier hs-type"
	  >Monad</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471148"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Ord"
	><span class="hs-identifier hs-type"
	  >Ord</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471144"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span id="MonadDefs"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
	  ><span class="hs-identifier hs-var"
	    >MonadDefs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471144"
      ><span class="annot"
	><a href="#local-6989586621679471144"
	  ><span class="hs-identifier hs-type"
	    >key</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471145"
      ><span class="annot"
	><a href="#local-6989586621679471145"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471146"
      ><span class="annot"
	><a href="#local-6989586621679471146"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471147"
      ><span class="annot"
	><a href="#local-6989586621679471147"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471148"
      ><span class="annot"
	><a href="#local-6989586621679471148"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471148"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471144"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471145"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471146"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471147"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-209"
      ></span
      ><span
      >  </span
      ><span id="liftDef"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	  ><span class="hs-identifier hs-type"
	    >liftDef</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span id="local-6989586621679471157"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	  ><span class="hs-identifier hs-type"
	    >DefT</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679471144"
	  ><span class="hs-identifier hs-type"
	    >key</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679471145"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679471146"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679471147"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.Identity.html#Identity"
	  ><span class="hs-identifier hs-type"
	    >Identity</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679471157"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>-&gt;</span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679471148"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><a href="#local-6989586621679471157"
	  ><span class="hs-identifier hs-type"
	    >a</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-210"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >default</span
      ><span
      > </span
      ><span id="liftDef"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	  ><span class="hs-identifier hs-type"
	    >liftDef</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-211"
      ></span
      ><span
      >    </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span id="local-6989586621679471150"
      ><span id="local-6989586621679471151"
	><span id="local-6989586621679471153"
	  ><span class="hs-special"
	    >(</span
	    ><span class="annot"
	    ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
	      ><span class="hs-identifier hs-type"
		>MonadDefs</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471144"
	      ><span class="hs-identifier hs-type"
		>key</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471145"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471146"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471147"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471150"
	      ><span class="hs-identifier hs-type"
		>n</span
		></a
	      ></span
	    ><span class="hs-special"
	    >,</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#MonadTrans"
	      ><span class="hs-identifier hs-type"
		>MonadTrans</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471151"
	      ><span class="hs-identifier hs-type"
		>t</span
		></a
	      ></span
	    ><span class="hs-special"
	    >,</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471151"
	      ><span class="hs-identifier hs-type"
		>t</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471150"
	      ><span class="hs-identifier hs-type"
		>n</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Types.html#~"
	      ><span class="hs-operator hs-type"
		>~</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471148"
	      ><span class="hs-identifier hs-type"
		>m</span
		></a
	      ></span
	    ><span class="hs-special"
	    >)</span
	    ><span
	    >
</span
	    ><span id="line-212"
	    ></span
	    ><span
	    >    </span
	    ><span class="hs-glyph"
	    >=&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="PlutusIR.Compiler.Definitions.html#DefT"
	      ><span class="hs-identifier hs-type"
		>DefT</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471144"
	      ><span class="hs-identifier hs-type"
		>key</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471145"
	      ><span class="hs-identifier hs-type"
		>uni</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471146"
	      ><span class="hs-identifier hs-type"
		>fun</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471147"
	      ><span class="hs-identifier hs-type"
		>ann</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.Identity.html#Identity"
	      ><span class="hs-identifier hs-type"
		>Identity</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471153"
	      ><span class="hs-identifier hs-type"
		>a</span
		></a
	      ></span
	    ><span
	    >
</span
	    ><span id="line-213"
	    ></span
	    ><span
	    >    </span
	    ><span class="hs-glyph"
	    >-&gt;</span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471148"
	      ><span class="hs-identifier hs-type"
		>m</span
		></a
	      ></span
	    ><span
	    > </span
	    ><span class="annot"
	    ><a href="#local-6989586621679471153"
	      ><span class="hs-identifier hs-type"
		>a</span
		></a
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-214"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679471839"
      ><span class="annot"
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	  ><span class="hs-identifier hs-var hs-var"
	    >liftDef</span
	    ></a
	  ></span
	><span
	> </span
	><span class="hs-glyph"
	>=</span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >n a -&gt; m a
n a -&gt; t n a
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; t m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span
	  ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Class.html#lift"
	  ><span class="hs-identifier hs-var"
	    >lift</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >(n a -&gt; m a)
-&gt; (DefT key uni fun ann Identity a -&gt; n a)
-&gt; DefT key uni fun ann Identity a
-&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	  ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	  ><span class="hs-operator hs-var"
	    >.</span
	    ></a
	  ></span
	><span
	> </span
	><span class="annot"
	><span class="annottext"
	  >DefT key uni fun ann Identity a -&gt; n a
forall a. DefT key uni fun ann Identity a -&gt; n a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	  ><span class="hs-identifier hs-var"
	    >liftDef</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-215"
      ></span
      ><span
      >
</span
      ><span id="line-216"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621679471163"
      ><span id="local-6989586621679471164"
	><span id="local-6989586621679471165"
	  ><span id="local-6989586621679471166"
	    ><span id="local-6989586621679471167"
	      ><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#Ord"
		  ><span class="hs-identifier hs-type"
		    >Ord</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471163"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#Monad"
		  ><span class="hs-identifier hs-type"
		    >Monad</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471164"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471163"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471165"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471166"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471167"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#DefT"
		  ><span class="hs-identifier hs-type"
		    >DefT</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471163"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471165"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471166"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471167"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471164"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >where</span
      ><span
      >
</span
      ><span id="line-217"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679471862"
      ><span class="annot"
	><span class="annottext"
	  >liftDef :: forall a.
DefT key uni fun ann Identity a -&gt; DefT key uni fun ann m a
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	  ><span class="hs-identifier hs-var hs-var hs-var hs-var"
	    >liftDef</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(forall a. Identity a -&gt; m a)
-&gt; DefT key uni fun ann Identity a -&gt; DefT key uni fun ann m a
forall {k} (t :: (* -&gt; *) -&gt; k -&gt; *) (m :: * -&gt; *) (n :: * -&gt; *)
       (b :: k).
(MFunctor t, Monad m) =&gt;
(forall a. m a -&gt; n a) -&gt; t m b -&gt; t n b
forall (m :: * -&gt; *) (n :: * -&gt; *) b.
Monad m =&gt;
(forall a. m a -&gt; n a)
-&gt; DefT key uni fun ann m b -&gt; DefT key uni fun ann n b
</span
	><a href="https://hackage.haskell.org/package/mmorph-1.2.1/docs/src/Control.Monad.Morph.html#hoist"
	><span class="hs-identifier hs-var"
	  >MM.hoist</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>a -&gt; m a
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(a -&gt; m a) -&gt; (Identity a -&gt; a) -&gt; Identity a -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#."
	><span class="hs-operator hs-var"
	  >.</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Identity a -&gt; a
forall a. Identity a -&gt; a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.Identity.html#runIdentity"
	><span class="hs-identifier hs-var"
	  >runIdentity</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-218"
      ></span
      ><span
      >
</span
      ><span id="line-219"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621679471177"
      ><span id="local-6989586621679471178"
	><span id="local-6989586621679471179"
	  ><span id="local-6989586621679471180"
	    ><span id="local-6989586621679471181"
	      ><span id="local-6989586621679471182"
		><span id="local-6989586621679471874"
		  ><span class="annot"
		    ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		      ><span class="hs-identifier hs-type"
			>MonadDefs</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471177"
		      ><span class="hs-identifier hs-type"
			>key</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471178"
		      ><span class="hs-identifier hs-type"
			>uni</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471179"
		      ><span class="hs-identifier hs-type"
			>fun</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471180"
		      ><span class="hs-identifier hs-type"
			>ann</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471181"
		      ><span class="hs-identifier hs-type"
			>m</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="hs-glyph"
		    >=&gt;</span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		      ><span class="hs-identifier hs-type"
			>MonadDefs</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471177"
		      ><span class="hs-identifier hs-type"
			>key</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471178"
		      ><span class="hs-identifier hs-type"
			>uni</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471179"
		      ><span class="hs-identifier hs-type"
			>fun</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471180"
		      ><span class="hs-identifier hs-type"
			>ann</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="hs-special"
		    >(</span
		    ><span class="annot"
		    ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.State.Lazy.html#StateT"
		      ><span class="hs-identifier hs-type"
			>StateT</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471182"
		      ><span class="hs-identifier hs-type"
			>s</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471181"
		      ><span class="hs-identifier hs-type"
			>m</span
			></a
		      ></span
		    ><span class="hs-special"
		    >)</span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-220"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621679471193"
      ><span id="local-6989586621679471194"
	><span id="local-6989586621679471195"
	  ><span id="local-6989586621679471196"
	    ><span id="local-6989586621679471197"
	      ><span id="local-6989586621679471198"
		><span id="local-6989586621679471889"
		  ><span class="annot"
		    ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		      ><span class="hs-identifier hs-type"
			>MonadDefs</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471193"
		      ><span class="hs-identifier hs-type"
			>key</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471194"
		      ><span class="hs-identifier hs-type"
			>uni</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471195"
		      ><span class="hs-identifier hs-type"
			>fun</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471196"
		      ><span class="hs-identifier hs-type"
			>ann</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471197"
		      ><span class="hs-identifier hs-type"
			>m</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="hs-glyph"
		    >=&gt;</span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		      ><span class="hs-identifier hs-type"
			>MonadDefs</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471193"
		      ><span class="hs-identifier hs-type"
			>key</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471194"
		      ><span class="hs-identifier hs-type"
			>uni</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471195"
		      ><span class="hs-identifier hs-type"
			>fun</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471196"
		      ><span class="hs-identifier hs-type"
			>ann</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="hs-special"
		    >(</span
		    ><span class="annot"
		    ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Except.html#ExceptT"
		      ><span class="hs-identifier hs-type"
			>ExceptT</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471198"
		      ><span class="hs-identifier hs-type"
			>e</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471197"
		      ><span class="hs-identifier hs-type"
			>m</span
			></a
		      ></span
		    ><span class="hs-special"
		    >)</span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-221"
      ></span
      ><span class="hs-keyword"
      >instance</span
      ><span
      > </span
      ><span id="local-6989586621679471209"
      ><span id="local-6989586621679471210"
	><span id="local-6989586621679471211"
	  ><span id="local-6989586621679471212"
	    ><span id="local-6989586621679471213"
	      ><span id="local-6989586621679471214"
		><span id="local-6989586621679471905"
		  ><span class="annot"
		    ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		      ><span class="hs-identifier hs-type"
			>MonadDefs</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471209"
		      ><span class="hs-identifier hs-type"
			>key</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471210"
		      ><span class="hs-identifier hs-type"
			>uni</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471211"
		      ><span class="hs-identifier hs-type"
			>fun</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471212"
		      ><span class="hs-identifier hs-type"
			>ann</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471213"
		      ><span class="hs-identifier hs-type"
			>m</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="hs-glyph"
		    >=&gt;</span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		      ><span class="hs-identifier hs-type"
			>MonadDefs</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471209"
		      ><span class="hs-identifier hs-type"
			>key</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471210"
		      ><span class="hs-identifier hs-type"
			>uni</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471211"
		      ><span class="hs-identifier hs-type"
			>fun</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471212"
		      ><span class="hs-identifier hs-type"
			>ann</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="hs-special"
		    >(</span
		    ><span class="annot"
		    ><a href="https://hackage.haskell.org/package/transformers-0.6.1.0/docs/src/Control.Monad.Trans.Reader.html#ReaderT"
		      ><span class="hs-identifier hs-type"
			>ReaderT</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471214"
		      ><span class="hs-identifier hs-type"
			>r</span
			></a
		      ></span
		    ><span
		    > </span
		    ><span class="annot"
		    ><a href="#local-6989586621679471213"
		      ><span class="hs-identifier hs-type"
			>m</span
			></a
		      ></span
		    ><span class="hs-special"
		    >)</span
		    ></span
		  ></span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-222"
      ></span
      ><span
      >
</span
      ><span id="line-223"
      ></span
      ><span id="local-6989586621679471215"
      ><span id="local-6989586621679471216"
	><span id="local-6989586621679471217"
	  ><span id="local-6989586621679471218"
	    ><span id="local-6989586621679471219"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#defineTerm"
		  ><span class="hs-identifier hs-type"
		    >defineTerm</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-224"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471215"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471216"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471217"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471218"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471219"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-225"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471215"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-226"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#TermDefWithStrictness"
		  ><span class="hs-identifier hs-type"
		    >TermDefWithStrictness</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471216"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471217"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471218"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-227"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
		  ><span class="hs-identifier hs-type"
		    >Set.Set</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471215"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-228"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471219"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-229"
      ></span
      ><span id="defineTerm"
      ><span class="annot"
	><span class="annottext"
	  >defineTerm :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; TermDefWithStrictness uni fun ann -&gt; Set key -&gt; m ()
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#defineTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >defineTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471921"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679471921"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471922"
      ><span class="annot"
	><span class="annottext"
	  >TermDefWithStrictness uni fun ann
</span
	  ><a href="#local-6989586621679471922"
	  ><span class="hs-identifier hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471923"
      ><span class="annot"
	><span class="annottext"
	  >Set key
</span
	  ><a href="#local-6989586621679471923"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity () -&gt; m ()
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity () -&gt; m ())
-&gt; DefT key uni fun ann Identity () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (DefState key uni fun ann) Identity ()
 -&gt; DefT key uni fun ann Identity ())
-&gt; StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TermDefWithStrictness uni fun ann))
  (DefMap key (TermDefWithStrictness uni fun ann))
-&gt; (DefMap key (TermDefWithStrictness uni fun ann)
    -&gt; DefMap key (TermDefWithStrictness uni fun ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TermDefWithStrictness uni fun ann))
  (DefMap key (TermDefWithStrictness uni fun ann))
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(DefMap key (TermDefWithStrictness uni fun ann)
 -&gt; f (DefMap key (TermDefWithStrictness uni fun ann)))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#termDefs"
	><span class="hs-identifier hs-var"
	  >termDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefMap key (TermDefWithStrictness uni fun ann)
  -&gt; DefMap key (TermDefWithStrictness uni fun ann))
 -&gt; DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; (DefMap key (TermDefWithStrictness uni fun ann)
    -&gt; DefMap key (TermDefWithStrictness uni fun ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; (TermDefWithStrictness uni fun ann, Set key)
-&gt; DefMap key (TermDefWithStrictness uni fun ann)
-&gt; DefMap key (TermDefWithStrictness uni fun ann)
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Map.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679471921"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TermDefWithStrictness uni fun ann
</span
	><a href="#local-6989586621679471922"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><a href="#local-6989586621679471923"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-230"
      ></span
      ><span
      >
</span
      ><span id="line-231"
      ></span
      ><span id="local-6989586621679471236"
      ><span id="local-6989586621679471237"
	><span id="local-6989586621679471238"
	  ><span id="local-6989586621679471239"
	    ><span id="local-6989586621679471240"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#modifyTermDef"
		  ><span class="hs-identifier hs-type"
		    >modifyTermDef</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-232"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471236"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471237"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471238"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471239"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471240"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-233"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471236"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-234"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#TermDefWithStrictness"
		  ><span class="hs-identifier hs-type"
		    >TermDefWithStrictness</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471237"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471238"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471239"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#TermDefWithStrictness"
		  ><span class="hs-identifier hs-type"
		    >TermDefWithStrictness</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471237"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471238"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471239"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-235"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471240"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-236"
      ></span
      ><span id="modifyTermDef"
      ><span class="annot"
	><span class="annottext"
	  >modifyTermDef :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key
-&gt; (TermDefWithStrictness uni fun ann
    -&gt; TermDefWithStrictness uni fun ann)
-&gt; m ()
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#modifyTermDef"
	  ><span class="hs-identifier hs-var hs-var"
	    >modifyTermDef</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471935"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679471935"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471936"
      ><span class="annot"
	><span class="annottext"
	  >TermDefWithStrictness uni fun ann
-&gt; TermDefWithStrictness uni fun ann
</span
	  ><a href="#local-6989586621679471936"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity () -&gt; m ()
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity () -&gt; m ())
-&gt; DefT key uni fun ann Identity () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (DefState key uni fun ann) Identity ()
 -&gt; DefT key uni fun ann Identity ())
-&gt; StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TermDefWithStrictness uni fun ann))
  (DefMap key (TermDefWithStrictness uni fun ann))
-&gt; (DefMap key (TermDefWithStrictness uni fun ann)
    -&gt; DefMap key (TermDefWithStrictness uni fun ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TermDefWithStrictness uni fun ann))
  (DefMap key (TermDefWithStrictness uni fun ann))
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(DefMap key (TermDefWithStrictness uni fun ann)
 -&gt; f (DefMap key (TermDefWithStrictness uni fun ann)))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#termDefs"
	><span class="hs-identifier hs-var"
	  >termDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefMap key (TermDefWithStrictness uni fun ann)
  -&gt; DefMap key (TermDefWithStrictness uni fun ann))
 -&gt; DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; (DefMap key (TermDefWithStrictness uni fun ann)
    -&gt; DefMap key (TermDefWithStrictness uni fun ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TermDefWithStrictness uni fun ann, Set key)
 -&gt; (TermDefWithStrictness uni fun ann, Set key))
-&gt; key
-&gt; DefMap key (TermDefWithStrictness uni fun ann)
-&gt; DefMap key (TermDefWithStrictness uni fun ann)
forall k a. Ord k =&gt; (a -&gt; a) -&gt; k -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#adjust"
	><span class="hs-identifier hs-var"
	  >Map.adjust</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(TermDefWithStrictness uni fun ann
 -&gt; TermDefWithStrictness uni fun ann)
-&gt; (TermDefWithStrictness uni fun ann, Set key)
-&gt; (TermDefWithStrictness uni fun ann, Set key)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#first"
	><span class="hs-identifier hs-var"
	  >first</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TermDefWithStrictness uni fun ann
-&gt; TermDefWithStrictness uni fun ann
</span
	><a href="#local-6989586621679471936"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679471935"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-237"
      ></span
      ><span
      >
</span
      ><span id="line-238"
      ></span
      ><span id="local-6989586621679471248"
      ><span id="local-6989586621679471249"
	><span id="local-6989586621679471250"
	  ><span id="local-6989586621679471251"
	    ><span id="local-6989586621679471252"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#defineType"
		  ><span class="hs-identifier hs-type"
		    >defineType</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471248"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471249"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471250"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471251"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471252"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471248"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.MkPlc.html#TypeDef"
		  ><span class="hs-identifier hs-type"
		    >TypeDef</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471249"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471251"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
		  ><span class="hs-identifier hs-type"
		    >Set.Set</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471248"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471252"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-239"
      ></span
      ><span id="defineType"
      ><span class="annot"
	><span class="annottext"
	  >defineType :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; TypeDef TyName uni ann -&gt; Set key -&gt; m ()
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#defineType"
	  ><span class="hs-identifier hs-var hs-var"
	    >defineType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471945"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679471945"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471946"
      ><span class="annot"
	><span class="annottext"
	  >TypeDef TyName uni ann
</span
	  ><a href="#local-6989586621679471946"
	  ><span class="hs-identifier hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471947"
      ><span class="annot"
	><span class="annottext"
	  >Set key
</span
	  ><a href="#local-6989586621679471947"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-240"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity () -&gt; m ()
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity () -&gt; m ())
-&gt; DefT key uni fun ann Identity () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (DefState key uni fun ann) Identity ()
 -&gt; DefT key uni fun ann Identity ())
-&gt; StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TypeDef TyName uni ann))
  (DefMap key (TypeDef TyName uni ann))
-&gt; (DefMap key (TypeDef TyName uni ann)
    -&gt; DefMap key (TypeDef TyName uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TypeDef TyName uni ann))
  (DefMap key (TypeDef TyName uni ann))
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(DefMap key (TypeDef TyName uni ann)
 -&gt; f (DefMap key (TypeDef TyName uni ann)))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#typeDefs"
	><span class="hs-identifier hs-var"
	  >typeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefMap key (TypeDef TyName uni ann)
  -&gt; DefMap key (TypeDef TyName uni ann))
 -&gt; DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; (DefMap key (TypeDef TyName uni ann)
    -&gt; DefMap key (TypeDef TyName uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; (TypeDef TyName uni ann, Set key)
-&gt; DefMap key (TypeDef TyName uni ann)
-&gt; DefMap key (TypeDef TyName uni ann)
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Map.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679471945"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TypeDef TyName uni ann
</span
	><a href="#local-6989586621679471946"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><a href="#local-6989586621679471947"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-241"
      ></span
      ><span
      >
</span
      ><span id="line-242"
      ></span
      ><span id="local-6989586621679471258"
      ><span id="local-6989586621679471259"
	><span id="local-6989586621679471260"
	  ><span id="local-6989586621679471261"
	    ><span id="local-6989586621679471262"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#modifyTypeDef"
		  ><span class="hs-identifier hs-type"
		    >modifyTypeDef</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-243"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471258"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471259"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471260"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471261"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471262"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-244"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471258"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-245"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.MkPlc.html#TypeDef"
		  ><span class="hs-identifier hs-type"
		    >TypeDef</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471259"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471261"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.MkPlc.html#TypeDef"
		  ><span class="hs-identifier hs-type"
		    >TypeDef</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471259"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471261"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-246"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471262"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-247"
      ></span
      ><span id="modifyTypeDef"
      ><span class="annot"
	><span class="annottext"
	  >modifyTypeDef :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; (TypeDef TyName uni ann -&gt; TypeDef TyName uni ann) -&gt; m ()
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#modifyTypeDef"
	  ><span class="hs-identifier hs-var hs-var"
	    >modifyTypeDef</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471956"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679471956"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471957"
      ><span class="annot"
	><span class="annottext"
	  >TypeDef TyName uni ann -&gt; TypeDef TyName uni ann
</span
	  ><a href="#local-6989586621679471957"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity () -&gt; m ()
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity () -&gt; m ())
-&gt; DefT key uni fun ann Identity () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (DefState key uni fun ann) Identity ()
 -&gt; DefT key uni fun ann Identity ())
-&gt; StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TypeDef TyName uni ann))
  (DefMap key (TypeDef TyName uni ann))
-&gt; (DefMap key (TypeDef TyName uni ann)
    -&gt; DefMap key (TypeDef TyName uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TypeDef TyName uni ann))
  (DefMap key (TypeDef TyName uni ann))
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(DefMap key (TypeDef TyName uni ann)
 -&gt; f (DefMap key (TypeDef TyName uni ann)))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#typeDefs"
	><span class="hs-identifier hs-var"
	  >typeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefMap key (TypeDef TyName uni ann)
  -&gt; DefMap key (TypeDef TyName uni ann))
 -&gt; DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; (DefMap key (TypeDef TyName uni ann)
    -&gt; DefMap key (TypeDef TyName uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TypeDef TyName uni ann, Set key)
 -&gt; (TypeDef TyName uni ann, Set key))
-&gt; key
-&gt; DefMap key (TypeDef TyName uni ann)
-&gt; DefMap key (TypeDef TyName uni ann)
forall k a. Ord k =&gt; (a -&gt; a) -&gt; k -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#adjust"
	><span class="hs-identifier hs-var"
	  >Map.adjust</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(TypeDef TyName uni ann -&gt; TypeDef TyName uni ann)
-&gt; (TypeDef TyName uni ann, Set key)
-&gt; (TypeDef TyName uni ann, Set key)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#first"
	><span class="hs-identifier hs-var"
	  >first</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeDef TyName uni ann -&gt; TypeDef TyName uni ann
</span
	><a href="#local-6989586621679471957"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679471956"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-248"
      ></span
      ><span
      >
</span
      ><span id="line-249"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#defineDatatype"
	><span class="hs-identifier hs-type"
	  >defineDatatype</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-250"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679471268"
      ><span class="annot"
	><a href="#local-6989586621679471268"
	  ><span class="hs-identifier hs-type"
	    >key</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471269"
      ><span class="annot"
	><a href="#local-6989586621679471269"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471270"
      ><span class="annot"
	><a href="#local-6989586621679471270"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471271"
      ><span class="annot"
	><a href="#local-6989586621679471271"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471272"
      ><span class="annot"
	><a href="#local-6989586621679471272"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-251"
      ></span
      ><span
      >   </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
	><span class="hs-identifier hs-type"
	  >MonadDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471268"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471269"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471270"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471271"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471272"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-252"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471268"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-253"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.MkPir.html#DatatypeDef"
	><span class="hs-identifier hs-type"
	  >DatatypeDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
	><span class="hs-identifier hs-type"
	  >TyName</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
	><span class="hs-identifier hs-type"
	  >Name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471269"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471271"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-254"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
	><span class="hs-identifier hs-type"
	  >Set.Set</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471268"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-255"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471272"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-256"
      ></span
      ><span id="defineDatatype"
      ><span class="annot"
	><span class="annottext"
	  >defineDatatype :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; DatatypeDef TyName Name uni ann -&gt; Set key -&gt; m ()
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#defineDatatype"
	  ><span class="hs-identifier hs-var hs-var"
	    >defineDatatype</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471965"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679471965"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471966"
      ><span class="annot"
	><span class="annottext"
	  >DatatypeDef TyName Name uni ann
</span
	  ><a href="#local-6989586621679471966"
	  ><span class="hs-identifier hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471967"
      ><span class="annot"
	><span class="annottext"
	  >Set key
</span
	  ><a href="#local-6989586621679471967"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-257"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity () -&gt; m ()
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity () -&gt; m ())
-&gt; DefT key uni fun ann Identity () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (DefState key uni fun ann) Identity ()
 -&gt; DefT key uni fun ann Identity ())
-&gt; StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (DatatypeDef TyName Name uni ann))
  (DefMap key (DatatypeDef TyName Name uni ann))
-&gt; (DefMap key (DatatypeDef TyName Name uni ann)
    -&gt; DefMap key (DatatypeDef TyName Name uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (DatatypeDef TyName Name uni ann))
  (DefMap key (DatatypeDef TyName Name uni ann))
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(DefMap key (DatatypeDef TyName Name uni ann)
 -&gt; f (DefMap key (DatatypeDef TyName Name uni ann)))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#datatypeDefs"
	><span class="hs-identifier hs-var"
	  >datatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefMap key (DatatypeDef TyName Name uni ann)
  -&gt; DefMap key (DatatypeDef TyName Name uni ann))
 -&gt; DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; (DefMap key (DatatypeDef TyName Name uni ann)
    -&gt; DefMap key (DatatypeDef TyName Name uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; (DatatypeDef TyName Name uni ann, Set key)
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Map.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679471965"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeDef TyName Name uni ann
</span
	><a href="#local-6989586621679471966"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><a href="#local-6989586621679471967"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-258"
      ></span
      ><span
      >
</span
      ><span id="line-259"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#defineManualDatatype"
	><span class="hs-identifier hs-type"
	  >defineManualDatatype</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-260"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679471278"
      ><span class="annot"
	><a href="#local-6989586621679471278"
	  ><span class="hs-identifier hs-type"
	    >key</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471279"
      ><span class="annot"
	><a href="#local-6989586621679471279"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471280"
      ><span class="annot"
	><a href="#local-6989586621679471280"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471281"
      ><span class="annot"
	><a href="#local-6989586621679471281"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471282"
      ><span class="annot"
	><a href="#local-6989586621679471282"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-261"
      ></span
      ><span
      >   </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
	><span class="hs-identifier hs-type"
	  >MonadDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471278"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471279"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471280"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471281"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471282"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-262"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471278"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-263"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#ManualDatatype"
	><span class="hs-identifier hs-type"
	  >ManualDatatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471279"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471280"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471281"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-264"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
	><span class="hs-identifier hs-type"
	  >Set.Set</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471278"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-265"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471282"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-266"
      ></span
      ><span id="defineManualDatatype"
      ><span class="annot"
	><span class="annottext"
	  >defineManualDatatype :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; ManualDatatype uni fun ann -&gt; Set key -&gt; m ()
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#defineManualDatatype"
	  ><span class="hs-identifier hs-var hs-var"
	    >defineManualDatatype</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471975"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679471975"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471976"
      ><span class="annot"
	><span class="annottext"
	  >ManualDatatype uni fun ann
</span
	  ><a href="#local-6989586621679471976"
	  ><span class="hs-identifier hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471977"
      ><span class="annot"
	><span class="annottext"
	  >Set key
</span
	  ><a href="#local-6989586621679471977"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      >
</span
      ><span id="line-267"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity () -&gt; m ()
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity () -&gt; m ())
-&gt; DefT key uni fun ann Identity () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (DefState key uni fun ann) Identity ()
 -&gt; DefT key uni fun ann Identity ())
-&gt; StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (ManualDatatype uni fun ann))
  (DefMap key (ManualDatatype uni fun ann))
-&gt; (DefMap key (ManualDatatype uni fun ann)
    -&gt; DefMap key (ManualDatatype uni fun ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (ManualDatatype uni fun ann))
  (DefMap key (ManualDatatype uni fun ann))
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(DefMap key (ManualDatatype uni fun ann)
 -&gt; f (DefMap key (ManualDatatype uni fun ann)))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#manualDatatypeDefs"
	><span class="hs-identifier hs-var"
	  >manualDatatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefMap key (ManualDatatype uni fun ann)
  -&gt; DefMap key (ManualDatatype uni fun ann))
 -&gt; DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; (DefMap key (ManualDatatype uni fun ann)
    -&gt; DefMap key (ManualDatatype uni fun ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; (ManualDatatype uni fun ann, Set key)
-&gt; DefMap key (ManualDatatype uni fun ann)
-&gt; DefMap key (ManualDatatype uni fun ann)
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Map.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679471975"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ManualDatatype uni fun ann
</span
	><a href="#local-6989586621679471976"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><a href="#local-6989586621679471977"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-268"
      ></span
      ><span
      >
</span
      ><span id="line-269"
      ></span
      ><span id="local-6989586621679471288"
      ><span id="local-6989586621679471289"
	><span id="local-6989586621679471290"
	  ><span id="local-6989586621679471291"
	    ><span id="local-6989586621679471292"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#modifyDatatypeDef"
		  ><span class="hs-identifier hs-type"
		    >modifyDatatypeDef</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-270"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471288"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471289"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471290"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471291"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471292"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-271"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471288"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-272"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.MkPir.html#DatatypeDef"
		  ><span class="hs-identifier hs-type"
		    >DatatypeDef</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
		  ><span class="hs-identifier hs-type"
		    >Name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471289"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471291"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.MkPir.html#DatatypeDef"
		  ><span class="hs-identifier hs-type"
		    >DatatypeDef</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
		  ><span class="hs-identifier hs-type"
		    >Name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471289"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471291"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-273"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471292"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-274"
      ></span
      ><span id="modifyDatatypeDef"
      ><span class="annot"
	><span class="annottext"
	  >modifyDatatypeDef :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key
-&gt; (DatatypeDef TyName Name uni ann
    -&gt; DatatypeDef TyName Name uni ann)
-&gt; m ()
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#modifyDatatypeDef"
	  ><span class="hs-identifier hs-var hs-var"
	    >modifyDatatypeDef</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471986"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679471986"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471987"
      ><span class="annot"
	><span class="annottext"
	  >DatatypeDef TyName Name uni ann -&gt; DatatypeDef TyName Name uni ann
</span
	  ><a href="#local-6989586621679471987"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity () -&gt; m ()
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity () -&gt; m ())
-&gt; DefT key uni fun ann Identity () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (DefState key uni fun ann) Identity ()
 -&gt; DefT key uni fun ann Identity ())
-&gt; StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (DatatypeDef TyName Name uni ann))
  (DefMap key (DatatypeDef TyName Name uni ann))
-&gt; (DefMap key (DatatypeDef TyName Name uni ann)
    -&gt; DefMap key (DatatypeDef TyName Name uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (DatatypeDef TyName Name uni ann))
  (DefMap key (DatatypeDef TyName Name uni ann))
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(DefMap key (DatatypeDef TyName Name uni ann)
 -&gt; f (DefMap key (DatatypeDef TyName Name uni ann)))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#datatypeDefs"
	><span class="hs-identifier hs-var"
	  >datatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefMap key (DatatypeDef TyName Name uni ann)
  -&gt; DefMap key (DatatypeDef TyName Name uni ann))
 -&gt; DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; (DefMap key (DatatypeDef TyName Name uni ann)
    -&gt; DefMap key (DatatypeDef TyName Name uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DatatypeDef TyName Name uni ann, Set key)
 -&gt; (DatatypeDef TyName Name uni ann, Set key))
-&gt; key
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
forall k a. Ord k =&gt; (a -&gt; a) -&gt; k -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#adjust"
	><span class="hs-identifier hs-var"
	  >Map.adjust</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(DatatypeDef TyName Name uni ann
 -&gt; DatatypeDef TyName Name uni ann)
-&gt; (DatatypeDef TyName Name uni ann, Set key)
-&gt; (DatatypeDef TyName Name uni ann, Set key)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#first"
	><span class="hs-identifier hs-var"
	  >first</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeDef TyName Name uni ann -&gt; DatatypeDef TyName Name uni ann
</span
	><a href="#local-6989586621679471987"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679471986"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-275"
      ></span
      ><span
      >
</span
      ><span id="line-276"
      ></span
      ><span class="annot"
      ><span class="hs-comment"
	>-- | Modifies the dependency set of a key.</span
	></span
      ><span
      >
</span
      ><span id="line-277"
      ></span
      ><span id="local-6989586621679471298"
      ><span id="local-6989586621679471299"
	><span id="local-6989586621679471300"
	  ><span id="local-6989586621679471301"
	    ><span id="local-6989586621679471302"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#modifyDeps"
		  ><span class="hs-identifier hs-type"
		    >modifyDeps</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471298"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471299"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471300"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471301"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471302"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471298"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
		  ><span class="hs-identifier hs-type"
		    >Set.Set</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471298"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
		  ><span class="hs-identifier hs-type"
		    >Set.Set</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471298"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471302"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-278"
      ></span
      ><span id="modifyDeps"
      ><span class="annot"
	><span class="annottext"
	  >modifyDeps :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; (Set key -&gt; Set key) -&gt; m ()
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#modifyDeps"
	  ><span class="hs-identifier hs-var hs-var"
	    >modifyDeps</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472006"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679472006"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472007"
      ><span class="annot"
	><span class="annottext"
	  >Set key -&gt; Set key
</span
	  ><a href="#local-6989586621679472007"
	  ><span class="hs-identifier hs-var"
	    >f</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity () -&gt; m ()
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity () -&gt; m ())
-&gt; DefT key uni fun ann Identity () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (DefState key uni fun ann) Identity ()
 -&gt; DefT key uni fun ann Identity ())
-&gt; StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-279"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- This is a little crude: we expect most keys will appear in only one map, so we just modify the</span
      ><span
      >
</span
      ><span id="line-280"
      ></span
      ><span
      >  </span
      ><span class="hs-comment"
      >-- dependencies in all of them! That lets us just have one function.</span
      ><span
      >
</span
      ><span id="line-281"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TermDefWithStrictness uni fun ann))
  (DefMap key (TermDefWithStrictness uni fun ann))
-&gt; (DefMap key (TermDefWithStrictness uni fun ann)
    -&gt; DefMap key (TermDefWithStrictness uni fun ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TermDefWithStrictness uni fun ann))
  (DefMap key (TermDefWithStrictness uni fun ann))
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(DefMap key (TermDefWithStrictness uni fun ann)
 -&gt; f (DefMap key (TermDefWithStrictness uni fun ann)))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#termDefs"
	><span class="hs-identifier hs-var"
	  >termDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefMap key (TermDefWithStrictness uni fun ann)
  -&gt; DefMap key (TermDefWithStrictness uni fun ann))
 -&gt; DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; (DefMap key (TermDefWithStrictness uni fun ann)
    -&gt; DefMap key (TermDefWithStrictness uni fun ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TermDefWithStrictness uni fun ann, Set key)
 -&gt; (TermDefWithStrictness uni fun ann, Set key))
-&gt; key
-&gt; DefMap key (TermDefWithStrictness uni fun ann)
-&gt; DefMap key (TermDefWithStrictness uni fun ann)
forall k a. Ord k =&gt; (a -&gt; a) -&gt; k -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#adjust"
	><span class="hs-identifier hs-var"
	  >Map.adjust</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Set key -&gt; Set key)
-&gt; (TermDefWithStrictness uni fun ann, Set key)
-&gt; (TermDefWithStrictness uni fun ann, Set key)
forall b c a. (b -&gt; c) -&gt; (a, b) -&gt; (a, c)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#second"
	><span class="hs-identifier hs-var"
	  >second</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key -&gt; Set key
</span
	><a href="#local-6989586621679472007"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472006"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-282"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TypeDef TyName uni ann))
  (DefMap key (TypeDef TyName uni ann))
-&gt; (DefMap key (TypeDef TyName uni ann)
    -&gt; DefMap key (TypeDef TyName uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (TypeDef TyName uni ann))
  (DefMap key (TypeDef TyName uni ann))
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(DefMap key (TypeDef TyName uni ann)
 -&gt; f (DefMap key (TypeDef TyName uni ann)))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#typeDefs"
	><span class="hs-identifier hs-var"
	  >typeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefMap key (TypeDef TyName uni ann)
  -&gt; DefMap key (TypeDef TyName uni ann))
 -&gt; DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; (DefMap key (TypeDef TyName uni ann)
    -&gt; DefMap key (TypeDef TyName uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((TypeDef TyName uni ann, Set key)
 -&gt; (TypeDef TyName uni ann, Set key))
-&gt; key
-&gt; DefMap key (TypeDef TyName uni ann)
-&gt; DefMap key (TypeDef TyName uni ann)
forall k a. Ord k =&gt; (a -&gt; a) -&gt; k -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#adjust"
	><span class="hs-identifier hs-var"
	  >Map.adjust</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Set key -&gt; Set key)
-&gt; (TypeDef TyName uni ann, Set key)
-&gt; (TypeDef TyName uni ann, Set key)
forall b c a. (b -&gt; c) -&gt; (a, b) -&gt; (a, c)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#second"
	><span class="hs-identifier hs-var"
	  >second</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key -&gt; Set key
</span
	><a href="#local-6989586621679472007"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472006"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-283"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (DatatypeDef TyName Name uni ann))
  (DefMap key (DatatypeDef TyName Name uni ann))
-&gt; (DefMap key (DatatypeDef TyName Name uni ann)
    -&gt; DefMap key (DatatypeDef TyName Name uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (DefMap key (DatatypeDef TyName Name uni ann))
  (DefMap key (DatatypeDef TyName Name uni ann))
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(DefMap key (DatatypeDef TyName Name uni ann)
 -&gt; f (DefMap key (DatatypeDef TyName Name uni ann)))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#datatypeDefs"
	><span class="hs-identifier hs-var"
	  >datatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefMap key (DatatypeDef TyName Name uni ann)
  -&gt; DefMap key (DatatypeDef TyName Name uni ann))
 -&gt; DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; (DefMap key (DatatypeDef TyName Name uni ann)
    -&gt; DefMap key (DatatypeDef TyName Name uni ann))
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DatatypeDef TyName Name uni ann, Set key)
 -&gt; (DatatypeDef TyName Name uni ann, Set key))
-&gt; key
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
forall k a. Ord k =&gt; (a -&gt; a) -&gt; k -&gt; Map k a -&gt; Map k a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#adjust"
	><span class="hs-identifier hs-var"
	  >Map.adjust</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>(Set key -&gt; Set key)
-&gt; (DatatypeDef TyName Name uni ann, Set key)
-&gt; (DatatypeDef TyName Name uni ann, Set key)
forall b c a. (b -&gt; c) -&gt; (a, b) -&gt; (a, c)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Bifunctor.html#second"
	><span class="hs-identifier hs-var"
	  >second</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key -&gt; Set key
</span
	><a href="#local-6989586621679472007"
	><span class="hs-identifier hs-var"
	  >f</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472006"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-284"
      ></span
      ><span
      >
</span
      ><span id="line-285"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#recordAlias"
	><span class="hs-identifier hs-type"
	  >recordAlias</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679471311"
      ><span class="annot"
	><a href="#local-6989586621679471311"
	  ><span class="hs-identifier hs-type"
	    >key</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471312"
      ><span class="annot"
	><a href="#local-6989586621679471312"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471313"
      ><span class="annot"
	><a href="#local-6989586621679471313"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471314"
      ><span class="annot"
	><a href="#local-6989586621679471314"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471315"
      ><span class="annot"
	><a href="#local-6989586621679471315"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
	><span class="hs-identifier hs-type"
	  >MonadDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471311"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471312"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471313"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471314"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471315"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471311"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471315"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-286"
      ></span
      ><span id="recordAlias"
      ><span class="annot"
	><span class="annottext"
	  >recordAlias :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; m ()
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#recordAlias"
	  ><span class="hs-identifier hs-var hs-var"
	    >recordAlias</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472015"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679472015"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="#local-6989586621679471311"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="#local-6989586621679471312"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="#local-6989586621679471313"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >@</span
      ><span class="annot"
      ><a href="#local-6989586621679471314"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity () -&gt; m ())
-&gt; DefT key uni fun ann Identity () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(StateT (DefState key uni fun ann) Identity ()
 -&gt; DefT key uni fun ann Identity ())
-&gt; StateT (DefState key uni fun ann) Identity ()
-&gt; DefT key uni fun ann Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#modify"
	><span class="hs-identifier hs-var"
	  >modify</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>((DefState key uni fun ann -&gt; DefState key uni fun ann)
 -&gt; StateT (DefState key uni fun ann) Identity ())
-&gt; (DefState key uni fun ann -&gt; DefState key uni fun ann)
-&gt; StateT (DefState key uni fun ann) Identity ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (Set key)
  (Set key)
-&gt; (Set key -&gt; Set key)
-&gt; DefState key uni fun ann
-&gt; DefState key uni fun ann
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span
	><span class="hs-identifier hs-var"
	>over</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ASetter
  (DefState key uni fun ann)
  (DefState key uni fun ann)
  (Set key)
  (Set key)
forall key (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(Set key -&gt; f (Set key))
-&gt; DefState key uni fun ann -&gt; f (DefState key uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#aliases"
	><span class="hs-identifier hs-var"
	  >aliases</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>key -&gt; Set key -&gt; Set key
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#insert"
	><span class="hs-identifier hs-var"
	  >Set.insert</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472015"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-287"
      ></span
      ><span
      >
</span
      ><span id="line-288"
      ></span
      ><span id="local-6989586621679471322"
      ><span id="local-6989586621679471323"
	><span id="local-6989586621679471324"
	  ><span id="local-6989586621679471325"
	    ><span id="local-6989586621679471326"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#lookupTerm"
		  ><span class="hs-identifier hs-type"
		    >lookupTerm</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-289"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471322"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471323"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471324"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471325"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471326"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-290"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471322"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-291"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471326"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
		  ><span class="hs-identifier hs-type"
		    >Maybe</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
		  ><span class="hs-identifier hs-type"
		    >Name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471323"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471324"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471325"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-292"
      ></span
      ><span id="lookupTerm"
      ><span class="annot"
	><span class="annottext"
	  >lookupTerm :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; m (Maybe (Term TyName Name uni fun ann))
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#lookupTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472030"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679472030"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-293"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#DefState"
	><span class="hs-identifier hs-type"
	  >DefState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>_termDefs :: forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann
-&gt; DefMap key (TermDefWithStrictness uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_termDefs"
	><span class="hs-identifier hs-var"
	  >_termDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679472031"
      ><span class="annot"
	><span class="annottext"
	  >DefMap key (TermDefWithStrictness uni fun ann)
</span
	  ><a href="#local-6989586621679472031"
	  ><span class="hs-identifier hs-var"
	    >ds</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>_aliases :: forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann -&gt; Set key
</span
	><a href="PlutusIR.Compiler.Definitions.html#_aliases"
	><span class="hs-identifier hs-var"
	  >_aliases</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679472032"
      ><span class="annot"
	><span class="annottext"
	  >Set key
</span
	  ><a href="#local-6989586621679472032"
	  ><span class="hs-keyword hs-var"
	    >as</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity (DefState key uni fun ann)
-&gt; m (DefState key uni fun ann)
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity (DefState key uni fun ann)
 -&gt; m (DefState key uni fun ann))
-&gt; DefT key uni fun ann Identity (DefState key uni fun ann)
-&gt; m (DefState key uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT
  (DefState key uni fun ann) Identity (DefState key uni fun ann)
-&gt; DefT key uni fun ann Identity (DefState key uni fun ann)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT
  (DefState key uni fun ann) Identity (DefState key uni fun ann)
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#get"
	><span class="hs-identifier hs-var"
	  >get</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-294"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Term TyName Name uni fun ann)
-&gt; m (Maybe (Term TyName Name uni fun ann))
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Maybe (Term TyName Name uni fun ann)
 -&gt; m (Maybe (Term TyName Name uni fun ann)))
-&gt; Maybe (Term TyName Name uni fun ann)
-&gt; m (Maybe (Term TyName Name uni fun ann))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; DefMap key (TermDefWithStrictness uni fun ann)
-&gt; Maybe (TermDefWithStrictness uni fun ann, Set key)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#lookup"
	><span class="hs-identifier hs-var"
	  >Map.lookup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472030"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (TermDefWithStrictness uni fun ann)
</span
	><a href="#local-6989586621679472031"
	><span class="hs-identifier hs-var"
	  >ds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-295"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679472033"
      ><span class="annot"
	><span class="annottext"
	  >TermDefWithStrictness uni fun ann
</span
	  ><a href="#local-6989586621679472033"
	  ><span class="hs-identifier hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >|</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Bool -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/ghc-prim-0.10.0/docs/src/GHC.Classes.html#not"
	><span class="hs-identifier hs-var"
	  >not</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>key -&gt; Set key -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#member"
	><span class="hs-identifier hs-var"
	  >Set.member</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472030"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><a href="#local-6989586621679472032"
	><span class="hs-keyword hs-var"
	  >as</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
-&gt; Maybe (Term TyName Name uni fun ann)
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term TyName Name uni fun ann
 -&gt; Maybe (Term TyName Name uni fun ann))
-&gt; Term TyName Name uni fun ann
-&gt; Maybe (Term TyName Name uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name uni ann -&gt; Term TyName Name uni fun ann
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
VarDecl tyname name uni ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkVar"
	><span class="hs-identifier hs-var"
	  >mkVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TermDefWithStrictness uni fun ann -&gt; VarDecl TyName Name uni ann
forall var val. Def var val -&gt; var
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVar"
	><span class="hs-identifier hs-var"
	  >PLC.defVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TermDefWithStrictness uni fun ann
</span
	><a href="#local-6989586621679472033"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-296"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (TermDefWithStrictness uni fun ann, Set key)
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Term TyName Name uni fun ann)
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-297"
      ></span
      ><span
      >
</span
      ><span id="line-298"
      ></span
      ><span id="local-6989586621679471344"
      ><span id="local-6989586621679471345"
	><span id="local-6989586621679471346"
	  ><span id="local-6989586621679471347"
	    ><span id="local-6989586621679471348"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#lookupOrDefineTerm"
		  ><span class="hs-identifier hs-type"
		    >lookupOrDefineTerm</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-299"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471344"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471345"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471346"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471347"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471348"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-300"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471344"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-301"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471348"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#TermDefWithStrictness"
		  ><span class="hs-identifier hs-type"
		    >TermDefWithStrictness</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471345"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471346"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471347"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
		  ><span class="hs-identifier hs-type"
		    >Set.Set</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471344"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-302"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471348"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
		  ><span class="hs-identifier hs-type"
		    >Name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471345"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471346"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471347"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-303"
      ></span
      ><span id="lookupOrDefineTerm"
      ><span class="annot"
	><span class="annottext"
	  >lookupOrDefineTerm :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key
-&gt; m (TermDefWithStrictness uni fun ann, Set key)
-&gt; m (Term TyName Name uni fun ann)
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#lookupOrDefineTerm"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupOrDefineTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472048"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679472048"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472049"
      ><span class="annot"
	><span class="annottext"
	  >m (TermDefWithStrictness uni fun ann, Set key)
</span
	  ><a href="#local-6989586621679472049"
	  ><span class="hs-identifier hs-var"
	    >mdef</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-304"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679472050"
      ><span class="annot"
	><span class="annottext"
	  >Maybe (Term TyName Name uni fun ann)
</span
	  ><a href="#local-6989586621679472050"
	  ><span class="hs-identifier hs-var"
	    >mTerm</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key -&gt; m (Maybe (Term TyName Name uni fun ann))
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; m (Maybe (Term TyName Name uni fun ann))
</span
	><a href="PlutusIR.Compiler.Definitions.html#lookupTerm"
	><span class="hs-identifier hs-var"
	  >lookupTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472048"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-305"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Term TyName Name uni fun ann)
</span
	><a href="#local-6989586621679472050"
	><span class="hs-identifier hs-var"
	  >mTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-306"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679472051"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621679472051"
	  ><span class="hs-identifier hs-var"
	    >t</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; m (Term TyName Name uni fun ann)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621679472051"
	><span class="hs-identifier hs-var"
	  >t</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-307"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Term TyName Name uni fun ann)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-308"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679472052"
      ><span class="annot"
	><span class="annottext"
	  >TermDefWithStrictness uni fun ann
</span
	  ><a href="#local-6989586621679472052"
	  ><span class="hs-identifier hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679472053"
      ><span class="annot"
	><span class="annottext"
	  >Set key
</span
	  ><a href="#local-6989586621679472053"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (TermDefWithStrictness uni fun ann, Set key)
</span
	><a href="#local-6989586621679472049"
	><span class="hs-identifier hs-var"
	  >mdef</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-309"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>key -&gt; TermDefWithStrictness uni fun ann -&gt; Set key -&gt; m ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; TermDefWithStrictness uni fun ann -&gt; Set key -&gt; m ()
</span
	><a href="PlutusIR.Compiler.Definitions.html#defineTerm"
	><span class="hs-identifier hs-var"
	  >defineTerm</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472048"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TermDefWithStrictness uni fun ann
</span
	><a href="#local-6989586621679472052"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><a href="#local-6989586621679472053"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-310"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann -&gt; m (Term TyName Name uni fun ann)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term TyName Name uni fun ann -&gt; m (Term TyName Name uni fun ann))
-&gt; Term TyName Name uni fun ann -&gt; m (Term TyName Name uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name uni ann -&gt; Term TyName Name uni fun ann
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
VarDecl tyname name uni ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkVar"
	><span class="hs-identifier hs-var"
	  >mkVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>TermDefWithStrictness uni fun ann -&gt; VarDecl TyName Name uni ann
forall var val. Def var val -&gt; var
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVar"
	><span class="hs-identifier hs-var"
	  >PLC.defVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TermDefWithStrictness uni fun ann
</span
	><a href="#local-6989586621679472052"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-311"
      ></span
      ><span
      >
</span
      ><span id="line-312"
      ></span
      ><span id="local-6989586621679471354"
      ><span id="local-6989586621679471355"
	><span id="local-6989586621679471356"
	  ><span id="local-6989586621679471357"
	    ><span id="local-6989586621679471358"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#lookupType"
		  ><span class="hs-identifier hs-type"
		    >lookupType</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471354"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471355"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471356"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471357"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471358"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471357"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471354"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471358"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
		  ><span class="hs-identifier hs-type"
		    >Maybe</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
		  ><span class="hs-identifier hs-type"
		    >Type</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471355"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471357"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-313"
      ></span
      ><span id="lookupType"
      ><span class="annot"
	><span class="annottext"
	  >lookupType :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
ann -&gt; key -&gt; m (Maybe (Type TyName uni ann))
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#lookupType"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472066"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679472066"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472067"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679472067"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-314"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#DefState"
	><span class="hs-identifier hs-type"
	  >DefState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>_typeDefs :: forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann -&gt; DefMap key (TypeDef TyName uni ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_typeDefs"
	><span class="hs-identifier hs-var"
	  >_typeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679472068"
      ><span class="annot"
	><span class="annottext"
	  >DefMap key (TypeDef TyName uni ann)
</span
	  ><a href="#local-6989586621679472068"
	  ><span class="hs-identifier hs-var"
	    >tys</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>_datatypeDefs :: forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_datatypeDefs"
	><span class="hs-identifier hs-var"
	  >_datatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679472069"
      ><span class="annot"
	><span class="annottext"
	  >DefMap key (DatatypeDef TyName Name uni ann)
</span
	  ><a href="#local-6989586621679472069"
	  ><span class="hs-identifier hs-var"
	    >dtys</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>_aliases :: forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann -&gt; Set key
</span
	><a href="PlutusIR.Compiler.Definitions.html#_aliases"
	><span class="hs-identifier hs-var"
	  >_aliases</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679472070"
      ><span class="annot"
	><span class="annottext"
	  >Set key
</span
	  ><a href="#local-6989586621679472070"
	  ><span class="hs-keyword hs-var"
	    >as</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity (DefState key uni fun ann)
-&gt; m (DefState key uni fun ann)
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity (DefState key uni fun ann)
 -&gt; m (DefState key uni fun ann))
-&gt; DefT key uni fun ann Identity (DefState key uni fun ann)
-&gt; m (DefState key uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT
  (DefState key uni fun ann) Identity (DefState key uni fun ann)
-&gt; DefT key uni fun ann Identity (DefState key uni fun ann)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT
  (DefState key uni fun ann) Identity (DefState key uni fun ann)
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#get"
	><span class="hs-identifier hs-var"
	  >get</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-315"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Type TyName uni ann) -&gt; m (Maybe (Type TyName uni ann))
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Maybe (Type TyName uni ann) -&gt; m (Maybe (Type TyName uni ann)))
-&gt; Maybe (Type TyName uni ann) -&gt; m (Maybe (Type TyName uni ann))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; DefMap key (TypeDef TyName uni ann)
-&gt; Maybe (TypeDef TyName uni ann, Set key)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#lookup"
	><span class="hs-identifier hs-var"
	  >Map.lookup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472067"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (TypeDef TyName uni ann)
</span
	><a href="#local-6989586621679472068"
	><span class="hs-identifier hs-var"
	  >tys</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-316"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679472071"
      ><span class="annot"
	><span class="annottext"
	  >TypeDef TyName uni ann
</span
	  ><a href="#local-6989586621679472071"
	  ><span class="hs-identifier hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-317"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Maybe (Type TyName uni ann)
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ann -&gt; Maybe (Type TyName uni ann))
-&gt; Type TyName uni ann -&gt; Maybe (Type TyName uni ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >if</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key -&gt; Set key -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#member"
	><span class="hs-identifier hs-var"
	  >Set.member</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472067"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><a href="#local-6989586621679472070"
	><span class="hs-keyword hs-var"
	  >as</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >then</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeDef TyName uni ann -&gt; Type TyName uni ann
forall var val. Def var val -&gt; val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVal"
	><span class="hs-identifier hs-var"
	  >PLC.defVal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeDef TyName uni ann
</span
	><a href="#local-6989586621679472071"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >else</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; TyVarDecl TyName ann -&gt; Type TyName uni ann
forall ann tyname (uni :: * -&gt; *).
ann -&gt; TyVarDecl tyname ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkTyVar"
	><span class="hs-identifier hs-var"
	  >mkTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472066"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TyVarDecl TyName ann -&gt; Type TyName uni ann)
-&gt; TyVarDecl TyName ann -&gt; Type TyName uni ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeDef TyName uni ann -&gt; TyVarDecl TyName ann
forall var val. Def var val -&gt; var
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVar"
	><span class="hs-identifier hs-var"
	  >PLC.defVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeDef TyName uni ann
</span
	><a href="#local-6989586621679472071"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-318"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (TypeDef TyName uni ann, Set key)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
-&gt; Maybe (DatatypeDef TyName Name uni ann, Set key)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#lookup"
	><span class="hs-identifier hs-var"
	  >Map.lookup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472067"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (DatatypeDef TyName Name uni ann)
</span
	><a href="#local-6989586621679472069"
	><span class="hs-identifier hs-var"
	  >dtys</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-319"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679472073"
      ><span class="annot"
	><span class="annottext"
	  >DatatypeDef TyName Name uni ann
</span
	  ><a href="#local-6989586621679472073"
	  ><span class="hs-identifier hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; Maybe (Type TyName uni ann)
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ann -&gt; Maybe (Type TyName uni ann))
-&gt; Type TyName uni ann -&gt; Maybe (Type TyName uni ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; TyVarDecl TyName ann -&gt; Type TyName uni ann
forall ann tyname (uni :: * -&gt; *).
ann -&gt; TyVarDecl tyname ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkTyVar"
	><span class="hs-identifier hs-var"
	  >mkTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472066"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TyVarDecl TyName ann -&gt; Type TyName uni ann)
-&gt; TyVarDecl TyName ann -&gt; Type TyName uni ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeDef TyName Name uni ann -&gt; TyVarDecl TyName ann
forall var val. Def var val -&gt; var
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVar"
	><span class="hs-identifier hs-var"
	  >PLC.defVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DatatypeDef TyName Name uni ann
</span
	><a href="#local-6989586621679472073"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-320"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (DatatypeDef TyName Name uni ann, Set key)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Type TyName uni ann)
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-321"
      ></span
      ><span
      >
</span
      ><span id="line-322"
      ></span
      ><span id="local-6989586621679471367"
      ><span id="local-6989586621679471368"
	><span id="local-6989586621679471369"
	  ><span id="local-6989586621679471370"
	    ><span id="local-6989586621679471371"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#lookupOrDefineType"
		  ><span class="hs-identifier hs-type"
		    >lookupOrDefineType</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-323"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471367"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471368"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471369"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471370"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471371"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-324"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471370"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-325"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471367"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-326"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471371"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.MkPlc.html#TypeDef"
		  ><span class="hs-identifier hs-type"
		    >TypeDef</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471368"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471370"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>,</span
		><span
		> </span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Set.Internal.html#Set"
		  ><span class="hs-identifier hs-type"
		    >Set.Set</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471367"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		><span
		>
</span
		><span id="line-327"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471371"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Core.Type.html#Type"
		  ><span class="hs-identifier hs-type"
		    >Type</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471368"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471370"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-328"
      ></span
      ><span id="lookupOrDefineType"
      ><span class="annot"
	><span class="annottext"
	  >lookupOrDefineType :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
ann
-&gt; key
-&gt; m (TypeDef TyName uni ann, Set key)
-&gt; m (Type TyName uni ann)
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#lookupOrDefineType"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupOrDefineType</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472084"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679472084"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472085"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679472085"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472086"
      ><span class="annot"
	><span class="annottext"
	  >m (TypeDef TyName uni ann, Set key)
</span
	  ><a href="#local-6989586621679472086"
	  ><span class="hs-identifier hs-var"
	    >mdef</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-329"
      ></span
      ><span
      >  </span
      ><span id="local-6989586621679472087"
      ><span class="annot"
	><span class="annottext"
	  >Maybe (Type TyName uni ann)
</span
	  ><a href="#local-6989586621679472087"
	  ><span class="hs-identifier hs-var"
	    >mTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; key -&gt; m (Maybe (Type TyName uni ann))
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
ann -&gt; key -&gt; m (Maybe (Type TyName uni ann))
</span
	><a href="PlutusIR.Compiler.Definitions.html#lookupType"
	><span class="hs-identifier hs-var"
	  >lookupType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472084"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472085"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-330"
      ></span
      ><span
      >  </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Type TyName uni ann)
</span
	><a href="#local-6989586621679472087"
	><span class="hs-identifier hs-var"
	  >mTy</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-331"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span id="local-6989586621679472088"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621679472088"
	  ><span class="hs-identifier hs-var"
	    >ty</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; m (Type TyName uni ann)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621679472088"
	><span class="hs-identifier hs-var"
	  >ty</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-332"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (Type TyName uni ann)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-333"
      ></span
      ><span
      >      </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679472089"
      ><span class="annot"
	><span class="annottext"
	  >TypeDef TyName uni ann
</span
	  ><a href="#local-6989586621679472089"
	  ><span class="hs-identifier hs-var"
	    >def</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span id="local-6989586621679472090"
      ><span class="annot"
	><span class="annottext"
	  >Set key
</span
	  ><a href="#local-6989586621679472090"
	  ><span class="hs-identifier hs-var"
	    >deps</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>m (TypeDef TyName uni ann, Set key)
</span
	><a href="#local-6989586621679472086"
	><span class="hs-identifier hs-var"
	  >mdef</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-334"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>key -&gt; TypeDef TyName uni ann -&gt; Set key -&gt; m ()
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; TypeDef TyName uni ann -&gt; Set key -&gt; m ()
</span
	><a href="PlutusIR.Compiler.Definitions.html#defineType"
	><span class="hs-identifier hs-var"
	  >defineType</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472085"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeDef TyName uni ann
</span
	><a href="#local-6989586621679472089"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><a href="#local-6989586621679472090"
	><span class="hs-identifier hs-var"
	  >deps</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-335"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann -&gt; m (Type TyName uni ann)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ann -&gt; m (Type TyName uni ann))
-&gt; Type TyName uni ann -&gt; m (Type TyName uni ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; TyVarDecl TyName ann -&gt; Type TyName uni ann
forall ann tyname (uni :: * -&gt; *).
ann -&gt; TyVarDecl tyname ann -&gt; Type tyname uni ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkTyVar"
	><span class="hs-identifier hs-var"
	  >mkTyVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472084"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(TyVarDecl TyName ann -&gt; Type TyName uni ann)
-&gt; TyVarDecl TyName ann -&gt; Type TyName uni ann
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeDef TyName uni ann -&gt; TyVarDecl TyName ann
forall var val. Def var val -&gt; var
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVar"
	><span class="hs-identifier hs-var"
	  >PLC.defVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TypeDef TyName uni ann
</span
	><a href="#local-6989586621679472089"
	><span class="hs-identifier hs-var"
	  >def</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-336"
      ></span
      ><span
      >
</span
      ><span id="line-337"
      ></span
      ><span id="local-6989586621679471377"
      ><span id="local-6989586621679471378"
	><span id="local-6989586621679471379"
	  ><span id="local-6989586621679471380"
	    ><span id="local-6989586621679471381"
	      ><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#lookupConstructors"
		  ><span class="hs-identifier hs-type"
		    >lookupConstructors</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-338"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>::</span
		><span
		> </span
		><span class="annot"
		><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
		  ><span class="hs-identifier hs-type"
		    >MonadDefs</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471377"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471378"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471379"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471380"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471381"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-339"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>=&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471377"
		  ><span class="hs-identifier hs-type"
		    >key</span
		    ></a
		  ></span
		><span
		>
</span
		><span id="line-340"
		></span
		><span
		>  </span
		><span class="hs-glyph"
		>-&gt;</span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471381"
		  ><span class="hs-identifier hs-type"
		    >m</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>(</span
		><span class="annot"
		><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
		  ><span class="hs-identifier hs-type"
		    >Maybe</span
		    ></a
		  ></span
		><span
		> </span
		><span class="hs-special"
		>[</span
		><span class="annot"
		><a href="PlutusIR.Core.Type.html#Term"
		  ><span class="hs-identifier hs-type"
		    >Term</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#TyName"
		  ><span class="hs-identifier hs-type"
		    >TyName</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="../../plutus-core/src/PlutusCore.Name.Unique.html#Name"
		  ><span class="hs-identifier hs-type"
		    >Name</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471378"
		  ><span class="hs-identifier hs-type"
		    >uni</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471379"
		  ><span class="hs-identifier hs-type"
		    >fun</span
		    ></a
		  ></span
		><span
		> </span
		><span class="annot"
		><a href="#local-6989586621679471380"
		  ><span class="hs-identifier hs-type"
		    >ann</span
		    ></a
		  ></span
		><span class="hs-special"
		>]</span
		><span class="hs-special"
		>)</span
		></span
	      ></span
	    ></span
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-341"
      ></span
      ><span id="lookupConstructors"
      ><span class="annot"
	><span class="annottext"
	  >lookupConstructors :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
key -&gt; m (Maybe [Term TyName Name uni fun ann])
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#lookupConstructors"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupConstructors</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472106"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679472106"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-342"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#DefState"
	><span class="hs-identifier hs-type"
	  >DefState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>_datatypeDefs :: forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_datatypeDefs"
	><span class="hs-identifier hs-var"
	  >_datatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679472107"
      ><span class="annot"
	><span class="annottext"
	  >DefMap key (DatatypeDef TyName Name uni ann)
</span
	  ><a href="#local-6989586621679472107"
	  ><span class="hs-identifier hs-var"
	    >ds</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>_manualDatatypeDefs :: forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann -&gt; DefMap key (ManualDatatype uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_manualDatatypeDefs"
	><span class="hs-identifier hs-var"
	  >_manualDatatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679472108"
      ><span class="annot"
	><span class="annottext"
	  >DefMap key (ManualDatatype uni fun ann)
</span
	  ><a href="#local-6989586621679472108"
	  ><span class="hs-identifier hs-var"
	    >ms</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity (DefState key uni fun ann)
-&gt; m (DefState key uni fun ann)
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity (DefState key uni fun ann)
 -&gt; m (DefState key uni fun ann))
-&gt; DefT key uni fun ann Identity (DefState key uni fun ann)
-&gt; m (DefState key uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT
  (DefState key uni fun ann) Identity (DefState key uni fun ann)
-&gt; DefT key uni fun ann Identity (DefState key uni fun ann)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT
  (DefState key uni fun ann) Identity (DefState key uni fun ann)
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#get"
	><span class="hs-identifier hs-var"
	  >get</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-343"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe [Term TyName Name uni fun ann]
-&gt; m (Maybe [Term TyName Name uni fun ann])
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Maybe [Term TyName Name uni fun ann]
 -&gt; m (Maybe [Term TyName Name uni fun ann]))
-&gt; Maybe [Term TyName Name uni fun ann]
-&gt; m (Maybe [Term TyName Name uni fun ann])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; DefMap key (ManualDatatype uni fun ann)
-&gt; Maybe (ManualDatatype uni fun ann, Set key)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#lookup"
	><span class="hs-identifier hs-var"
	  >Map.lookup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472106"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (ManualDatatype uni fun ann)
</span
	><a href="#local-6989586621679472108"
	><span class="hs-identifier hs-var"
	  >ms</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-344"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679472109"
      ><span class="annot"
	><span class="annottext"
	  >ManualDatatype uni fun ann
</span
	  ><a href="#local-6989586621679472109"
	  ><span class="hs-identifier hs-var"
	    >mt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
-&gt; Maybe [Term TyName Name uni fun ann]
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Term TyName Name uni fun ann]
 -&gt; Maybe [Term TyName Name uni fun ann])
-&gt; [Term TyName Name uni fun ann]
-&gt; Maybe [Term TyName Name uni fun ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ManualDatatype uni fun ann
</span
	><a href="#local-6989586621679472109"
	><span class="hs-identifier hs-var"
	  >mt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ManualDatatype uni fun ann
-&gt; Getting
     [Term TyName Name uni fun ann]
     (ManualDatatype uni fun ann)
     [Term TyName Name uni fun ann]
-&gt; [Term TyName Name uni fun ann]
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  [Term TyName Name uni fun ann]
  (ManualDatatype uni fun ann)
  [Term TyName Name uni fun ann]
forall (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
([Term TyName Name uni fun ann]
 -&gt; f [Term TyName Name uni fun ann])
-&gt; ManualDatatype uni fun ann -&gt; f (ManualDatatype uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#constructors"
	><span class="hs-identifier hs-var"
	  >constructors</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-345"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (ManualDatatype uni fun ann, Set key)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
-&gt; Maybe (DatatypeDef TyName Name uni ann, Set key)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#lookup"
	><span class="hs-identifier hs-var"
	  >Map.lookup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472106"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (DatatypeDef TyName Name uni ann)
</span
	><a href="#local-6989586621679472107"
	><span class="hs-identifier hs-var"
	  >ds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-346"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.MkPlc.html#Def"
	><span class="hs-identifier hs-type"
	  >PLC.Def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>defVal :: forall var val. Def var val -&gt; val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVal"
	><span class="hs-identifier hs-var"
	  >PLC.defVal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Datatype"
	><span class="hs-identifier hs-type"
	  >Datatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TyVarDecl TyName ann]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472113"
      ><span class="annot"
	><span class="annottext"
	  >[VarDecl TyName Name uni ann]
</span
	  ><a href="#local-6989586621679472113"
	  ><span class="hs-identifier hs-var"
	    >constrs</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >}</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
-&gt; Maybe [Term TyName Name uni fun ann]
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>([Term TyName Name uni fun ann]
 -&gt; Maybe [Term TyName Name uni fun ann])
-&gt; [Term TyName Name uni fun ann]
-&gt; Maybe [Term TyName Name uni fun ann]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(VarDecl TyName Name uni ann -&gt; Term TyName Name uni fun ann)
-&gt; [VarDecl TyName Name uni ann] -&gt; [Term TyName Name uni fun ann]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#fmap"
	><span class="hs-identifier hs-var"
	  >fmap</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>VarDecl TyName Name uni ann -&gt; Term TyName Name uni fun ann
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
VarDecl tyname name uni ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkVar"
	><span class="hs-identifier hs-var"
	  >mkVar</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[VarDecl TyName Name uni ann]
</span
	><a href="#local-6989586621679472113"
	><span class="hs-identifier hs-var"
	  >constrs</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-347"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (DatatypeDef TyName Name uni ann, Set key)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe [Term TyName Name uni fun ann]
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-348"
      ></span
      ><span
      >
</span
      ><span id="line-349"
      ></span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#lookupDestructor"
	><span class="hs-identifier hs-type"
	  >lookupDestructor</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-350"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >::</span
      ><span
      > </span
      ><span class="hs-keyword"
      >forall</span
      ><span
      > </span
      ><span id="local-6989586621679471392"
      ><span class="annot"
	><a href="#local-6989586621679471392"
	  ><span class="hs-identifier hs-type"
	    >key</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471393"
      ><span class="annot"
	><a href="#local-6989586621679471393"
	  ><span class="hs-identifier hs-type"
	    >uni</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471394"
      ><span class="annot"
	><a href="#local-6989586621679471394"
	  ><span class="hs-identifier hs-type"
	    >fun</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471395"
      ><span class="annot"
	><a href="#local-6989586621679471395"
	  ><span class="hs-identifier hs-type"
	    >ann</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679471396"
      ><span class="annot"
	><a href="#local-6989586621679471396"
	  ><span class="hs-identifier hs-type"
	    >m</span
	    ></a
	  ></span
	></span
      ><span
      >
</span
      ><span id="line-351"
      ></span
      ><span
      >   </span
      ><span class="hs-operator"
      >.</span
      ><span
      > </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#MonadDefs"
	><span class="hs-identifier hs-type"
	  >MonadDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471392"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471393"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471394"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471395"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471396"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-352"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >=&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471395"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-353"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471392"
	><span class="hs-identifier hs-type"
	  >key</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-354"
      ></span
      ><span
      >  </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471396"
	><span class="hs-identifier hs-type"
	  >m</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Maybe"
	><span class="hs-identifier hs-type"
	  >Maybe</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#ManualMatcher"
	><span class="hs-identifier hs-type"
	  >ManualMatcher</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471393"
	><span class="hs-identifier hs-type"
	  >uni</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471394"
	><span class="hs-identifier hs-type"
	  >fun</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><a href="#local-6989586621679471395"
	><span class="hs-identifier hs-type"
	  >ann</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-355"
      ></span
      ><span id="lookupDestructor"
      ><span class="annot"
	><span class="annottext"
	  >lookupDestructor :: forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *).
MonadDefs key uni fun ann m =&gt;
ann -&gt; key -&gt; m (Maybe (ManualMatcher uni fun ann))
</span
	  ><a href="PlutusIR.Compiler.Definitions.html#lookupDestructor"
	  ><span class="hs-identifier hs-var hs-var"
	    >lookupDestructor</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472132"
      ><span class="annot"
	><span class="annottext"
	  >ann
</span
	  ><a href="#local-6989586621679472132"
	  ><span class="hs-identifier hs-var"
	    >x</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472133"
      ><span class="annot"
	><span class="annottext"
	  >key
</span
	  ><a href="#local-6989586621679472133"
	  ><span class="hs-identifier hs-var"
	    >name</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-keyword"
      >do</span
      ><span
      >
</span
      ><span id="line-356"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><a href="PlutusIR.Compiler.Definitions.html#DefState"
	><span class="hs-identifier hs-type"
	  >DefState</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>_datatypeDefs :: forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_datatypeDefs"
	><span class="hs-identifier hs-var"
	  >_datatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679472134"
      ><span class="annot"
	><span class="annottext"
	  >DefMap key (DatatypeDef TyName Name uni ann)
</span
	  ><a href="#local-6989586621679472134"
	  ><span class="hs-identifier hs-var"
	    >ds</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>_manualDatatypeDefs :: forall key (uni :: * -&gt; *) fun ann.
DefState key uni fun ann -&gt; DefMap key (ManualDatatype uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#_manualDatatypeDefs"
	><span class="hs-identifier hs-var"
	  >_manualDatatypeDefs</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span id="local-6989586621679472135"
      ><span class="annot"
	><span class="annottext"
	  >DefMap key (ManualDatatype uni fun ann)
</span
	  ><a href="#local-6989586621679472135"
	  ><span class="hs-identifier hs-var"
	    >ms</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >}</span
      ><span
      > </span
      ><span class="hs-glyph"
      >&lt;-</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefT key uni fun ann Identity (DefState key uni fun ann)
-&gt; m (DefState key uni fun ann)
forall a. DefT key uni fun ann Identity a -&gt; m a
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
MonadDefs key uni fun ann m =&gt;
DefT key uni fun ann Identity a -&gt; m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#liftDef"
	><span class="hs-identifier hs-var"
	  >liftDef</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(DefT key uni fun ann Identity (DefState key uni fun ann)
 -&gt; m (DefState key uni fun ann))
-&gt; DefT key uni fun ann Identity (DefState key uni fun ann)
-&gt; m (DefState key uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT
  (DefState key uni fun ann) Identity (DefState key uni fun ann)
-&gt; DefT key uni fun ann Identity (DefState key uni fun ann)
forall key (uni :: * -&gt; *) fun ann (m :: * -&gt; *) a.
StateT (DefState key uni fun ann) m a -&gt; DefT key uni fun ann m a
</span
	><a href="PlutusIR.Compiler.Definitions.html#DefT"
	><span class="hs-identifier hs-var"
	  >DefT</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>StateT
  (DefState key uni fun ann) Identity (DefState key uni fun ann)
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span
	><a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/src/Control.Monad.State.Class.html#get"
	><span class="hs-identifier hs-var"
	  >get</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-357"
      ></span
      ><span
      >  </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (ManualMatcher uni fun ann)
-&gt; m (Maybe (ManualMatcher uni fun ann))
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#pure"
	><span class="hs-identifier hs-var"
	  >pure</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Maybe (ManualMatcher uni fun ann)
 -&gt; m (Maybe (ManualMatcher uni fun ann)))
-&gt; Maybe (ManualMatcher uni fun ann)
-&gt; m (Maybe (ManualMatcher uni fun ann))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; DefMap key (ManualDatatype uni fun ann)
-&gt; Maybe (ManualDatatype uni fun ann, Set key)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#lookup"
	><span class="hs-identifier hs-var"
	  >Map.lookup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472133"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (ManualDatatype uni fun ann)
</span
	><a href="#local-6989586621679472135"
	><span class="hs-identifier hs-var"
	  >ms</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-358"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span id="local-6989586621679472136"
      ><span class="annot"
	><span class="annottext"
	  >ManualDatatype uni fun ann
</span
	  ><a href="#local-6989586621679472136"
	  ><span class="hs-identifier hs-var"
	    >mt</span
	    ></a
	  ></span
	></span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ManualMatcher uni fun ann -&gt; Maybe (ManualMatcher uni fun ann)
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ManualMatcher uni fun ann -&gt; Maybe (ManualMatcher uni fun ann))
-&gt; ManualMatcher uni fun ann -&gt; Maybe (ManualMatcher uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ManualDatatype uni fun ann
</span
	><a href="#local-6989586621679472136"
	><span class="hs-identifier hs-var"
	  >mt</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ManualDatatype uni fun ann
-&gt; Getting
     (ManualMatcher uni fun ann)
     (ManualDatatype uni fun ann)
     (ManualMatcher uni fun ann)
-&gt; ManualMatcher uni fun ann
forall s a. s -&gt; Getting a s a -&gt; a
</span
	><span class="hs-operator hs-var"
	>^.</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Getting
  (ManualMatcher uni fun ann)
  (ManualDatatype uni fun ann)
  (ManualMatcher uni fun ann)
forall (uni :: * -&gt; *) fun ann (f :: * -&gt; *).
Functor f =&gt;
(ManualMatcher uni fun ann -&gt; f (ManualMatcher uni fun ann))
-&gt; ManualDatatype uni fun ann -&gt; f (ManualDatatype uni fun ann)
</span
	><a href="PlutusIR.Compiler.Definitions.html#matcher"
	><span class="hs-identifier hs-var"
	  >matcher</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-359"
      ></span
      ><span
      >    </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (ManualDatatype uni fun ann, Set key)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="hs-keyword"
      >case</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
-&gt; DefMap key (DatatypeDef TyName Name uni ann)
-&gt; Maybe (DatatypeDef TyName Name uni ann, Set key)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/src/Data.Map.Internal.html#lookup"
	><span class="hs-identifier hs-var"
	  >Map.lookup</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>key
</span
	><a href="#local-6989586621679472133"
	><span class="hs-identifier hs-var"
	  >name</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>DefMap key (DatatypeDef TyName Name uni ann)
</span
	><a href="#local-6989586621679472134"
	><span class="hs-identifier hs-var"
	  >ds</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-keyword"
      >of</span
      ><span
      >
</span
      ><span id="line-360"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-type"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="../../plutus-core/src/PlutusCore.MkPlc.html#Def"
	><span class="hs-identifier hs-type"
	  >PLC.Def</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-special"
      >{</span
      ><span class="annot"
      ><span class="annottext"
	>defVal :: forall var val. Def var val -&gt; val
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#defVal"
	><span class="hs-identifier hs-var"
	  >PLC.defVal</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >=</span
      ><span
      > </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><a href="PlutusIR.Core.Type.html#Datatype"
	><span class="hs-identifier hs-type"
	  >Datatype</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>TyVarDecl TyName ann
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[TyVarDecl TyName ann]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472137"
      ><span class="annot"
	><span class="annottext"
	  >Name
</span
	  ><a href="#local-6989586621679472137"
	  ><span class="hs-identifier hs-var"
	    >destr</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[VarDecl TyName Name uni ann]
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span class="hs-special"
      >}</span
      ><span class="hs-special"
      >,</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Set key
</span
	><span class="hs-identifier"
	>_</span
	></span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-361"
      ></span
      ><span
      >        </span
      ><span class="annot"
      ><span class="annottext"
	>ManualMatcher uni fun ann -&gt; Maybe (ManualMatcher uni fun ann)
forall a. a -&gt; Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Just"
	><span class="hs-identifier hs-var"
	  >Just</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(ManualMatcher uni fun ann -&gt; Maybe (ManualMatcher uni fun ann))
-&gt; ManualMatcher uni fun ann -&gt; Maybe (ManualMatcher uni fun ann)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Base.html#%24"
	><span class="hs-operator hs-var"
	  >$</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-362"
      ></span
      ><span
      >          </span
      ><span class="hs-glyph"
      >\</span
      ><span id="local-6989586621679472138"
      ><span class="annot"
	><span class="annottext"
	  >[Type TyName uni ann]
</span
	  ><a href="#local-6989586621679472138"
	  ><span class="hs-identifier hs-var"
	    >tyArgs</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472139"
      ><span class="annot"
	><span class="annottext"
	  >Term TyName Name uni fun ann
</span
	  ><a href="#local-6989586621679472139"
	  ><span class="hs-identifier hs-var"
	    >scrut</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472140"
      ><span class="annot"
	><span class="annottext"
	  >Type TyName uni ann
</span
	  ><a href="#local-6989586621679472140"
	  ><span class="hs-identifier hs-var"
	    >resTy</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span id="local-6989586621679472141"
      ><span class="annot"
	><span class="annottext"
	  >[Term TyName Name uni fun ann]
</span
	  ><a href="#local-6989586621679472141"
	  ><span class="hs-identifier hs-var"
	    >branches</span
	    ></a
	  ></span
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      >
</span
      ><span id="line-363"
      ></span
      ><span
      >            </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
-&gt; [(ann, Term TyName Name uni fun ann)]
-&gt; Term TyName Name uni fun ann
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
term ann -&gt; [(ann, term ann)] -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterApp"
	><span class="hs-identifier hs-var"
	  >PLC.mkIterApp</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-364"
      ></span
      ><span
      >              </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ann
-&gt; Type TyName uni ann
-&gt; Term TyName Name uni fun ann
forall ann.
ann
-&gt; Term TyName Name uni fun ann
-&gt; Type TyName uni ann
-&gt; Term TyName Name uni fun ann
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
ann -&gt; term ann -&gt; Type tyname uni ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#tyInst"
	><span class="hs-identifier hs-var"
	  >tyInst</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-365"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472132"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-366"
      ></span
      ><span
      >                  </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
-&gt; Term TyName Name uni fun ann
-&gt; Term TyName Name uni fun ann
-&gt; Term TyName Name uni fun ann
forall ann.
ann
-&gt; Term TyName Name uni fun ann
-&gt; Term TyName Name uni fun ann
-&gt; Term TyName Name uni fun ann
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
ann -&gt; term ann -&gt; term ann -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#apply"
	><span class="hs-identifier hs-var"
	  >apply</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-367"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472132"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-368"
      ></span
      ><span
      >                      </span
      ><span class="hs-special"
      >(</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
-&gt; [(ann, Type TyName uni ann)] -&gt; Term TyName Name uni fun ann
forall (term :: * -&gt; *) tyname name (uni :: * -&gt; *) fun ann.
TermLike term tyname name uni fun =&gt;
term ann -&gt; [(ann, Type tyname uni ann)] -&gt; term ann
</span
	><a href="../../plutus-core/src/PlutusCore.MkPlc.html#mkIterInst"
	><span class="hs-identifier hs-var"
	  >PLC.mkIterInst</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-369"
      ></span
      ><span
      >                          </span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann -&gt; Name -&gt; Term TyName Name uni fun ann
forall tyname name (uni :: * -&gt; *) fun a.
a -&gt; name -&gt; Term tyname name uni fun a
</span
	><a href="PlutusIR.Core.Type.html#Var"
	><span class="hs-identifier hs-var"
	  >Var</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472132"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Name
</span
	><a href="#local-6989586621679472137"
	><span class="hs-identifier hs-var"
	  >destr</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-370"
      ></span
      ><span
      >                          </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472132"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Type TyName uni ann -&gt; (ann, Type TyName uni ann))
-&gt; [Type TyName uni ann] -&gt; [(ann, Type TyName uni ann)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Type TyName uni ann]
</span
	><a href="#local-6989586621679472138"
	><span class="hs-identifier hs-var"
	  >tyArgs</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-371"
      ></span
      ><span
      >                      </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-372"
      ></span
      ><span
      >                      </span
      ><span class="annot"
      ><span class="annottext"
	>Term TyName Name uni fun ann
</span
	><a href="#local-6989586621679472139"
	><span class="hs-identifier hs-var"
	  >scrut</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-373"
      ></span
      ><span
      >                  </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-374"
      ></span
      ><span
      >                  </span
      ><span class="annot"
      ><span class="annottext"
	>Type TyName uni ann
</span
	><a href="#local-6989586621679472140"
	><span class="hs-identifier hs-var"
	  >resTy</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-375"
      ></span
      ><span
      >              </span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-376"
      ></span
      ><span
      >              </span
      ><span class="hs-special"
      >(</span
      ><span class="hs-special"
      >(</span
      ><span class="annot"
      ><span class="annottext"
	>ann
</span
	><a href="#local-6989586621679472132"
	><span class="hs-identifier hs-var"
	  >x</span
	  ></a
	></span
      ><span class="hs-special"
      >,</span
      ><span class="hs-special"
      >)</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>(Term TyName Name uni fun ann
 -&gt; (ann, Term TyName Name uni fun ann))
-&gt; [Term TyName Name uni fun ann]
-&gt; [(ann, Term TyName Name uni fun ann)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/Data.Functor.html#%3C%24%3E"
	><span class="hs-operator hs-var"
	  >&lt;$&gt;</span
	  ></a
	></span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>[Term TyName Name uni fun ann]
</span
	><a href="#local-6989586621679472141"
	><span class="hs-identifier hs-var"
	  >branches</span
	  ></a
	></span
      ><span class="hs-special"
      >)</span
      ><span
      >
</span
      ><span id="line-377"
      ></span
      ><span
      >      </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (DatatypeDef TyName Name uni ann, Set key)
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      > </span
      ><span class="hs-glyph"
      >-&gt;</span
      ><span
      > </span
      ><span class="annot"
      ><span class="annottext"
	>Maybe (ManualMatcher uni fun ann)
forall a. Maybe a
</span
	><a href="https://hackage.haskell.org/package/base-4.18.3.0/docs/src/GHC.Maybe.html#Nothing"
	><span class="hs-identifier hs-var"
	  >Nothing</span
	  ></a
	></span
      ><span
      >
</span
      ><span id="line-378"
      ></span
      ></pre
    ></body
  ></html
>

\newcounter{notenumberC}
\renewcommand{\note}[1]{
  \bigskip
  \refstepcounter{notenumberC}
  \noindent\textbf{Note \thenotenumberC. #1}
}

\newpage

\section{Future Built-in Types and Functions}
\label{appendix:default-builtins-future}
A future release will add support for BLS12-381 elliptic curve pairing
operations.  This involves adding three new types and seventeen new built-in
functions.

\subsection{Built-in types}
\label{sec:future-built-in-types}
Tables~\ref{table:future-built-in-types} describes three new built-in
types.

\newcommand{\Gone}{G_1^{\textsf{\tiny{BLS12-381}}}}
\newcommand{\Gtwo}{G_2^{\textsf{\tiny{BLS12-381}}}}
\newcommand{\MlResult}{R^{\textsf{\tiny{BLS12-381}}}}

\begin{table}[H]
  \centering
    \begin{tabular}{|l|p{6cm}|l|}
        \hline
        Type & Denotation & Concrete Syntax\\
        \hline
        \texttt{bls12\_381\_G1\_element} &   $\Gone$ & \texttt{0x[0-9A-Fa-f]\{96\}}\\
        \texttt{bls12\_381\_G2\_element} &   $\Gtwo$ & \texttt{0x[0-9A-Fa-f]\{96\}}\\
        \texttt{bls12\_381\_MlResult}    &   $\MlResult$  &  \\
        \hline
    \end{tabular}
    \caption{Atomic Types}
    \label{table:future-built-in-types}
\end{table}



\subsection{Built-in functions}
\label{sec:future-built-in-functions}

\setlength{\LTleft}{-18mm} % Shift the table left a bit to centre it on the page
\begin{longtable}[H]{|l|p{5cm}|p{5cm}|c|c|}
    \hline
    \text{Function} & \text{Signature} & \text{Denotation} & \text{Can} & \text{Note} \\
    & & & Fail? & \\
    \hline
    \endfirsthead
    \hline
    \text{Function} & \text{Type} & \text{Denotation} & \text{Can} & \text{Note}\\
    & & & Fail? & \\
    \hline
    \endhead
    \hline
    \caption{Built-in Functions}
    % This caption goes on every page of the table except the last.  Ideally it
    % would appear only on the first page and all the rest would say
    % (continued). Unfortunately it doesn't seem to be easy to do that in a
    % longtable.
    \endfoot
    \caption[]{Built-in Functions (continued)}
    \label{table:future-built-in-functions}
    \endlastfoot
%% G1
    \TT{bls12\_381\_G1\_add}  &
    $[ \ty{bls12\_381\_G1\_element}$,
      \text{\; $\ty{bls12\_381\_G1\_element} ]$}
      \text{\: $ \to \ty{bls12\_381\_G1\_element}$} & $(a,b) \mapsto a+b$ &  No & \\
    \TT{bls12\_381\_G1\_neg}  &
      $ [ \ty{bls12\_381\_G1\_element} ]$  \text{\;\; $\to \ty{bls12\_381\_G1\_element}$} & $a \mapsto -a$  & No & \\
    \TT{bls12\_381\_G1\_scalarMul}  &
    $[ \ty{integer}$,
      \text{\; $\ty{bls12\_381\_G1\_element} ]$}
      \text{\: $ \to \ty{bls12\_381\_G1\_element}$} & $(n,a) \mapsto na$ &  No & \\
    \TT{bls12\_381\_G1\_equal}  &
    $[ \ty{bls12\_381\_G1\_element}$,
      \text{\; $\ty{bls12\_381\_G1\_element} ]$}
      \text{\: $ \to \ty{bool}$} & $=$ &  No & \\
    \TT{bls12\_381\_G1\_hashToGroup}  &
    $[ \ty{bytestring}, \ty{bytestring}]$
      \text{\: $ \to \ty{bls12\_381\_G1\_element}$} & $x$  &  Yes? & \\
    \TT{bls12\_381\_G1\_compress}  &
    $[\ty{bls12\_381\_G1\_element}]$
      \text{\: $ \to \ty{bytestring}$} & $x$  &  No & \\
    \TT{bls12\_381\_G1\_uncompress}  &
    $[ \ty{bytestring}]$
      \text{\: $ \to \ty{bls12\_381\_G1\_element}$} & $x$  &  Yes & \\
    \hline 
%% G2
    \TT{bls12\_381\_G2\_add}  &
    $[ \ty{bls12\_381\_G2\_element}$,
      \text{\; $\ty{bls12\_381\_G2\_element} ]$}
      \text{\: $ \to \ty{bls12\_381\_G2\_element}$} & $(a,b) \mapsto a+b$ &  No & \\
    \TT{bls12\_381\_G2\_neg}  &
      $ [ \ty{bls12\_381\_G2\_element} ]$  \text{\;\; $\to \ty{bls12\_381\_G2\_element}$} & $a \mapsto -a$  & No & \\
    \TT{bls12\_381\_G2\_scalarMul}  &
    $[ \ty{integer}$,
      \text{\; $\ty{bls12\_381\_G2\_element} ]$}
      \text{\: $ \to \ty{bls12\_381\_G2\_element}$} & $(n,a) \mapsto na$ &  No & \\
    \TT{bls12\_381\_G2\_equal}  &
    $[ \ty{bls12\_381\_G2\_element}$,
      \text{\; $\ty{bls12\_381\_G2\_element} ]$}
      \text{\: $ \to \ty{bool}$} & $=$ &  No & \\
    \TT{bls12\_381\_G2\_hashToGroup}  &
    $[ \ty{bytestring}, \ty{bytestring}]$
      \text{\: $ \to \ty{bls12\_381\_G2\_element}$} & $x$  &  Yes? & \\
    \TT{bls12\_381\_G2\_compress}  &
    $[\ty{bls12\_381\_G2\_element}]$
      \text{\: $ \to \ty{bytestring}$} & $x$  &  No & \\
    \TT{bls12\_381\_G2\_uncompress}  &
    $[ \ty{bytestring}]$
      \text{\: $ \to \ty{bls12\_381\_G2\_element}$} & $x$  &  Yes & \\
    \hline 
    \TT{bls12\_381\_millerLoop}  &
    $[ \ty{bls12\_381\_G1\_element}$,
      \text{\; $\ty{bls12\_381\_G2\_element} ]$}
    \text{\: $ \to \ty{\MlResult}$} & $ xxx $ &  No & \\
    \TT{bls12\_381\_mulMlResult}  &
    $[ \ty{\MlResult}, \ty{\MlResult}] \to \ty{\MlResult}$ & ? & No & \\
    \TT{bls12\_381\_finalVerify}  &
    $[ \ty{\MlResult}, \ty{\MlResult}] \to \ty{bool}$ & ? & No & \\
    \hline
\end{longtable}

%% \setlength{\LTleft}{-18mm} % Shift the table left a bit to centre it on the page
%% \begin{longtable}[H]{|l|p{5cm}|p{5cm}|c|c|}
%%     \hline
%%     \text{Function} & \text{Signature} & \text{Denotation} & \text{Can} & \text{Note} \\
%%     & & & Fail? & \\
%%     \hline
%%     \endfirsthead
%%     \hline
%%     \text{Function} & \text{Type} & \text{Denotation} & \text{Can} & \text{Note}\\
%%     & & & Fail? & \\
%%     \hline
%%     \endhead
%%     \hline
%%     \caption{Built-in Functions}
%%     % This caption goes on every page of the table except the last.  Ideally it
%%     % would appear only on the first page and all the rest would say
%%     % (continued). Unfortunately it doesn't seem to be easy to do that in a
%%     % longtable.
%%     \endfoot
%%     \caption[]{Future Built-in  Functions (continued)}
%%     \label{table:future-built-in-functions}
%%     \endlastfoot
%%     \TT{addInteger}               & $[\ty{integer}, \ty{integer}] \to \ty{integer}$   & $+$ &  & \\
%%     \TT{bls12\_381\_G1\_add}     & $[ \ty{bls12\_381\_G1\_element}, \ty{bls12\_381\_G1\_element} ] \to \ty{bls12\_381\_G1\_element}$ & x& y & x \\
%%     \TT{bls12\_381\_G1\_neg}     & $ [ \ty{bls12\_381\_G1\_element} ] \to \ty{bls12\_381\_G1\_element}$ & x & y & z
%%     \hline 
%% \end{longtable}

%% bls12\_381\_G1\_add                : [ bls12\_381\_G1\_element, bls12\_381\_G1\_element ] -> bls12\_381\_G1\_element
%% bls12\_381\_G1\_neg                : [ bls12\_381\_G1\_element ] -> bls12\_381\_G1\_element
%% bls12\_381\_G1\_scalarMul          : [ integer, bls12\_381\_G1\_element ] -> bls12\_381\_G1\_element
%% bls12\_381\_G1\_equal              : [ bls12\_381\_G1\_element, bls12\_381\_G1\_element ] -> bool
%% bls12\_381\_G1\_hashToGroup        : [ bytestring ] -> bls12\_381\_G1\_element
%% bls12\_381\_G1\_compress           : [ bls12\_381\_G1\_element ] -> bytestring
%% bls12\_381\_G1\_uncompress         : [ bytestring ] -> bls12\_381\_G1\_element
%% bls12\_381\_G2\_add                : [ bls12\_381\_G2\_element, bls12\_381\_G2\_element ] -> bls12\_381\_G2\_element
%% bls12\_381\_G2\_neg                : [ bls12\_381\_G2\_element ] -> bls12\_381\_G2\_element
%% bls12\_381\_G2\_scalarMul          : [ integer, bls12\_381\_G2\_element ] -> bls12\_381\_G2\_element
%% bls12\_381\_G2\_equal              : [ bls12\_381\_G2\_element, bls12\_381\_G2\_element ] -> bool
%% bls12\_381\_G2\_hashToGroup        : [ bytestring ] -> bls12\_381\_G2\_element
%% bls12\_381\_G2\_compress           : [ bls12\_381\_G2\_element ] -> bytestring
%% bls12\_381\_G2\_uncompress         : [ bytestring ] -> bls12\_381\_G2\_element
%% bls12\_381\_millerLoop            : [ bls12\_381\_G1\_element, bls12\_381\_G2\_element ] -> bls12\_381\_mlresult
%% bls12\_381\_mulMlResult           : [ bls12\_381\_mlresult, bls12\_381\_mlresult ] -> bls12\_381\_mlresult
%% bls12\_381\_finalVerify           : [ bls12\_381\_mlresult, bls12\_381\_mlresult ] -> bool


